function setMandatoryIconforQP(){var D=document.getElementsByClassName("mandatory_question_text");var B;for(B=0;B<D.length;B++){if(D&&D[B]){var A=D[B].getElementsByTagName("span");if(A&&A[0]){var C=A[0].getElementsByTagName("p");if(C&&C[0]){C[0].className+=" iconRequired standard_iconRequired"}else{if(A[0].firstElementChild&&A[0].firstElementChild.tagName!=="BR"){A[0].firstElementChild.className+=" iconRequired standard_iconRequired"}else{A[0].className+=" iconRequired standard_iconRequired"}}}else{var E=D[0].getElementsByTagName("div");E=E[0].getElementsByTagName("div");E[0].className+=" iconRequired standard_iconRequired"}}}}function setMandatoryIcon(C){if(C&&C[0]){var A=C[0].getElementsByTagName("span");if(A&&A[0]){var B=A[0].getElementsByTagName("p");if(B&&B[0]){B[0].className+=" iconRequired standard_iconRequired"}else{if(A[0].firstElementChild&&A[0].firstElementChild.tagName!=="BR"){A[0].firstElementChild.className+=" iconRequired standard_iconRequired"}else{A[0].className+=" iconRequired standard_iconRequired"}}}else{var D=C[0].getElementsByTagName("div");D=D[0].getElementsByTagName("div");D[0].className+=" iconRequired standard_iconRequired"}}}var surveyResolvePegaTags=function(C,B,A){C=pega.tools.Security.decodeCrossScriptingFilter(C);if(pega.ctx.survey.questionParams!=null){C=C.replace(pega.ctx.survey.questionParams.regExp,function(D,E){return getPegaReferenceTagValue(E,A)})}if(pega.ctx.survey.questionPageParams!=null){C=C.replace(pega.ctx.survey.questionPageParams.regExp,function(D,E){return getPegaReferenceTagValue(E,A)})}document.getElementById(B).innerHTML=C};function refreshSurvey(F,E,C,D,G,A,K,H,B,J,I){if(!J){J=pega.util.Event.getEvent()}if("radio"==G){$(".wrap-radio-labels").find("input[type='radio']").attr("disabled",true);setTimeout(function(){$(".wrap-radio-labels").find("input[type='radio']").attr("disabled",false)},500)}setTimeout(function(){refreshSurveyinner(F,E,C,D,G,A,K,H,B,J,I)},0)}function refreshSurveyinner(a,R,K,b,g,D,E,f,c,S,A){if(!S){S=pega.util.Event.getEvent()}var U="";var C="";var B="";if(E){C=b+".pyAnswer";B=pega.ui.property.toHandle(C)}else{var N=pega.util.Event.getTarget(S);if(N.control){N=N.control}U=pega.u.d.getDOMElementValue(N);B=N.name;if(typeof window.getErrorDB=="function"&&B&&window.getErrorDB().isHavingError(B)){return }}if(pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()){var O=pega.ui.ClientCache;var R="";if(O.find(b)!=null&&O.find(b).get("PropertyName")!=null){R=O.find(b).get("PropertyName").getValue()}C=pega.ui.property.toReference(B);var P=O.find(C);if(P){P.setValue(U)}if(R!=""){if(O.find(b)!=null){O.find(b).put("pyAnswer",U)}if(O.find(b)!=null&&O.find(b).getTopLevelPage()!=null&&O.find(b).getTopLevelPage().get(R)!=null){O.find(b).getTopLevelPage().get(R).setValue(U)}else{if(O.find(b)!=null&&O.find(b).getTopLevelPage()!=null&&O.find(b).getTopLevelPage().get(R)==null){if(R.lastIndexOf(".")>0){var T=R.length;var M=R.substring(0,R.lastIndexOf("."));var Q=R.substring(R.lastIndexOf(".")+1,T);var V=O.find(b).getTopLevelPage().getReference();if(O.find(V+M)!=null){O.find(V+M).put(Q,U)}}else{O.find(b).getTopLevelPage().put(R.substring(1,R.length),U)}}}}if(E){var G=document.getElementsByName(B);if(G!=null&&G.length>0){for(var Z=0;Z<G.length;Z++){if(G[Z].type=="radio"){G[Z].checked=false}else{if(G[Z].type=="hidden"){G[Z].value=""}}}}}}else{var e=new SafeURL();var Y=new SafeURL();if(pega.ctx.survey.questionParams!=null&&pega.ctx.survey.questionParams.QuestionName){e.put("QuestionName",pega.ctx.survey.questionParams.QuestionName)}if(pega.ctx.survey.questionPageParams!=null&&pega.ctx.survey.questionPageParams.QuestionPageName){e.put("QuestionPageName",pega.ctx.survey.questionPageParams.QuestionPageName);if(pega.ctx.survey.questionPageParams.QuestionName){e.put("QuestionName",pega.ctx.survey.questionPageParams.QuestionName)}}if((g==="Freeform"||g==="Check Boxes"||g==="Radio Buttons"||g==="MultiSlider")){if(K==null||b.indexOf("pyQuestionGroup")!==-1){K=b.substring("pyQuestionGroup(".length+b.indexOf("pyQuestionGroup"),b.length);K=K.substring(0,K.indexOf(")"))}}if(b){e.put("QuestionPgRef",b)}if(a){e.put("QuestionName",a)}if(R){e.put("PropertyName",R)}if(g){e.put("QuestionMode",g)}if(D){e.put("Score",D)}if(K){e.put("QuestionPageName",K)}if(A){Y.put("tablePropName",A)}var F=isRefreshQ(a,K);if(E){e.put("IsClearSelection",E);var W=b+".pyAnswer";f=S;f.name=pega.ui.property.toHandle(W);var L="";var I="";if(pega.ctx.survey.questionPageParams==null){L=pega.ctx.survey.questionParams.sectionName;I=pega.ctx.survey.questionParams.topLevelPageName}else{if(pega.ctx.survey.questionParams==null){L=pega.ctx.survey.questionPageParams.sectionName;I=pega.ctx.survey.questionPageParams.topLevelPageName}}clearSelection(f,b,F,L,I,e.toQueryString(),"pyRefreshSurvey",S)}else{if("radio"==g){if(S.srcElement){f=S.srcElement}else{f=pega.util.Event.getTarget(S)}if(f){var G=pega.ctx.dom.getElementsByName(f.name);if(G!=null&&G.length>0){for(var Z=0;Z<G.length;Z++){if(G[Z].type=="hidden"){G[Z].value=f.value}}}}}}if("Check Boxes"==g){SelectUnselectCheckbox(f,b,F,pega.ctx.survey.questionPageParams.sectionName,pega.ctx.survey.questionPageParams.topLevelPageName,e.toQueryString(),"pyRefreshSurvey",S)}else{if("UltiTable"==g){var H=new SafeURL();var d=SafeURL_createFromURL(pega.ctx.url);d.put("pyActivity","pzSetPropertyMappingForUT");if(F){d.put("isRefreshQuestion",F)}d.put("pzPrimaryPageName",b);if(A){d.put("tablePropName",A)}pega.u.d.processOnBeforeSubmit(false,pega.u.d.getSectionDiv(pega.util.Event.getTarget(S)));H=pega.u.d.getQueryString(pega.u.d.getSectionDiv(pega.util.Event.getTarget(S)),false,true);var X={success:function(h){if(h.responseText=="true"){refreshSection(pega.ctx.survey.questionPageParams.sectionName,pega.ctx.survey.questionPageParams.topLevelPageName,"",Y.toQueryString(),"pyRefreshSurvey",S)}}};pega.u.d.convertToRunActivityAction(d);pega.u.d.asyncRequest("POST",d,X,H)}else{if(!E){var H=new SafeURL();var d=SafeURL_createFromURL(pega.u.d.url);d.put("pyActivity","pzSetAnswerToProperty");if(F){d.put("isRefreshQuestion",F)}d.put("pzPrimaryPageName",b);pega.u.d.processOnBeforeSubmit(false,pega.u.d.getSectionDiv(pega.util.Event.getTarget(S)));H=pega.u.d.getQueryString(pega.u.d.getSectionDiv(pega.util.Event.getTarget(S)),false,true);var J={success:function(h){if(h.responseText=="true"&&K){refreshSection(pega.ctx.survey.questionPageParams.sectionName,pega.ctx.survey.questionPageParams.topLevelPageName,"",e.toQueryString(),"pyRefreshSurvey",S)}}};pega.u.d.convertToRunActivityAction(d);pega.u.d.asyncRequest("POST",d,J,H)}}}}}function refreshComplexCBQuestion(G,F,C,E,I,A,L,J,B,K){var D=new SafeURL();if(C==null||E.indexOf("pyQuestionGroup")!=-1){C=E.substring("pyQuestionGroup(".length+E.indexOf("pyQuestionGroup"),E.length);C=C.substring(0,C.indexOf(")"))}if(C){D.put("QuestionPageName",C)}populateRefreshParams(D,pega.ctx.survey.questionPageParams.sectionName,K);var H=isRefreshQ(G,C);if(H){refreshSection(pega.ctx.survey.questionPageParams.sectionName,pega.ctx.survey.questionPageParams.topLevelPageName,"",D.toQueryString(),"pyRefreshSurvey",K)}};