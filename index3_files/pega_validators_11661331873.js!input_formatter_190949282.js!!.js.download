var numeric_decimal=new validation_ValidationType("decimal",numeric_isDecimal);numeric_decimal.addEventFunction("onchange",numeric_isDecimal);numeric_decimal.addEventFunction("onblur",numeric_isDecimal);var numeric_integer=new validation_ValidationType("integer",numeric_isInteger);numeric_integer.addEventFunction("onchange",numeric_isInteger);var numeric_double=new validation_ValidationType("double",numeric_isDouble);numeric_double.addEventFunction("onchange",numeric_isDouble);
var text_text=new validation_ValidationType("text",text_isText),text_password=new validation_ValidationType("password",text_isPassword),text_identifier=new validation_ValidationType("identifier",text_isIdentifier),boolean_truefalse=new validation_ValidationType("truefalse",boolean_isTruefalse);boolean_truefalse.addEventFunction("onchange",boolean_isTruefalse);var date_date=new validation_ValidationType("date",date_isDate);date_date.addEventFunction("onchange",date_isDate);
var date_dateDD=new validation_ValidationType("datedd",date_isDateDropDown),date_timeofday=new validation_ValidationType("timeofday",time_isTimeOfDay);date_timeofday.addEventFunction("onchange",time_isTimeOfDay);var date_timeofdayDD=new validation_ValidationType("timeofdaydd",time_isTimeOfDayDropDown),date_datetime=new validation_ValidationType("datetime",date_isDateTime);date_datetime.addEventFunction("onchange",date_isDateTime);var time_mininterval=new validation_ValidationType("mininterval",time_validateMinInterval);
time_mininterval.addEventFunction("onchange",time_validateMinInterval);var day_disabledWeekend=new validation_ValidationType("disabledweekend",day_validateDisabledWeekend);day_disabledWeekend.addEventFunction("onchange",day_validateDisabledWeekend);var date_datetimeDD=new validation_ValidationType("datetimedd",date_isDateTimeDropDown),file_file=new validation_ValidationType("file",file_isFile);file_file.addEventFunction("onchange",file_isFile);
var required_required=new validation_ValidationType("required",required_isFilled);required_required.addEventFunction("onblur",required_isFilled);required_required.addEventFunction("onchange",required_isFilled);var phone_phone=new validation_ValidationType("phone",phone_isPhone);phone_phone.addEventFunction("onchange",phone_isPhone);phone_phone.addEventFunction("onkeypress",phone_filterKeyPress);var ruleEditValidate_posDecimal=new validation_ValidationType("isposdecimal",ruleEditValidate_isPosDecimal);
ruleEditValidate_posDecimal.addEventFunction("onblur",ruleEditValidate_isPosDecimal);ruleEditValidate_posDecimal.addEventFunction("onchange",ruleEditValidate_isPosDecimal);var ruleEditValidate_nonNegative=new validation_ValidationType("isnonnegative",ruleEditValidate_isNonNegative);ruleEditValidate_nonNegative.addEventFunction("onchange",ruleEditValidate_isNonNegative);var ruleEditValidate_nonNegativeInteger=new validation_ValidationType("isnonnegativeinteger",ruleEditValidate_isNonNegativeInteger);
ruleEditValidate_nonNegativeInteger.addEventFunction("onchange",ruleEditValidate_isNonNegativeInteger);var ruleEditValidate_urgencyValue=new validation_ValidationType("isurgencyvalue",ruleEditValidate_isUrgencyValue);ruleEditValidate_urgencyValue.addEventFunction("onchange",ruleEditValidate_isUrgencyValue);var ruleEditValidate_validEmailAddress=new validation_ValidationType("validemailaddress",ruleEditValidate_isValidEmailAddress);ruleEditValidate_validEmailAddress.addEventFunction("onchange",ruleEditValidate_isValidEmailAddress);
var ruleEditValidate_validPhoneNumber=new validation_ValidationType("validphonenumber",ruleEditValidate_isValidPhoneNumber);ruleEditValidate_validPhoneNumber.addEventFunction("onchange",ruleEditValidate_isValidPhoneNumber);var ruleEditValidate_futureDate=new validation_ValidationType("isfuturedate",ruleEditValidate_isFutureDate);ruleEditValidate_futureDate.addEventFunction("onchange",ruleEditValidate_isFutureDate);var ruleEditValidate_notFutureDate=new validation_ValidationType("notfuturedate",ruleEditValidate_isNotFutureDate);
ruleEditValidate_notFutureDate.addEventFunction("onchange",ruleEditValidate_isNotFutureDate);var ruleEditValidate_alphabetic=new validation_ValidationType("alphabeticvalidation",ruleEditValidate_isAlphabetic);ruleEditValidate_alphabetic.addEventFunction("onchange",ruleEditValidate_isAlphabetic);var ruleEditValidate_alphaNumeric=new validation_ValidationType("alphanumericvalidation",ruleEditValidate_isAlphaNumeric);ruleEditValidate_alphaNumeric.addEventFunction("onchange",ruleEditValidate_isAlphaNumeric);
var ruleEditValidate_alphaNumericSpace=new validation_ValidationType("alphanumericspacevalidation",ruleEditValidate_isAlphaNumericSpace);ruleEditValidate_alphaNumericSpace.addEventFunction("onchange",ruleEditValidate_isAlphaNumericSpace);
var numeric_minMsgStr1="The field '",numeric_minMsgStr2="' should be greater than ",numeric_minMsgStr3=".",numeric_maxMsgStr1="The field '",numeric_maxMsgStr2="' should be less than ",numeric_maxMsgStr3=".",numeric_lessThanMsgStr1="The field '",numeric_lessThanMsgStr2="' should be less than the field '",numeric_lessThanMsgStr3="'.",numeric_lessThanEqualMsgStr1="The field '",numeric_lessThanEqualMsgStr2="' should be less than or equal to the field '",numeric_lessThanEqualMsgStr3="'.",numeric_greaterThanMsgStr1=
"The field '",numeric_greaterThanMsgStr2="' should be greater than the field '",numeric_greaterThanMsgStr3="'.",numeric_greaterThanEqualMsgStr1="The field '",numeric_greaterThanEqualMsgStr2="' should be greater than or equal to the field '",numeric_greaterThanEqualMsgStr3="'.",file_FileMsgStr1="",file_FileMsgStr2="Please choose a file of type: ",select_reqSelMsgStr1=" The field '",select_reqSelMsgStr2="' must have exactly ",select_reqSelMsgStr3=" options selected.",select_minSelMsgStr1=" The field '",
select_minSelMsgStr2="' must have a minimum of ",select_minSelMsgStr3=" options selected.",select_maxSelMsgStr1=" The field '",select_maxSelMsgStr2="' must have not have more than ",select_maxSelMsgStr3=" options selected.",length_lengthMsgStr1="The field '",length_lengthMsgStr2="' should be ",length_lengthMsgStr3=" characters long.",phone_phoneMsgStr1="The field '",phone_phoneMsgStr2="' is not a valid phone number.",date_beforeDateMsgStr1="The field '",date_beforeDateMsgStr2="' should be earlier than the field '",
date_beforeDateMsgStr3="'.",date_afterDateMsgStr1="The field '",date_afterDateMsgStr2="' should be later than the field '",date_afterDateMsgStr3="'.",time_afterTimeMsgStr1="The field '",time_afterTimeMsgStr2="' should be later than the field '",time_afterTimeMsgStr3="'.",time_beforeTimeMsgStr1="The field '",time_beforeTimeMsgStr2="' should be earlier than the field '",time_beforeTimeMsgStr3="'.";
function validate_isInteger(b){for(var a=0;a<b.length;a++)if(-1=="1234567890".indexOf(b.charAt(a)))return!1;return!0}function validate_containsNonLatinNumbers(b){return/^[\u0000-\u0600\u06FF-\u0900\u097F-\u9FFF]+$/.test(b)?!1:!0}function validate_getInt(b,a,d,c){for(;c>=d;c--){var f=b.substring(a,a+c);if(f.length<d)break;if(validate_isInteger(f))return f}return null}
function getDateFromFormat(b,a,d){if(validate_containsNonLatinNumbers(b))return!0;b+="";a+="";var c=0,f=0,g,e,n,r,q="",t="",m=new Date,l=m.getFullYear(),k=m.getMonth()+1,p=1,h=m.getHours(),u=m.getMinutes(),v=m.getSeconds();m.getMilliseconds();for(m="";f<a.length;){g=a.charAt(f);for(e="";a.charAt(f)==g&&f<a.length;)e+=a.charAt(f++);if(b.substring(c,c+e.length)==e&&"a"!=b.substring(c,c+e.length))c+=e.length;else if("yyyy"==e||"yy"==e||"y"==e){"yyyy"==e&&(r=n=4);"yy"==e&&(r=n=2);"y"==e&&(n=2,r=4);l=
validate_getInt(b,c,n,r);"undefined"!=typeof pega.u.d.Locale&&"th_TH"==pega.u.d.Locale&&(l-=543);if(null==l)return!1;c+=l.toString().length;2==l.length&&(l=70<l?1900+(l-0):2E3+(l-0))}else if("MMMM"==e||"MMM"==e){for(g=k=0;g<months.length;g++)if("MMMM"==e?t=months[g]:"MMM"==e&&(t=months[g].substring(0,3)),b.substring(c,c+t.length).toLowerCase()==t.toLowerCase()){k=g+1;12<k&&(k-=12);c+=t.length;break}if(1>k||12<k)return!1}else if("EEEE"==e||"EE"==e||"E"==e)for(g=0;g<weekdays.length;g++){if(q=weekdays[g],
""!=q&&b.substring(c,c+q.length).toLowerCase()==q.toLowerCase()){c+=q.length;break}}else if("MM"==e||"M"==e){k=validate_getInt(b,c,1,2);if(null==k||1>k||12<k)return!1;c+=k.length}else if("dd"==e||"d"==e){p=validate_getInt(b,c,1,2);if(null==p||1>p||31<p)return!1;c+=p.length}else if("hh"==e||"h"==e){h=validate_getInt(b,c,1,2);if(null==h||0>h||12<h)return!1;c+=h.length}else if("HH"==e||"H"==e){h=validate_getInt(b,c,1,2);if(null==h||0>h||23<h)return!1;c+=h.length}else if("KK"==e||"K"==e){h=validate_getInt(b,
c,e.length,2);if(null==h||0>h||11<h)return!1;c+=h.length}else if("kk"==e||"k"==e){h=validate_getInt(b,c,e.length,2);if(null==h||1>h||24<h)return!1;c+=h.length;h--}else if("mm"==e||"m"==e){u=validate_getInt(b,c,1,2);if(null==u||0>u||59<u)return!1;c+=u.length}else if("ss"==e||"s"==e){v=validate_getInt(b,c,1,2);if(null==v||0>v||59<v)return!1;c+=v.length}else if("a"==e){if(amPmStrings&&amPmStrings[1]&&"string"===typeof amPmStrings[1]&&-1!==amPmStrings[1].indexOf("."))b.substring(c,c+5).toLowerCase()==
amPmStrings[0].toLowerCase()?m=amPmStrings[0]:b.substring(c,c+5).toLowerCase()==amPmStrings[1].toLowerCase()&&(m=amPmStrings[1]);else if(b.substring(c,c+amPmStrings[0].length).toLowerCase()==amPmStrings[0].toLowerCase())m=amPmStrings[0];else if(b.substring(c,c+amPmStrings[1].length).toLowerCase()==amPmStrings[1].toLowerCase())m=amPmStrings[1];else return!1;c=amPmStrings&&amPmStrings[1]&&"string"===typeof amPmStrings[1]&&-1!==amPmStrings[1].indexOf(".")?c+5:c+m.length}else if("z"==e)c=b.length;else if("SSS"===
e){e=validate_getInt(b,c,1,3);if(null==e||0>e||999<e)return!1;c+=e.length}else if(b.substring(c,c+e.length)!=e)return!1}if(c!=b.length&&""!=trim(b.substring(c,b.length)))return!1;if(2==k)if(0==l%4&&0!=l%100||0==l%400){if(29<p)return!1}else if(28<p)return!1;return(4==k||6==k||9==k||11==k)&&30<p||""!=q&&""!=t&&(b=(new Date(k+"/"+p+"/"+l)).getDay(),weekdays[b+1]!=q)?!1:d?new Date(l+"/"+k+"/"+p+" "+h+":"+u+":"+v+" "+m):!0}
function required_isFilled(b,a){if("text"===b.type.toLowerCase()&&b.hasAttribute("data-editable")&&b.hasAttribute("readonly")&&"onblur"===a)if(b.hasAttribute("data-overlay"))b.removeAttribute("data-overlay");else return"terminate";var d=pega.ctx.dom.getElementById(b.name+"Error");if(d&&a&&"onblur"===a&&(a=trim(pega.control.PlaceHolder.getValue(b)),""!==a&&required_requiredMsgStr!==d.text))return"terminate";if("radio"==b.type.toLowerCase()){d=pega.ctx.dom.$("[name\x3d'"+b.name+"'][type!\x3d'hidden']");
a=!1;for(var c=0;c<d.length;c++)if(0!=d[c].checked&&(1==d[c].checked||""==d[c].getAttribute("checked"))){a=!0;break}if(0==a){if(null==b.displayName||""==b.displayName)b.displayName=validation_getDisplayName(b);a=required_requiredMsgStr;return new validation_Error(d[0],a)}a=[];c=[];c.push(d[0]);"function"==typeof validation_displayFieldError&&validation_displayFieldError(a,c)}else if(-1<b.className.indexOf("multiselect-list"))if(d=$(b).siblings("[type\x3d'hidden']"),""!=d.val()&&","!=d.val())a=[],
c=[],c.push(b),"function"==typeof validation_displayFieldError&&validation_displayFieldError(a,c);else return a=required_requiredMsgStr,""!=b.value&&(a=required_invalidMsgStr),new validation_Error(b,a);else if(a=trim(pega.control.PlaceHolder.getValue(b)),null==a||""==a){if(null==b.displayName||""==b.displayName)b.displayName=validation_getDisplayName(b);a=required_requiredMsgStr;return new validation_Error(b,a)}}function removeCommas(b){b=b.replace(/\s/g,"");return b.replace(/,/g,"")}
function removeSeparator(b,a){b=b.replace(/\s/g,"");return b.replace(new RegExp("\\"+a,"g"),"")}
function numeric_isDecimal(b){if(pega.control.PlaceHolder.getValue(b).match(new RegExp("(\\"+grouping_separator+"){2,}|(\\"+decimal_separator+"){2,}|(\\"+decimal_separator+".*\\,)\\1+|(\\"+grouping_separator+"\\"+decimal_separator+")\\1+","g")))return display_getValidationError(b,"",numeric_decimalMsgStr);var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a){var d=numeric_occurence(a,decimal_separator),c=new RegExp("[^0-9-"+grouping_separator+decimal_separator+
"]","g"),f=!1;0<a.lastIndexOf("-")&&(f=!0);c=a.match(c);if(isNaN(a)&&(null!=c||1<d||f))return display_getValidationError(b,"",numeric_decimalMsgStr);void 0!=b.decimalPlaces&&(b=parseInt(b.decimalPlaces),isNaN(b)||numeric_ensureDecimalPlaces(a,b))}}
function numeric_isInteger(b){var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a&&!validate_containsNonLatinNumbers(a)){var d=a.match(/^(\-)?\d+$/);if(isNaN(a)&&null==d)return display_getValidationError(b,"",numeric_integerMsgStr)}}
function numeric_isDouble(b){var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a){var d=a.match(new RegExp("^(((\\-)?\\d+(\\"+decimal_separator+"\\d*)?)|((\\-)?(\\d*\\"+decimal_separator+")?\\d+))$")),a=isNaN(a);if(null==d&&a)return display_getValidationError(b,"",numeric_doubleMsgStr)}}function text_isText(b){}function text_isPassword(b){}function text_isIdentifier(b){}
function boolean_isTruefalse(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&"true"!=a.toLowerCase()&&"false"!=a.toLowerCase())return display_getValidationError(b,"",boolean_truefalseMsgStr)}
function validateAndGetDateObj(b,a,d,c){b=pega.control.PlaceHolder.getValue(b);if(!b)return!0;d=d||date_patterns;pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&(c=c||additional_date_patterns,pega.DateTimeUtil.defaultLocale!==pega.u.d.Locale&&(d=c[pega.u.d.Locale]));for(c=0;c<d.length;c++){var f=getDateFromFormat(trim(b),d[c],a);if(f)return f}}function date_isDate(b){if(!validateAndGetDateObj(b))return display_getValidationError(b,"",date_dateMsgStr)}
function date_isDateDropDown(b){return date_isDate(b)}function time_isTimeOfDay(b){var a="undefined"!==typeof a?a:{};if(!validateAndGetDateObj(b,!1,time_patterns,a))return display_getValidationError(b,"",time_timeMsgStr)}function time_isTimeOfDayDropDown(b){return time_isTimeOfDay(b)}function date_isDateTime(b){var a="undefined"!==typeof a?a:{};if(!validateAndGetDateObj(b,!1,datetime_patterns,a))return display_getValidationError(b,"",date_DateTimeMsgStr)}
function date_isDateTimeDropDown(b){return date_isDateTime(b)}
function day_validateDisabledWeekend(b){var a=b.parentNode;if(a){var d,c;if((a=pega.control.eventParser.parseJSON(a.getAttribute("data-calendar")))&&a.disabledWeekends){var f="undefined"!==typeof f?f:{},g="undefined"!==typeof g?g:{},e=a.d[1];"1"==e?(d=datetime_patterns,c=g):"2"==e&&(d=time_patterns,c=f);if((d=validateAndGetDateObj(b,!0,d,c))&&d instanceof Date)for(d=new Date(d.getTime()),"undefined"==typeof pega.u.d.Locale||"th_TH"!==pega.u.d.Locale||"object"===typeof pegaUtils&&pegaUtils.useBuddhistThaiSolarCalendar||
d.setFullYear(d.getFullYear()+543),d=d.getDay(),a=a.disabledWeekends,c=0;c<a.length;c++)if(d==a[c]-1)return display_getValidationError(b,"",day_disabledWeekendMsgStr)}}}
function time_validateMinInterval(b){var a=b.parentNode;if(a){var d,c;if(a=pega.control.eventParser.parseJSON(a.getAttribute("data-calendar"))){var f=a.d[1];if(0!=f){var g="undefined"!==typeof g?g:{},e="undefined"!==typeof e?e:{};"1"==f?(d=datetime_patterns,c=e):"2"==f&&(d=time_patterns,c=g);if((d=validateAndGetDateObj(b,!0,d,c))&&d instanceof Date&&(d=d.getMinutes(),10>d&&(d="0"+d),-1==pega.u.d.CalendarUtil.getMinuteOpts("",!0,a.minInterval).indexOf(d.toString())))return a=time_MinIntervalMsgStr.replace("\x3c\x3cminInterval\x3e\x3e",
a.minInterval),display_getValidationError(b,"",a,!0)}}}}
function ruleEditValidate_isFutureDate(b){var a="undefined"!==typeof a?a:{};if(a=validateAndGetDateObj(b,!0,datetime_patterns,a)){var d=b.dataset.customTimezone||pega.u.d.TimeZone,c=pega.util&&pega.util.Event&&pega.util.Event.isIE;d&&"undefined"!=typeof c&&11!==c?(a=a.toLocaleString("en",{timeZone:d}),a=new Date(a),d=new Date((new Date).toLocaleString("en",{timeZone:d})),d.setMilliseconds(d.getMilliseconds()+200)):d=new Date;if(d>a&&1!=a)return display_getValidationError(b,ruleEditValidate_isFutureDateMsgStr,
"",!0)}else return display_getValidationError(b,"",date_dateMsgStr)}function ruleEditValidate_isNotFutureDate(b){var a="undefined"!==typeof a?a:{};if(a=validateAndGetDateObj(b,!0,datetime_patterns,a)){if(new Date<=a&&1!=a)return display_getValidationError(b,ruleEditValidate_isNotFutureDateMsgStr,"",!0)}else return display_getValidationError(b,"",date_dateMsgStr)}
function file_isFile(b){var a=b.fileType;null==a&&(a="");var d=pega.control.PlaceHolder.getValue(b);null==d&&(d="");if(""!=a){for(var d=d.substring(d.lastIndexOf(".")+1).toLowerCase(),c=a.split(" or "),f=!1,g=0;g<c.length;g++)if(d==c[g].toLowerCase()){f=!0;break}if(!f)return display_getValidationError(b,file_FileMsgStr1,file_FileMsgStrFull+a)}}
function ruleEditValidate_isPosDecimal(b){var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a){var d=numeric_occurence(a,decimal_separator);if(null!=a.match(new RegExp("[^0-9-"+grouping_separator+decimal_separator+"]","g"))||1<d)return display_getValidationError(b,"",numeric_decimalMsgStr);if(0>=a)return display_getValidationError(b,ruleEditValidate_isPosDecimalMsgStr,"",!0);void 0!=b.decimalPlaces&&(b=parseInt(b.decimalPlaces),isNaN(b)||numeric_ensureDecimalPlaces(a,
b))}}function ruleEditValidate_isNonNegative(b){var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a){var d=a.match(new RegExp("^(((\\-)?\\d+(\\"+decimal_separator+"\\d*)?)|((\\-)?(\\d*\\"+decimal_separator+")?\\d+))$"));if(isNaN(a)&&null==d)return display_getValidationError(b,"",numeric_doubleMsgStr);if(0>a)return display_getValidationError(b,ruleEditValidate_isNonNegativeMsgStr,"",!0)}}
function ruleEditValidate_isNonNegativeInteger(b){var a=removeSeparator(pega.control.PlaceHolder.getValue(b),grouping_separator);if(null!=a&&""!=a){if(null==a.match(/^(\-)?\d+$/))return display_getValidationError(b,"",numeric_integerMsgStr);if(0>a)return display_getValidationError(b,ruleEditValidate_isNonNegativeMsgStr,"",!0)}}
function ruleEditValidate_isUrgencyValue(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a){var d=numeric_occurence(a,decimal_separator);if(null!=a.match(new RegExp("[^0-9-"+grouping_separator+decimal_separator+"]","g"))||1<d||0>a||100<a)return display_getValidationError(b,ruleEditValidate_isUrgencyValueMsgStr,"",!0)}}
function ruleEditValidate_isValidEmailAddress(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&!/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(a))return display_getValidationError(b,ruleEditValidate_isValidEmailAddressMsgStr,
"",!0)}function ruleEditValidate_isValidPhoneNumber(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&null!=a.match(/[^0-9-x,X]/g))return display_getValidationError(b,ruleEditValidate_isValidPhoneNumberMsgStr,"",!0)}function ruleEditValidate_isAlphabetic(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&null!=a.match(/[^a-zA-Z]/))return display_getValidationError(b,ruleEditValidate_isAlphabeticMsgStr,"",!0)}
function ruleEditValidate_isAlphaNumeric(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&null!=a.match(/[^a-zA-Z0-9]/))return display_getValidationError(b,ruleEditValidate_isAlphaNumericMsgStr,"",!0)}function ruleEditValidate_isAlphaNumericSpace(b){var a=pega.control.PlaceHolder.getValue(b);if(null!=a&&""!=a&&null!=a.match(/[^a-zA-Z0-9\s]/))return display_getValidationError(b,ruleEditValidate_isAlphaNumericSpaceMsgStr,"",!0)}var phone_DIGITS_IN_US=10;
function phone_isPhone(b){var a=pega.control.PlaceHolder.getValue(b),d=phone_phoneMsgStrFull;if(null!=a&&""!=a){a=a.match(/[0-9]/g);if(null==a||""==a)return new validation_Error(b,d);"1"==a[0]&&a.splice(0,1);if(phone_DIGITS_IN_US!=a.length||1==a[0])return new validation_Error(b,d);pega.control.PlaceHolder.setValue(b,"("+phone_createString(a,0,2)+") "+phone_createString(a,3,5)+"-"+phone_createString(a,6,9))}}function phone_createString(b,a,d){for(var c="";a<=d;a++)c+=b[a];return c}
function phone_filterKeyPress(){valutility_isAlphabetic()&&valutility_cancelKeyPress();return null}validation_displayFieldError=validation_displayErrors=display_showImageErrors;var errorHolderId="errorHolder";function display_displayAlert(b,a){a="";if(0<b.length){for(var d=0;d<b.length;d++)a+=b[d].errorMessage+"\n";alert(a)}}
function display_displayHTML(b,a){a=pega.ctx.dom.getElementById("errorHolder");a.innerHTML="";if(0<b.length){for(var d=0;d<b.length;d++){var c=document.createElement("div");c.className="text";c.style.color="red";c.style.fontWeight="bold";c.innerHTML=b[d].errorMessage;a.appendChild(c)}a.style.display=""}else a.style.display="none"}
function display_showImageErrors(b,a,d,c){var f=display_removeErrorImage,g=display_addImageError;if(1!=d&&d){var e,n;d.target&&(e=d.target.getAttribute("validationType"),(d=d.target.getAttribute("aria-describedby"))&&(n=document.getElementById(d)));var r=a.length;for(d=0;d<r;d++)c&&e&&-1<e.indexOf("calculateexpression")&&n&&n.style&&"none"!=n.style.display||f(a[d]),"function"==typeof pega.u.d.handleErrorsInTabgroupLayout&&pega.u.d.handleErrorsInTabgroupLayout(a[d],"clear"),window.LayoutGroupModule&&
LayoutGroupModule.handleErrorsInLayoutgroupLayout(a[d],"clear")}a=b.length;for(d=0;d<a;d++)f(b[d].element);for(d=0;d<a;d++)g(b[d]),"function"==typeof pega.u.d.handleErrorsInTabgroupLayout&&pega.u.d.handleErrorsInTabgroupLayout(b[d].element,"add");window.LayoutGroupModule&&LayoutGroupModule.checkForErrors()}
function createErrorMarker(b,a){var d="iconErrorDiv",c="iconError";"ERRORTEXT"===pega.u.d.fieldErrorType&&(d="inputErrorDiv",c="inputError");var f=document.createElement("div");f.className=d;-1<b.element.className.indexOf("multiselect-list")?f.id=b.element.id+"Error":f.id=a?a+"Error":b.element.name+"Error";for(a=0;a<b.errorMessage.length;a++)d=document.createElement("span"),d.className=c,d.setAttribute("title",b.errorMessage[a]),d.setAttribute("errid",""),d.setAttribute("aria-live","assertive"),d.setAttribute("aria-relevant",
"text"),d.setAttribute("aria-atomic","true"),f.appendChild(d);return f}
function display_addImageError(b){var a=b.element,d=a.nextElementSibling&&a.nextElementSibling.type&&"hidden"===a.nextElementSibling.type?a.nextElementSibling:null,c,f;b.errorMessage&&b.errorMessage.constructor==Array||(c=findLabelFor(a),b.errorMessage=c&&c.innerText&&pega.u.d.displayFieldNameInValidationMsg?[c.innerText+" "+b.errorMessage.toLowerCase()]:[b.errorMessage]);d?(c=pega.ctx.dom.getElementById(d.name+"Error"),f=d.name):c=pega.ctx.dom.getElementById(a.name+"Error");var g=pega.ctx;pega.ctxmgr.setContext(pega.ctxmgr.getContextByTarget(a));
d=-1<a.className.indexOf("multiselect-list");!a.name&&d&&(c=pega.ctx.dom.getElementById(a.id+"Error"));pega.ctxmgr.setContext(g);if(null!=c)toggleErrorMessage(c,b,!0);else{f=createErrorMarker(b,f);c=f.getElementsByTagName("span");g=pega.util.Dom.getFirstChild(a.parentNode);a.parentNode.nodeName.toLowerCase();if(0<$(a).closest(".content-item.content-field").length){f.className+=" dynamic-icon-error-div";for(var e=0;e<c.length;e++)c[e].className+=" dynamic-icon-error",c[e]["innerText"in c[e]?"innerText":
"textContent"]=b.errorMessage[e],c[e].title="";-1<g.className.indexOf("textAreaStyle")||-1<g.className.indexOf("TextAreaEC")?pega.util.Dom.insertAfter(f,g.parentNode):"radio"==a.type?pega.util.Dom.insertAfter(f,pega.util.Dom.getLastChild(a.parentNode.parentNode.parentNode)):d?pega.util.Dom.insertAfter(f,pega.util.Dom.getLastChild(a.parentNode.parentNode)):pega.util.Dom.insertAfter(f,pega.util.Dom.getLastChild(a.parentNode))}else pega.util.Dom.insertBefore(f,g);toggleErrorMessage(f,b,!0)}setLabelStyle(a)}
function toggleErrorMessage(b,a,d){a.errorMessage&&a.errorMessage.constructor===Array||(a.errorMessage=[a.errorMessage]);var c=pega.ctx.dom.getElementsByTagName("SPAN",b)[0];c&&b&&(d?(d=a.element,d.setAttribute("aria-invalid","true"),b.style.display="",-1===c.title.indexOf(a.errorMessage[0])&&(c.classList.contains("dynamic-icon-error")?c["innerText"in c?"innerText":"textContent"]=a.errorMessage[0]:c.title=""===c.title?a.errorMessage[0]:c.title+("\n"+a.errorMessage[0])),"inputError"===c.className&&
(pega.util.Dom.setInnerText(c,c.title),"textarea"===a.element.tagName.toLowerCase()&&-1<a.element.className.indexOf("textAreaStyle")?"td"===a.element.parentNode.tagName.toLowerCase()?pega.util.Dom.addClass(pega.util.Dom.getAncestorByTagName(a.element,"TABLE"),"errorShade"):pega.util.Dom.addClass(a.element.parentNode,"errorShade"):pega.util.Dom.addClass(a.element,"errorShade")),"highlight"===d.parentNode.id&&(d.prevClassName=d.className,d.className="inputHighlight")):(a.setAttribute("aria-invalid",
"false"),b.style.display="none",c.title="",c.text="","inputError"===c.className&&(pega.util.Dom.setInnerText(c,c.title),"textarea"===a.tagName.toLowerCase()&&-1<a.className.indexOf("textAreaStyle")?"td"===a.parentNode.tagName.toLowerCase()?pega.util.Dom.removeClass(pega.util.Dom.getAncestorByTagName(a,"TABLE"),"errorShade"):pega.util.Dom.removeClass(a.parentNode,"errorShade"):pega.util.Dom.removeClass(a,"errorShade")),"highlight"===a.parentNode.id&&(a.className=a.prevClassName),(b=findLabelFor(a))&&
pega.u.d.removeClass(b,"labelError")),pega.ui.d.resizeHarness())}
function display_removeErrorImage(b){var a;if(-1<b.className.indexOf("multiselect-list"))a=b.id+"Error";else{var d=b.nextElementSibling&&b.nextElementSibling.type&&"hidden"===b.nextElementSibling.type?b.nextElementSibling:null;a=d?d.name+"Error":b.name+"Error"}d=pega.ctx;pega.ctxmgr.setContext(pega.ctxmgr.getContextByTarget(b));a=pega.ctx.dom.getElementById(a);pega.ctxmgr.setContext(d);"undefined"!=typeof a&&null!=a&&toggleErrorMessage(a,b,!1)}
function display_getValidationError(b,a,d,c){a=null!=b.getAttribute("errMessage")?b.getAttribute("errMessage"):c?a+d:null!=a&&""!=a?a+" "+pega.control.PlaceHolder.getValue(b)+" "+d:pega.control.PlaceHolder.getValue(b)+" "+d;return new validation_Error(b,a)}function setLabelStyle(b){(b=findLabelFor(b))&&pega.u.d.addClass(b,"labelError")}
function findLabelFor(b){var a=!1,d=!1;0==b.className.indexOf("Radio")&&(a=!0);for(var c=b;null!=c&&("TABLE"!=c.tagName||-1<c.className.indexOf("textAreaExpandStyle"))&&!c.hasAttribute("bsimplelayout");)a&&!d&&c.tagName&&"div"==c.tagName.toLowerCase()&&-1<pega.util.Dom.hasClass(c,"radioTable")&&"RadioGroup"==c.getAttribute("data-ctl")&&(d=!0),c=c.parentNode;if(!d&&("Radio"==b.className||"autocomplete_input"==b.className))for(c=c.parentNode;null!=c&&"TABLE"!=c.tagName;)c=c.parentNode;if(!c)return"";
var a=pega.ctx.dom.getElementsByTagName("LABEL",c),c=null,f=b.id;if(d&&0<f.lastIndexOf(b.value))try{f=f.substr(0,f.lastIndexOf(b.value))}catch(n){}"EXPAND"==f&&"textarea"==b.tagName.toLowerCase()&&b.DisplayedProperty&&(f=b.DisplayedProperty);for(var d=1<pega.ctx.dom.$("[id\x3d'"+f+"']").length,g=0;g<a.length;g++)if(window.Grids&&Grids.getElementsGrid(b)){if(""!=a[g].innerText){var e=$(b).closest(a[g].parentNode).children("label");if(!d||0!=e.length)if(c=e,null!=c[0])break}}else if(a[g].htmlFor.toLowerCase()==
f.toLowerCase()&&""!=a[g].innerText&&(!d||0!=$(b).closest(a[g].parentNode).length)){c=a[g];break}return c};
if(pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("bClientValidation")){var ruleEditValidate_SSN=new validation_ValidationType("ssn",SSN_Formatter);ruleEditValidate_SSN.addEventFunction("onchange",SSN_Formatter);var ruleEditValidate_DateMMDDYYYY=new validation_ValidationType("datemmddyyyy",DateMMDDYYYY_Formatter);ruleEditValidate_DateMMDDYYYY.addEventFunction("onchange",DateMMDDYYYY_Formatter);var ruleEditValidate_TIN=new validation_ValidationType("tin",TIN_Formatter);ruleEditValidate_TIN.addEventFunction("onchange",
TIN_Formatter);var ruleEditValidate_InternationalPhone=new validation_ValidationType("internationalphone",InternationalPhone_Formatter);ruleEditValidate_InternationalPhone.addEventFunction("onchange",InternationalPhone_Formatter);var ruleEditValidate_USPhone=new validation_ValidationType("usphone",USPhone_Formatter);ruleEditValidate_USPhone.addEventFunction("onchange",USPhone_Formatter);var ruleEditValidate_USZipCode=new validation_ValidationType("uszipcode",USZipCode_Formatter);ruleEditValidate_USZipCode.addEventFunction("onchange",
USZipCode_Formatter);var ruleEditValidate_USZipCodeExtended=new validation_ValidationType("USZipCodeExtended",USZipCodeExtended_Formatter);ruleEditValidate_USZipCodeExtended.addEventFunction("onchange",USZipCodeExtended_Formatter);var auto_input=new validation_ValidationType("auto_format",auto_InputFormat);auto_input.addEventFunction("onchange",auto_InputFormat)}var ssn_validateMsgStr="SSN must have 9 digits and can not start with 000",gPreviousValue="";
function SSN_Validation(a){var b=a.value;if(null!=b&&""!=b){var c=b.match(/^(\d{3})-?\d{2}-?\d{4}$/),b=b.split("-").length-1;if(null==c||1==b||0==parseInt(c[1],10))return display_getValidationError(a,"",ssn_validateMsgStr,!0)}}function SSN_Formatter_Old(a){var b=parseInt(a.value.length);8==window.event.keyCode||3!=b&&6!=b||(a.value+="-")}function SSN_Formatter(a){9==a.value.length&&dFilter(a,"###-##-####");return Format_Validation(a,"###-##-####")}
function DateMMDDYYYY_Formatter(a){8==a.value.length&&dFilter(a,"##/##/####");return Format_Validation(a,"##/##/####")}function TIN_Formatter(a){9==a.value.length&&dFilter(a,"##-#######");return Format_Validation(a,"##-#######")}function InternationalPhone_Formatter(a){13==a.value.length&&dFilter(a,"+### ### #### ###");return Format_Validation(a,"+### ### #### ###")}function USPhone_Formatter(a){10==a.value.length&&dFilter(a,"(###) ###-####");return Format_Validation(a,"(###) ###-####")}
function USZipCode_Formatter(a){5==a.value.length&&dFilter(a,"#####");return Format_Validation(a,"#####")}function USZipCodeExtended_Formatter(a){10==a.value.length&&dFilter(a,"#####-#####");return Format_Validation(a,"#####-#####")}
function Format_Validation(a,b){var c,d=a.value;if(null!=d&&""!=d&&(c=b.replace(/#/g,"\\d"),c=c.replace(/-/g,"-?"),c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)"),c=c.replace(/\+/g,"\\+"),null==d.match(new RegExp("^"+c+"$"))))return display_getValidationError(a,"",ruleEditValidate_invalidFormatMsgStr+" "+b,!0)}
function auto_InputFormat(a,b){if(null!=a.getAttribute("format")&&""!=a.getAttribute("format")&&"onclick"!=b&&"checkbox"!=a.type&&"radio"!=a.type&&"select-one"!=a.type){var c=a.name+"!"+a.getAttribute("format");b=SafeURL_createFromURL(pega.u.d.url);b.put("pyActivity","GetTargets");var d=new SafeURL;d.put(a.name,a.value);d.put("bClientValidation",bClientValidation);d.put("Targets",c);d.put("aWantInput","true");d.put("FormError",pega.u.d.formErrorType);d.put("FieldError",pega.u.d.fieldErrorType);d.put("pyCustomError",
pega.u.d.pyCustomError);c="";null!=a.getAttribute("HTMLParams")&&(c="\x26"+a.getAttribute("HTMLParams"));gTimeout=window.setTimeout("setFormat('"+b.toURL()+"', '"+d.toQueryString()+c+"')",500)}}function setFormat(a,b){responseObj=pega.u.d.asyncRequest("POST",a,{success:this.setFormatValuesSuccess,failure:this.setFormatValuesFail,scope:this,argument:[]},b)}function setFormatValuesFail(a){}
function setFormatValuesSuccess(a){var b=a.responseText;a=pega.tools.XMLDocument.get();a.loadXML(b);b=null;a&&a.documentElement&&(b=a.documentElement.selectNodes("target"));if(null!=b&&0!=b.length){for(var c=b[0].childNodes,b=c[1].text,c=pega.util.Dom.getElementsByName(c[0].text),d=0;d<c.length;d++)c[d].parentNode.innerHTML=trim(b),pega.u.d.processOnloads(c[d].parentNode);a=trim(a.documentElement.selectNodes("errors")[0].text);"NONE"==pega.u.d.formErrorType?(b=document.createElement("DIV"),pega.u.d.loadDOMObject(b,
a),pega.u.d.updateErrorSection(b)):displayFormErrors(a)}}function dFilter(a,b){if(a&&b&&""!=b&&0!=a.value.length){dFilterNum=dFilterStrip(a.value,b);var c="";for(dFilterStep=0;dFilterStep<b.length;dFilterStep++)"#"==b.charAt(dFilterStep)?0!=dFilterNum.length?(c+=dFilterNum.charAt(0),dFilterNum=dFilterNum.substring(1,dFilterNum.length)):c+="":"#"!=b.charAt(dFilterStep)&&a.value.length>=dFilterStep&&(c+=b.charAt(dFilterStep));a.value!=c&&(a.value=c);return!1}}
function dFilterStrip(a,b){b=replace(b,"#","");for(dFilterStep=0;dFilterStep<b.length++;dFilterStep++)a=replace(a,b.substring(dFilterStep,dFilterStep+1),"");return a}function dFilterMax(a){dFilterTemp=a;for(dFilterStep=0;dFilterStep<a.length+1;dFilterStep++)"#"!=a.charAt(dFilterStep)&&(dFilterTemp=replace(dFilterTemp,a.charAt(dFilterStep),""));return dFilterTemp.length}
function replace(a,b,c){var d=a.length,f=b.length;if(0==d||0==f)return a;var e=a.indexOf(b);if(!e&&b!=a.substring(0,f)||-1==e)return a;var g=a.substring(0,e)+c;e+f<d&&(g+=replace(a.substring(e+f,d),b,c));return g};
