pega=window.pega||{};pega.ui=pega.ui||{};
pega.ui.EventsEmitterClass=function(){function m(a,c,b,d,f){this.listenerFn=a;this.bImmediate=c;this.bOnce=b;this.scope=f;this.eventId=d}var e={},l=function(a,c,b,d,f,k,g){if(g&&e.hasOwnProperty(a))return{};e.hasOwnProperty(a)||(e[a]=[]);var h=new m(c,b?!0:!1,d?!0:!1,f,k);e[a].push(h);return{remove:function(){var c=e[a],b;for(b in c)if(c[b].listenerFn==h.listenerFn){e[a].splice(b,1);break}}}},h=function(a,c,b){b?a.apply(b,[c?c:{}]):a(c?c:{})},n=function(a,c){setTimeout(function(){h(a,c)},0)};return{subscribe:function(a,
c,b,d,f,e){return l(a,c,b,!1,d,f,e)},subscribeOnce:function(a,c,b){return l(a,c,b,!0)},unsubscribe:function(a,c,b){if((a=e[a])&&c)for(var d=0;d<a.length;d++)if(a[d].listenerFn==c){b&&a[d].scope!==b||a.splice(d,1);break}},unsubscribeAll:function(){e={}},publish:function(a,c){if(e.hasOwnProperty(a))for(var b=e[a],d=0;d<b.length;d++)b[d].bImmediate?h(b[d].listenerFn,c):n(b[d].listenerFn,c),b[d].bOnce&&(e[a].splice(d,1),d--)},publishSync:function(a,c){if(e.hasOwnProperty(a))for(var b=e[a],d=c&&c[this.eventIds]||
{},f=0;f<b.length;f++){var k=b[f],g=b[f].eventId;if(k[this.eventId]&&d[g]||!k[this.eventId])d[g]&&(c={},c[this.context]=d[g],c[this.eventId]=g),h(b[f].listenerFn,c,b[f].scope),b[f]&&b[f].bOnce&&(e[a].splice(f,1),f--)}},eventId:"eventId",eventIds:"eventIds",context:"context",isListenerSubscribed:function(a,c,b){a=e[a];if(!a||!c)return!1;for(var d=0;d<a.length;d++)if(a[d].listenerFn==c&&(!b||a[d].scope===b))return!0;return!1}}};pega.ui.EventsEmitter=new pega.ui.EventsEmitterClass;
pega=window.pega||{};pega.ui=pega.ui||{};
pega.ui.HarnessContext||(pega.ui.HarnessContext=function(){function b(){this.pega={};this.pega.d={};this.pega.desktop={};this.pega.u={};this.pega.u.d={};this.pega.feedback={};this.pega.feedback.Globals={};this.onHarnessLoads=[]}b.prototype.setProperty=function(a,b){this[a]=b};b.prototype.getProperty=function(a){return this[a]};b.prototype.setFormEncoding=function(a){var b=pega.u.d.bModalDialogOpen;if(pega.ui.HarnessContextMgr.get("isMDC")&&!b)pega.ctx.hasFileEncoding=a;else if(b)pega.ctx.modalHasFileEncoding=
a;else if(b=document.forms[0])a?b.encoding="multipart/form-data":b.encoding="application/x-www-form-urlencoded"};b.prototype.resetFormEncoding=function(){this.setFormEncoding(!1)};b.prototype.hasFile=function(){var a;a=pega.u.d.bModalDialogOpen;a=pega.ctx.isMDC&&!a?pega.ctx.hasFileEncoding||!1:pega.ctx.modalHasFileEncoding?!0:(a=document.forms[0])&&"multipart/form-data"===a.encoding?!0:!1;return a};b.prototype.getFormElement=function(){return pega.ctx.isMDC?pega.u.d.getDocumentElement():document.forms[0]};
return b}());
if(!pega.ctxmgr){pega.ctxmgr=pega.ui.HarnessContextMgr=pega.ui.HarnessContextMap=(function(){var DATA_HARNESS_ID="data-harness-id";var contextsMap={};var baseHarnessContext;var nativeWindowSetTimeout=window.setTimeout;var nativeWindowSetInterval=window.setInterval;var contextWindowSetTimeout=function(func,timeout){var actualContext=pega.ctx;var args=Array.prototype.slice.call(arguments,0);args[0]=function timeoutFunction(){var timeoutArgs=Array.prototype.slice.call(arguments,0);pega.ctxmgr.setContext(actualContext);if(typeof func==="string"){eval(func)}else{func.apply(this,timeoutArgs)}pega.ctxmgr.resetContext();actualContext=null};if(nativeWindowSetTimeout.apply){return nativeWindowSetTimeout.apply(this,args)}else{return nativeWindowSetTimeout(func,timeout)}};var contextWindowSetInterval=function(func,timeout){var actualContext=pega.ctx;var args=Array.prototype.slice.call(arguments,0);args[0]=function timeoutFunction(){var timeoutArgs=Array.prototype.slice.call(arguments,0);pega.ctxmgr.setContext(actualContext);if(typeof func==="string"){eval(func)}else{func.apply(this,timeoutArgs)}pega.ctxmgr.resetContext()};if(nativeWindowSetInterval.apply){return nativeWindowSetInterval.apply(this,args)}else{return nativeWindowSetInterval(func,timeout)}};var createHarnessContext=function(){var harnessContextMap=pega.ctxmgr.getHarnessContextMap();var initialHarnessId=pega.ctx&&initialVars&&initialVars.dynamic_context&&initialVars.dynamic_context.pzHarnessID;if(initialHarnessId&&harnessContextMap[initialHarnessId]){return harnessContextMap[initialHarnessId]}var harnessContextObj=new pega.ui.HarnessContext();setCurrentHarnessContext(harnessContextObj);_updateContextSpecifics();return harnessContextObj};var loadHarnessContext=function(uniqueKey,harnessContextObject){if(!uniqueKey){uniqueKey=""+Date.now()}harnessContextObject=harnessContextObject||pega.ui.HarnessContextMgr.createHarnessContext();harnessContextObject.pzHarnessID=uniqueKey;contextsMap[uniqueKey]=harnessContextObject;setCurrentHarnessContext(harnessContextObject);_updateContextSpecifics()};var unloadHarnessContext=function(uniqueKey,unloadSilently){if(contextsMap[uniqueKey]){if(!unloadSilently){pega.u.d.cleanUpHarnessElements(null,document.querySelectorAll("[data-harness-id="+uniqueKey+"]"));setContext(contextsMap[uniqueKey]);pega.ui.EventsEmitter.publishSync("onHarnessUnload");resetContext();delete contextsMap[uniqueKey];_updateContextSpecifics()}else{delete contextsMap[uniqueKey]}}else{throw"harness context not exists"}};var _updateContextSpecifics=function(){pega.ctxmgr.isSingleContext=(Object.keys(contextsMap).length<=1);if(!(pega&&pega.offline)){if(pega.ctxmgr.isSingleContext){window.setTimeout=nativeWindowSetTimeout;window.setInterval=nativeWindowSetInterval}else{window.setTimeout=contextWindowSetTimeout;window.setInterval=contextWindowSetInterval}}};var getHarnessContextMap=function(){return contextsMap};var getHarnessContext=function(uniqueKey){return contextsMap[uniqueKey]};var getContextByProperty=function(propName,propValue){if(!contextsMap){return }var harContextObj,key;for(key in contextsMap){harContextObj=contextsMap[key];if(harContextObj[propName]){if(harContextObj[propName]===propValue){return harContextObj}}}return harContextObj};var getDCSPAContext=function(){if(!contextsMap){return }for(var key in contextsMap){var harContextObj=contextsMap[key];var currThreadName=pega.u.d.getThreadName(harContextObj);if(pega.u.d.isDCSPAThread(currThreadName)&&!harContextObj.isMDC){return harContextObj}}};var getDCSPAThreadName=function(){if(!contextsMap){return }for(var key in contextsMap){var harContextObj=contextsMap[key];var currThreadName=pega.u.d.getThreadName(harContextObj);if(pega.u.d.isDCSPAThread(currThreadName)){return currThreadName}}};var getContextByThreadName=function(threadName){if(!contextsMap){return }for(var key in contextsMap){var harContextObj=contextsMap[key];if(threadName===pega.u.d.getThreadName(harContextObj)){return harContextObj}}};var getContextByTarget=function(domTarget){if(!contextsMap||!domTarget){return }var targetContextElem=pega.ctx.dom.closest(domTarget,"[data-harness-id]");if(targetContextElem){return contextsMap[targetContextElem.getAttribute("data-harness-id")]}};var getCurrentHarnessContext=function(){if(pega.ctx){return pega.ctx}else{console.warn("Current HarnessContext should be set before use.")}};var setCurrentHarnessContext=function(harnessContext){if(typeof harnessContext==="string"){harnessContext=getHarnessContext(harnessContext)}if(!harnessContext){console.info("Skip setting harnessContext to undefined");return }baseHarnessContext=harnessContext;_ctxSetter(harnessContext)};var getPropertyFromCurrentHarnessContext=function(propName){if(!pega.ctx){throw"Current HarnessContext should be set before use."}return pega.ctx[propName]};var setPropertyToCurrentHarnessContext=function(propName,propValue){if(!pega.ctx){throw"Current HarnessContext should be set before use."}pega.ctx[propName]=propValue};var setContextInEvent=function(event){event.harnessID=event.currentTarget.getAttribute(DATA_HARNESS_ID)};var registerContextSwitching=function(targetElement,switchHandler,customDOMEventsToListen){if(typeof targetElement==="string"){targetElement=document.querySelector(targetElement)}switchHandler=switchHandler||harnessContextSwitchHandler;targetElement.setAttribute(DATA_HARNESS_ID,pega.ctx.pzHarnessID);targetElement.classList.add(pega.ctx.pzHarnessID);if(customDOMEventsToListen){for(var i=0;i<customDOMEventsToListen.length;i++){targetElement.removeEventListener(customDOMEventsToListen[i],switchHandler,true);targetElement.addEventListener(customDOMEventsToListen[i],switchHandler,true)}}else{targetElement.removeEventListener("mousedown",switchHandler,true);targetElement.addEventListener("mousedown",switchHandler,true);targetElement.removeEventListener("focusin",switchHandler,true);targetElement.addEventListener("focusin",switchHandler,true)}if(pega&&pega.cl&&pega.cl.isTouchAble()){targetElement.removeEventListener("touchend",switchHandler,true);targetElement.addEventListener("touchend",switchHandler,true)}};var unregisterContextSwitching=function(targetElement,switchHandler){if(typeof targetElement==="string"){targetElement=document.querySelector(targetElement)}switchHandler=switchHandler||harnessContextSwitchHandler;targetElement.classList.remove(targetElement.getAttribute(DATA_HARNESS_ID));targetElement.removeAttribute(DATA_HARNESS_ID);targetElement.removeEventListener("mousedown",switchHandler,true);targetElement.removeEventListener("focusin",switchHandler,true);targetElement.removeEventListener("change",switchHandler,true);if(pega&&pega.cl&&pega.cl.isTouchAble()){targetElement.removeEventListener("touchend",switchHandler,true)}};var harnessContextSwitchHandler=function(event){var modalDiv=document.getElementById("modalOverlay");if(event.skipSwitching||(pega.u.d.bModalDialogOpen&&(modalDiv&&modalDiv.getAttribute("data-harness-id")&&modalDiv.getAttribute("data-harness-id")===pega.ctx.pzHarnessID))){return }if(event.target.classList.contains("menu-item-anchor")||event.target.classList.contains("menu-item-title")){var menuWrapper=document.querySelector(".menu-panel-wrapper");if(menuWrapper&&menuWrapper.contains(event.target)){return }}if(event.target.classList.contains("mdc-tab-close")){return }var harnessID=event.currentTarget.getAttribute(DATA_HARNESS_ID);if(harnessID!==pega.ctx.pzHarnessID){if(pega.ctxmgr.skipContextSwitching){delete pega.ctxmgr.skipContextSwitching;return }setCurrentHarnessContext(harnessID)}};var skipHarnessContextSwitchHandler=function(event){event.skipSwitching=true};var validateAndGetRightContext=function(harnessContext){if(pega.ctx.bIsDCSPA){var harnessContextMap=pega.ctxmgr.getHarnessContextMap();var givenHarnessId=harnessContext.pzHarnessID;if(!harnessContextMap[givenHarnessId]){var portalHarnessId=document.body.getAttribute("data-harness-id");if(portalHarnessId!==givenHarnessId){for(var harnessId in harnessContextMap){if(portalHarnessId!==harnessId){return harnessContextMap[harnessId]}}}}}return harnessContext};var _ctxSetter=function(harnessContext){var ctxChanged=pega.ctx!=harnessContext;pega.ctx=harnessContext;if(ctxChanged&&harnessContext){if(pega.ui.ClientDataProvider){var threadName=pega.u.d.getThreadName();if(threadName){pega.ui.ClientDataProvider.switchThread(threadName)}}}};var setContext=function(harnessContext){if(harnessContext){if(!(pega&&pega.offline)){harnessContext=validateAndGetRightContext(harnessContext);_ctxSetter(harnessContext)}}};var resetContext=function(originalCtx){if(originalCtx){_ctxSetter(originalCtx)}else{_ctxSetter(baseHarnessContext)}};var setDocContext=function(viewDoc){if(viewDoc&&viewDoc.GadgetId){var currentIframe=document.getElementById(viewDoc.GadgetId).querySelector("iframe");if(currentIframe&&currentIframe.contentDocument&&currentIframe.contentDocument.body){var harnessId=currentIframe.contentDocument.body.getAttribute("data-harness-id");if(currentIframe.contentWindow&&currentIframe.contentWindow.pega&&currentIframe.contentWindow.pega.ctxmgr&&currentIframe.contentWindow.pega.ctxmgr.getHarnessContextMap()){var harCtx=currentIframe.contentWindow.pega.ctxmgr.getHarnessContext(harnessId);if(harCtx){currentIframe.contentWindow.pega.ctxmgr.setCurrentHarnessContext(harCtx)}}}}};var setRootContext=function(){var bodyEle=document.body;if(bodyEle){var harnessID=bodyEle.getAttribute("data-harness-id");if(harnessID&&harnessID!=""){var harCtx=pega.ctxmgr.getHarnessContext(harnessID);if(harCtx){pega.ctxmgr.setCurrentHarnessContext(harCtx)}}}};var getRootContext=function(){var bodyEle=document.body;if(bodyEle){var harnessID=bodyEle.getAttribute("data-harness-id");if(harnessID&&harnessID!=""){var harCtx=pega.ctxmgr.getHarnessContext(harnessID);if(harCtx){return harCtx}}}};return{isSingleContext:true,registerContextSwitching:registerContextSwitching,unregisterContextSwitching:unregisterContextSwitching,harnessContextSwitchHandler:harnessContextSwitchHandler,skipHarnessContextSwitchHandler:skipHarnessContextSwitchHandler,setContext:setContext,resetContext:resetContext,get:getPropertyFromCurrentHarnessContext,set:setPropertyToCurrentHarnessContext,getHarnessContextMap:getHarnessContextMap,loadHarnessContext:loadHarnessContext,unloadHarnessContext:unloadHarnessContext,getHarnessContext:getHarnessContext,getContextByProperty:getContextByProperty,getContextByTarget:getContextByTarget,getDCSPAContext:getDCSPAContext,getDCSPAThreadName:getDCSPAThreadName,getContextByThreadName:getContextByThreadName,getCurrentHarnessContext:getCurrentHarnessContext,setCurrentHarnessContext:setCurrentHarnessContext,createHarnessContext:createHarnessContext,setDocumentContext:setDocContext,setRootDocumentContext:setRootContext,getRootDocumentContext:getRootContext}})()};
pega=window.pega||{};pega.ui=pega.ui||{};
pega.ui.HarnessContext.prototype.dom=function(){var g=function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&!c.call(a,b);){if(a.getAttribute("data-harness-id")==pega.ctx.pzHarnessID)return null;a=a.parentElement}return a},f=function(a,b,c){if(!a||!a.length)return[];if(c&&c.getAttribute("data-harness-id")!==document.body.getAttribute("data-harness-id")&&!pega.ui.hasAjaxContainer)return Array.prototype.slice.call(a);a=Array.prototype.slice.call(a);
c=c.querySelectorAll('[data-harness-id]:not([data-harness-id\x3d"'+pega.ctx.pzHarnessID+'"])');if(0==c.length||0==a.length)return a;for(var d=0;d<c.length;++d){var e=Array.prototype.slice.call(c[d].querySelectorAll(b));e.length&&(a=a.filter(function(a){return 0>e.indexOf(a)}))}return a},k=function(){var a=pega.ctx.pzHarnessID;return a&&(a=document.getElementsByClassName(a),0!=a.length)?pega.ctx.isMDC||pega.ctx.bIsDCSPA?a:a[0]:[]},l=function(a,b){if(pega.ctxmgr.isSingleContext)return b=b||document,
b.querySelector(a);if(!b)b=k();else if(null==g(b,"[data-harness-id\x3d'"+pega.ctx.pzHarnessID+"']"))return[];var c=[];if(b instanceof HTMLCollection||"length"in b)for(var d=0;d<b.length;d++){var e=b[d].querySelector(a);e&&(e=f([e],a,b[d]),c=c.concat(e))}else(c=b.querySelector(a))&&(c=f([c],a,b));return c&&c.length?c[0]:null},m=function(a,b){if(pega.ctxmgr.isSingleContext)return b=b||document,Array.prototype.slice.call(b.querySelectorAll(a));if(!b)b=k();else if(null==g(b,"[data-harness-id\x3d'"+pega.ctx.pzHarnessID+
"']"))return[];var c=[];if(b instanceof HTMLCollection||"length"in b){for(var d=0;d<b.length;d++)for(var e=b[d].querySelectorAll(a),e=f(e,a,b[d]),c=[].concat(c),h=0;h<e.length;h++)-1===c.indexOf(e[h])&&c.push(e[h]);return c}c=b.querySelectorAll(a);return f(c,a,b)},n=function(a){return(a?pega.ctx.dom.closest(a,"[data-harness-id\x3d'"+pega.ctx.pzHarnessID+"'][data-mdc-recordid]"):document.querySelector("[data-harness-id\x3d'"+pega.ctx.pzHarnessID+"'][data-mdc-recordid]"))||document.body},p=function(a,
b,c){if(!a||!a.length)return $();c=$('[data-harness-id]:not([data-harness-id\x3d"'+pega.ctx.pzHarnessID+'"])',c);if(0==c.length||0==a.length)return a;for(var d=0;d<c.length;++d){try{var e=$(c[d]).find(b)}catch(h){continue}e.length&&(a=a.filter(function(a,b){return 0>e.index(b)}))}return a};return{closest:g,getElementById:function(a){return pega.ctxmgr.isSingleContext?document.getElementById(a):l("[id\x3d'"+a+"']")},getElementsByName:function(a){return pega.ctxmgr.isSingleContext?Array.prototype.slice.call(document.getElementsByName(a)):
m("[name\x3d'"+a+"']")},getElementsByClassName:function(a,b){if(pega.ctxmgr.isSingleContext)return b=b||document,Array.prototype.slice.call(b.getElementsByClassName(a));if(!b)b=k();else if(null==g(b,"[data-harness-id\x3d'"+pega.ctx.pzHarnessID+"']"))return[];var c=[];if(b instanceof HTMLCollection||"length"in b){for(var d=0;d<b.length;d++)var e=b[d].getElementsByClassName(a),e=f(e,"."+a,b[d]),c=c.concat(e);return c}c=b.getElementsByClassName(a);return f(c,"."+a,b)},getElementsByTagName:function(a,
b){if(pega.ctxmgr.isSingleContext)return b=b||document,Array.prototype.slice.call(b.getElementsByTagName(a));if(!b)b=k();else if(null==g(b,"[data-harness-id\x3d'"+pega.ctx.pzHarnessID+"']"))return[];var c=[];if(b instanceof HTMLCollection||"length"in b){for(var d=0;d<b.length;d++)var e=b[d].getElementsByTagName(a),e=f(e,a,b[d]),c=c.concat(e);return c}c=b.getElementsByTagName(a);return f(c,a,b)},querySelector:l,querySelectorAll:m,getContextRoot:n,isInContext:function(a){for(var b=!1,c=n();null!=a&&
a!=c.parentElement;){if(a==c){b=!0;break}a=a.parentElement}return b},$:function(a,b){if(pega.ctxmgr.isSingleContext)return $(a,b);var c=[],d=k(),e=$();d instanceof HTMLCollection?c=d:c[0]=d;for(d=0;d<c.length;d++){if(1==arguments.length)if("string"==typeof arguments[0]){var f=Array.prototype.slice.call(arguments).toString();$.merge(e,$(f,c[d]))}else c[d]==arguments[0]?$.merge(e,$(arguments[0])):$.merge(e,$(c[d]).find(arguments[0]));else 2==arguments.length&&$.merge(e,$(arguments[1],c[d]).find(arguments[0]));
e=p(e,arguments[0],c[d])}return $.unique(e)}}}();
var ignoreList="pega pega.ctx.* pega.ui.HarnessContext.* pega.ui.HarnessContextMgr pega.ui.HarnessContextMap $.* $ jQuery jQuery.* Handlebars.* Handlebars arguments arguments.*".split(" "),transformMap={"pega.u.d.SubmitInProgress":"pega.ctx.SubmitInProgress"};
function processDynamicData(a){var d;if(a)for(var c in a)switch(d=JSON.parse(JSON.stringify(a[c])),c){case "vars":case "dynamic_context":JSONToValues(a[c],"window.");JSONToValues(d,"pega.ctx.");break;case "equal":JSONToValues(a[c],"");break;default:JSONToValues(a[c],c+"."),JSONToValues(d,"pega.ctx."+c+".")}}
function JSONToValues(a,d){var c,e,b;for(b in a){0==b.indexOf("eval")||0==b.indexOf("assign_")?c=a[b]:("string"==typeof a[b]?0==a[b].indexOf("#JSON_PARSE_TO_INT#")?(a[b]=a[b].replace("#JSON_PARSE_TO_INT#","parseInt"),c=d+b+"\x3d"+a[b],e=eval(a[b])):(a[b]=a[b].replace(/^\r+|\r+$/,"\\r"),c=d+b+'\x3d"'+a[b]+'"',e=a[b]):(c=d+b+"\x3d"+a[b],e=a[b]),pega.ctx[b]=e);try{c&&(c=c.replace(/[\\]/g,"\\\\")),eval(c)}catch(f){console&&console.log("Not valid input to eval: called from EvalHarnessJSON")}}}
function evaluateJSONVariables(a){a||(pega.ctx=pega.ui.HarnessContextMgr.createHarnessContext());a&&(a=pega.ctxmgr.getRootDocumentContext())&&(pega.ctx=a);processDynamicData(initialVars);pega.ui.HarnessContextMgr.loadHarnessContext(pega.ctx.pzHarnessID,pega.ctx);a=pega.ctx.strDomainsWhiteList;"undefined"!=typeof a&&(pega.d.domainsWhitelist=a.split(","))}evaluateJSONVariables();
pega.env=pega.env||{modules:[],listeners:[]};
pega.env.ua=function(){var b={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0},c=navigator.userAgent,a;/KHTML/.test(c)&&(b.webkit=1);if((a=c.match(/AppleWebKit\/([^\s]*)/))&&a[1]){b.webkit=parseFloat(a[1]);if(/ Mobile\//.test(c))b.mobile="Apple";else if(a=c.match(/NokiaN[^\/]*/))b.mobile=a[0];if(a=c.match(/AdobeAIR\/([^\s]*)/))b.air=a[0]}if(!b.webkit)if((a=c.match(/Opera[\s\/]([^\s]*)/))&&a[1]){if(b.opera=parseFloat(a[1]),a=c.match(/Opera Mini[^;]*/))b.mobile=a[0]}else if("Microsoft Internet Explorer"==
navigator.appName?a=c.match(/MSIE\s([^;]*)/):"Netscape"==navigator.appName&&(a=c.match(/Trident(?:.*rv:([\w.]+))?/)),a&&a[1])b.ie=parseFloat(a[1]);else if(a=c.match(/Gecko\/([^\s]*)/))b.gecko=1,(a=c.match(/rv:([^\s\)]*)/))&&a[1]&&(b.gecko=parseFloat(a[1]));return b}();
if("undefined"==typeof pega||!pega)var pega={};pega.namespace=function(){var a=arguments,b=null,d,c,f;for(d=0;d<a.length;d+=1)for(f=a[d].split("."),b=pega,c="pega"==f[0]?1:0;c<f.length;c+=1)b[f[c]]=b[f[c]]||{},b=b[f[c]];return b};pega.log=function(a,b,d){var c=pega.widget.Logger;return c&&c.log?c.log(a,b,d):!1};
pega.register=function(a,b,d){var c=pega.env.modules;c[a]||(c[a]={versions:[],builds:[]});var c=c[a],f=d.version;d=d.build;var e=pega.env.listeners;c.name=a;c.version=f;c.build=d;c.versions.push(f);c.builds.push(d);c.mainClass=b;for(var g=0;g<e.length;g+=1)e[g](c);b?(b.VERSION=f,b.BUILD=d):pega.log("mainClass is undefined for module "+a,"warn")};pega.env=pega.env||{modules:[],listeners:[]};pega.env.getVersion=function(a){return pega.env.modules[a]||null};
pega.env.ua=function(){var a={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0},b=navigator.userAgent,d;/KHTML/.test(b)&&(a.webkit=1);if((d=b.match(/AppleWebKit\/([^\s]*)/))&&d[1]){a.webkit=parseFloat(d[1]);if(/ Mobile\//.test(b))a.mobile="Apple";else if(d=b.match(/NokiaN[^\/]*/))a.mobile=d[0];if(d=b.match(/AdobeAIR\/([^\s]*)/))a.air=d[0]}if(!a.webkit)if((d=b.match(/Opera[\s\/]([^\s]*)/))&&d[1]){if(a.opera=parseFloat(d[1]),d=b.match(/Opera Mini[^;]*/))a.mobile=d[0]}else if("Microsoft Internet Explorer"==
navigator.appName?d=b.match(/MSIE\s([^;]*)/):"Netscape"==navigator.appName&&(d=b.match(/Trident(?:.*rv:([\w.]+))?/)),d&&d[1])a.ie=parseFloat(d[1]);else if(d=b.match(/Gecko\/([^\s]*)/))a.gecko=1,(d=b.match(/rv:([^\s\)]*)/))&&d[1]&&(a.gecko=parseFloat(d[1]));return a}();(function(){pega.namespace("util","widget","example");if("undefined"!==typeof pega_config){var a=pega_config.listener,b=pega.env.listeners,d=!0,c;if(a){for(c=0;c<b.length;c+=1)if(b[c]==a){d=!1;break}d&&b.push(a)}}})();
pega.lang=pega.lang||{isArray:function(a){if(a){var b=pega.lang;return b.isNumber(a.length)&&b.isFunction(a.splice)}return!1},isBoolean:function(a){return"boolean"===typeof a},isFunction:function(a){return"function"===typeof a},isNull:function(a){return null===a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isObject:function(a){return a&&("object"===typeof a||pega.lang.isFunction(a))||!1},isString:function(a){return"string"===typeof a},isUndefined:function(a){return"undefined"===typeof a},
hasOwnProperty:function(a,b){return Object.prototype.hasOwnProperty?a.hasOwnProperty(b):!pega.lang.isUndefined(a[b])&&a.constructor.prototype[b]!==a[b]},_IEEnumFix:function(a,b){if(pega.env.ua.ie){var d=["toString","valueOf"],c;for(c=0;c<d.length;c+=1){var f=d[c],e=b[f];pega.lang.isFunction(e)&&e!=Object.prototype[f]&&(a[f]=e)}}},extend:function(a,b,d){if(!b||!a)throw Error("pega.lang.extend failed, please check that all dependencies are included.");var c=function(){};c.prototype=b.prototype;a.prototype=
new c;a.prototype.constructor=a;a.superclass=b.prototype;b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b);if(d){for(var f in d)a.prototype[f]=d[f];pega.lang._IEEnumFix(a.prototype,d)}},augmentObject:function(a,b){if(!b||!a)throw Error("Absorb failed, verify dependencies.");var d=arguments,c,f=d[2];if(f&&!0!==f)for(c=2;c<d.length;c+=1)a[d[c]]=b[d[c]];else{for(c in b)!f&&c in a||(a[c]=b[c]);pega.lang._IEEnumFix(a,b)}},augmentProto:function(a,b){if(!b||!a)throw Error("Augment failed, verify dependencies.");
for(var d=[a.prototype,b.prototype],c=2;c<arguments.length;c+=1)d.push(arguments[c]);pega.lang.augmentObject.apply(this,d)},dump:function(a,b){var d=pega.lang,c,f,e=[];if(d.isObject(a)){if(a instanceof Date||"nodeType"in a&&"tagName"in a)return a;if(d.isFunction(a))return"f(){...}"}else return a+"";b=d.isNumber(b)?b:3;if(d.isArray(a)){e.push("[");c=0;for(f=a.length;c<f;c+=1)d.isObject(a[c])?e.push(0<b?d.dump(a[c],b-1):"{...}"):e.push(a[c]),e.push(", ");1<e.length&&e.pop();e.push("]")}else{e.push("{");
for(c in a)d.hasOwnProperty(a,c)&&(e.push(c+" \x3d\x3e "),d.isObject(a[c])?e.push(0<b?d.dump(a[c],b-1):"{...}"):e.push(a[c]),e.push(", "));1<e.length&&e.pop();e.push("}")}return e.join("")},substitute:function(a,b,d){for(var c,f,e,g,h,k=pega.lang,l=[],m;;){c=a.lastIndexOf("{");if(0>c)break;f=a.indexOf("}",c);if(c+1>=f)break;g=m=a.substring(c+1,f);h=null;e=g.indexOf(" ");-1<e&&(h=g.substring(e+1),g=g.substring(0,e));e=b[g];d&&(e=d(g,e,h));k.isObject(e)?k.isArray(e)?e=k.dump(e,parseInt(h,10)):(h=h||
"",g=h.indexOf("dump"),-1<g&&(h=h.substring(4)),e=e.toString===Object.prototype.toString||-1<g?k.dump(e,parseInt(h,10)):e.toString()):k.isString(e)||k.isNumber(e)||(e="~-"+l.length+"-~",l[l.length]=m);a=a.substring(0,c)+e+a.substring(f+1)}for(c=l.length-1;0<=c;--c)a=a.replace(new RegExp("~-"+c+"-~"),"{"+l[c]+"}","g");return a},trim:function(a){try{return a.replace(/^\s+|\s+$/g,"")}catch(b){return a}},merge:function(){for(var a={},b=arguments,d=0,c=b.length;d<c;d+=1)pega.lang.augmentObject(a,b[d],
!0);return a},later:function(a,b,d,c,f){a=a||0;b=b||{};var e=d,g=c,h;pega.lang.isString(d)&&(e=b[d]);if(!e)throw new TypeError("method undefined");pega.lang.isArray(g)||(g=[c]);d=function(){e.apply(b,g)};h=f?setInterval(d,a):setTimeout(d,a);return{interval:f,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},isValue:function(a){var b=pega.lang;return b.isObject(a)||b.isString(a)||b.isNumber(a)||b.isBoolean(a)}};pega.util.Lang=pega.lang;pega.lang.augment=pega.lang.augmentProto;
pega.augment=pega.lang.augmentProto;pega.extend=pega.lang.extend;pega.register("pega",pega,{version:"2.5.1",build:"984"});
pega.util.CustomEvent=function(b,d,e,f){this.type=b;this.scope=d||window;this.silent=e;this.signature=f||pega.util.CustomEvent.LIST;this.subscribers=[];"_YUICEOnSubscribe"!==b&&(this.subscribeEvent=new pega.util.CustomEvent("_YUICEOnSubscribe",this,!0));this.lastError=null};pega.util.CustomEvent.LIST=0;pega.util.CustomEvent.FLAT=1;
pega.util.CustomEvent.prototype={subscribe:function(b,d,e){if(!b)throw Error("Invalid callback for subscriber to '"+this.type+"'");this.subscribeEvent&&this.subscribeEvent.fire(b,d,e);this.subscribers.push(new pega.util.Subscriber(b,d,e))},unsubscribe:function(b,d){if(!b)return this.unsubscribeAll();for(var e=!1,f=0,h=this.subscribers.length;f<h;++f){var k=this.subscribers[f];k&&k.contains(b,d)&&(this._delete(f),e=!0)}return e},fire:function(){var b=this.subscribers.length;if(!b&&this.silent)return!0;
var d=[].slice.call(arguments,0),e=!0,f,h=this.subscribers.slice();for(f=0;f<b;++f){var k=h[f];if(k){var m=k.getScope(this.scope);if(this.signature==pega.util.CustomEvent.FLAT){var n=null;0<d.length&&(n=d[0]);try{e=k.fn.call(m,n,k.obj)}catch(t){this.lastError=t}}else try{e=k.fn.call(m,this.type,d,k.obj)}catch(t){this.lastError=t}if(!1===e)return!1}}return!0},unsubscribeAll:function(){for(var b=this.subscribers.length-1;-1<b;b--)this._delete(b);this.subscribers=[];return b},_delete:function(b){var d=
this.subscribers[b];d&&(delete d.fn,delete d.obj);this.subscribers.splice(b,1)},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope}};pega.util.Subscriber=function(b,d,e){this.fn=b;this.obj=pega.lang.isUndefined(d)?null:d;this.override=e};pega.util.Subscriber.prototype.getScope=function(b){return this.override?!0===this.override?this.obj:this.override:b};pega.util.Subscriber.prototype.contains=function(b,d){return d?this.fn==b&&this.obj==d:this.fn==b};
pega.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }"};
pega.util.Event||(pega.util.Event=function(){var b=!1,d=[],e=[],f=[],h=[],k=0,m=[],n=[],t=0,u={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return{POLL_RETRYS:2E3,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:pega.env.ua.webkit,webkit:pega.env.ua.webkit,isIE:pega.env.ua.ie,isEdge:/Edge/.test(navigator.userAgent)?!0:!1,_interval:null,_dri:null,DOMReady:!1,startInterval:function(){if(!this._interval){var a=this;this._interval=
setInterval(function(){a._tryPreloadAttach()},this.POLL_INTERVAL)}},onAvailable:function(a,c,b,g,d){a=pega.lang.isString(a)?[a]:a;for(var l=0;l<a.length;l+=1)m.push({id:a[l],fn:c,obj:b,override:g,checkReady:d});k=this.POLL_RETRYS;this.startInterval()},onContentReady:function(a,c,b,g){this.onAvailable(a,c,b,g,!0)},onDOMReady:function(a,c,b){this.DOMReady?setTimeout(function(){var g=window;b&&(g=!0===b?c:b);a.call(g,"DOMReady",[],c)},0):this.DOMReadyEvent.subscribe(a,c,b)},getListenerArrayLength:function(){if("object"===
typeof d&&"number"==typeof d.length)return d.length},addListener:function(a,c,b,g,l){if(!b||!b.call)return!1;if(this._isValidCollection(a)){for(var r=!0,p=0,m=a.length;p<m;++p)r=this.on(a[p],c,b,g,l)&&r;return r}if(pega.lang.isString(a))if(r=this.getEl(a))a=r;else return this.onAvailable(a,function(){pega.util.Event.on(a,c,b,g,l)}),!0;if(!a)return!1;if("unload"==c&&g!==this)return e[e.length]=[a,c,b,g,l],!0;var k=a;l&&(k=!0===l?g:l);r=function(c){return b.call(k,pega.util.Event.getEvent(c,a),g)};
p=[a,c,b,r,k,g,l];d[d.length]=p;if(this.useLegacyEvent(a,c)){var q=this.getLegacyIndex(a,c);if(-1==q||a!=f[q][0])q=f.length,n[a.id+c]=q,f[q]=[a,c,a["on"+c]],h[q]=[],a["on"+c]=function(a){pega.util.Event.fireLegacyEvent(pega.util.Event.getEvent(a),q)};h[q].push(p)}else try{pega.env.ua.ie||("focusin"==c?c="focus":"focusout"==c&&(c="blur")),this._simpleAdd(a,c,r,"focus"!=c&&"blur"!=c||pega.env.ua.ie?!1:!0)}catch(w){return this.lastError=w,this.removeListener(a,c,b),!1}return!0},fireLegacyEvent:function(a,
c){var b=!0,g,d,e;g=h[c].slice();for(var m=0,k=g.length;m<k;++m)(d=g[m])&&d[this.WFN]&&(e=d[this.ADJ_SCOPE],d=d[this.WFN].call(e,a),b=b&&d);if((c=f[c])&&c[2])c[2](a);return b},getLegacyIndex:function(a,c){a=this.generateId(a)+c;return"undefined"==typeof n[a]?-1:n[a]},useLegacyEvent:function(a,c){return this.webkit&&("click"==c||"dblclick"==c)&&(a=parseInt(this.webkit,10),!isNaN(a)&&418>a)?!0:!1},removeListener:function(a,c,b,g){var l,m,f;if("string"==typeof a)a=this.getEl(a);else if(this._isValidCollection(a)){g=
!0;for(l=a.length-1;-1<l;l--)g=this.removeListener(a[l],c,b)&&g;return g}if(!b||!b.call)return this.purgeElement(a,!1,c);if("unload"==c){for(l=e.length-1;-1<l;l--)if((f=e[l])&&f[0]==a&&f[1]==c&&f[2]==b)return e.splice(l,1),!0;return!1}l=null;"undefined"===typeof g&&(g=this._getCacheIndex(a,c,b));0<=g&&(l=d[g]);if(!a||!l)return!1;if(this.useLegacyEvent(a,c)){l=this.getLegacyIndex(a,c);var p=h[l];if(p)for(l=0,m=p.length;l<m;++l)if((f=p[l])&&f[this.EL]==a&&f[this.TYPE]==c&&f[this.FN]==b){p.splice(l,
1);break}}else try{this._simpleRemove(a,c,l[this.WFN],"focus"!=c&&"blur"!=c||pega.env.ua.ie?!1:!0)}catch(v){return this.lastError=v,!1}delete d[g][this.WFN];delete d[g][this.FN];d.splice(g,1);return!0},getTarget:function(a,c){return this.resolveTextNode(a.target||a.srcElement)},resolveTextNode:function(a){try{if(a&&3==a.nodeType)return a.parentNode}catch(c){}return a},getPageX:function(a){var c=a.pageX;c||0===c||(c=a.clientX||0,this.isIE&&(c+=this._getScrollLeft()));return c},getPageY:function(a){var c=
a.pageY;c||0===c||(c=a.clientY||0,this.isIE&&(c+=this._getScrollTop()));return c},getXY:function(a){return[this.getPageX(a),this.getPageY(a)]},getRelatedTarget:function(a){var c=a.relatedTarget;c||("mouseout"==a.type?c=a.toElement:"mouseover"==a.type&&(c=a.fromElement));return this.resolveTextNode(c)},getTime:function(a){if(!a.time){var c=(new Date).getTime();try{a.time=c}catch(p){return this.lastError=p,c}}return a.time},stopEvent:function(a){this.stopPropagation(a);this.preventDefault(a)},stopPropagation:function(a){a.stopPropagation?
a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},getEvent:function(a,c){a=a||window.event;if(!a)for(c=this.getEvent.caller;c&&(!(a=c.arguments[0])||Event!=a.constructor);)c=c.caller;return a},getCharCode:function(a){a=a.keyCode||a.charCode||0;pega.env.ua.webkit&&a in u&&(a=u[a]);return a},_getCacheIndex:function(a,c,b){for(var g=0,l=d.length;g<l;g+=1){var e=d[g];if(e&&e[this.FN]==b&&e[this.EL]==a&&e[this.TYPE]==c)return g}return-1},
generateId:function(a){var c=a.id;c||(c="yuievtautoid-"+t,++t,a.id=c);return c},_isValidCollection:function(a){try{return a&&"string"!==typeof a&&a.length&&!a.tagName&&!a.alert&&"undefined"!==typeof a[0]}catch(c){return!1}},elCache:{},getEl:function(a){return"string"===typeof a?document.getElementById(a):a},clearCache:function(){},DOMReadyEvent:new pega.util.CustomEvent("DOMReady",this),_load:function(a){b||(b=!0,a=pega.util.Event,a._ready(),a._tryPreloadAttach())},_ready:function(a){a=pega.util.Event;
a.DOMReady||(a.DOMReady=!0,a.DOMReadyEvent.fire(),a._simpleRemove(document,"DOMContentLoaded",a._ready))},_tryPreloadAttach:function(){if(0===m.length)k=0,clearInterval(this._interval),this._interval=null;else if(!this.locked)if(this.isIE&&!this.DOMReady)this.startInterval();else{this.locked=!0;var a=!b;a||(a=0<k&&0<m.length);var c=[],d=function(a,c){c.override&&(a=!0===c.override?c.obj:c.override);c.fn.call(a,c.obj)},g,e,f,h,n=[];g=0;for(e=m.length;g<e;g+=1)if(f=m[g])if(h=this.getEl(f.id))if(f.checkReady){if(b||
h.nextSibling||!a)n.push(f),m[g]=null}else d(h,f),m[g]=null;else c.push(f);g=0;for(e=n.length;g<e;g+=1)f=n[g],d(this.getEl(f.id),f);k--;if(a){for(g=m.length-1;-1<g;g--)(f=m[g])&&f.id||m.splice(g,1);this.startInterval()}else clearInterval(this._interval),this._interval=null;this.locked=!1}},purgeElement:function(a,c,b){a=pega.lang.isString(a)?this.getEl(a):a;var d=this.getListeners(a,b),e;if(d)for(e=d.length-1;-1<e;e--){var f=d[e];this.removeListener(a,f.type,f.fn)}if(c&&a&&a.childNodes)for(e=0,d=
a.childNodes.length;e<d;++e)this.purgeElement(a.childNodes[e],c,b)},getListeners:function(a,c){var b=[],g;g=c?"unload"===c?[e]:[d]:[d,e];a=pega.lang.isString(a)?this.getEl(a):a;for(var f=0;f<g.length;f+=1){var m=g[f];if(m)for(var h=0,k=m.length;h<k;++h)try{var n=m[h];!n||n[this.EL]!==a||c&&c!==n[this.TYPE]||b.push({type:n[this.TYPE],fn:n[this.FN],obj:n[this.OBJ],adjust:n[this.OVERRIDE],scope:n[this.ADJ_SCOPE],index:h})}catch(q){}}return b.length?b:null},_unload:function(a){var c=pega.util.Event,b,
g,m,h=e.slice();b=0;for(m=e.length;b<m;++b)if(g=h[b]){var k=window;g[c.ADJ_SCOPE]&&(k=!0===g[c.ADJ_SCOPE]?g[c.UNLOAD_OBJ]:g[c.ADJ_SCOPE]);g[c.FN].call(k,c.getEvent(a,g[c.EL]),g[c.UNLOAD_OBJ]);h[b]=null}e=null;if(d)for(a=d.length-1;-1<a;a--)(g=d[a])&&c.removeListener(g[c.EL],g[c.TYPE],g[c.FN],a);f=null;c._simpleRemove(window,"unload",c._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var a=document.documentElement,
c=document.body;return a&&(a.scrollTop||a.scrollLeft)?[a.scrollTop,a.scrollLeft]:c?[c.scrollTop,c.scrollLeft]:[0,0]},regCE:function(){},_simpleAdd:function(){return window.addEventListener?function(a,c,b,d){"mousewheel"==c?a.addEventListener(c,b,{capture:d,passive:!0}):a.addEventListener(c,b,d)}:window.attachEvent?function(a,b,d,e){a.attachEvent("on"+b,d)}:function(){}}(),_simpleRemove:function(){return window.removeEventListener?function(a,b,d,e){a.removeEventListener(b,d,e)}:window.detachEvent?
function(a,b,d){a.detachEvent("on"+b,d)}:function(){}}()}}(),function(){var b=pega.util.Event;b.on=b.addListener;if(b.isIE&&document.documentElement&&document.documentElement.doScroll){pega.util.Event.onDOMReady(pega.util.Event._tryPreloadAttach,pega.util.Event,!0);var d=document.createElement("p");b._dri=setInterval(function(){try{d.doScroll("left"),clearInterval(b._dri),b._dri=null,b._ready(),d=null}catch(e){}},b.POLL_INTERVAL)}else b.webkit&&525>b.webkit?b._dri=setInterval(function(){var d=document.readyState;
if("loaded"==d||"complete"==d)clearInterval(b._dri),b._dri=null,b._ready()},b.POLL_INTERVAL):b._simpleAdd(document,"DOMContentLoaded",b._ready);b._simpleAdd(window,"load",b._load);b._simpleAdd(window,"unload",b._unload);b._tryPreloadAttach()}());pega.util.EventProvider=function(){};
pega.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(b,d,e,f){this.__yui_events=this.__yui_events||{};var h=this.__yui_events[b];h?h.subscribe(d,e,f):(h=this.__yui_subscribers=this.__yui_subscribers||{},h[b]||(h[b]=[]),h[b].push({fn:d,obj:e,override:f}))},unsubscribe:function(b,d,e){var f=this.__yui_events=this.__yui_events||{};if(b){if(f=f[b])return f.unsubscribe(d,e)}else{b=!0;for(var h in f)pega.lang.hasOwnProperty(f,h)&&(b=b&&f[h].unsubscribe(d,e));return b}return!1},
unsubscribeAll:function(b){return this.unsubscribe(b)},createEvent:function(b,d){this.__yui_events=this.__yui_events||{};var e=d||{};d=this.__yui_events;if(!d[b]){var f=new pega.util.CustomEvent(b,e.scope||this,e.silent,pega.util.CustomEvent.FLAT);d[b]=f;e.onSubscribeCallback&&f.subscribeEvent.subscribe(e.onSubscribeCallback);this.__yui_subscribers=this.__yui_subscribers||{};if(e=this.__yui_subscribers[b])for(var h=0;h<e.length;++h)f.subscribe(e[h].fn,e[h].obj,e[h].override)}return d[b]},fireEvent:function(b,
d,e,f){this.__yui_events=this.__yui_events||{};var h=this.__yui_events[b];if(!h)return null;for(var k=[],m=1;m<arguments.length;++m)k.push(arguments[m]);return h.fire.apply(h,k)},hasEvent:function(b){return this.__yui_events&&this.__yui_events[b]?!0:!1}};
pega.util.KeyListener=function(b,d,e,f){function h(b,e){d.shift||(d.shift=!1);d.alt||(d.alt=!1);d.ctrl||(d.ctrl=!1);if(b.shiftKey==d.shift&&b.altKey==d.alt&&b.ctrlKey==d.ctrl)if(d.keys instanceof Array)for(var f=0;f<d.keys.length;f++)if(e=d.keys[f],e==b.charCode){k.fire(b.charCode,b);break}else{if(e==b.keyCode){k.fire(b.keyCode,b);break}}else e=d.keys,e==b.charCode?k.fire(b.charCode,b):e==b.keyCode&&k.fire(b.keyCode,b)}f||(f=pega.util.KeyListener.KEYDOWN);var k=new pega.util.CustomEvent("keyPressed");
this.enabledEvent=new pega.util.CustomEvent("enabled");this.disabledEvent=new pega.util.CustomEvent("disabled");"string"==typeof b&&(b=document.getElementById(b));"function"==typeof e?k.subscribe(e):k.subscribe(e.fn,e.scope,e.correctScope);this.enable=function(){this.enabled||(pega.util.Event.addListener(b,f,h),this.enabledEvent.fire(d));this.enabled=!0};this.disable=function(){this.enabled&&(pega.util.Event.removeListener(b,f,h),this.disabledEvent.fire(d));this.enabled=!1};this.toString=function(){return"KeyListener ["+
d.keys+"] "+b.tagName+(b.id?"["+b.id+"]":"")}};pega.util.KeyListener.KEYDOWN="keydown";pega.util.KeyListener.KEYUP="keyup";pega.util.KeyListener.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38};pega.register("event",pega.util.Event,{version:"2.5.1",build:"984"});
(function(){var c=pega.util,g,l,k={},t={},f=window.document;pega.env._id_counter=pega.env._id_counter||0;var u=pega.env.ua.opera,r=pega.env.ua.webkit,m=pega.env.ua.ie,v=/(-[a-z])/i,x=/^body|html$/i,y=/^(?:inline|table-row)$/i,p=function(a){if(!v.test(a))return a;if(k[a])return k[a];for(var b=a;v.exec(b);)b=b.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());return k[a]=b},q=function(a){var b=t[a];b||(b=new RegExp("(?:^|\\s+)"+a+"(?:\\s+|$)"),t[a]=b);return b};g=f.defaultView&&f.defaultView.getComputedStyle?
function(a,b){var c=null;"float"==b&&(b="cssFloat");var e=a.ownerDocument.defaultView.getComputedStyle(a,"");e&&(c=e[p(b)]);return a.style[b]||c}:f.documentElement.currentStyle&&m?function(a,b){switch(p(b)){case "opacity":b=100;try{b=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{b=a.filters("alpha").opacity}catch(h){}}return b/100;case "float":b="styleFloat";default:var c=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||c}}:function(a,b){return a.style[b]};l=m?function(a,
b,c){switch(b){case "opacity":pega.lang.isString(a.style.filter)&&(a.style.filter="alpha(opacity\x3d"+100*c+")",a.currentStyle&&a.currentStyle.hasLayout||(a.style.zoom=1));10<=m&&(a.style[b]=c);break;case "float":b="styleFloat";default:a.style[b]=c}}:function(a,b,c){"float"==b&&(b="cssFloat");a.style[b]=c};var n=function(a,b){return a&&1==a.nodeType&&(!b||b(a))},w="background-position border border-bottom border-bottom-width border-left border-left-width border-right border-right-width border-top border-top-width border-width outline outline-width border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius box-shadow height max-height max-width min-height min-width width font font-size grid-columns grid-rows margin margin-bottom margin-left margin-right margin-top -moz-column-gap -webkit-column-gap column-gap -moz-column-rule -webkit-column-rule column-rule -moz-column-rule-width -webkit-column-rule-width column-rule-width -moz-column-width -webkit-column-width column-width padding padding-bottom padding-left padding-right padding-top bottom left right top border-spacing letter-spacing text-indent word-spacing text-outline text-shadow perspective -webkit-perspective outline-offset vertical-align background".split(" ");
pega.util.Dom={get:function(a){if(a&&(a.nodeType||a.item))return a;if(pega.lang.isString(a)||!a)return f.getElementById(a);if(void 0!==a.length){for(var b=[],d=0,e=a.length;d<e;++d)b[b.length]=c.Dom.get(a[d]);return b}return a},getStyle:function(a,b){b=p(b);return c.Dom.batch(a,function(a){return g(a,b)},c.Dom,!0)},setStyle:function(a,b,d){try{for(var e=w.length;e--&&w[e]!=b;);if(0<=e){d+="";for(var h=d.split(/\s+/g),e=0;e<h.length;e++)0>h[e].indexOf(".")&&!isNaN(parseFloat(h[e]))&&isFinite(h[e])&&
(h[e]+="px");d=h.join(" ")}}catch(z){console.log("e.message: "+z.message)}b=p(b);c.Dom.batch(a,function(a){l(a,b,d)},c.Dom,!0)},getXY:function(a){return c.Dom.batch(a,function(a){return null!==a.parentNode&&null!==a.offsetParent&&"none"!=this.getStyle(a,"display")||a==a.ownerDocument.body?A(a):!1},c.Dom,!0)},getX:function(a){return c.Dom.batch(a,function(a){return c.Dom.getXY(a)[0]},c.Dom,!0)},getY:function(a){return c.Dom.batch(a,function(a){return c.Dom.getXY(a)[1]},c.Dom,!0)},setXY:function(a,
b,d){c.Dom.batch(a,function(a){var c=this.getStyle(a,"position");"static"==c&&(this.setStyle(a,"position","relative"),c="relative");var e=this.getXY(a);if(!1===e)return!1;var f=[parseInt(this.getStyle(a,"left"),10),parseInt(this.getStyle(a,"top"),10)];isNaN(f[0])&&(f[0]="relative"==c?0:a.offsetLeft);isNaN(f[1])&&(f[1]="relative"==c?0:a.offsetTop);null!==b[0]&&(a.style.left=b[0]-e[0]+f[0]+"px");null!==b[1]&&(a.style.top=b[1]-e[1]+f[1]+"px");d||(c=this.getXY(a),(null!==b[0]&&c[0]!=b[0]||null!==b[1]&&
c[1]!=b[1])&&this.setXY(a,b,!0))},c.Dom,!0)},setX:function(a,b){c.Dom.setXY(a,[b,null])},setY:function(a,b){c.Dom.setXY(a,[null,b])},getRegion:function(a){return c.Dom.batch(a,function(a){return null!==a.parentNode&&null!==a.offsetParent&&"none"!=this.getStyle(a,"display")||a==a.ownerDocument.body?c.Region.getRegion(a):!1},c.Dom,!0)},getClientWidth:function(){return c.Dom.getViewportWidth()},getClientHeight:function(){return c.Dom.getViewportHeight()},getElementsByClassName:function(a,b,d,e){b=b||
"*";d=d?c.Dom.get(d):f;if(!d)return[];var h=[];b=d.getElementsByTagName(b);a=q(a);d=0;for(var g=b.length;d<g;++d)a.test(b[d].className)&&(h[h.length]=b[d],e&&e.call(b[d],b[d]));return h},hasClass:function(a,b){var d=q(b);return c.Dom.batch(a,function(a){return d.test(a.className)},c.Dom,!0)},addClass:function(a,b){return c.Dom.batch(a,function(a){if(this.hasClass(a,b))return!1;a.className=pega.lang.trim([a.className,b].join(" "));return!0},c.Dom,!0)},removeClass:function(a,b){var d=q(b);return c.Dom.batch(a,
function(a){if(!b||!this.hasClass(a,b))return!1;a.className=a.className.replace(d," ");this.hasClass(a,b)&&this.removeClass(a,b);a.className=pega.lang.trim(a.className);return!0},c.Dom,!0)},replaceClass:function(a,b,d){if(!d||b===d)return!1;var e=q(b);return c.Dom.batch(a,function(a){if(!this.hasClass(a,b))return this.addClass(a,d),!0;a.className=a.className.replace(e," "+d+" ");this.hasClass(a,b)&&this.replaceClass(a,b,d);a.className=pega.lang.trim(a.className);return!0},c.Dom,!0)},generateId:function(a,
b){b=b||"yui-gen";var d=function(a){if(a&&a.id)return a.id;var c=b+pega.env._id_counter++;a&&(a.id=c);return c};return c.Dom.batch(a,d,c.Dom,!0)||d.apply(c.Dom,arguments)},isAncestor:function(a,b){a=c.Dom.get(a);b=c.Dom.get(b);return a&&b?a.contains&&b.nodeType&&!r?a.contains(b):a.compareDocumentPosition&&b.nodeType?!!(a.compareDocumentPosition(b)&16):b.nodeType?!!this.getAncestorBy(b,function(b){return b==a}):!1:!1},inDocument:function(a){return this.isAncestor(f.documentElement,a)},getElementsBy:function(a,
b,d,e){b=b||"*";d=d?c.Dom.get(d):f;if(!d)return[];var h=[];b=d.getElementsByTagName(b);d=0;for(var g=b.length;d<g;++d)a(b[d])&&(h[h.length]=b[d],e&&e(b[d]));return h},batch:function(a,b,d,e){a=a&&(a.tagName||a.item)?a:c.Dom.get(a);if(!a||!b)return!1;e=e?d:window;if(a.tagName||void 0===a.length)return b.call(e,a,d);for(var f=[],g=0,k=a.length;g<k;++g)f[f.length]=b.call(e,a[g],d);return f},getDocumentHeight:function(){return Math.max("CSS1Compat"!=f.compatMode?f.body.scrollHeight:f.documentElement.scrollHeight,
c.Dom.getViewportHeight())},getDocumentWidth:function(){return Math.max("CSS1Compat"!=f.compatMode?f.body.scrollWidth:f.documentElement.scrollWidth,c.Dom.getViewportWidth())},getViewportHeight:function(){var a=self.innerHeight,b=f.compatMode;!b&&!m||u||(a="CSS1Compat"==b?f.documentElement.clientHeight:f.body.clientHeight);return a},getViewportWidth:function(){var a=self.innerWidth,b=f.compatMode;if(b||m)a="CSS1Compat"==b?f.documentElement.clientWidth:f.body.clientWidth;return a},getAncestorBy:function(a,
b){for(;a=a.parentNode;)if(n(a,b))return a;return null},getAncestorByClassName:function(a,b){return(a=c.Dom.get(a))?c.Dom.getAncestorBy(a,function(a){return c.Dom.hasClass(a,b)}):null},getAncestorByTagName:function(a,b){return(a=c.Dom.get(a))?c.Dom.getAncestorBy(a,function(a){return a.tagName&&a.tagName.toUpperCase()==b.toUpperCase()}):null},getPreviousSiblingBy:function(a,b){for(;a;)if(a=a.previousSibling,n(a,b))return a;return null},getPreviousSibling:function(a){return(a=c.Dom.get(a))?c.Dom.getPreviousSiblingBy(a):
null},getNextSiblingBy:function(a,b){for(;a;)if(a=a.nextSibling,n(a,b))return a;return null},getNextSibling:function(a){return(a=c.Dom.get(a))?c.Dom.getNextSiblingBy(a):null},getFirstChildBy:function(a,b){return(n(a.firstChild,b)?a.firstChild:null)||c.Dom.getNextSiblingBy(a.firstChild,b)},getFirstChild:function(a,b){return(a=c.Dom.get(a))?c.Dom.getFirstChildBy(a):null},getLastChildBy:function(a,b){return a?(n(a.lastChild,b)?a.lastChild:null)||c.Dom.getPreviousSiblingBy(a.lastChild,b):null},getLastChild:function(a){a=
c.Dom.get(a);return c.Dom.getLastChildBy(a)},getChildrenBy:function(a,b){var d=(a=c.Dom.getFirstChildBy(a,b))?[a]:[];c.Dom.getNextSiblingBy(a,function(a){if(!b||b(a))d[d.length]=a;return!1});return d},getChildren:function(a){a=c.Dom.get(a);return c.Dom.getChildrenBy(a)},getDocumentScrollLeft:function(a){a=a||f;return Math.max(a.documentElement.scrollLeft,a.body.scrollLeft)},getDocumentScrollTop:function(a){a=a||f;return Math.max(a.documentElement.scrollTop,a.body.scrollTop)},insertBefore:function(a,
b){a=c.Dom.get(a);b=c.Dom.get(b);return a&&b&&b.parentNode?b.parentNode.insertBefore(a,b):null},insertAfter:function(a,b){a=c.Dom.get(a);b=c.Dom.get(b);return a&&b&&b.parentNode?b.nextSibling?b.parentNode.insertBefore(a,b.nextSibling):b.parentNode.appendChild(a):null},getClientRegion:function(){var a=c.Dom.getDocumentScrollTop(),b=c.Dom.getDocumentScrollLeft(),d=c.Dom.getViewportWidth()+b,e=c.Dom.getViewportHeight()+a;return new c.Region(a,d,e,b)}};var A=function(){return f.documentElement.getBoundingClientRect?
function(a){var b=a.getBoundingClientRect();a=a.ownerDocument;return[b.left+c.Dom.getDocumentScrollLeft(a),b.top+c.Dom.getDocumentScrollTop(a)]}:function(a){var b=[a.offsetLeft,a.offsetTop],d=a.offsetParent,e=r&&"absolute"==c.Dom.getStyle(a,"position")&&a.offsetParent==a.ownerDocument.body;if(d!=a)for(;d;)b[0]+=d.offsetLeft,b[1]+=d.offsetTop,!e&&r&&"absolute"==c.Dom.getStyle(d,"position")&&(e=!0),d=d.offsetParent;e&&(b[0]-=a.ownerDocument.body.offsetLeft,b[1]-=a.ownerDocument.body.offsetTop);for(d=
a.parentNode;d.tagName&&!x.test(d.tagName);)!d.scrollTop&&!d.scrollLeft||y.test(c.Dom.getStyle(d,"display"))||u&&"visible"===c.Dom.getStyle(d,"overflow")||(b[0]-=d.scrollLeft,b[1]-=d.scrollTop),d=d.parentNode;return b}}()})();pega.util.Region=function(c,g,l,k){this.top=c;this[1]=c;this.right=g;this.bottom=l;this.left=k;this[0]=k};pega.util.Region.prototype.contains=function(c){return c.left>=this.left&&c.right<=this.right&&c.top>=this.top&&c.bottom<=this.bottom};
pega.util.Region.prototype.getArea=function(){return(this.bottom-this.top)*(this.right-this.left)};pega.util.Region.prototype.intersect=function(c){var g=Math.max(this.top,c.top),l=Math.min(this.right,c.right),k=Math.min(this.bottom,c.bottom);c=Math.max(this.left,c.left);return k>=g&&l>=c?new pega.util.Region(g,l,k,c):null};
pega.util.Region.prototype.union=function(c){return new pega.util.Region(Math.min(this.top,c.top),Math.max(this.right,c.right),Math.max(this.bottom,c.bottom),Math.min(this.left,c.left))};pega.util.Region.prototype.toString=function(){return"Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}"};pega.util.Region.getRegion=function(c){var g=pega.util.Dom.getXY(c);return new pega.util.Region(g[1],g[0]+c.offsetWidth,g[1]+c.offsetHeight,g[0])};
pega.util.Point=function(c,g){pega.lang.isArray(c)&&(g=c[1],c=c[0]);this.x=this.right=this.left=this[0]=c;this.y=this.top=this.bottom=this[1]=g};pega.util.Point.prototype=new pega.util.Region;pega.register("dom",pega.util.Dom,{version:"2.5.1",build:"984"});
pega.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:!1,_use_default_post_header:!0,_default_post_header:"application/x-www-form-urlencoded; charset\x3dUTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:!0,_default_xhr_header:"XMLHttpRequest",_has_default_headers:!0,_default_headers:{},_isFormSubmit:!1,_isFileUpload:!1,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:20,
_transaction_id:0,_submitElementValue:null,_hasSubmitListener:function(){return pega.util.Event?(pega.util.Event.addListener(document,"click",function(a){a=pega.util.Event.getTarget(a);"input"==a.nodeName.toLowerCase()&&a.type&&"submit"==a.type.toLowerCase()&&(pega.util.Connect._submitElementValue=encodeURIComponent(a.name)+"\x3d"+encodeURIComponent(a.value))}),!0):!1}(),startEvent:new pega.util.CustomEvent("start"),completeEvent:new pega.util.CustomEvent("complete"),successEvent:new pega.util.CustomEvent("success"),
failureEvent:new pega.util.CustomEvent("failure"),uploadEvent:new pega.util.CustomEvent("upload"),abortEvent:new pega.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(a){this._msxml_progid.unshift(a)},setDefaultPostHeader:function(a){"string"==typeof a?this._default_post_header=
a:"boolean"==typeof a&&(this._use_default_post_header=a)},setDefaultXhrHeader:function(a){"string"==typeof a?this._default_xhr_header=a:this._use_default_xhr_header=a},setPollingInterval:function(a){"number"==typeof a&&isFinite(a)&&(this._polling_interval=a)},createXhrObject:function(a){var b,c;try{c=new XMLHttpRequest,b={conn:c,tId:a}}catch(f){for(var d=0;d<this._msxml_progid.length;++d)try{c=new ActiveXObject(this._msxml_progid[d]);b={conn:c,tId:a};break}catch(g){}}finally{return b}},getConnectionObject:function(a){var b,
c=this._transaction_id;try{a?(b={},b.tId=c,b.isUpload=!0):b=this.createXhrObject(c),b&&this._transaction_id++}catch(d){}finally{return b}},asyncRequest:function(a,b,c,d,f){var g=!0,e=this._isFileUpload?this.getConnectionObject(!0):this.getConnectionObject(),h=c&&c.argument?c.argument:null;if(e){c&&c.customevents&&this.initCustomEvents(e,c);e.conn&&e.conn.addEventListener&&e.conn.addEventListener("abort",function(a){pega.util.Connect.handleError(a,e,h,c)},!1);if(this._isFormSubmit){if(this._isFileUpload)return this.uploadFile(e,
c,b,d),e;"GET"==a.toUpperCase()?0!==this._sFormData.length&&(b+=(-1==b.indexOf("?")?"?":"\x26")+this._sFormData):"POST"==a.toUpperCase()&&(d=d?this._sFormData+"\x26"+d:this._sFormData)}"GET"==a.toUpperCase()&&c&&!1===c.cache&&(b+=(-1==b.indexOf("?")?"?":"\x26")+"rnd\x3d"+(new Date).valueOf().toString());!1===f&&(g=!1);e.conn.open(a,b,g);this._use_default_xhr_header&&(this._default_headers["X-Requested-With"]||this.initHeader("X-Requested-With",this._default_xhr_header,!0));"POST"==a.toUpperCase()&&
this._use_default_post_header&&!1===this._isFormSubmit&&(this.initHeader("Content-Type",this._default_post_header),null!=d&&(a=!1,"string"==typeof d&&-1!=d.substring(0,10).indexOf("\x3c?xml")&&(this.initHeader("Content-Type","text/xml"),a=!0),a||this.initHeader("Content-Type","application/x-www-form-urlencoded")));(this._has_default_headers||this._has_http_headers)&&this.setHeader(e);c&&c.timeout&&(e.conn.timeout=c.timeout);e.conn.ontimeout=this.abort.bind(this,e,c,!0);e.conn.onreadystatechange=this.handleReadyState.bind(this,
e,c);e.startTime=Date.now();pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setHttpBusy(e.tId,!0);window.gIsMultiTenantPortal&&(e.conn.withCredentials=!0);e.conn.send(d||"");!0===this._isFormSubmit&&this.resetFormState();this.startEvent.fire(e,h);e.startEvent&&e.startEvent.fire(e,h);return e}return null},initCustomEvents:function(a,b){for(var c in b.customevents)this._customEvents[c][0]&&(a[this._customEvents[c][0]]=new pega.util.CustomEvent(this._customEvents[c][1],b.scope?b.scope:null),
a[this._customEvents[c][0]].subscribe(b.customevents[c]))},handleError:function(a,b,c,d){pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setHttpDone(b.tId,Date.now()-b.startTime);pega.u&&pega.u.d&&(pega.u.d.ajaxFailureSecondaryCount=-1);window.ajaxRequestFail=!0;a=pega.util.Connect.createExceptionObject(b.tId,c,"abort"==a.type);d&&d.failure&&(d.scope?d.failure.apply(d.scope,[a]):d.failure(a))},handleReadyState:function(a,b){var c=b&&b.argument?b.argument:null;4==a.conn.readyState&&(pega&&
pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setHttpDone(a.tId,Date.now()-a.startTime),this.completeEvent.fire(a,c),a.completeEvent&&a.completeEvent.fire(a,c),this.handleTransactionResponse(a,b))},handleTransactionResponse:function(a,b,c){var d,f=b&&b.argument?b.argument:null;try{d=void 0!==a.conn.status&&0!==a.conn.status?a.conn.status:13030}catch(g){d=13030}if(200<=d&&300>d||1223===d){c=this.createResponseObject(a,f);c.httpStatus=d;if(b&&b.success)b.scope?b.success.apply(b.scope,[c]):b.success(c);
else try{c&&c.responseText&&pega&&pega.u&&pega.u.d&&pega.u.d.showLoginScreen&&pega.u.d.showLoginScreen(c.responseText)}catch(g){}this.successEvent.fire(c);a.successEvent&&a.successEvent.fire(c)}else{switch(d){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=this.createExceptionObject(a.tId,f,c?c:!1);b&&b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c));break;default:c=this.createResponseObject(a,f),b&&b.failure&&(b.scope?b.failure.apply(b.scope,[c]):b.failure(c))}this.failureEvent.fire(c);
a.failureEvent&&a.failureEvent.fire(c)}this.releaseObject(a)},createResponseObject:function(a,b){var c={},d={};try{for(var f=a.conn.getAllResponseHeaders(),g=f.split("\n"),e=0;e<g.length;e++){var h=g[e].indexOf(":");-1!=h&&(d[g[e].substring(0,h)]=g[e].substring(h+2))}}catch(k){}c.tId=a.tId;c.status=1223==a.conn.status?204:a.conn.status;c.statusText=1223==a.conn.status?"No Content":a.conn.statusText;c.getResponseHeader=d;c.getAllResponseHeaders=f;c.responseText=a.conn.responseText;c.responseXML=a.conn.responseXML;
b&&(c.argument=b);return c},createExceptionObject:function(a,b,c){var d={};d.tId=a;c?(d.status=-1,d.statusText="transaction aborted"):(d.status=0,d.statusText="communication failure");b&&(d.argument=b);return d},initHeader:function(a,b,c){(c?this._default_headers:this._http_headers)[a]=b;c?this._has_default_headers=!0:this._has_http_headers=!0},setHeader:function(a){if(this._has_default_headers)for(var b in this._default_headers)pega.lang.hasOwnProperty(this._default_headers,b)&&a.conn.setRequestHeader(b,
this._default_headers[b]);if(this._has_http_headers){for(b in this._http_headers)pega.lang.hasOwnProperty(this._http_headers,b)&&a.conn.setRequestHeader(b,this._http_headers[b]);delete this._http_headers;this._http_headers={};this._has_http_headers=!1}pega.u.d&&(pega.u.d.isFlowinModalProgress||pega.u.d.bIsFlowInModal||pega.u.d.bIsDCSPA)||pega.ctx.isMDC?(b=pega.ctxmgr.getRootDocumentContext())?a.conn.setRequestHeader("pzCTkn",b.activeCSRFToken):pega.ctx.activeCSRFToken&&a.conn.setRequestHeader("pzCTkn",
pega.ctx.activeCSRFToken):a.conn.setRequestHeader("pzCTkn",pega.ctx.activeCSRFToken);a.conn.setRequestHeader("pzBFP",pega.d.browserFingerprint)},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=!1},setForm:function(a,b,c){this.resetFormState();if("string"==typeof a)a=document.getElementById(a)||document.forms[a];else if("object"!=typeof a)return;if(b)this.createFrame(0===window.location.href.toLowerCase().indexOf("https")||c?!0:!1),this._isFileUpload=
this._isFormSubmit=!0,this._formNode=a;else{for(var d,f,g=!1,e=0;e<a.elements.length;e++)if(b=a.elements[e],f=b.disabled,c=b.name,d=b.value,!f&&c)switch(b.type){case "select-one":case "select-multiple":for(d=0;d<b.options.length;d++)b.options[d].selected&&(this._sFormData=window.ActiveXObject?this._sFormData+(encodeURIComponent(c)+"\x3d"+encodeURIComponent(b.options[d].attributes.value.specified?b.options[d].value:b.options[d].text)+"\x26"):this._sFormData+(encodeURIComponent(c)+"\x3d"+encodeURIComponent(b.options[d].hasAttribute("value")?
b.options[d].value:b.options[d].text)+"\x26"));break;case "radio":case "checkbox":b.checked&&(this._sFormData+=encodeURIComponent(c)+"\x3d"+encodeURIComponent(d)+"\x26");break;case "file":case void 0:case "reset":case "button":break;case "submit":!1===g&&(this._sFormData=this._hasSubmitListener&&this._submitElementValue?this._sFormData+(this._submitElementValue+"\x26"):this._sFormData+(encodeURIComponent(c)+"\x3d"+encodeURIComponent(d)+"\x26"),g=!0);break;default:this._sFormData+=encodeURIComponent(c)+
"\x3d"+encodeURIComponent(d)+"\x26"}this._isFormSubmit=!0;this._sFormData=this._sFormData.substr(0,this._sFormData.length-1);this.initHeader("Content-Type",this._default_form_header);return this._sFormData}},resetFormState:function(){this._isFileUpload=this._isFormSubmit=!1;this._formNode=null;this._sFormData=""},createFrame:function(a){var b="yuiIO"+this._transaction_id,c;window.ActiveXObject?(c=document.documentMode?document.documentMode:!1,9<=c?(c=document.createElement("iframe"),c.id=b,c.name=
b):c=document.createElement('\x3ciframe id\x3d"'+b+'" name\x3d"'+b+'" /\x3e'),"boolean"==typeof a&&(c.src="blank.htm")):(c=document.createElement("iframe"),c.id=b,c.name=b);c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";document.body.appendChild(c)},appendPostData:function(a){var b=[];a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d");-1!=d&&(b[c]=document.createElement("input"),b[c].type="hidden",b[c].name=a[c].substring(0,d),b[c].value=decodeURIComponent(a[c].substring(d+
1)),this._formNode.appendChild(b[c]))}return b},uploadFile:function(a,b,c,d){var f=this,g="yuiIO"+a.tId,e=document.getElementById(g),h=b&&b.argument?b.argument:null,k=this._formNode.getAttribute("action");"string"!=typeof k&&(k=this._formNode.attributes.action?this._formNode.attributes.action.value:"");k={action:k,method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",c);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",
g);this._formNode.encoding?this._formNode.setAttribute("encoding","multipart/form-data"):this._formNode.setAttribute("enctype","multipart/form-data");if(d)var m=this.appendPostData(d);this._formNode.submit();this.startEvent.fire(a,h);a.startEvent&&a.startEvent.fire(a,h);b&&b.timeout&&(this._timeOut[a.tId]=window.setTimeout(function(){f.abort(a,b,!0)},b.timeout));if(m&&0<m.length)for(c=0;c<m.length;c++)pega.util.Dom.removeNode(m[c]);for(var l in k)pega.lang.hasOwnProperty(k,l)&&(k[l]?this._formNode.setAttribute(l,
k[l]):this._formNode.removeAttribute(l));this.resetFormState();var n=function(){b&&b.timeout&&(window.clearTimeout(f._timeOut[a.tId]),delete f._timeOut[a.tId]);pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setHttpDone(a.tId);f.completeEvent.fire(a,h);a.completeEvent&&a.completeEvent.fire(a,h);var c={};c.tId=a.tId;c.argument=b.argument;try{c.responseText=e.contentWindow.document.body?e.contentWindow.document.body.innerHTML:e.contentWindow.document.documentElement.textContent,c.responseXML=
e.contentWindow.document.XMLDocument?e.contentWindow.document.XMLDocument:e.contentWindow.document}catch(p){}b&&b.upload&&(b.scope?b.upload.apply(b.scope,[c]):b.upload(c));f.uploadEvent.fire(c);a.uploadEvent&&a.uploadEvent.fire(c);pega.util.Event.removeListener(e,"load",n);setTimeout(function(){document.body.removeChild(e);f.releaseObject(a)},100)};pega.util.Event.addListener(e,"load",n)},abort:function(a,b,c){var d,f=b&&b.argument?b.argument:null;if(a&&a.conn)this.isCallInProgress(a)&&(a.conn.abort(),
d=!0);else if(a&&!0===a.isUpload){var g=document.getElementById("yuiIO"+a.tId);g&&(pega.util.Event.removeListener(g,"load"),document.body.removeChild(g),c&&(window.clearTimeout(this._timeOut[a.tId]),delete this._timeOut[a.tId]),d=!0)}else d=!1;!0===d&&(this.abortEvent.fire(a,f),a.abortEvent&&a.abortEvent.fire(a,f),this.handleTransactionResponse(a,b,!0));return d},isCallInProgress:function(a){return a&&a.conn?4!==a.conn.readyState&&0!==a.conn.readyState:a&&!0===a.isUpload?document.getElementById("yuiIO"+
a.tId)?!0:!1:!1},releaseObject:function(a){a&&a.conn&&(a.conn=null)}};pega.register("connection",pega.util.Connect,{version:"2.5.1",build:"984"});
(function(){var a=pega.util,e=function(a,c,b,f){this.init(a,c,b,f)};e.NAME="Anim";e.prototype={toString:function(){var a=this.getEl()||{};return this.constructor.NAME+": "+(a.id||a.tagName)},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(a,c,b){return this.method(this.currentFrame,c,b-c,this.totalFrames)},setAttribute:function(d,
c,b){this.patterns.noNegatives.test(d)&&(c=0<c?c:0);a.Dom.setStyle(this.getEl(),d,c+b)},getAttribute:function(d){var c=this.getEl(),b=a.Dom.getStyle(c,d);if("auto"!==b&&!this.patterns.offsetUnit.test(b))return parseFloat(b);d=this.patterns.offsetAttribute.exec(d)||[];b=!!d[3];return b=d[2]||"absolute"==a.Dom.getStyle(c,"position")&&b?c["offset"+d[0].charAt(0).toUpperCase()+d[0].substr(1)]:0},getDefaultUnit:function(a){return this.patterns.defaultUnit.test(a)?"px":""},setRuntimeAttribute:function(a){var c,
b,f=this.attributes;this.runtimeAttributes[a]={};var d=function(a){return"undefined"!==typeof a};if(!d(f[a].to)&&!d(f[a].by))return!1;c=d(f[a].from)?f[a].from:this.getAttribute(a);if(d(f[a].to))b=f[a].to;else if(d(f[a].by))if(c.constructor==Array){b=[];for(var e=0,h=c.length;e<h;++e)b[e]=c[e]+1*f[a].by[e]}else b=c+1*f[a].by;this.runtimeAttributes[a].start=c;this.runtimeAttributes[a].end=b;this.runtimeAttributes[a].unit=d(f[a].unit)?f[a].unit:this.getDefaultUnit(a);return!0},init:function(d,c,b,f){var e=
!1,m=null,h=0;d=a.Dom.get(d);this.attributes=c||{};this.duration=pega.lang.isUndefined(b)?1:b;this.method=f||a.Easing.easeNone;this.useSeconds=!0;this.currentFrame=0;this.totalFrames=a.AnimMgr.fps;this.setEl=function(b){d=a.Dom.get(b)};this.getEl=function(){return d};this.isAnimated=function(){return e};this.getStartTime=function(){return m};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated())return!1;this.currentFrame=0;this.totalFrames=this.useSeconds?Math.ceil(a.AnimMgr.fps*
this.duration):this.duration;0===this.duration&&this.useSeconds&&(this.totalFrames=1);a.AnimMgr.registerElement(this);return!0};this.stop=function(b){if(!this.isAnimated())return!1;b&&(this.currentFrame=this.totalFrames,this._onTween.fire());a.AnimMgr.stop(this)};this._onStart=new a.CustomEvent("_start",this,!0);this.onStart=new a.CustomEvent("start",this);this.onTween=new a.CustomEvent("tween",this);this._onTween=new a.CustomEvent("_tween",this,!0);this.onComplete=new a.CustomEvent("complete",this);
this._onComplete=new a.CustomEvent("_complete",this,!0);this._onStart.subscribe(function(){this.onStart.fire();this.runtimeAttributes={};for(var a in this.attributes)this.setRuntimeAttribute(a);e=!0;h=0;m=new Date});this._onTween.subscribe(function(){var a={duration:new Date-this.getStartTime(),currentFrame:this.currentFrame,toString:function(){return"duration: "+a.duration+", currentFrame: "+a.currentFrame}};this.onTween.fire(a);var b=this.runtimeAttributes,c;for(c in b)this.setAttribute(c,this.doMethod(c,
b[c].start,b[c].end),b[c].unit);h+=1});this._onComplete.subscribe(function(){var a=(new Date-m)/1E3,b={duration:a,frames:h,fps:h/a,toString:function(){return"duration: "+b.duration+", frames: "+b.frames+", fps: "+b.fps}};e=!1;h=0;this.onComplete.fire(b)})}};a.Anim=e})();
pega.util.AnimMgr=new function(){var a=null,e=[],d=0;this.fps=1E3;this.delay=1;this.registerElement=function(a){e[e.length]=a;d+=1;a._onStart.fire();this.start()};this.unRegister=function(a,b){if(!b)a:{b=0;for(var c=e.length;b<c;++b)if(e[b]==a)break a;b=-1}if(!a.isAnimated()||-1==b)return!1;a._onComplete.fire();e.splice(b,1);--d;0>=d&&this.stop();return!0};this.start=function(){null===a&&(a=setInterval(this.run,this.delay))};this.stop=function(c){if(c)this.unRegister(c);else{clearInterval(a);c=0;
for(var b=e.length;c<b;++c)this.unRegister(e[0],0);e=[];a=null;d=0}};this.run=function(){for(var a=0,b=e.length;a<b;++a){var f=e[a];if(f&&f.isAnimated())if(f.currentFrame<f.totalFrames||null===f.totalFrames){f.currentFrame+=1;if(f.useSeconds){var d=f,m=d.totalFrames,h=d.currentFrame,g=d.currentFrame*d.duration*1E3/d.totalFrames,p=new Date-d.getStartTime(),g=p<1E3*d.duration?Math.round((p/g-1)*d.currentFrame):m-(h+1);0<g&&isFinite(g)&&(d.currentFrame+g>=m&&(g=m-(h+1)),d.currentFrame+=g)}f._onTween.fire()}else pega.util.AnimMgr.stop(f,
a)}}};pega.util.Bezier=new function(){this.getPosition=function(a,e){for(var d=a.length,c=[],b=0;b<d;++b)c[b]=[a[b][0],a[b][1]];for(a=1;a<d;++a)for(b=0;b<d-a;++b)c[b][0]=(1-e)*c[b][0]+e*c[parseInt(b+1,10)][0],c[b][1]=(1-e)*c[b][1]+e*c[parseInt(b+1,10)][1];return[c[0][0],c[0][1]]}};
(function(){var a=function(b,d,c,e){a.superclass.constructor.call(this,b,d,c,e)};a.NAME="ColorAnim";var e=pega.util;pega.extend(a,e.Anim);var d=a.superclass,c=a.prototype;c.patterns.color=/color$/i;c.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;c.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;c.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;c.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;c.parseColor=function(a){if(3==a.length)return a;var b=
this.patterns.hex.exec(a);return b&&4==b.length?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:(b=this.patterns.rgb.exec(a))&&4==b.length?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]:(b=this.patterns.hex3.exec(a))&&4==b.length?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:null};c.getAttribute=function(a){var b=this.getEl();if(this.patterns.color.test(a)){var c=pega.util.Dom.getStyle(b,a);if(this.patterns.transparent.test(c))for(b=b.parentNode,c=e.Dom.getStyle(b,
a);b&&this.patterns.transparent.test(c);)b=b.parentNode,c=e.Dom.getStyle(b,a),"HTML"==b.tagName.toUpperCase()&&(c="#fff")}else c=d.getAttribute.call(this,a);return c};c.doMethod=function(a,c,e){var b;if(this.patterns.color.test(a)){b=[];for(var f=0,l=c.length;f<l;++f)b[f]=d.doMethod.call(this,a,c[f],e[f]);b="rgb("+Math.floor(b[0])+","+Math.floor(b[1])+","+Math.floor(b[2])+")"}else b=d.doMethod.call(this,a,c,e);return b};c.setRuntimeAttribute=function(a){d.setRuntimeAttribute.call(this,a);if(this.patterns.color.test(a)){var b=
this.attributes,c=this.parseColor(this.runtimeAttributes[a].start),e=this.parseColor(this.runtimeAttributes[a].end);if("undefined"===typeof b[a].to&&"undefined"!==typeof b[a].by)for(var e=this.parseColor(b[a].by),b=0,h=c.length;b<h;++b)e[b]=c[b]+e[b];this.runtimeAttributes[a].start=c;this.runtimeAttributes[a].end=e}};e.ColorAnim=a})();
pega.util.Easing={easeNone:function(a,e,d,c){return d*a/c+e},easeIn:function(a,e,d,c){return d*(a/=c)*a+e},easeOut:function(a,e,d,c){return-d*(a/=c)*(a-2)+e},easeBoth:function(a,e,d,c){return 1>(a/=c/2)?d/2*a*a+e:-d/2*(--a*(a-2)-1)+e},easeInStrong:function(a,e,d,c){return d*(a/=c)*a*a*a+e},easeOutStrong:function(a,e,d,c){return-d*((a=a/c-1)*a*a*a-1)+e},easeBothStrong:function(a,e,d,c){return 1>(a/=c/2)?d/2*a*a*a*a+e:-d/2*((a-=2)*a*a*a-2)+e},elasticIn:function(a,e,d,c,b,f){if(0==a)return e;if(1==(a/=
c))return e+d;f||(f=.3*c);!b||b<Math.abs(d)?(b=d,d=f/4):d=f/(2*Math.PI)*Math.asin(d/b);return-(b*Math.pow(2,10*--a)*Math.sin(2*(a*c-d)*Math.PI/f))+e},elasticOut:function(a,e,d,c,b,f){if(0==a)return e;if(1==(a/=c))return e+d;f||(f=.3*c);if(!b||b<Math.abs(d)){b=d;var l=f/4}else l=f/(2*Math.PI)*Math.asin(d/b);return b*Math.pow(2,-10*a)*Math.sin(2*(a*c-l)*Math.PI/f)+d+e},elasticBoth:function(a,e,d,c,b,f){if(0==a)return e;if(2==(a/=c/2))return e+d;f||(f=.3*c*1.5);if(!b||b<Math.abs(d)){b=d;var l=f/4}else l=
f/(2*Math.PI)*Math.asin(d/b);return 1>a?-.5*b*Math.pow(2,10*--a)*Math.sin(2*(a*c-l)*Math.PI/f)+e:b*Math.pow(2,-10*--a)*Math.sin(2*(a*c-l)*Math.PI/f)*.5+d+e},backIn:function(a,e,d,c,b){"undefined"==typeof b&&(b=1.70158);return d*(a/=c)*a*((b+1)*a-b)+e},backOut:function(a,e,d,c,b){"undefined"==typeof b&&(b=1.70158);return d*((a=a/c-1)*a*((b+1)*a+b)+1)+e},backBoth:function(a,e,d,c,b){"undefined"==typeof b&&(b=1.70158);return 1>(a/=c/2)?d/2*a*a*(((b*=1.525)+1)*a-b)+e:d/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+
2)+e},bounceIn:function(a,e,d,c){return d-pega.util.Easing.bounceOut(c-a,0,d,c)+e},bounceOut:function(a,e,d,c){return(a/=c)<1/2.75?7.5625*d*a*a+e:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+.75)+e:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+.9375)+e:d*(7.5625*(a-=2.625/2.75)*a+.984375)+e},bounceBoth:function(a,e,d,c){return a<c/2?.5*pega.util.Easing.bounceIn(2*a,0,d,c)+e:.5*pega.util.Easing.bounceOut(2*a-c,0,d,c)+.5*d+e}};
(function(){var a=function(b,c,d,e){b&&a.superclass.constructor.call(this,b,c,d,e)};a.NAME="Motion";var e=pega.util;pega.extend(a,e.ColorAnim);var d=a.superclass,c=a.prototype;c.patterns.points=/^points$/i;c.setAttribute=function(a,b,c){this.patterns.points.test(a)?(c=c||"px",d.setAttribute.call(this,"left",b[0],c),d.setAttribute.call(this,"top",b[1],c)):d.setAttribute.call(this,a,b,c)};c.getAttribute=function(a){return this.patterns.points.test(a)?[d.getAttribute.call(this,"left"),d.getAttribute.call(this,
"top")]:d.getAttribute.call(this,a)};c.doMethod=function(a,b,c){this.patterns.points.test(a)?(b=this.method(this.currentFrame,0,100,this.totalFrames)/100,a=e.Bezier.getPosition(this.runtimeAttributes[a],b)):a=d.doMethod.call(this,a,b,c);return a};c.setRuntimeAttribute=function(a){if(this.patterns.points.test(a)){var c=this.getEl(),h=this.attributes,g=h.points.control||[],l,k,n;if(0<g.length&&!(g[0]instanceof Array))g=[g];else{var q=[];k=0;for(n=g.length;k<n;++k)q[k]=g[k];g=q}"static"==e.Dom.getStyle(c,
"position")&&e.Dom.setStyle(c,"position","relative");f(h.points.from)?e.Dom.setXY(c,h.points.from):e.Dom.setXY(c,e.Dom.getXY(c));c=this.getAttribute("points");if(f(h.points.to))for(l=b.call(this,h.points.to,c),e.Dom.getXY(this.getEl()),k=0,n=g.length;k<n;++k)g[k]=b.call(this,g[k],c);else if(f(h.points.by))for(l=[c[0]+h.points.by[0],c[1]+h.points.by[1]],k=0,n=g.length;k<n;++k)g[k]=[c[0]+g[k][0],c[1]+g[k][1]];this.runtimeAttributes[a]=[c];0<g.length&&(this.runtimeAttributes[a]=this.runtimeAttributes[a].concat(g));
this.runtimeAttributes[a][this.runtimeAttributes[a].length]=l}else d.setRuntimeAttribute.call(this,a)};var b=function(a,b){var c=e.Dom.getXY(this.getEl());return a=[a[0]-c[0]+b[0],a[1]-c[1]+b[1]]},f=function(a){return"undefined"!==typeof a};e.Motion=a})();
(function(){var a=function(b,c,d,e){b&&a.superclass.constructor.call(this,b,c,d,e)};a.NAME="Scroll";var e=pega.util;pega.extend(a,e.ColorAnim);var d=a.superclass,c=a.prototype;c.doMethod=function(a,c,e){return"scroll"==a?[this.method(this.currentFrame,c[0],e[0]-c[0],this.totalFrames),this.method(this.currentFrame,c[1],e[1]-c[1],this.totalFrames)]:d.doMethod.call(this,a,c,e)};c.getAttribute=function(a){var b=this.getEl();return"scroll"==a?[b.scrollLeft,b.scrollTop]:d.getAttribute.call(this,a)};c.setAttribute=
function(a,c,e){var b=this.getEl();"scroll"==a?(b.scrollLeft=c[0],b.scrollTop=c[1]):d.setAttribute.call(this,a,c,e)};e.Scroll=a})();pega.register("animation",pega.util.Anim,{version:"2.5.1",build:"984"});
pega.util.DragDropMgr||(pega.util.DragDropMgr=function(){var d=pega.util.Event;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,interactionInfo:null,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(b,a){for(var c in this.ids)for(var e in this.ids[c]){var d=this.ids[c][e];this.isTypeOfDD(d)&&d[b].apply(d,a)}},_onLoad:function(){this.init();d.on(document,"mouseup",
this.handleMouseUp,this,!0);d.on(document,"mousemove",this.handleMouseMove,this,!0);d.on(window,"unload",this._onUnload,this,!0);d.on(window,"resize",this._onResize,this,!0)},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:1E3,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,fromTimeout:!1,_shimActive:!1,_shimState:!1,
_shim:null,_createShim:function(){var b=document.createElement("div");b.id="yui-ddm-shim";document.body.firstChild?document.body.insertBefore(b,document.body.firstChild):document.body.appendChild(b);b.style.display="none";b.style.backgroundColor="red";b.style.position="absolute";b.style.zIndex="99999";Dom.setStyle(b,"opacity","0");this._shim=b;d.on(b,"mouseup",this.handleMouseUp,this,!0);d.on(b,"mousemove",this.handleMouseMove,this,!0);d.on(window,"scroll",this._sizeShim,this,!0)},_sizeShim:function(){if(this._shimActive){var b=
this._shim;b.style.height=Dom.getDocumentHeight()+"px";b.style.width=Dom.getDocumentWidth()+"px";b.style.top="0";b.style.left="0"}},_activateShim:function(){if(this.useShim){this._shim||this._createShim();this._shimActive=!0;var b=this._shim,a="0";this._debugShim&&(a=".5");Dom.setStyle(b,"opacity",a);this._sizeShim();b.style.display="block"}},_deactivateShim:function(){this._shim.style.display="none";this._shimActive=!1},regDragDrop:function(b,a){this.initialized||this.init();this.ids[a]||(this.ids[a]=
{});this.ids[a][b.id]=b},removeDDFromGroup:function(b,a){this.ids[a]||(this.ids[a]={});(a=this.ids[a])&&a[b.id]&&delete a[b.id]},_remove:function(b){for(var a in b.groups)a&&this.ids[a][b.id]&&delete this.ids[a][b.id];delete this.handleIds[b.id]},regHandle:function(b,a){this.handleIds[b]||(this.handleIds[b]={});this.handleIds[b][a]=a},isDragDrop:function(b){return this.getDDById(b)?!0:!1},getRelated:function(b,a){var c=[],e;for(e in b.groups)for(var d in this.ids[e])b=this.ids[e][d],!this.isTypeOfDD(b)||
a&&!b.isTarget||(c[c.length]=b);return c},isLegalTarget:function(b,a){b=this.getRelated(b,!0);for(var c=0,e=b.length;c<e;++c)if(b[c].id==a.id)return!0;return!1},isTypeOfDD:function(b){return b&&b.__ygDragDrop},isHandle:function(b,a){return this.handleIds[b]&&this.handleIds[b][a]},getDDById:function(b){for(var a in this.ids)if(this.ids[a][b])return this.ids[a][b];return null},handleMouseDown:function(b,a){this.currentTarget=pega.util.Event.getTarget(b);this.dragCurrent=a;a=a.getEl();this.startX=pega.util.Event.getPageX(b);
this.startY=pega.util.Event.getPageY(b);this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=!1;this.clickTimeout=setTimeout(function(){var a=pega.util.DDM;a.startDrag(a.startX,a.startY);a.fromTimeout=!0},this.clickTimeThresh)},startDrag:function(b,a){this.dragCurrent&&this.dragCurrent.useShim&&(this._shimState=this.useShim,this.useShim=!0);this._activateShim();clearTimeout(this.clickTimeout);var c=this.dragCurrent;c&&c.events.b4StartDrag&&(c.b4StartDrag(b,a),
c.fireEvent("b4StartDragEvent",{x:b,y:a}));c&&c.events.startDrag&&(c.startDrag(b,a),c.fireEvent("startDragEvent",{x:b,y:a}));this.dragThreshMet=!0},handleMouseUp:function(b){this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&(this.fromTimeout&&(this.fromTimeout=!1,this.handleMouseMove(b)),this.fromTimeout=!1,this.fireEvents(b,!0)),this.stopDrag(b),this.stopEvent(b))},stopEvent:function(b){this.stopPropagation&&pega.util.Event.stopPropagation(b);this.preventDefault&&pega.util.Event.preventDefault(b)},
stopDrag:function(b,a){var c=this.dragCurrent;c&&!a&&(this.dragThreshMet&&(c.events.b4EndDrag&&(c.b4EndDrag(b),c.fireEvent("b4EndDragEvent",{e:b})),c.events.endDrag&&(c.endDrag(b),c.fireEvent("endDragEvent",{e:b}))),c.events.mouseUp&&(c.onMouseUp(b),c.fireEvent("mouseUpEvent",{e:b})));this._shimActive&&(this._deactivateShim(),this.dragCurrent&&this.dragCurrent.useShim&&(this.useShim=this._shimState,this._shimState=!1));this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(b){var a=this.dragCurrent;
if(a){if(0<pega.env.ua.ie&&9>pega.env.ua.ie&&!b.button)return this.stopEvent(b),this.handleMouseUp(b);if(!this.dragThreshMet){var c=Math.abs(this.startX-pega.util.Event.getPageX(b)),e=Math.abs(this.startY-pega.util.Event.getPageY(b));(c>this.clickPixelThresh||e>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}this.dragThreshMet&&(a&&a.events.b4Drag&&(a.b4Drag(b),a.fireEvent("b4DragEvent",{e:b})),a&&a.events.drag&&(a.onDrag(b),a.fireEvent("dragEvent",{e:b})),a&&this.fireEvents(b,!1));
this.stopEvent(b)}},fireEvents:function(b,a){var c=this.dragCurrent;if(c&&!c.isLocked()&&!c.dragOnly){var e=pega.util.Event.getPageX(b),d=pega.util.Event.getPageY(b),f=new pega.util.Point(e,d),d=c.getTargetCoord(f.x,f.y),g=c.getDragEl(),e=["out","over","drop","enter"],k=new pega.util.Region(d.y,d.x+g.offsetWidth,d.y+g.offsetHeight,d.x),m=[],n={},d=[],g={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]},l;for(l in this.dragOvers){var h=this.dragOvers[l];this.isTypeOfDD(h)&&(this.isOverTarget(f,h,this.mode,
k)||g.outEvts.push(h),m[l]=!0,delete this.dragOvers[l])}for(var q in c.groups)if("string"==typeof q)for(l in this.ids[q])h=this.ids[q][l],this.isTypeOfDD(h)&&h.isTarget&&!h.isLocked()&&h!=c&&this.isOverTarget(f,h,this.mode,k)&&(n[q]=!0,a?g.dropEvts.push(h):(m[h.id]?g.overEvts.push(h):g.enterEvts.push(h),this.dragOvers[h.id]=h));this.interactionInfo={out:g.outEvts,enter:g.enterEvts,over:g.overEvts,drop:g.dropEvts,point:f,draggedRegion:k,sourceRegion:this.locationCache[c.id],validDrop:a};for(var p in n)d.push(p);
a&&!g.dropEvts.length&&(this.interactionInfo.validDrop=!1,c.events.invalidDrop&&(c.onInvalidDrop(b),c.fireEvent("invalidDropEvent",{e:b})));for(l=0;l<e.length;l++)if(a=null,g[e[l]+"Evts"]&&(a=g[e[l]+"Evts"]),a&&a.length)if(k=e[l].charAt(0).toUpperCase()+e[l].substr(1),q="onDrag"+k,p="b4Drag"+k,f="drag"+k+"Event",k="drag"+k,this.mode)c.events[p]&&(c[p](b,a,d),c.fireEvent(p+"Event",{event:b,info:a,group:d})),c.events[k]&&(c[q](b,a,d),c.fireEvent(f,{event:b,info:a,group:d}));else for(m=0,n=a.length;m<
n;++m)c.events[p]&&(c[p](b,a[m].id,d[0]),c.fireEvent(p+"Event",{event:b,info:a[m].id,group:d[0]})),c.events[k]&&(c[q](b,a[m].id,d[0]),c.fireEvent(f,{event:b,info:a[m].id,group:d[0]}))}},getBestMatch:function(b){var a=null,c=b.length;if(1==c)a=b[0];else for(var e=0;e<c;++e){var d=b[e];if(this.mode==this.INTERSECT&&d.cursorIsOver){a=d;break}else if(!a||!a.overlap||d.overlap&&a.overlap.getArea()<d.overlap.getArea())a=d}return a},refreshCache:function(b){b=b||this.ids;for(var a in b)if("string"==typeof a)for(var c in this.ids[a])if(b=
this.ids[a][c],this.isTypeOfDD(b)){var e=this.getLocation(b);e?this.locationCache[b.id]=e:delete this.locationCache[b.id]}},verifyEl:function(b){try{if(b&&b.offsetParent)return!0}catch(a){}return!1},getLocation:function(b){if(!this.isTypeOfDD(b))return null;var a=b.getEl(),c,e,d;try{c=pega.util.Dom.getXY(a)}catch(f){}if(!c)return null;e=c[0];d=e+a.offsetWidth;c=c[1];return new pega.util.Region(c-b.padding[0],d+b.padding[1],c+a.offsetHeight+b.padding[2],e-b.padding[3])},isOverTarget:function(b,a,c,
e){var d=this.locationCache[a.id];d&&this.useCache||(d=this.getLocation(a),this.locationCache[a.id]=d);if(!d)return!1;a.cursorIsOver=d.contains(b);var f=this.dragCurrent;if(!f||!c&&!f.constrainX&&!f.constrainY)return a.cursorIsOver;a.overlap=null;e||(b=f.getTargetCoord(b.x,b.y),f=f.getDragEl(),e=new pega.util.Region(b.y,b.x+f.offsetWidth,b.y+f.offsetHeight,b.x));return(d=e.intersect(d))?(a.overlap=d,c?!0:a.cursorIsOver):!1},_onUnload:function(b,a){this.unregAll()},unregAll:function(){this.dragCurrent&&
(this.stopDrag(),this.dragCurrent=null);this._execOnAll("unreg",[]);this.ids={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];a&&a.el||(a=this.elementCache[b]=new this.ElementWrapper(pega.util.Dom.get(b)));return a},getElement:function(b){return pega.util.Dom.get(b)},getCss:function(b){return(b=pega.util.Dom.get(b))?b.style:null},ElementWrapper:function(b){this.id=(this.el=b||null)&&b.id;this.css=this.el&&b.style},getPosX:function(b){return pega.util.Dom.getX(b)},getPosY:function(b){return pega.util.Dom.getY(b)},
swapNode:function(b,a){if(b.swapNode)b.swapNode(a);else{var c=a.parentNode,e=a.nextSibling;e==b?c.insertBefore(b,a):a==b.nextSibling?c.insertBefore(a,b):(b.parentNode.replaceChild(a,b),c.insertBefore(b,e))}},getScroll:function(){var b,a,c=document.documentElement,e=document.body;c&&(c.scrollTop||c.scrollLeft)?(b=c.scrollTop,a=c.scrollLeft):e&&(b=e.scrollTop,a=e.scrollLeft);return{top:b,left:a}},getStyle:function(b,a){return pega.util.Dom.getStyle(b,a)},getScrollTop:function(){return this.getScroll().top},
getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,a){a=pega.util.Dom.getXY(a);pega.util.Dom.setXY(b,a)},getClientHeight:function(){return pega.util.Dom.getViewportHeight()},getClientWidth:function(){return pega.util.Dom.getViewportWidth()},numericSort:function(b,a){return b-a},_timeoutCount:0,_addListeners:function(){var b=pega.util.DDM;pega.util.Event&&document?b._onLoad():2E3<b._timeoutCount||(setTimeout(b._addListeners,10),document&&document.body&&(b._timeoutCount+=1))},
handleWasClicked:function(b,a){if(this.isHandle(a,b.id))return!0;for(b=b.parentNode;b;){if(this.isHandle(a,b.id))return!0;b=b.parentNode}return!1}}}(),pega.util.DDM=pega.util.DragDropMgr,pega.util.DDM._addListeners());
(function(){var d=pega.util.Event,b=pega.util.Dom;pega.util.DragDrop=function(a,b,e){a&&this.init(a,b,e)};pega.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isTarget:!0,padding:null,dragOnly:!1,_domRef:null,__ygDragDrop:!0,
constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,cursorIsOver:!1,overlap:null,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},
b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},getEl:function(){this._domRef||(this._domRef=b.get(this.id));return this._domRef},getDragEl:function(){return b.get(this.dragElId)},init:function(a,b,e){this.initTarget(a,b,e);d.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,!0);for(var c in this.events)this.createEvent(c+"Event")},initTarget:function(a,c,e){this.config=e||{};this.events=
{};this.DDM=pega.util.DDM;this.groups={};"string"!==typeof a&&(this._domRef=a,a=b.generateId(a));this.id=a;this.addToGroup(c?c:"default");this.handleElId=a;d.onAvailable(a,this.handleOnAvailable,this,!0);this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig()},applyConfig:function(){this.events={mouseDown:!0,b4MouseDown:!0,mouseUp:!0,b4StartDrag:!0,startDrag:!0,b4EndDrag:!0,endDrag:!0,drag:!0,b4Drag:!0,invalidDrop:!0,b4DragOut:!0,
dragOut:!0,dragEnter:!0,b4DragOver:!0,dragOver:!0,b4DragDrop:!0,dragDrop:!0};if(this.config.events)for(var a in this.config.events)!1===this.config.events[a]&&(this.events[a]=!1);this.padding=this.config.padding||[0,0,0,0];this.isTarget=!1!==this.config.isTarget;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=!1!==this.config.primaryButtonOnly;this.dragOnly=!0===this.config.dragOnly?!0:!1;this.useShim=!0===this.config.useShim?!0:!1},handleOnAvailable:function(){this.available=
!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,e,d){this.padding=b||0===b?e||0===e?[a,b,e,d]:[a,b,a,b]:[a,a,a,a]},setInitPosition:function(a,c){var e=this.getEl();this.DDM.verifyEl(e)&&(a=a||0,c=c||0,e=b.getXY(e),this.initPageX=e[0]-a,this.initPageY=e[1]-c,this.lastPageX=e[0],this.lastPageY=e[1],this.setStartPosition(e))},setStartPosition:function(a){a=a||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=
!0;this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a];this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!==typeof a&&(a=b.generateId(a));this.handleElId=a;this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!==typeof a&&(a=b.generateId(a));d.on(a,"mousedown",this.handleMouseDown,this,!0);this.setHandleElId(a);this.hasOuterHandles=!0},unreg:function(){d.removeListener(this.id,
"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},isLocked:function(){return this.DDM.isLocked()||this.locked},handleMouseDown:function(a,b){b=a.which||a.button;if(!(this.primaryButtonOnly&&1<b||this.isLocked())){b=this.b4MouseDown(a);this.events.b4MouseDown&&(b=this.fireEvent("b4MouseDownEvent",a));var c=this.onMouseDown(a);this.events.mouseDown&&(c=this.fireEvent("mouseDownEvent",a));!1!==b&&!1!==c&&(this.DDM.refreshCache(this.groups),b=new pega.util.Point(d.getPageX(a),
d.getPageY(a)),(this.hasOuterHandles||this.DDM.isOverTarget(b,this))&&this.clickValidator(a)&&(this.setStartPosition(),this.DDM.handleMouseDown(a,this),this.DDM.stopEvent(a)))}},clickValidator:function(a){a=pega.util.Event.getTarget(a);return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDM.handleWasClicked(a,this.id))},getTargetCoord:function(a,b){a-=this.deltaX;b-=this.deltaY;this.constrainX&&(a<this.minX&&(a=this.minX),a>this.maxX&&(a=this.maxX));this.constrainY&&(b<this.minY&&(b=
this.minY),b>this.maxY&&(b=this.maxY));a=this.getTick(a,this.xTicks);b=this.getTick(b,this.yTicks);return{x:a,y:b}},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){"string"!==typeof a&&(a=b.generateId(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){a=a.toUpperCase();delete this.invalidHandleTypes[a]},removeInvalidHandleId:function(a){"string"!==typeof a&&
(a=b.generateId(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,e=this.invalidHandleClasses.length;b<e;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var c=!0,e;try{e=a.nodeName.toUpperCase()}catch(f){e=a.nodeName}c=(c=c&&!this.invalidHandleTypes[e])&&!this.invalidHandleIds[a.id];e=0;for(var d=this.invalidHandleClasses.length;c&&e<d;++e)c=!b.hasClass(a,this.invalidHandleClasses[e]);return c},setXTicks:function(a,
b){this.xTicks=[];this.xTickSize=b;a={};for(var c=this.initPageX;c>=this.minX;c-=b)a[c]||(this.xTicks[this.xTicks.length]=c,a[c]=!0);for(c=this.initPageX;c<=this.maxX;c+=b)a[c]||(this.xTicks[this.xTicks.length]=c,a[c]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;a={};for(var c=this.initPageY;c>=this.minY;c-=b)a[c]||(this.yTicks[this.yTicks.length]=c,a[c]=!0);for(c=this.initPageY;c<=this.maxY;c+=b)a[c]||(this.yTicks[this.yTicks.length]=c,a[c]=
!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,d){this.leftConstraint=parseInt(a,10);this.rightConstraint=parseInt(b,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;d&&this.setXTicks(this.initPageX,d);this.constrainX=!0},clearConstraints:function(){this.constrainY=this.constrainX=!1;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,d){this.topConstraint=
parseInt(a,10);this.bottomConstraint=parseInt(b,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;d&&this.setYTicks(this.initPageY,d);this.constrainY=!0},resetConstraints:function(){this.initPageX||0===this.initPageX?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);
this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];for(var c=0,d=b.length;c<d;++c){var f=c+1;if(b[f]&&b[f]>=a)return b[f]-a>a-b[c]?b[c]:b[f]}return b[b.length-1]}return Math.ceil(a)},toString:function(){return"DragDrop "+this.id}};pega.augment(pega.util.DragDrop,pega.util.EventProvider)})();pega.util.DD=function(d,b,a){d&&this.init(d,b,a)};
pega.extend(pega.util.DD,pega.util.DragDrop,{scroll:!0,autoOffset:function(d,b){this.setDelta(d-this.startPageX,b-this.startPageY)},setDelta:function(d,b){this.deltaX=d;this.deltaY=b},setDragElPos:function(d,b){var a=this.getDragEl();this.alignElWithMouse(a,d,b)},alignElWithMouse:function(d,b,a){var c=this.getTargetCoord(b,a);this.deltaSetXY?(pega.util.Dom.setStyle(d,"left",c.x+this.deltaSetXY[0]+"px"),pega.util.Dom.setStyle(d,"top",c.y+this.deltaSetXY[1]+"px")):(pega.util.Dom.setXY(d,[c.x,c.y]),
b=parseInt(pega.util.Dom.getStyle(d,"left"),10),a=parseInt(pega.util.Dom.getStyle(d,"top"),10),this.deltaSetXY=[b-c.x,a-c.y]);this.cachePosition(c.x,c.y);var e=this;setTimeout(function(){e.autoScroll.call(e,c.x,c.y,d.offsetHeight,d.offsetWidth)},0)},cachePosition:function(d,b){d?(this.lastPageX=d,this.lastPageY=b):(d=pega.util.Dom.getXY(this.getEl()),this.lastPageX=d[0],this.lastPageY=d[1])},autoScroll:function(d,b,a,c){if(this.scroll){var e=this.DDM.getClientHeight(),r=this.DDM.getClientWidth(),
f=this.DDM.getScrollTop(),g=this.DDM.getScrollLeft();c+=d;var k=e+f-b-this.deltaY,m=r+g-d-this.deltaX,n=document.all?80:30;a+b>e&&40>k&&window.scrollTo(g,f+n);b<f&&0<f&&40>b-f&&window.scrollTo(g,f-n);c>r&&40>m&&window.scrollTo(g+n,f);d<g&&0<g&&40>d-g&&window.scrollTo(g-n,f)}},applyConfig:function(){pega.util.DD.superclass.applyConfig.call(this);this.scroll=!1!==this.config.scroll},b4MouseDown:function(d){this.setStartPosition();this.autoOffset(pega.util.Event.getPageX(d),pega.util.Event.getPageY(d))},
b4Drag:function(d){this.setDragElPos(pega.util.Event.getPageX(d),pega.util.Event.getPageY(d))},toString:function(){return"DD "+this.id}});pega.util.DDProxy=function(d,b,a){d&&(this.init(d,b,a),this.initFrame())};pega.util.DDProxy.dragElId="ygddfdiv";
pega.extend(pega.util.DDProxy,pega.util.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var d=this,b=document.body;if(b&&b.firstChild){var a=this.getDragEl(),c=pega.util.Dom;if(!a){a=document.createElement("div");a.id=this.dragElId;var e=a.style;e.position="absolute";e.visibility="hidden";e.cursor="move";e.border="2px solid #aaa";e.zIndex=999;e.height="25px";e.width="25px";e=document.createElement("div");c.setStyle(e,"height","100%");c.setStyle(e,"width","100%");c.setStyle(e,"background-color",
"#ccc");c.setStyle(e,"opacity","0");a.appendChild(e);pega.env.ua.ie&&(e=document.createElement("iframe"),e.setAttribute("src","blank.htm"),e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),a.insertBefore(e,a.firstChild),c.setStyle(e,"height","100%"),c.setStyle(e,"width","100%"),c.setStyle(e,"position","absolute"),c.setStyle(e,"top","0"),c.setStyle(e,"left","0"),c.setStyle(e,"opacity","0"),c.setStyle(e,"zIndex","-1"),c.setStyle(e.nextSibling,"zIndex","2"));b.insertBefore(a,b.firstChild)}}else setTimeout(function(){d.createFrame()},
50)},initFrame:function(){this.createFrame()},applyConfig:function(){pega.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=!1!==this.config.resizeFrame;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||pega.util.DDProxy.dragElId)},showFrame:function(d,b){this.getEl();var a=this.getDragEl(),c=a.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(c.width,10)/2),Math.round(parseInt(c.height,10)/2));this.setDragElPos(d,b);pega.util.Dom.setStyle(a,
"visibility","visible")},_resizeProxy:function(){if(this.resizeFrame){var d=pega.util.Dom,b=this.getEl(),a=this.getDragEl(),c=parseInt(d.getStyle(a,"borderTopWidth"),10),e=parseInt(d.getStyle(a,"borderRightWidth"),10),r=parseInt(d.getStyle(a,"borderBottomWidth"),10),f=parseInt(d.getStyle(a,"borderLeftWidth"),10);isNaN(c)&&(c=0);isNaN(e)&&(e=0);isNaN(r)&&(r=0);isNaN(f)&&(f=0);c=Math.max(0,b.offsetHeight-c-r);d.setStyle(a,"width",Math.max(0,b.offsetWidth-e-f)+"px");d.setStyle(a,"height",c+"px")}},b4MouseDown:function(d){this.setStartPosition();
var b=pega.util.Event.getPageX(d);d=pega.util.Event.getPageY(d);this.autoOffset(b,d)},b4StartDrag:function(d,b){this.showFrame(d,b)},b4EndDrag:function(d){pega.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(d){d=pega.util.Dom;var b=this.getEl(),a=this.getDragEl();d.setStyle(a,"visibility","");d.setStyle(b,"visibility","hidden");pega.util.DDM.moveToEl(b,a);d.setStyle(a,"visibility","hidden");d.setStyle(b,"visibility","")},toString:function(){return"DDProxy "+this.id}});
pega.util.DDTarget=function(d,b,a){d&&this.initTarget(d,b,a)};pega.extend(pega.util.DDTarget,pega.util.DragDrop,{toString:function(){return"DDTarget "+this.id}});pega.register("dragdrop",pega.util.DragDropMgr,{version:"2.5.1",build:"984"});
pega.util.Attribute=function(c,a){a&&(this.owner=a,this.configure(c,!0))};
pega.util.Attribute.prototype={name:void 0,value:null,owner:null,readOnly:!1,writeOnce:!1,_initialConfig:null,_written:!1,method:null,validator:null,getValue:function(){return this.value},setValue:function(c,a){var d,f=this.owner,g=this.name,h={type:g,prevValue:this.getValue(),newValue:c};if(this.readOnly||this.writeOnce&&this._written||this.validator&&!this.validator.call(f,c)||!a&&(d=f.fireBeforeChangeEvent(h),!1===d))return!1;this.method&&this.method.call(f,c);this.value=c;this._written=!0;h.type=
g;a||this.owner.fireChangeEvent(h);return!0},configure:function(c,a){c=c||{};this._written=!1;this._initialConfig=this._initialConfig||{};for(var d in c)d&&pega.lang.hasOwnProperty(c,d)&&(this[d]=c[d],a&&(this._initialConfig[d]=c[d]))},resetValue:function(){return this.setValue(this._initialConfig.value)},resetConfig:function(){this.configure(this._initialConfig)},refresh:function(c){this.setValue(this.value,c)}};
(function(){var c=pega.util.Lang;pega.util.AttributeProvider=function(){};pega.util.AttributeProvider.prototype={_configs:null,get:function(a){this._configs=this._configs||{};if(a=this._configs[a])return a.value},set:function(a,d,c){this._configs=this._configs||{};return(a=this._configs[a])?a.setValue(d,c):!1},getAttributeKeys:function(){this._configs=this._configs;var a=[],d,f;for(f in this._configs)d=this._configs[f],c.hasOwnProperty(this._configs,f)&&!c.isUndefined(d)&&(a[a.length]=f);return a},
setAttributes:function(a,d){for(var f in a)c.hasOwnProperty(a,f)&&this.set(f,a[f],d)},resetValue:function(a,d){this._configs=this._configs||{};return this._configs[a]?(this.set(a,this._configs[a]._initialConfig.value,d),!0):!1},refresh:function(a,d){this._configs=this._configs;a=(c.isString(a)?[a]:a)||this.getAttributeKeys();for(var f=0,g=a.length;f<g;++f)!this._configs[a[f]]||c.isUndefined(this._configs[a[f]].value)||c.isNull(this._configs[a[f]].value)||this._configs[a[f]].refresh(d)},register:function(a,
d){this.setAttributeConfig(a,d)},getAttributeConfig:function(a){this._configs=this._configs||{};var d=this._configs[a]||{},f={};for(a in d)c.hasOwnProperty(d,a)&&(f[a]=d[a]);return f},setAttributeConfig:function(a,d,c){this._configs=this._configs||{};d=d||{};this._configs[a]?this._configs[a].configure(d,c):(d.name=a,this._configs[a]=this.createAttribute(d))},configureAttribute:function(a,d,c){this.setAttributeConfig(a,d,c)},resetAttributeConfig:function(a){this._configs=this._configs||{};this._configs[a].resetConfig()},
subscribe:function(a,c){this._events=this._events||{};a in this._events||(this._events[a]=this.createEvent(a));pega.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.subscribe.apply(this,arguments)},addListener:function(){this.subscribe.apply(this,arguments)},fireBeforeChangeEvent:function(a){var c;c="before"+(a.type.charAt(0).toUpperCase()+a.type.substr(1)+"Change");a.type=c;return this.fireEvent(a.type,a)},fireChangeEvent:function(a){a.type+="Change";return this.fireEvent(a.type,
a)},createAttribute:function(a){return new pega.util.Attribute(a,this)}};pega.augment(pega.util.AttributeProvider,pega.util.EventProvider)})();
(function(){var c=pega.util.Dom,a=pega.util.AttributeProvider;pega.util.Element=function(b,a){arguments.length&&this.init(b,a)};pega.util.Element.prototype={DOM_EVENTS:null,appendChild:function(b){b=b.get?b.get("element"):b;this.get("element").appendChild(b)},getElementsByTagName:function(b){return this.get("element").getElementsByTagName(b)},hasChildNodes:function(){return this.get("element").hasChildNodes()},insertBefore:function(b,a){b=b.get?b.get("element"):b;a=a&&a.get?a.get("element"):a;this.get("element").insertBefore(b,
a)},removeChild:function(b){b=b.get?b.get("element"):b;this.get("element").removeChild(b);return!0},replaceChild:function(b,a){b=b.get?b.get("element"):b;a=a.get?a.get("element"):a;return this.get("element").replaceChild(b,a)},initAttributes:function(b){},addListener:function(b,a,c,d){var e=this.get("element");d=d||this;var e=this.get("id")||e,k=this;this._events[b]||(this.DOM_EVENTS[b]&&pega.util.Event.addListener(e,b,function(a){a.srcElement&&!a.target&&(a.target=a.srcElement);k.fireEvent(b,a)},
c,d),this.createEvent(b,this));pega.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.addListener.apply(this,arguments)},subscribe:function(){this.addListener.apply(this,arguments)},removeListener:function(b,a){this.unsubscribe.apply(this,arguments)},addClass:function(b){c.addClass(this.get("element"),b)},getElementsByClassName:function(b,a){return c.getElementsByClassName(b,a,this.get("element"))},hasClass:function(b){return c.hasClass(this.get("element"),b)},removeClass:function(b){return c.removeClass(this.get("element"),
b)},replaceClass:function(b,a){return c.replaceClass(this.get("element"),b,a)},setStyle:function(a,e){var b=this.get("element");return b?c.setStyle(b,a,e):this._queue[this._queue.length]=["setStyle",arguments]},getStyle:function(a){return c.getStyle(this.get("element"),a)},fireQueue:function(){for(var a=this._queue,e=0,c=a.length;e<c;++e)this[a[e][0]].apply(this,a[e][1])},appendTo:function(a,e){a=a.get?a.get("element"):c.get(a);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:a});e=e&&
e.get?e.get("element"):c.get(e);var b=this.get("element");if(!b||!a)return!1;b.parent!=a&&(e?a.insertBefore(b,e):a.appendChild(b));this.fireEvent("appendTo",{type:"appendTo",target:a})},get:function(b){var e=this._configs||{},c=e.element;return!c||e[b]||pega.lang.isUndefined(c.value[b])?a.prototype.get.call(this,b):c.value[b]},setAttributes:function(a,e){var b=this.get("element"),c;for(c in a)this._configs[c]||pega.lang.isUndefined(b[c])||this.setAttributeConfig(c);b=0;for(c=this._configOrder.length;b<
c;++b)void 0!==a[this._configOrder[b]]&&this.set(this._configOrder[b],a[this._configOrder[b]],e)},set:function(b,c,d){var e=this.get("element");if(e)return this._configs[b]||pega.lang.isUndefined(e[b])||h.call(this,b),a.prototype.set.apply(this,arguments);this._queue[this._queue.length]=["set",arguments];this._configs[b]&&(this._configs[b].value=c)},setAttributeConfig:function(b,c,d){var e=this.get("element");!e||this._configs[b]||pega.lang.isUndefined(e[b])?a.prototype.setAttributeConfig.apply(this,
arguments):h.call(this,b,c);this._configOrder.push(b)},getAttributeKeys:function(){var b=this.get("element"),c=a.prototype.getAttributeKeys.call(this),d;for(d in b)this._configs[d]||(c[d]=c[d]||b[d]);return c},createEvent:function(b,c){this._events[b]=!0;a.prototype.createEvent.apply(this,arguments)},init:function(a,c){d.apply(this,arguments)}};var d=function(a,e){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];e=e||{};e.element=e.element||
a||null;this.DOM_EVENTS={click:!0,dblclick:!0,keydown:!0,keypress:!0,keyup:!0,mousedown:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0};var b=!1;pega.lang.isString(a)&&h.call(this,"id",{value:e.element});c.get(a)&&(b=!0,f.call(this,e),g.call(this,e));pega.util.Event.onAvailable(e.element,function(){b||f.call(this,e);this.fireEvent("available",{type:"available",target:e.element})},this,!0);pega.util.Event.onContentReady(e.element,function(){b||g.call(this,e);this.fireEvent("contentReady",{type:"contentReady",
target:e.element})},this,!0)},f=function(a){this.setAttributeConfig("element",{value:c.get(a.element),readOnly:!0})},g=function(a){this.initAttributes(a);this.setAttributes(a,!0);this.fireQueue()},h=function(a,c){var b=this.get("element");c=c||{};c.name=a;c.method=c.method||function(c){b[a]=c};c.value=c.value||b[a];this._configs[a]=new pega.util.Attribute(c,this)};pega.augment(pega.util.Element,a)})();pega.register("element",pega.util.Element,{version:"2.5.1",build:"984"});
var getElementsByQuery=function(b,a){b=b.querySelectorAll(a);if(0==b.length)return null;a=[];for(var c=0;c<b.length;c++)a.push(b[c]);return a};pega.util.Dom.getFrames=function(b){var a=function(b,d){d||(d=[]);d.push(b);for(var c=0;c<b.frames.length;c++){var g=b.frames[c];try{g.name=g.name}catch(f){continue}a(g,d)}return d};return a(b)};
pega.util.Dom.getElementsById=function(b,a,c){if(!b||/^[0-9]/.test(b))return null;var d=b.toUpperCase();a||(a=document);var e=[],g=!1,f="";null!=c&&"undefined"!=typeof c&&(g=!0,f=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if(0<navigator.userAgent.indexOf("iPad")&&0<navigator.userAgent.indexOf("OS 7_0_4")){if(document.evaluate)for(var k=document.evaluate(g?".//"+f+"[@id]":".//*[@id]",a,null,0,null),h=k.iterateNext();h;)h.getAttribute("id").toUpperCase()==d&&(e[e.length]=h),h=k.iterateNext();
return 0==e.length?null:e}if("undefined"!=typeof a.querySelectorAll)return c=[],a.getElementById&&!a.getElementById(b)?null:c=b&&-1==b.indexOf(".")&&-1==b.indexOf("$")&&-1==b.indexOf("@")?getElementsByQuery(a,f+"#"+b):getElementsByQuery(a,f+"[id\x3d'"+b+"']");throw"undefined";}catch(l){console.log("Exception caught in getElementsById")}};
pega.util.Dom.getElementsByAttribute=function(b,a,c,d){if(!a)return null;d||(d=document);var e="";null!=c&&"undefined"!=typeof c&&(e=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof d.querySelectorAll)return c=[],c="*"==a?getElementsByQuery(d,e+"["+b+"]"):getElementsByQuery(d,e+"["+b+"\x3d'"+a+"']"),c=null==c?[]:c}catch(g){console.log("Exception caught in getElementsByAttribute")}};
pega.util.Dom.getInnerText=function(b){return b.innerText&&!window.opera?b.innerText:pega.util.Dom.findInnerText(b)};pega.util.Dom.setInnerText=function(b,a){void 0===b.textContent?b.innerText=a:b.textContent=a};
pega.util.Dom.getCoords=function(b){var a=!0;"none"==b.style.display&&(a=!1);for(var c={left:2,top:2,right:b.offsetWidth,bottom:b.offsetHeight};b&&"unknown"!=typeof b.offsetParent&&a;)c.left+=b.offsetLeft,c.top+=b.offsetTop,(b=b.offsetParent)&&(a=a&&"none"!=b.style.display);a?(c.right+=c.left,c.bottom+=c.top):(c.right=c.left,c.bottom=c.top);return c};
pega.util.Dom.getOuterHTML=function(b){if(pega.util.Event.isIE)return b.outerHTML;for(var a=b.attributes,c="\x3c"+b.tagName,d=0;d<a.length;d++)c+=" "+a[d].name+'\x3d"'+a[d].value+'"';return{IMG:!0,BR:!0,INPUT:!0,META:!0,LINK:!0,PARAM:!0,HR:!0}[b.tagName]?c+"\x3e":c+"\x3e"+b.innerHTML+"\x3c/"+b.tagName+"\x3e"};
pega.util.Event.fireEvent=function(b,a,c){"on"==a.substring(0,2).toLowerCase()&&(a=a.substring(2));if(b.addEventListener){c||(c=window);if("click"==a||"mousedown"==a||"mouseup"==a||"mouseover"==a||"mousemove"==a||"mouseout"==a||"dblclick"==a){var d=c.document.createEvent("MouseEvents");d.initMouseEvent(a,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}else if("focusin"==a||"focusout"==a)d=c.document.createEvent("Events"),d.initEvent(a,!0,!0,window,null);else if("load"==a||"unload"==a||"abort "==a||"error"==
a||"select"==a||"change"==a||"submit"==a||"reset"==a||"resize"==a||"scroll"==a||"focus"==a||"blur"==a)d=c.document.createEvent("Events"),d.initEvent(a,!1,!1);else if("DOMFocusIn"==a||"DOMFocusOut"==a||"DOMActivate"==a)d=c.document.createEvent("UIEvents"),d.initUIEvent(a,!1,!1,window,1);b.dispatchEvent(d)}else b.attachEvent&&b.fireEvent("on"+a)};
pega.util.Dom.getElementsByName=function(b,a,c){if(!b)return null;a||(a=document);var d="";null!=c&&"undefined"!=typeof c&&(d=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof a.querySelectorAll)return c=[],c=getElementsByQuery(a,d+'[name\x3d"'+b+'"]')}catch(e){console.log("Exception caught in getElementsByName")}};
pega.util.Dom.getElementsByIdOrName=function(b,a,c){if(!b)return null;a||(a=document);var d=[],e="";null!=c&&"undefined"!=typeof c&&(e=pega.util.Event.isSafari?c.toLowerCase():c.toUpperCase());try{if("undefined"!=typeof a.querySelectorAll)return d=[],d=getElementsByQuery(a,e+"[id\x3d'"+b+"'],"+e+"[name\x3d'"+b+"']")}catch(g){console.log("Exception caught in getElementsByIdOrName")}};
pega.util.Dom.selectSingleNode=function(b,a){if("undefined"==typeof XPathEvaluator){if((b=b.selectNodes(a))&&0<b.length)return b[0]}else if(b=b.evaluate(a,b,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),null!=b)return b.singleNodeValue;return null};
pega.util.Dom.changeStyle=function(b,a,c){var d={focusevent:{add:"focus",remove:"blur"},iefocusevent:{add:"focusin",remove:"focusout"},mouseevent:{add:"mouseover",remove:"mouseout"}};b.styleArr=b.styleArr||[];0==b.styleArr.length&&b.styleArr.push({eventGroup:"default",style:b.style.cssText});var e=!1,g=!1,f;for(f in d)if(d[f].add==a){e=!0;break}else if(d[f].remove==a){g=!0;break}if(e)b.styleArr.push({eventGroup:f,style:c});else if(g){c=-1;d=b.styleArr.length;for(a=0;a<d;a++)if(b.styleArr[a].eventGroup==
f){c=a;break}-1!=c&&b.styleArr.splice(c,1)}else return!1;f="";for(a=0;a<b.styleArr.length;a++)f+=";"+b.styleArr[a].style;b.style.cssText=f;return!0};pega.util.Dom.removeNode=function(b){b.removeNode?b.removeNode(!0):b.parentNode.removeChild(b)};
pega.util.Event.getDragData=function(b){b=b.dataTransfer;var a=pega.desktop.support.getDesktopWindow();if(b){var c=b.getData("Text"),d,e=b.dropEffect;try{d=b.effectAllowed}catch(g){}c||(c=a.dragData);d&&"none"!=d.toLowerCase()||(d=a.effectAllowed);e&&"none"!=e.toLowerCase()||(e=a.dropEffect);return{dragData:c,effectAllowed:d,dropEffect:e}}};
pega.util.Event.setDragData=function(b,a){var c,d=pega.desktop.support.getDesktopWindow();b&&(c=b.dataTransfer);a?c&&(void 0!==a.dragData&&(c.setData("Text",a.dragData),d.dragData=a.dragData),a.effectAllowed&&(c.effectAllowed=a.effectAllowed,d.effectAllowed=a.effectAllowed),a.dropEffect&&(c.dropEffect=a.dropEffect,d.dropEffect=a.dropEffect)):(d.dragData=null,d.effectAllowed=null,d.dropEffect=null)};
pega.util.Dom.getElementsBy=function(a,b,c,d){b=b||"*";"string"!=typeof c&&c||(c=document.getElementById(c));c||(c=document);var e=[];b=c.getElementsByTagName(b);c=0;for(var f=b.length;c<f;++c)a(b[c])&&(e[e.length]=b[c],d&&d(b[c]));return e};pega.util.Dom.removeElements=function(a,b,c,d){arrEl=pega.util.Dom.getElementsBy(a,b,c,d);for(i=arrEl.length;0<i;i--)arrEl[i-1].parentNode.removeChild(arrEl[i-1]),arrEl[i-1]=null};
pega.util.Dom.stripScripts=function(a){return a.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/img,"")};pega.util.Dom.unescapeHTML=function(a){var b=document.createElement("div");b.innerHTML=pega.util.Dom.stripTags(a);a=Array(b.childNodes);return b.childNodes[0]?1<b.childNodes.length?pega.util.Dom.inject(a,"",function(a,b){return a+b.nodeValue}):b.childNodes[0].nodeValue:""};pega.util.Dom.stripTags=function(a){return a.replace(/<\/?[^>]+>/gi,"")};
pega.util.Dom.inject=function(a,b,c){a.each(function(a,e){b=c(b,a,e)});return b};pega.util.Dom.findInnerText=function(a){a=pega.util.Dom.stripScripts(a.innerHTML);return pega.util.Dom.unescapeHTML(a).replace(/[\n\r\s]+/g," ")};
pega.util.Dom.clearEvents=function(a,b){clearEventProps=function(a){for(propName in a)if(-1!=propName.indexOf("on"))try{eval("oEl."+propName+"\x3d"+value)}catch(g){}};innerClearEvents=function(a,c,b){a=$(a).children();for(var d=0;d<a.length;d++){var e=a[d];b&&$(e).children().first()[0]&&innerClearEvents(e,c,b);clearEventProps(e)}};2>arguments.length&&(b=!1);pega.lang.isObject(a.forms)&&pega.lang.isObject(a.anchors)&&(a=a.getElementsByTagName("HTML")[0]);var c=$(a).get();if(pega.lang.isArray(c))for(var d=
0;d<c.length;d++){var e=c[d];innerClearEvents(e,null,b);clearEventProps(e)}else innerClearEvents(c,null,b),clearEventProps(c)};
pega.util.Dom.updateInnerHTML=function(a){"string"===typeof a&&(a=document.getElementById(a));if("select-one"===a.type){for(;void 0===a.options;);for(var b=a.selectedIndex,c=0;c<a.options.length;c++)c!==b&&null!=a.options[c].getAttribute("selected")&&a.options[c].attributes.removeNamedItem("selected"),c===b&&a.options[b].setAttribute("selected","selected")}else if("text"===a.type)a.setAttribute("value",a.value);else if("textarea"===a.type)pega.util.Event.isIE?a.innerText=a.value:a.innerHTML=a.value;
else if("checkbox"===a.type||"radio"===a.type)a.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked")};pega.util.Dom.updateInnerHTMLForFields=function(a){var b=a.getElementsByTagName("input"),c=a.getElementsByTagName("select");a=a.getElementsByTagName("textarea");b=[b,c,a];for(c=0;c<b.length;c++){a=b[c];for(var d=0;d<a.length;d++)pega.util.Dom.updateInnerHTML(b[c][d])}};
try{pega.u=pega.namespace("pega.ui");pega.t=pega.namespace("pega.tools");pega.d=pega.namespace("pega.desktop");pega.ud=pega.namespace("pega.uidesign");pega.u.wp=pega.namespace("pega.ui.WindowPane")}catch(e){};
pega.namespace("pega.tools");pega.tools.Hashtable=function(b){this.hashtable=b?b:{}};pega.tools.Hashtable.prototype.clear=function(){this.hashtable={}};pega.tools.Hashtable.prototype.containsKey=function(b){var a=!1,c;for(c in this.hashtable)if(c==b&&null!=this.hashtable[c]){a=!0;break}return a};pega.tools.Hashtable.prototype.containsValue=function(b){var a=!1;if(null!=b)for(var c in this.hashtable)if(this.hashtable[c]==b){a=!0;break}return a};pega.tools.Hashtable.prototype.get=function(b){return this.hashtable[b]};
pega.tools.Hashtable.prototype.isEmpty=function(){return 0==this.size()?!0:!1};pega.tools.Hashtable.prototype.keys=function(){var b=[],a;for(a in this.hashtable)null!=this.hashtable[a]&&b.push(a);return b};pega.tools.Hashtable.prototype.put=function(b,a){if(null==b||null==a)throw"NullPointerException {"+b+"}, {"+a+"}";this.hashtable[b]=a;return!0};pega.tools.Hashtable.prototype.remove=function(b){var a=this.hashtable[b];null!=a&&"undefined"!=typeof a&&(this.hashtable[b]=null);return a};
pega.tools.Hashtable.prototype.size=function(){var b=0,a;for(a in this.hashtable)null!=this.hashtable[a]&&b++;return b};pega.tools.Hashtable.prototype.toString=function(){var b="",a;for(a in this.hashtable)null!=this.hashtable[a]&&(b+="{"+a+"},{"+this.hashtable[a]+"}\n");return b};pega.tools.Hashtable.prototype.values=function(){var b=[],a;for(a in this.hashtable)null!=this.hashtable[a]&&b.push(this.hashtable[a]);return b};var Hashtable=function(){Hashtable.superclass.constructor.call(this)};
pega.lang.extend(Hashtable,pega.tools.Hashtable);
pega.tools.SUtils={trim:function(a){"string"==typeof a&&(a=a.replace(/^[\s]+/g,""),a=a.replace(/[\s]+$/g,""));return a},reformat:function(a,b,c){return null==a?null:a.split(b).join(c)}};var trim=pega.tools.SUtils.trim;
SafeURL.prototype=new Hashtable;function SafeURL(a,b){this.hashtable={};this.name="safeURL";void 0!=a&&null!=a&&""!=a&&this.setActivityAction(a);1<arguments.length&&""!=b&&this.put("pxReqURI",b)}SafeURL.prototype.copy=function(a,b){if(1<arguments.length&&b)for(var c in a.hashtable){var d=a.get(c);null!=d&&"undefined"!=typeof d&&this.put(c,d)}for(c in a.hashtable)d=a.get(c),null!=d&&"undefined"!=typeof d&&this.put(c,d)};SafeURL.prototype.toQueryStringWithEscape=function(){return this.toQueryString(!1)};
SafeURL.prototype.toQueryStringWithoutEscape=function(){return this.toQueryString(!0)};SafeURL.prototype.nullify=function(){for(var a=this.size(),b=this.keys(),c=0;c<a;c++)this.hashtable[b[c]]=null};
SafeURL.prototype.mayBeEscaped=function(a){return null==a||""==a?!1:-1!=a.indexOf("%20")||-1!=a.indexOf("%22")||-1!=a.indexOf("%23")||-1!=a.indexOf("%24")||-1!=a.indexOf("%25")||-1!=a.indexOf("%26")||-1!=a.indexOf("%27")||-1!=a.indexOf("%2B")||-1!=a.indexOf("%2C")||-1!=a.indexOf("%2F")||-1!=a.indexOf("%3A")||-1!=a.indexOf("%3B")||-1!=a.indexOf("%3C")||-1!=a.indexOf("%3D")||-1!=a.indexOf("%3E")||-1!=a.indexOf("%3F")||-1!=a.indexOf("%40")||-1!=a.indexOf("%5B")||-1!=a.indexOf("%5C")||-1!=a.indexOf("%5D")||
-1!=a.indexOf("%5E")||-1!=a.indexOf("%60")||-1!=a.indexOf("%7B")||-1!=a.indexOf("%7C")||-1!=a.indexOf("%7D")||-1!=a.indexOf("%7E")?!0:!1};SafeURL.prototype.toEncodedPostBody=function(){return this.toQueryString(!1,!1)};SafeURL.prototype.toEncodedQueryString=function(){return this.toQueryString(!1,!1)};SafeURL.prototype.toUnencodedQueryString=function(){return this.toQueryString(!0,!1)};
SafeURL.prototype.toQueryString=function(a,b){var c="",d="",e=!0,g=!0;0<arguments.length&&(e=!a);1<arguments.length&&(g=b);if(document&&("pyActivity"in this.hashtable||"pyStream"in this.hashtable)){var f=this.hashtable.pxReqURI;(!f||" "==f[0]||"/"==f[0]||-1<f.indexOf(document.location.host))&&(f=document.getElementById("pzHarnessID"))&&!this.hashtable.pzHarnessID&&(this.hashtable.pzHarnessID=f.value)}for(var h in this.hashtable)if("pxReqURI"!=h){f=this.hashtable[h];if("string"==typeof f){if(g)try{f=
decodeURIComponent(escape(unescape(f)))}catch(k){f=unescape(f)}e&&(f=encodeURIComponent(f))}"pyActivity"==h||"pyStream"==h?c=h+"\x3d"+f:null!=this.hashtable[h]&&("object"==typeof f&&"safeURL"==f.name&&(f=f.toURL()),d+="\x26"+h+"\x3d"+f)}return""==c?""==d?"":d.substring(1,d.length):c+d};SafeURL.prototype.toEncryptedURL=function(){return this.toURL(!1,!1)};
SafeURL.prototype.toAbsoluteURL=function(){var a=document.location.href,b=a.indexOf("?pyActivity\x3d"),c=a.indexOf("?pyStream\x3d");if(0<b)return a.substr(0,b);if(0<c)return a.substr(0,c);for(b=a.length-1;0<=b;--b)if("/"==a.charAt(b))return a.substr(0,b);return"ABSOLUTE_URL_NOT_FOUND"};
SafeURL.prototype.addEventSource=function(){try{var a=window.event;if(a&&a.target){var b=pega.ctx.dom.closest(a.target,"div[node_name][class*\x3dsectionDivStyle]");if(b){var c=b.getAttribute("pyclassname")+"."+b.getAttribute("node_name");c&&this.put("eventSrcSection",c)}}}catch(d){}};
SafeURL.prototype.toURL=function(a,b){var c=!1,d=!0,e=window.pega&&pega.ctx&&pega.ctx.bEncryptURLs;0<arguments.length&&(c=a);1<arguments.length&&(d=b);window.pega&&!pega.disableEventSource&&this.addEventSource();var g="";this.hashtable.pxReqURI?g=this.hashtable.pxReqURI:"undefined"!=typeof pega.ctx.pxReqURI&&""!==pega.ctx.pxReqURI?g=pega.ctx.pxReqURI:"undefined"!=typeof safeUrlRequestURI?g=safeUrlRequestURI:"undefined"!=typeof gRuleFormManager&&"object"==typeof gRuleFormManager.wrapperAPI&&"undefined"!=
typeof gRuleFormManager.wrapperAPI.safeUrlRequestURI&&(g=gRuleFormManager.wrapperAPI.safeUrlRequestURI);c=this.toQueryString(c,d);if(null==c||""==c)return g;d="?";-1<g.indexOf("?")&&"undefined"!=typeof pega&&"undefined"!=typeof pega.d&&"undefined"!=typeof pega.d.isPortlet&&1==pega.d.isPortlet&&(d="\x26");return e&&(-1<c.indexOf("pyActivity")||-1<c.indexOf("pyStream"))?g+d+URLObfuscation.encrypt(c):g+d+c};
SafeURL.prototype.put=function(a,b){try{if(void 0==a||null==a||void 0==b||null==b)throw"NullPointerException in SafeURL.put(key,value) {"+a+"}, {"+b+"}";this.hashtable[a]=b;return!0}catch(c){return window.alert(c),!1}};SafeURL.prototype.get=function(a,b){return this.hashtable[a]};SafeURL.prototype.setStreamAction=function(a){this.put("pyStream",a)};SafeURL.prototype.setActivityAction=function(a){0===a.indexOf("pzuiactionzzz")?this.put("pzuiactionzzz",a.substring(14)):this.put("pyActivity",a)};
function SafeURL_createFromURL(a){a||(a=window.pega&&pega.ctx&&pega.ctx.url);var b=a.indexOf("pyactivitypzZZZ\x3d");if(-1!=b){var c=a.substr(0,b);a=a.substr(b+16);var b=a.indexOf("*"),d=a.substr(b+1);a=URLObfuscation.decrypt(a.substr(0,b));a=c+a+d}b=a.indexOf("?");c=new SafeURL;-1<b&&(d=a.substr(0,b),c.put("pxReqURI",d));var b=SafeURL_getNameValuePairsAsObject(a.substr(b+1,a.length)),e;for(e in b)"NoNVFound"==b[e]?c.put("pxReqURI",a):c.put(e,b[e]);return c}
function SafeURL_createFromEncryptedURL(a){return SafeURL_createFromURL(a)}
function SafeURL_createFromEncryptedURLwithQueryString(a){var b="";if(-1!=a.indexOf("pyactivitypzZZZ\x3d"))if(-1!=a.indexOf("*\x26")){var c=a.lastIndexOf("*\x26");if(-1<c){var b=a.substr(c+1,a.length-(c+2)),d=a.lastIndexOf("pyactivitypzZZZ\x3d");-1<d&&(a=a.substr(d+16,c-(d+16)),a=URLObfuscation.decrypt(a))}}else d=a.lastIndexOf("\x3d"),-1<d&&(a=URLObfuscation.decrypt(a.substr(d+1,a.length-(d+2))));""!=b&&(a+=b);d=a.indexOf("?");b=new SafeURL;-1<d&&(c=a.substr(0,d),b.put("pxReqURI",c));a=SafeURL_getNameValuePairsAsObject(a.substr(d+
1,a.length));for(var e in a)null==a[e]?b.put("pxReqURI",e):b.put(e,a[e]);return b}function SafeURL_getParameterParamNameList(a){var b=[];try{var c=SafeURL_getNameValuePairsAsObject(a);a=0;for(var d in c)b[a++]=d}catch(e){}return b}function SafeURL_getParameterParamValueList(a){var b=[];try{var c=SafeURL_getNameValuePairsAsObject(a);a=0;for(var d in c)b[a++]=c[d]}catch(e){}return b}
function SafeURL_getNameValuePairsAsObject(a){var b={};try{var c="",d="";if(null==a||""==a)return b;for(var e=a.split("\x26"),g=0;g<e.length;++g){var f=e[g];if(""!=f){var h=f.indexOf("\x3d");-1!=h?(c=f.substring(0,h),d=f.substring(h+1,f.length),b[c]=d):a==f?b[f]="NoNVFound":b[c]=("undefined"!=typeof b[c]?b[c].toString():"")+"\x26"+f}}}catch(k){}return b}
function SafeURL_clone(a){var b=new SafeURL,c;for(c in a.hashtable)null!=a.hashtable[c]&&("object"==typeof a.hashtable[c]&&"safeURL"==a.hashtable[c].name&&(a.hashtable[c]=SafeURL_clone(a.hashtable[c])),b.put(c,a.hashtable[c]));return b}
function serializeSafeURL(a){var b="\x3cSafeURL\x3e",c;for(c in a.hashtable){var d=a.hashtable[c];"object"==typeof d&&"safeURL"==d.name?(d=serializeSafeURL(d),b+="\x3cparam name\x3d'safeURL' key\x3d'"+c+"'\x3e"+d+"\x3c/param\x3e"):b+="\x3cparam key\x3d'"+c+"'\x3e"+d+"\x3c/param\x3e"}return b+"\x3c/SafeURL\x3e"}
function deserializeSafeURL(a){var b=new SafeURL,c=new ActiveXObject("microsoft.xmldom");if(c.loadXML(a)){a=c.firstChild.childNodes;for(var c=a.length,d=0;d<c;d++){var e=a[d].getAttribute("key"),g=a[d].getAttribute("name"),f=a[d].text;"safeURL"==g&&(f=deserializeSafeURL(a[d].firstChild.xml));null!=f&&"undefined"!=typeof f&&b.put(e,f)}return b}return null}
function Hashtable(){this.clear=hashtable_clear;this.containsKey=hashtable_containsKey;this.containsValue=hashtable_containsValue;this.get=hashtable_get;this.isEmpty=hashtable_isEmpty;this.keys=hashtable_keys;this.put=hashtable_put;this.remove=hashtable_remove;this.size=hashtable_size;this.toString=hashtable_toString;this.values=hashtable_values;this.hashtable={}}function hashtable_clear(){this.hashtable={}}
function hashtable_containsKey(a){var b=!1,c;for(c in this.hashtable)if(c==a&&null!=this.hashtable[c]){b=!0;break}return b}function hashtable_containsValue(a){var b=!1;if(null!=a)for(var c in this.hashtable)if(this.hashtable[c]==a){b=!0;break}return b}function hashtable_get(a){return this.hashtable[a]}function hashtable_isEmpty(){return 0==this.size()?!0:!1}function hashtable_keys(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(b);return a}
function hashtable_put(a,b){if(null==a||null==b)throw"NullPointerException {"+a+"}, {"+b+"}";this.hashtable[a]=b;return!0}function hashtable_remove(a){var b=this.hashtable[a];this.hashtable[a]=null;return b}function hashtable_size(){var a=0,b;for(b in this.hashtable)null!=this.hashtable[b]&&a++;return a}function hashtable_toString(){var a="",b;for(b in this.hashtable)null!=this.hashtable[b]&&(a+="{"+b+"},{"+this.hashtable[b]+"}\n");return a}
function hashtable_values(){var a=[],b;for(b in this.hashtable)null!=this.hashtable[b]&&a.push(this.hashtable[b]);return a}
var URLObfuscation={_keyStr:"-_0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ[",encrypt:function(a){var b=getObfuscationKey();if(null==b)return URLObfuscation.encode(a);b=stringToByteArray(b);a=rijndaelEncrypt(a,formatKey(b));return"pyactivitypzZZZ\x3d"+byteArrayToHex(a)+"*"},decrypt:function(a){var b;a.startsWith("CXtnbH0%3D")?(b=pega.d.globalobfuscateKey,a=a.substring(10)):b=getObfuscationKey();if(null==b)return URLObfuscation.decode(a);b=stringToByteArray(b);a=rijndaelDecrypt(hexToByteArray(a),
formatKey(b));return decodeURI(byteArrayToString(a))},encode:function(a){if(0==a.indexOf("pyactivitypzZZZ\x3d"))return a;var b="",c,d,e,g,f,h,k=0;for(a=URLObfuscation._utf8_encode(a);k<a.length;)c=a.charCodeAt(k++)^90,d=a.charCodeAt(k++)^90,e=a.charCodeAt(k++)^90,g=c>>2,c=(c&3)<<4|d>>4,f=(d&15)<<2|e>>6,h=e&63,isNaN(d)?f=h=64:isNaN(e)&&(h=64),b=b+this._keyStr.charAt(g)+this._keyStr.charAt(c)+this._keyStr.charAt(f)+this._keyStr.charAt(h);return"pyactivitypzZZZ\x3d"+b+"*"},decode:function(a){var b="",
c,d,e,g,f,h=0;for(a=a.replace(/[^\-\_0-9a-zA-Z\[]/g,"");h<a.length;)c=this._keyStr.indexOf(a.charAt(h++)),d=this._keyStr.indexOf(a.charAt(h++)),g=this._keyStr.indexOf(a.charAt(h++)),f=this._keyStr.indexOf(a.charAt(h++)),c=c<<2|d>>4,d=(d&15)<<4|g>>2,e=(g&3)<<6|f,c^=90,b+=String.fromCharCode(c),64!=g&&(d^=90,b+=String.fromCharCode(d)),64!=f&&(e^=90,b+=String.fromCharCode(e));return b=URLObfuscation._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=
a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d,e,g;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),g=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|g&63),c+=
3);return b}},BS=128,BB=128,RA=[,null,null,null,[,null,null,null,10,null,12,null,14],null,[,null,null,null,12,null,12,null,14],null,[,null,null,null,14,null,14,null,14]],SO=[,null,null,null,[,1,2,3],null,[,1,2,3],null,[,1,3,4]],RC=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],SB=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,
113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,
101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],SBI=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,
152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,
169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],xorMask=[226,200,245,50,92,38,185,101,55,65,48,82,245,164,137,213,115,22,204,69,175,142,22,63,241,39,28,231,134,7,60,170,222,140,92,237,69,228,230,220,124,240,0,240,231,1,72,78,246,34,15,247,86,17,185,200,88,144,232,207,254,107,213,4,177,11,238,14,12,45,35,58,100,18,89,155,85,228,118,204,47,236,21,206,52,19,193,80,128,230,246,119,233,16,3,
142,252,237,228,120,50,67,88,39,114,7,10,30,65,153,128,136,145,49,146,215,54,58,230,38,13,27,149,90,194,45,15,85,32,101,107,214,172,188,253,138,143,240,251,137,65,48,137,241,145,131,142,10,248,194,42,86,75,1,41,187,218,209,62,56,199,255,209,32,99,253,91,252,135,215,247,71,255,185,228,239,39,224,237,110,80,35,204,245,167,127,164,27,211,138,221,109,89,142,28,239,178,129,212,221,138,103,94,233,184,214,166,111,80,95,146,116,193,124,181,9,51,80,31,46,38,91,167,251,136,23,151,191,235,248,248,234,172,53,
205,215,190,148,37,127,142,239,252,162,8,223,221,146,38,81,184,202,158,0,11,12];function cSL(a,b){var c=a.slice(0,b);return a=a.slice(b).concat(c)}var Nk=BS/32,Nb=BB/32,Nr=RA[Nk][Nb];function XT(a){a<<=1;return a&256?a^283:a}function GF(a,b){var c,d=0;for(c=1;256>c;c*=2,b=XT(b))a&c&&(d^=b);return d}function bS(a,b){b="e"==b?SB:SBI;for(var c=0;4>c;c++)for(var d=0;d<Nb;d++)a[c][d]=b[a[c][d]]}function sR(a,b){for(var c=1;4>c;c++)a[c]="e"==b?cSL(a[c],SO[Nb][c]):cSL(a[c],Nb-SO[Nb][c])}
function mC(a,b){for(var c=[],d=0;d<Nb;d++){for(var e=0;4>e;e++)c[e]="e"==b?GF(a[e][d],2)^GF(a[(e+1)%4][d],3)^a[(e+2)%4][d]^a[(e+3)%4][d]:GF(a[e][d],14)^GF(a[(e+1)%4][d],11)^GF(a[(e+2)%4][d],13)^GF(a[(e+3)%4][d],9);for(e=0;4>e;e++)a[e][d]=c[e]}}function aRK(a,b){for(var c=0;c<Nb;c++)a[0][c]^=b[c]&255,a[1][c]^=b[c]>>8&255,a[2][c]^=b[c]>>16&255,a[3][c]^=b[c]>>24&255}
function OY(a){var b=a.length,c=[],d=b%256,e;for(e=0;e<d;e++)c[e]=a[e]^xorMask[e];for(;e<b;)for(d=0;256>d;d++)c[e]=a[e]^xorMask[d],e++;return c}
function YE(a){var b=[];Nk=BS/32;Nb=BB/32;Nr=RA[Nk][Nb];for(var c=0;c<Nk;c++)b[c]=a[4*c]|a[4*c+1]<<8|a[4*c+2]<<16|a[4*c+3]<<24;for(c=Nk;c<Nb*(Nr+1);c++)a=b[c-1],0==c%Nk?a=(SB[a>>8&255]|SB[a>>16&255]<<8|SB[a>>24&255]<<16|SB[a&255]<<24)^RC[Math.floor(c/Nk)-1]:6<Nk&&4==c%Nk&&(a=SB[a>>24&255]<<24|SB[a>>16&255]<<16|SB[a>>8&255]<<8|SB[a&255]),b[c]=b[c-Nk]^a;return b}function Rd(a,b){bS(a,"e");sR(a,"e");mC(a,"e");aRK(a,b)}function iRd(a,b){aRK(a,b);mC(a,"d");sR(a,"d");bS(a,"d")}
function FRd(a,b){bS(a,"e");sR(a,"e");aRK(a,b)}function iFRd(a,b){aRK(a,b);sR(a,"d");bS(a,"d")}function encrypt(a,b){var c;if(a&&8*a.length==BB&&b){a=pB(a);aRK(a,b);for(c=1;c<Nr;c++)Rd(a,b.slice(Nb*c,Nb*(c+1)));FRd(a,b.slice(Nb*Nr));return uPB(a)}}function decrypt(a,b){var c;if(a&&8*a.length==BB&&b){a=pB(a);iFRd(a,b.slice(Nb*Nr));for(c=Nr-1;0<c;c--)iRd(a,b.slice(Nb*c,Nb*(c+1)));aRK(a,b);return uPB(a)}}
function pB(a){var b=[];if(a&&!(a.length%4)){b[0]=[];b[1]=[];b[2]=[];b[3]=[];for(var c=0;c<a.length;c+=4)b[0][c/4]=a[c],b[1][c/4]=a[c+1],b[2][c/4]=a[c+2],b[3][c/4]=a[c+3];return b}}function uPB(a){for(var b=[],c=0;c<a[0].length;c++)b[b.length]=a[0][c],b[b.length]=a[1][c],b[b.length]=a[2][c],b[b.length]=a[3][c];return b}
function fPT(a){var b=BB/8,c;if("string"==typeof a||a.indexOf)for(a=a.split(""),c=0;c<a.length;c++)a[c]=a[c].charCodeAt(0)&255;for(c=b-a.length%b;0<c&&c<b;c--)a[a.length]=0;return a}function rijndaelEncrypt(a,b){var c,d=BB/8,e;if(a&&b&&8*b.length==BS){e=[];a=fPT(a);b=OY(b);b=YE(b);for(var g=0;g<a.length/d;g++)c=a.slice(g*d,(g+1)*d),e=e.concat(encrypt(c,b));return e}}
function rijndaelDecrypt(a,b){var c=BB/8,d=[],e,g;if(a&&b&&"string"!=typeof a&&8*b.length==BS){b=OY(b);b=YE(b);for(g=a.length/c-1;0<g;g--)e=decrypt(a.slice(g*c,(g+1)*c),b),d=e.concat(d);return d=decrypt(a.slice(0,c),b).concat(d)}}function stringToByteArray(a){for(var b=[],c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}function byteArrayToString(a){var b="";if(a){for(var c=0;c<a.length;c++)0!=a[c]&&(b+=String.fromCharCode(a[c]));return b}}
function byteArrayToHex(a){var b="";if(a){for(var c=0;c<a.length;c++)b+=(16>a[c]?"0":"")+a[c].toString(16);return b}}function hexToByteArray(a){var b=[];if(!(a.length%2)){if(0==a.indexOf("0x")||0==a.indexOf("0X"))a=a.substring(2);for(var c=0;c<a.length;c+=2)b[Math.floor(c/2)]=parseInt(a.slice(c,c+2),16);return b}}function formatKey(a){var b,c=0,d=BS/8,e=[];for(b=a.length-1;-1<b&&(e[c++]=a[b],c!=d);b--);if(c<d)for(a=c;a<d;a++)e[a]=c+60;return e}
function getCookie(){try{var a="";if("undefined"!=typeof pega&&pega&&pega.web&&pega.web.mgr&&!pega.web.mgr._bDirectPRPC)return pega.web.mgr.getCookie();for(var b=window.document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("\x3d");if("prGatewaySESSIONID"==d[0])return d[1].toLowerCase();"JSESSIONID"==d[0]&&(a=d[1].toLowerCase())}}catch(e){}return a}
function getObfuscationKey(){try{var a="";if("undefined"!=typeof pega&&pega&&pega.web&&pega.web.mgr&&!pega.web.mgr._bDirectPRPC)return pega.web.mgr.getCookie();a=pega.d.obfuscateKey}catch(b){}if(null==a||""==a)a=pega.web.mgr.getCookie().toLowerCase();return a};
function HttpRequestAsyncCommon(L,H,D,R){var B=true;var G=(typeof (H)!="undefined"&&H!=null);if(typeof (H)=="undefined"||H==null){H=""}var O;try{O=new XMLHttpRequest()}catch(P){try{O=new ActiveXObject("Microsoft.XMLHTTP")}catch(P){O=false}}if(!O){return null}var K=Date.now();pega.ui.statetracking.setHttpBusy("HRAC");var J=0;for(var F=0;F<3;++F){if(O.open){O.open(G?"POST":"GET",L,false)}else{O.Open(G?"POST":"GET",L,false)}var A=false;if(H!=null){if(typeof H=="string"){var I=H.substring(0,10);if(I.indexOf("<?xml")!=-1){O.setRequestHeader("Content-Type","text/xml");A=true}}}if(!A){O.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}O.setRequestHeader("X-Requested-With","XMLHttpRequest");O.setRequestHeader("pzBFP",pega.d.browserFingerprint);O.setRequestHeader("pzCTkn",pega.ctx.activeCSRFToken);O.send(H);for(var N=0;N<R;++N){try{if(N==0){J=0}try{J=O.status}catch(P){}if(O.readyState==4){pega.ui.statetracking.setHttpDone("HRAC",Date.now()-K);var Q=null,C="";try{if(J==401){if(N>1){alert(getLocalString("pyMessageLabel","Invalid userid or password. Session is not re-authenticated."));return null}else{break}}else{if(J!=200&&J!=304&&J!=1223){if(J==500){ShowServerException(O);return null}else{var M=new Array();M["$(HttpStatus)"]=J;alert(getLocalString("pyMessageLabel","Server error: $(HttpStatus)",M))}}}if(typeof (restartTimeoutWarningTimer)!="undefined"){restartTimeoutWarningTimer()}if(B){return O.responseText}else{return O.responseXML}}catch(E){C=O.responseText}if(C!=""){return C}alert(getLocalString("pyMessageLabel","No server connection"))}}catch(E){}}}pega.ui.statetracking.setHttpDone("HRAC",Date.now()-K);if(J==401){alert(getLocalString("pyMessageLabel","User cancelled attempts to re-authenticate session."));return null}O.abort();alert(getLocalString("pyMessageLabel","connectionTimedout"));return null}function httpRequestAsynch(D,A,C,B){if(typeof D=="object"&&D.name=="safeURL"){D=D.toURL()}if(arguments.length<4){B=400}if(arguments.length<3){C=50}if(B*C<20000){B=400;C=50}return HttpRequestAsyncCommon(D,A,C,B)}function desktopsharedscript_MSXMLHTTPAsyncCall(B,A){this.url=B;this.callbackFunction=A;this.XMLHTTPObject=null;this.getXMLHTTPObject=desktopsharedscript_MSXMLHTTPAsyncCall_getXMLHTTPObject;this.setUrl=desktopsharedscript_MSXMLHTTPAsyncCall_setUrl;this.setCallbackFunction=desktopsharedscript_MSXMLHTTPAsyncCall_setCallbackFunction;this.submit=desktopsharedscript_MSXMLHTTPAsyncCall_submit}function desktopsharedscript_MSXMLHTTPAsyncCall_getXMLHTTPObject(){return this.XMLHTTPObject}function desktopsharedscript_MSXMLHTTPAsyncCall_setUrl(A){this.url=A}function desktopsharedscript_MSXMLHTTPAsyncCall_setCallbackFunction(A){this.callbackFunction=A}function desktopsharedscript_MSXMLHTTPAsyncCall_submit(){try{if(this.XMLHTTPObject==null){this.XMLHTTPObject=new ActiveXObject("Microsoft.XMLHTTP")}this.XMLHTTPObject.Open("GET",this.url,true);this.XMLHTTPObject.onreadystatechange=this.callbackFunction;this.XMLHTTPObject.Send();return true}catch(A){return false}}function ShowServerException(A){try{try{pega.openUrlInModal.showModalDialog("ShowStatusModalDialog.htm",A,320,600)}catch(B){pega.openUrlInModal.showModalDialog("ShowStatusModalDialog.htm",A,320,600)}}catch(B){alert("Error in ShowServerException: "+B.description)}};
function runIWM(){return pega.desktop.runIWM()}function openRule(a,b,c,d,e){return pega.desktop.openRule(a,b,c,d,e)}function openWizard(a,b){return pega.desktop.openWizard(a,b)}function openAssignment(a,b,c,d,e,f,g){if(""==a)a=pega.u.d.fieldValuesList.get("Empty Assignment Key"),alert(a);else return pega.desktop.openAssignment(a,b,c,d,e,f,g)}function showWorkList(a){return pega.desktop.showWorkList(a)}function showUserWorkList(a){return pega.desktop.showUserWorkList(a)}
function openWorkByURL(a,b){return pega.desktop.openWorkByURL(a,b)}function showWorkBasket(a){return pega.desktop.showWorkBasket(a)}function openWorkByHandle(a,b,c,d,e,f,g){return pega.desktop.openWorkByHandle(a,b,c,d,e,f,g)}function closeCurrentWorkItem(){return pega.desktop.closeCurrentWorkItem()}function getReqURI(){return pega.ui.HarnessContextMgr.get("pxReqURI")}function getOperatorID(){return pega.desktop.getOperatorID()}
function getCurrentWorkPool(){return pega.desktop.getCurrentApplication()}function getCurrentApplication(){return pega.desktop.getCurrentApplication()}function setCurrentApplication(a){return pega.desktop.setCurrentApplication(a)}function openUrlInSpace(a,b,c){return pega.desktop.support.openUrlInSpace(a,b,c)}function openUrlInDashboard(a){return pega.desktop.openUrlInDashboard(a)}function showSpace(a,b){return pega.desktop.showSpace(a,b)}
function getDefaultSpaceName(){return pega.desktop.getDefaultSpaceName()}function getCurrentSpaceName(){return pega.desktop.getCurrentSpaceName()}function registerWorkPoolChangeListener(a,b){return pega.desktop.registerWorkPoolChangeListener(a,b)}function registerApplicationChangeListener(a,b){return pega.desktop.registerApplicationChangeListener(a,b)}function registerEventListener(a,b,c,d){return pega.desktop.registerEventListener(a,b,c,d)}
function cancelEventListener(a,b){return pega.desktop.cancelEventListener(a,b)}var SYNC="SYNC",ASYNC="ASYNC",ASYNC_REPLACE="ASYNC_REPLACE",ASYNC_COPY="ASYNC_COPY",ASYNC_COPY_REPLACE="ASYNC_COPY_REPLACE";function sendEvent(a,b,c,d){return pega.desktop.sendEvent(a,b,c,d)}
function showList(a,b,c,d,e){var f=pega.ui.HarnessContextMgr.get("desktopType"),g=pega.ui.HarnessContextMgr.get("desktopSubType");"Developer"==f&&"Composite"==g&&pega.desktop.showNextInWindow();return pega.desktop.showList(a,b,c,d,e)}function showSummary(a,b,c,d,e,f){var g=pega.ui.HarnessContextMgr.get("desktopType"),h=pega.ui.HarnessContextMgr.get("desktopSubType");"Developer"==g&&"Composite"==h&&pega.desktop.showNextInWindow();return pega.desktop.showSummary(a,b,c,d,e,f)}
function showNewRuleForm(a){return pega.desktop.showNewRuleForm(a)}function openUrlInDialog(a,b,c,d,e){return pega.desktop.support.openUrlInDialog(a,b,c,d,e)}function showListInWindow(a,b,c,d,e){return pega.desktop.showListInWindow(a,b,c,d,e)}function showSummaryInWindow(a,b,c,d,e,f){return pega.desktop.showSummaryInWindow(a,b,c,d,e,f)}function showNextInWindow(){return pega.desktop.showNextInWindow()};
pega.util.Event.addListener(window,"load",restartTimeoutWarningTimer);pega.ui.HarnessContextMgr.set("pxReqURI",pega.d.pxReqURI);var requestURI=pega.d.pxReqURI;var pxReqHomeURI=requestHomeURI;var reqProComHelpURI=pega.d.pxHelpURI;var currentOperator=pega.d.pyUID;var safeUrlRequestURI=pega.d.pxReqURI;var portalVersion=1;var strHelpBaseURL=pega.d.pxHelpURI;if(strHelpBaseURL){if(strHelpBaseURL.lastIndexOf("/")!=strHelpBaseURL.length-1){strHelpBaseURL+="/"}}var strHelpDefaultPage="procomhelpmain.htm";function setBrowserStatusMessage(A){window.status=A}function openRuleRecord(B,A){openRule(B)}function openSpace(B,C,A){return pega.desktop.support.openSpace(B,C,A)}function deferredOpenRule(D,A,E,C,B){return pega.desktop.support.deferredOpenRule(D,A,E,C,B)}function execSpace(B,C,A){return pega.desktop.support.execSpace(B,C,A)}var gstrArgsDelim="!@#$";var gnwCount=0;function openRuleByURL(A){return pega.desktop.support.openRuleByURL(A)}function openRuleWithURL(A,B){return pega.desktop.support.openRuleWithURL(A,B)}function desktopwrappersupport_getCurrentWorkPool(){return pega.desktop.support.getCurrentWorkPool()}function desktopenvironmentscript_isWindowTheDesignerDesktop(A){return pega.desktop.support.isWindowTheDesignerDesktop(A)}function desktopenvironmentscript_isWindowOnDesignerDesktop(A){return pega.desktop.support.isWindowOnDesignerDesktop(A)}function desktopenvironmentscript_isInDesignerDesktop(){return pega.desktop.support.isWindowTheDesignerDesktop(window.top)}function desktopenvironmentscript_isInUserDesktop(){return pega.desktop.support.isInUserDesktop()}function createWindowDimensions(D,C,A,B){return pega.desktop.support.createWindowDimensions(D,C,A,B)}function getSpacePaneAPI(){return pega.desktop.support.getSpacePaneAPI()}function getDesktopApplication(){return pega.desktop.support.getDesktopApplication()}function desktopwrappersupport_openUrlInWindow(D,F,A,E,B,C){return pega.desktop.support.openUrlInWindow(D,F,A,E,B,C)}function desktopwrappersupport_openUrlInDialog(C,D,B,A){return pega.desktop.support.openUrlInDialog(C,D,B,A)}function desktopwrappersupport_openUrlInSpace(B,C,A){return pega.desktop.support.openUrlInSpace(B,C,A)}function desktopwrappersupport_handleMultipleAG(A,B){return pega.desktop.support.handleMultipleAG(A,B)}function getAccessGroupForClass(A){return pega.desktop.support.getAccessGroupForClass(A)}function openNextWorkWithApplication(){return pega.desktop.support.openNextWorkWithApplication()}function openAssignmentWithApplication(A,C,B){return pega.desktop.support.openAssignmentWithApplication(A,C,B)}function desktopwrappersupport_getDesktopWindow(){return pega.desktop.support.getDesktopWindow()}function openRuleInWindow(D,C,B,A){return pega.desktop.support.openRuleInWindow(D,C,B,A)}function getSpaceExplorer(A){return pega.desktop.support.getSpaceExplorer(A)}function getWorkExplorer(){return pega.desktop.support.getSpaceExplorer("Work")}function getRulesExplorer(){return pega.desktop.support.getSpaceExplorer("Rules")}function getLocalString(B,C,A){return pega.desktop.support.getLocalString(B,C,A)}function attachIntercept(B,A){return pega.desktop.support.attachIntercept(B,A)}function processSpaceTitleBarAction(A){return pega.desktop.support.processSpaceTitleBarAction(A)}function disableSpaceTitleBarAction(A){return pega.desktop.support.disableSpaceTitleBarAction(A)}function enableSpaceTitleBarAction(A){return pega.desktop.support.enableSpaceTitleBarAction(A)}function disableHistoryForDocument(){return pega.desktop.support.disableHistoryForDocument()}function showHelpTopic(A){return pega.desktop.support.showHelpTopic(A)}function constructUrl(B,A){return pega.desktop.support.constructUrl(B,A)}function restartTimeoutWarningTimer(){return pega.desktop.support.restartTimeoutWarningTimer()}function isPegaDeveloper(){if(typeof isAPegaDeveloper!="undefined"){return isAPegaDeveloper}else{return false}}function clearBrowserProgressBar(){return pega.desktop.support.clearBrowserProgressBar()}function setSpaceFocus(){return pega.desktop.support.setSpaceFocus()};
pega.clientLog||(pega.clientLog={});pega.clientLog.base=null;function logDetail(b,a,c){log("DETAIL",b,a,c)}function logInfo(b,a,c){log("INFO",b,a,c)}function logWarn(b,a,c){log("WARN",b,a,c)}function logError(b,a,c){log("ERROR",b,a,c)}function message(b){logDetail(b,"","")}function log(b,a,c,d){try{(oBase=findClientLogBase())&&oBase.getClientLog()&&oBase.log(b,a,c,d)}catch(e){}}pega.clientLog.isActive=function(){var b=findClientLogBase();return b&&b.getClientLog()?!0:!1};
function findClientLogBase(){var b=null;if(!pega.clientLog.base){var a=null;try{for(a=window.top;null!=a&&a!=a.opener&&"object"==typeof a.top;a=a.opener)if(a=a.top,"object"==typeof a.gLogBase){b=a.gLogBase;break}}catch(c){}pega.clientLog.base=b}return pega.clientLog.base};
pega.d.s=pega.namespace("pega.desktop.support");var gShowNextInWindow=!1;pega.desktop.runIWM=function(){var a=new SafeURL("WBOpenLaunch");a.put("pyActivity","Assign-.IWMPrimingUtility");pega.desktop.openUrlInWindow(a.toURL(),"IWM")};pega.desktop.support.getDesktopType=function(){var a=pega.desktop.support.getDesktopWindow();return a&&a.pega&&a.pega.d&&a.pega.d.desktopType?a.pega.d.desktopType:null};
pega.desktop.support.isSpaceAvailable=function(a){for(var b=0;b<pega.desktop.availableSpaces.length;b++)if(pega.desktop.availableSpaces[b].toLowerCase()==a.toLowerCase())return!0;return!1};pega.desktop.registerDocumentGadget=function(a){var b=pega.desktop.support.getDesktopWindow();b&&b.pega.d.registerDocumentGadget(a)};
pega.desktop.support.getMashupGadgetWindow=function(){var a,b,c=window;try{do{for(a=c;null!=a&&a!=a.parent;a=a.parent)try{if(!a.pega.desktop.support.isSafeToAskParent())break;if(a.parent.pega&&a.parent.pega.web&&a.parent.pega.web.isWebMashup)break;if(!a.parent.pega)break}catch(d){break}b=a;c=a.opener}while(c&&c!=a&&c.pega&&c.pega.Mashup&&c.pega.Mashup.isAGadgetWindow)}catch(d){}if(b&&b.pega&&b.pega.Mashup&&b.pega.Mashup.isAGadgetWindow&&b!=b.opener&&(b.parent!=b||null!=b.opener))return b};
pega.desktop.support.doGadgetAction=function(a){if(!pega.Mashup&&pega.ctx&&pega.ctx.isAPopupWindow)return!1;var b=this.getMashupGadgetWindow();if(b){if(a.params){for(var c={},d=0;d<a.params.length;d++)c[""+d]=a.params[d];a.params=c}b.pega.Mashup.Communicator.send(a,{target:"HostPage"});return!0}b=pega.desktop.support.getPegaWebGadgetManager();return null!=b?(c=a.params||[],c.unshift(b.oDiv,a.name),b.oMgr.doAction.apply(b.oMgr,c),!0):!1};
pega.desktop.support.closeGadget=function(){if("function"==typeof pegaWebGadgetExtensionPoint)pegaWebGadgetExtensionPoint();else return pega.desktop.support.doGadgetAction({name:"closed"});return!0};
pega.desktop.support.loadedGadget=function(){pega.Mashup&&pega.Mashup.registerGadgetCallBack&&pega.Mashup.registerGadgetCallBack();pega.Mashup&&pega.u.d.registerResize(pega.u.d.mashupResizeHandler);var a={name:"loaded"};if(pega.ui.pyStreamNameForGadget){var b=pega.desktop.support.getPegaWebGadgetManager();b?b.oDiv.pyStreamName=pega.ui.pyStreamNameForGadget:a[pyStreamName]=pega.ui.pyStreamNameForGadget}if(pega.Mashup&&pega.ctx.bIsPreGeneratedMashup)pega.u.d.loadGadgetInterval=setInterval(function(){pega.desktop.support.doGadgetAction(a)},
100);else var c=pega.desktop.support.doGadgetAction(a);pega.ui.HarnessContextMgr.get("confirm_harness_loaded")&&pega.desktop.support.doGadgetAction({name:"confirm"});return c};pega.desktop.support.confirmGadget=function(){return pega.desktop.support.doGadgetAction({name:"confirm"})};pega.desktop.support.resizeGadget=function(){if(pega&&pega.u&&pega.u.d)return pega.desktop.support.doGadgetAction({name:"resize",height:pega.u.d.getDocumentHeight()})};
pega.desktop.support.openSpaceInGadget=function(a,b,c){if("spacehome"==c)return(b=pega.desktop.support.getPegaWebGadgetManager())&&"function"==typeof b.oMgr._reloadGadget&&b.oMgr._reloadGadget(b.oDiv),!0;a={};null!=b.get("appName")&&(a.appName=b.get("appName"));null!=b.get("systemID")&&(a.systemID=b.get("systemID"));switch(c.toLowerCase()){case "openbyassignment":return pega.desktop.support.doGadgetAction({name:"openAssignment",params:[b.get("param"),null,a]});case "openbyworkhandle":return pega.desktop.support.doGadgetAction({name:"openWorkByHandle",
params:[b.get("param"),null,a]});case "openbyworkitem":return pega.desktop.support.doGadgetAction({name:"openWorkItem",params:[b.get("param"),b.get("workpool"),null,a]});case "enternewwork":case "enternewworkfromflow":c={};var d=b.keys(),e;for(e in d)"className"!=d[e]&&"HarnessVersion"!=d[e]&&"flowType"!=d[e]&&"api"!=d[e]&&"param"!=d[e]&&"version"!=d[e]&&"FlowType"!=d[e]&&(c[d[e]]=b.get(d[e]));return pega.desktop.support.doGadgetAction({name:"createNewWork",params:[b.get("param"),b.get("FlowType"),
null,a,c]});case "getnextwork":return pega.desktop.support.doGadgetAction({name:"getNextWorkItem",params:[b.get("param"),null,a]});default:return!1}};
pega.desktop.support.routeToParent=function(a){if(!a)return!0;if("undefined"!=typeof gIsMashupContent&&"true"==gIsMashupContent)return!1;try{if("undefined"==typeof requestHomeURI||"undefined"==typeof a.requestHomeURI||null==requestHomeURI||null==a.requestHomeURI||"undefined"==typeof pega.d.pxReqURI||"undefined"==typeof a.pega.d.pxReqURI||pega.d.pxReqURI==a.pega.d.pxReqURI)return!0;var b=[],c=[];b[0]=a.requestHomeURI;b[1]=requestHomeURI;if(b[0]==b[1]||a&&a.gIsMultiTenantPortal)return!0;var d;a=-1;
for(var e,f,g=0;g<b.length;g++)if(0==b[g].toUpperCase().indexOf("HTTPS://")&&(a=8),-1==a&&0==b[g].toUpperCase().indexOf("HTTP://")&&(a=7),-1==a&&(a=1),e=1!=a?b[g].indexOf("/",a):0,f=b[g].indexOf("/",e+1),-1==f)d=b[g].indexOf("?"),c[g]=-1!=d?b[g].substring(0,d):b[g];else{var h=b[g].indexOf("/",f+1);-1==h?(d=b[g].indexOf("?"),c[g]=-1!=d?b[g].substring(0,d):b[g]):c[g]=b[g].substring(0,h)}for(g=0;g<c.length;g++)-1!=c[g].indexOf("?")&&(c[g]=c[g].substring(0,c[g].indexOf("?"))),0==c[g].indexOf("/")&&(c[g]=
c[g].substring(1,c[g].length)),c[g].lastIndexOf("/")==c[g].length-1&&(c[g]=c[g].substring(0,c[g].length-1));return c[0]==c[1]?!0:!1}catch(l){return!0}};
pega.desktop.support.checkForAjaxContainer=function(a,b,c){if("popup"!==b.get("target")){if("dynamicContainer"!=b.get("mdcTarget")&&!pega.Mashup&&pega.u&&pega.u.d&&"function"==typeof pega.u.d.getAllMDCContainers){a=pega.u.d.getAllMDCContainers();for(var d=0;d<a.length;d++){var e=a[d];if($(e).is(":visible"))return a=e.getAttribute("data-mdc-id"),b.put("mdcTarget",a),b.put("api",c),pega.ui.EventsEmitter.publishSync("MDCAction",b),!0}}if(pega.mobile&&pega.mobile.support&&pega.mobile.support.getPMCRedux())return b.put("mdcTarget",
"acprimary"),b.put("api",c),"formbyurl"==c&&b.put("api","openWorkByURL"),pega&&pega.mobile&&pega.mobile.hybrid&&(c=pega.mobile.hybrid.skeletonName?pega.mobile.hybrid.skeletonName:"",""===c?b.put("pyShowSkeleton","false"):b.put("pySkeletonName",c)),pega.mobile.support.getPortalWindow().pega.ui.EventsEmitter.publishSync("MDCAction",b),!0}return!1};
pega.desktop.support.isTargetAjaxContainer=function(a,b,c){if("popup"!==b.get("target")&&((a=b.get("mdcTarget"))&&"dynamicContainer"!=a&&0!==a.indexOf("ac")&&(a=null),a||(pega.ctx.isMDC&&b.put("mdcTarget",pega.ctx.mdcName),!0===b.get("isMDC")&&b.get("recordId")&&b.put("mdcTarget",b.get("recordId").split("_")[0]),a=b.get("mdcTarget")),a&&"dynamicContainer"!=a)){a="microdc"==a?"acprimary":a;b.put("mdcTarget",a);b.put("api",c);if(document.querySelector("div[data-mdc-id\x3d'"+a+"']"))return!0;b.put("api",
"");b.put("mdcTarget","")}return!1};
pega.desktop.support.openSpace=function(a,b,c){if(1==gShowNextInWindow)return gShowNextInWindow=!1;b.get("target");if(pega.desktop.support.isTargetAjaxContainer(a,b,c))return pega.ui.EventsEmitter.publishSync("MDCAction",b),!0;if("Composite"==pega.d.s.getDesktopType())try{var d=pega.desktop.support.getDesktopWindow(),e=pega.desktop.support.getSTPortalWindow(d);e&&(d=e);if(pega.desktop.support.routeToParent(d))var f=!1,f="undefined"!=typeof d.pega.desktop.compositeOpenSpace?d.pega.desktop.compositeOpenSpace(a,
b,c):top.pega.desktop.compositeOpenSpace(a,b,c)}catch(h){}if(f||pega.desktop.support.checkForAjaxContainer(a,b,c)||pega.desktop.support.openSpaceInGadget(a,b,c))return!0;b&&"safeURL"!=b.name&&(b=SafeURL_createFromURL(b));if(d=pega.desktop.support.getDesktopWindow()){e=d.application;try{var g=e.getView("SpacePane").openSpace(a,b,c);if(void 0==g||null==g)g=!0;d.focus();return g}catch(h){}}return!1};
pega.desktop.support.openLandingPage=function(a,b,c,d){var e=new SafeURL,f=c.customParam,g="";if(f&&""!=f){for(var h in f)f.hasOwnProperty(h)&&(h+="\x26"),g+=h;g=g.substring(0,g.lastIndexOf("\x26"))}if(""!=g||null!=g)c.paramKeys=g;e.put("Name",a);e.put("Action",b);e.put("ActionParams",c);e.put("Navigation",d);c&&c.target&&e.put("mdcTarget",c.target);pega.desktop.support.openSpace("Rules",e,"openlanding")};
pega.desktop.support.openWizard=function(a,b){var c=void 0,d="",e="",f="";2<arguments.length&&(c=arguments[2]);arguments[3]&&(d=arguments[3]);arguments[4]&&(e=arguments[4]);arguments[5]&&(f=arguments[5]);if("object"===typeof b){var g,h,l=!0;"Composite"!=pega.d.s.getDesktopType()?(b.hasOwnProperty("targetActivity")&&(g=b.targetActivity),-1!=g.indexOf(".")&&(l=!1),b.hasOwnProperty("className")&&(h=b.className),l&&(h=h+"."+g,b=b.replace(g,h),l=JSON.stringify(b),l=l.replace(g,h),b=JSON.parse(l)),l=JSON.stringify(b),
l=l.replace("targetActivity","pyActivity"),b=JSON.parse(l)):(b.hasOwnProperty("targetActivity")&&(g=b.targetActivity),-1==g.indexOf(".")&&(l=!1),l&&(h=g.substring(g.indexOf(".")+1),l=JSON.stringify(b),l=l.replace(g,h),b=JSON.parse(l)))}else{b=b.replace(/'/g," ");var l=!0,k=b.split("\x26");if("Composite"!=pega.d.s.getDesktopType()){for(var m=0;m<k.length;m++)if(-1!=k[m].indexOf("targetActivity")){if(g=k[m].split("\x3d")[1],-1!=g.indexOf(".")){l=!1;break}}else-1!=k[m].indexOf("className")&&(h=k[m].split("\x3d")[1]);
l&&(b=b.replace(g,h+"."+g));b=b.replace("targetActivity","pyActivity")}else{for(m=0;m<k.length;m++)if(-1!=k[m].indexOf("targetActivity")&&(g=k[m].split("\x3d")[1],-1==g.indexOf("."))){l=!1;break}l&&(h=g.substring(g.indexOf(".")+1),b=b.replace(g,h))}}g=new SafeURL;g.put("name",a);try{("object"===typeof b||JSON.parse(b))&&g.put("queryString",JSON.stringify(b))}catch(y){g.put("queryString",b)}c&&g.put("wizardLabel",c);g.put("contentId",d);g.put("dynamicContainerId",e);g.put("SkipConflictCheck",f);return this.openSpace("Rules",
g,"openwizard")};pega.desktop.support.deferredOpenRule=function(a,b,c,d,e){var f=new SafeURL;a&&""!=a&&(f.put("pyRuleInsKey",a),f.put("pyRuleObjClass",b),f.put("pyFullName",c),f.put("pyVersion",d),f.put("pyRuleSet",e),f.put("pxObjClass","Embed-Preferences-Navigation-OpenRuleData"));pega.desktop.support.openSpace("Rules",f,"openruledeferred")};
pega.desktop.support.execSpace=function(a,b,c){if(1==gShowNextInWindow)return gShowNextInWindow=!1;b&&"safeURL"!=b.name&&("Rules"==strSpaceName&&"string"==typeof b&&0>b.indexOf("\x3d")&&(b="param\x3d"+b),b=SafeURL_createFromURL(b));var d=pega.desktop.support.getDesktopWindow();if(d){var e=d.application;if(e.getView("SpaceNavigation")&&e.getView("SpaceNavigation").isSpace(a))return a=e.getView("SpacePane").execSpace(a,b,c),d.focus(),0==a?!0:!1}return!1};var gstrArgsDelim="!@#$",gnwCount=0;
pega.desktop.support.openRuleByURL=function(a){a="object"==typeof a&&"safeURL"==a.name?a:SafeURL_createFromURL(a);pega.desktop.support.openSpace("Rules",a,"rulebyurl")||pega.desktop.support.openUrlInWindow(a,"Rules")};pega.desktop.support.openRuleWithURL=function(a,b){var c=new SafeURL;c.put("Handle",a);a=SafeURL_createFromURL(b);c.put("url",a);pega.desktop.support.openSpace("Rules",c,"rulecreatewithurl")||pega.desktop.support.openRuleInWindow(c,"","","rulecreatewithurl")};
pega.desktop.support.getCurrentWorkPool=function(){var a=pega.desktop.support.getDesktopWindow();return a&&a.application.getUserSessionInfo().currentWorkPool};pega.desktop.support.getClassForReports=function(a){if("Assign-"==a)return"Assign-Worklist";try{var b=pega.desktop.support.getCurrentWorkPool()}catch(c){return a}return"Work-"==a?b:"History-Work-"==a?"History-"+b:a};
pega.desktop.support.getPegaWebGadgetManager=function(){var a,b=null,c=window;a=!1;try{try{"undefined"==typeof c.pega.web||"undefined"==typeof c.pega.web.mgr||c.pega.web.mgr._bIsProxy||(a=!0)}catch(k){}if(!a){do{for(c=null!=c.opener?c.opener:c;null!=c&&c!=c.parent;c=c.parent)try{if("undefined"!=typeof c.pega.web&&"undefined"!=typeof c.pega.web.mgr&&!c.pega.web.mgr._bIsProxy){a=!0;break}}catch(k){}try{if("undefined"!=typeof c&&"undefined"!=typeof c.pega){"undefined"==typeof c.pega.web||"undefined"==
typeof c.pega.web.mgr||c.pega.web.mgr._bIsProxy||(a=!0);break}}catch(k){}}while("undefined"!=typeof c.opener&&null!=c.opener&&!a&&c.opener!=c)}if(c.pega.web&&"object"==typeof c.pega.web.mgr&&(b=c.pega.web.mgr,b._bIsProxy))return null}catch(k){}if(null==b)return null;a=c;var d=null;try{if("undefined"!=typeof pega.desktop.support.getFrameElement()){var e=pega.desktop.support.getFrameElement();if(null!=e&&("actionIFrame"==e.name||"QUERY"==e.name))try{if(e=pega.desktop.support.getFrameElement(1),null==
e||"undefined"==typeof e.PegaWebGadget)return null}catch(k){}try{for(;null!=e&&"undefined"==typeof e.PegaWebGadget;e=getFrameElementForWindow(e.document.parentWindow));}catch(k){}if(null!=e)d=e.parentNode,"DIV"!=d.tagName&&(d=null);else for(var f=a.document.getElementsByTagName("IFRAME"),g=f.length,c=null,h=0;h<g;h++)if(c=f[h],"undefined"!=typeof c.PegaWebGadget){d=c.parentNode;break}}return null==a||null==d||null==b?null:eval({oDiv:d,oMgr:b,oWin:a})}catch(k){}if(null!=window.opener)try{var l=window.opener.pega.desktop.support.getDesktopWindow();
return l&&"object"==typeof l.pega.web.mgr?eval({oDiv:window.name,oMgr:l.pega.web.mgr}):null}catch(k){return null}b=a=d=null;c=window;try{for(;null!=c&&c!=c.parent;c=c.parent)"undefined"!=typeof getFrameElementForWindow(c)&&(e=getFrameElementForWindow(c),null!=e&&"undefined"!=typeof e.PegaWebGadget&&null==d&&(d=e.parentNode))}catch(k){return null}try{c.pega.web&&"object"==typeof c.pega.web.mgr&&(a=c,b=c.pega.web.mgr)}catch(k){return null}return null==a||null==d||null==b?null:eval({oDiv:d,oMgr:b})};
pega.desktop.support.isWindowTheDesignerDesktop=function(a){if("undefined"!=typeof gIsMashupContent&&"true"==gIsMashupContent)return!1;var b=!1;try{b="object"==typeof a.application?"string"==typeof a.application.name:!1}catch(c){}return b};pega.desktop.support.isWindowOnDesignerDesktop=function(a){try{if(null!=pega.desktop.support.getDesktopFrames())return!0}catch(b){}return!1};
pega.desktop.support.getAttachedDesignerDesktop=function(){var a=null;try{a=pega.desktop.support.getDesktopWindow()}catch(d){}try{var b=pega.desktop.support.getDesktopWindow();if(b){var c=(b.opener?b.opener:b).pega.desktop.support.getDesktopWindow();c&&c.pega.desktop.support.isWindowTheDesignerDesktop(c)&&(a=c)}}catch(d){}return a};pega.desktop.support.isInDesignerDesktop=function(){try{return pega.desktop.support.isWindowTheDesignerDesktop(window.top)}catch(a){}return!1};
pega.desktop.support.isInUserDesktop=function(){try{if(pega.desktop.support.isWindowTheDesignerDesktop(top)&&"User"==pega.desktop.support.getDesktopWindow().DesktopUserSessionInfo_gStrDesktopType)return!0}catch(a){}return!1};pega.desktop.support.createWindowDimensions=function(a,b,c,d){try{return"left\x3d"+window.screen.width*b/100+",top\x3d"+window.screen.height*a/100+",height\x3d"+window.screen.height*c/100+",width\x3d"+window.screen.width*d/100}catch(e){}};
var FormSize=pega.desktop.support.createWindowDimensions(0,0,82,80),RuleFormSize=pega.desktop.support.createWindowDimensions(0,0,82,80),QueryFormSize=pega.desktop.support.createWindowDimensions(5,15,75,80),WorkFormSize=pega.desktop.support.createWindowDimensions(0,0,82,66),HistoryWindowSize=pega.desktop.support.createWindowDimensions(0,0,82,66)+",resizable\x3dyes",PopupWindowFeatures="status\x3dyes,toolbar\x3dno,menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes",PopupWindowNoScrollFeatures=
"status\x3dyes,toolbar\x3dno,menubar\x3dno,location\x3dno,scrollbars\x3dno,resizable\x3dyes",Features=PopupWindowFeatures;pega.desktop.support.getSpacePaneAPI=function(){var a=pega.desktop.support.getDesktopApplication();return a?a.getView("SpacePane"):null};pega.desktop.support.getDesktopApplication=function(){var a=pega.desktop.support.getDesktopWindow();return a?a.application:null};
pega.desktop.support.openUrlInWindow=function(a,b,c,d,e,f){function g(a){try{var b=pega.desktop.support.getDesktopWindow(),c,d;b&&b.pega&&b.pega.u&&b.pega.u.d&&(c=b.pega.u.d.getThreadName(),pega&&pega.ctx&&pega.ctx.portalName&&(d=pega.ctx.portalName),"object"==typeof a&&"safeURL"==a.name?(a.put("target","popup"),a.put("portalThreadName",c),d&&a.put("portalName",d)):"string"==typeof a&&(a+="\x26target\x3dpopup",c&&(a=a+"\x26portalThreadName\x3d"+c),d&&(a=a+"\x26portalName\x3d"+d)))}catch(B){}return a}
var h="";d=pega.desktop.support.getDesktopApplication();"true"!=e&&(a=g(a));var l=!1;if("object"==typeof a&&"safeURL"==a.name)h=(l="display"===a.get("action"))?"blank.htm":a.toURL();else if("true"==f)h=a;else if("true"==e&&a){a=SafeURL_createFromURL(a);h=!1;pega.disableEventSource||(h=!0,pega.disableEventSource=!0);a=a.toURL();h&&delete pega.disableEventSource;if((h=a.match(/\?/g))&&1<h.length){var k=a.indexOf("?"),h=a.substring(0,k+1);a=a.substring(k+1);a=a.replace(/\?/g,"\x26");a=h+a}h=a}else{h=
SafeURL_createFromURL(a);f=h.get("pyActivity");var m=h.get("pyStream"),y=h.get("pxReqURI");f||m||y?!l&&f&&-1==f.indexOf("baseclass.pzProcessURLInWindow")&&(h.put("pyActivity","@baseclass.pzProcessURLInWindow"),h.put("pyPreActivity",f)):h.put("pyActivity","@baseclass.pzTransformAndRun");for(k in h.hashtable)f=h.get(k),0<=f.indexOf("#~")&&(f=pega.u.ChangeTrackerMap.getTracker().getPropertyValue(f.substring(2,f.length-2)),h.put(k,f));h.put("target","popup");h=h.toURL()}if(""==a||null==a||""==h||null==
h)return!1;"blank.htm"==h||"/"==h.replace(/(^\s*)/,"").charAt(0)||/^([\s]*)(pega-)*(([a-z0-9]+:)|())\/\//i.test(h)||(pega&&pega.lang&&(h=pega.lang.trim(h)),h="//"+h);b=null!=b?b.replace(/[ \\\/\&=#\-\!\.\~\:\@\'\"\*\%\(\)\,]/gi,""):"";null==c&&(c="");-1==c.indexOf("left")&&-1==c.indexOf("top")&&-1==c.indexOf("height")&&-1==c.indexOf("width")&&("Rules"==b?c+=RuleFormSize:"Work"==b?c+=WorkFormSize:"List"==b?c+=QueryFormSize:"HistoryAndAttachments"==b&&(c+=HistoryWindowSize),c=PopupWindowFeatures+","+
c);-1!=c.indexOf("height")&&(c.indexOf("\x3d",c.indexOf("height"))+1==c.length?c=c.replace("height\x3d",""):","==c.charAt(c.indexOf("\x3d",c.indexOf("height"))+1)&&(c=c.replace("height\x3d,","")));-1!=c.indexOf("width")&&(c.indexOf("\x3d",c.indexOf("width"))+1==c.length?c=c.replace("width\x3d",""):","==c.charAt(c.indexOf("\x3d",c.indexOf("width"))+1)&&(c=c.replace("width\x3d,","")));0==c.length&&(c="a");window.pms||"Rules"!=b&&"Work"!=b&&"Reports"!=b&&"Tools"!=b&&"Dashboard"!=b||(b+="_popup");k=null;
f=self;window.pms||pega.desktop.pxClientSession&&""!=b&&"_self"!=b&&"_blank"!=b&&"_top"!=b&&"_parent"!=b&&(b=pega.desktop.pxClientSession+"_"+b);m=!1;pega&&pega.u&&pega.u.d&&(m=pega.u.d.bWarnBeforeChangingWindow);if(1!=m||showDialogForWindowChange()){try{var n=pega.desktop.support.getDesktopWindow();if(n&&n.launchbox&&n.launchbox.Browser){var p=h;/^([\s]*)(([a-z0-9]+:)|())\/\//i.test(h)||"true"==e||(window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host),
p=window.location.origin+h);var r={onClosed:function(a){},onLoadStarted:function(a){},onLoadFinished:function(a){},onLoadFailure:function(a,b){console.log("Browser.onLoadFailure code\x3d"+b.code+" error\x3d"+b.description+" url\x3d'"+a+"'")}};n.launchbox.Browser.removeListener(r);n.launchbox.Browser.addListener(r);n.launchbox.Browser.start(p.replace(" ",""));return null}k=f.open(h,b,c)}catch(v){return null}if(!k&&-1!=navigator.userAgent.search("Windows NT 6"))return null;try{if(k&&"object"==typeof k.opener)if(k.opener!=
f&&k!=f&&(k.close(),k=f.open(h,b,c)),k&&"object"==typeof k.opener){try{k.focus(),k.focus()}catch(v){k.close(),k=f.open(h,b,c)}if(l){a.put("pzCTkn",pega.ctx.activeCSRFToken);a.put("pzBFP",pega.d.browserFingerprint);var p='\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3cbody\x3e\x3cscript type\x3d"text/javascript"\x3evar  form\x3ddocument.createElement("form");form.setAttribute("method","post");form.setAttribute("action","'+(new SafeURL("@baseclass.doUIAction")).toURL()+'");var input\x3ddocument.createElement("input");input.setAttribute("name","action");input.setAttribute("type","hidden");input.setAttribute("value","'+
a.get("action")+'");form.appendChild(input); var label\x3ddocument.createElement("label");label.innerText \x3d "Loading...";form.appendChild(label);',u=a.get("flowName");if(u&&-1!=u.indexOf("\x26"))for(var w=u.split("\x26"),u=w[0],n=1;n<w.length;n++){var t=w[n];if(t&&-1!=t.indexOf("\x3d")){var z=t.indexOf("\x3d");a.put(t.substring(0,z),t.substring(z+1))}}r=a.keys();for(n=0;n<r.length;n++){var A=r[n],q=a.get(A);"undefined"===typeof q&&(q="");p+='var input\x3ddocument.createElement("input");';p+='input.setAttribute("name","'+
A+'");';e=!1;if("preActivityParams"===q||"preActivityDynamicParams"===q||"pyDataTransformDynamicParams"===q)e=!0;try{q=decodeURIComponent(q)}catch(v){}p=e?p+('input.setAttribute("value",'+JSON.stringify(q)+");"):p+("input.setAttribute('value','"+q+"');");p+='input.setAttribute("type","hidden");';p+="form.appendChild(input);"}var p=p+"document.body.appendChild(form);form.submit();\x3c/script\x3e\x3c/body\x3e\x3c/html\x3e",x=k.document;x.open();x.write(p);x.close()}d&&(0===h.lastIndexOf(location.origin,
0)||0===h.lastIndexOf("/",0)||l?-1===d.openedWindows.indexOf(k)&&d.openedWindows.push(k):(d.crossDomainPopupWindowNames=d.crossDomainPopupWindowNames||[],-1===d.crossDomainPopupWindowNames.indexOf(b)&&d.crossDomainPopupWindowNames.push(b)))}else k=null;else k=null}catch(v){k||(k=null)}return k}};
pega.desktop.support.pauseForWindowToLoad=function(a,b){try{a.document&&(60<b||a.document.body&&0<a.document.body.children.length?pega.ui.statetracking.setDone():(b++,window.setTimeout(function(){pega.desktop.support.pauseForWindowToLoad(a,b)},500)))}catch(c){pega.ui.statetracking.setDone()}};
pega.desktop.support.openUrlInDialog=function(a,b,c,d,e){var f,g="resizable:yes;status:no;scroll:yes;help:no;",h="",l="",k=[];f="object"==typeof a&&"safeURL"==a.name?a.toURL():SafeURL_createFromURL(a).toURL();if(""==a||null==a||""==f||null==f)return null;b&&""!=b&&(h="dialogHeight:"+b+"px;");c&&""!=c&&(l="dialogWidth:"+c+"px;");d&&""!=d&&(g=d);g=h+l+g;e&&""!=e&&("array"==typeof e?k.concat(e):k.vArguments=e);k.opener=window;(a=pega.desktop.support.getDesktopWindow())||(a=window);return a.showModalDialog(f,
k,g)};
pega.desktop.support.openUrlInSpace=function(a,b,c){"object"==typeof a&&"safeURL"==a.name?a=SafeURL_clone(a):null!=a&&""!=a&&(a=SafeURL_createFromURL(a));var d;d=null==b||""==b?getCurrentSpaceName():b;if(2<arguments.length){var e=null;if(null==a||""==a){var f=pega.desktop.support.getDesktopWindow();f&&(e=f.application.getView("SpacePane").getDefaultSpaceHomeURL(d))}else e=a;c?pega.desktop.support.openSpace(d,e,"spaceHomeWithUrl")||pega.desktop.support.openUrlInWindow(e,d):execSpace(d,e,"spaceHomeWithUrl")||pega.desktop.support.openUrlInWindow(e,
d)}else pega.desktop.support.openSpace(d,a,"spaceHomeWithUrl")||pega.desktop.support.openUrlInWindow(a,d)};pega.desktop.support.handleMultipleAG=function(a,b,c,d){if(null!=pega.desktop.support.getPegaWebGadgetManager()||"Composite"==pega.d.s.getDesktopType()||pega.d.s.isCosmosCase())return!0;var e=a.split(" "),e=b?1<e.length?e[1]:e[0]:e[0];try{var f=pega.desktop.support.asyncGetAccessGroupForClass(e,a,b,c,d)}catch(g){return!1}return"false"==f?!0:!1};
pega.desktop.support.getAccessGroupForClass=function(a){var b=pega.desktop.support.getDesktopWindow();if(b&&1==b.gAccessGroupList.length)return b.gAccessGroupList[0];b=new SafeURL(pega.d.agclassurl?pega.d.agclassurl:"Data-Admin-Operator-AccessGroup.getAccessGroupsForClass");b.put("ClassName",a);return httpRequestAsynch(b.toURL(),null,50,100)};
pega.desktop.support.asyncGetAccessGroupForClass=function(a,b,c,d,e){var f=pega.desktop.support.getDesktopWindow();f&&1==f.gAccessGroupList.length?pega.desktop.support.postHandleMultipleAG(f.gAccessGroupList[0],b,c,d):(f=new SafeURL(pega.d.agclassurl?pega.d.agclassurl:"Data-Admin-Operator-AccessGroup.getAccessGroupsForClass"),f.put("ClassName",a),a={success:function(a){pega.desktop.support.postHandleMultipleAG(a)},failure:function(a){return!1},argument:[b,c,d,e]},b=pega.util.Connect.asyncRequest("GET",
f.toURL(),a),pega.util.Connect.handleReadyState(b,a))};pega.desktop.support.postHandleMultipleAG=function(a,b,c,d,e){if(a.responseText){var f=a.responseText;b=a.argument[0];c=a.argument[1];d=a.argument[2];e=a.argument[3]}else f=a;a=pega.d.currAG.toLowerCase();for(var g=!1,f=f.split(","),h=0;h<f.length;h++)a==f[h].toLowerCase()&&(g=!0);g?c?pega.desktop.support.postOpenAssignment(b,void 0,e):pega.desktop.support.postOpenWorkByHandle(b,d,e):pega.desktop.support.openAssignmentWithApplication(f[0],b,c)};
pega.desktop.support.postOpenAssignment=function(a,b,c){function d(){if(!openSpace("Work",f,"openbyassignment")){var a=f.toQueryString(),a=pega.desktop.support.constructUrl(a,"openbyassignment");pega.desktop.openUrlInWindow(a,"pyWorkPage",WorkFormSize+PopupWindowFeatures)}pega&&pega.control&&pega.control.Actions&&pega.control.Actions.prototype.hideSkeleton&&pega.control.Actions.prototype.hideSkeleton()}var e="",f=c&&"object"==typeof c&&"safeURL"==c.name?SafeURL_clone(c):new SafeURL;f.put("param",
a);b&&"object"==typeof b&&(b.NewTaskStatus&&f.put("NewTaskStaus",b.NewTaskStatus),b.TaskIndex&&f.put("TaskIndex",b.TaskIndex),f.put("paramObject",b));c&&"object"==typeof c&&(e=c.mdcTarget?c.mdcTarget:c.hashtable?c.hashtable.mdcTarget:"")&&f.put("mdcTarget",e);!(b=pega&&pega.mobile&&pega.mobile.isMultiWebViewPegaMobileClient)||pega&&pega.offline||"true"!==SafeURL_createFromURL(window.location.href).get("isRemoteCase")||(f.put("offlineEnabled","false"),f.put("action","openAssignment"),f.put("isRemoteCase",
"true"));(pega.ctx.isMDC&&pega.ctx.acName===e||b)&&"Review"===pega.ctx.strHarnessPurpose&&-1!==a.indexOf(pega.ctx.strPyID)?(f.put("pyActivity","DoClose"),f.put("pxReqURI",pega.ctx.pxReqURI),f.put("isMDC",!0),f.put("clearThreadState","true"),f.put("skipSwitchDocument","true"),f.put("recordId",b?window.name:pega.ctx.recordId),f.put("mdcTarget",b?"acprimary":pega.ctx.acName),f.put("closeDocCallback",function(){f.remove("closeDocCallback");f.remove("pyActivity");d()}),a=b?pega.mobile.support.getPMCRedux():
pega.redux,a.store.dispatch(a.actions(a.actionTypes.CLOSE,f))):d()};
pega.desktop.support.postOpenWorkByHandle=function(a,b,c){function d(){if(!pega.desktop.support.openSpace("Work",e,"openbyworkHandle")){f=e.toQueryString();var b=pega.desktop.support.constructUrl(f,"openbyworkHandle"),c=e.get("paramsObj");if(c)for(var d in c)b.put(d,c[d]);pega.desktop.openUrlInWindow(b,a,WorkFormSize+PopupWindowFeatures)}pega&&pega.control&&pega.control.Actions&&pega.control.Actions.prototype.hideSkeleton&&pega.control.Actions.prototype.hideSkeleton()}if(!e)var e=new SafeURL;var f=
"";a&&""!=a&&e.put("param",a);b&&""!=b&&e.put("version",b);c&&"object"==typeof c&&"safeURL"==c.name&&(c.get("systemID")&&e.put("systemID",c.get("systemID")),c.get("appName")&&e.put("appName",c.get("appName")),c.get("contentID")&&e.put("contentID",c.get("contentID")),c.get("dynamicContainerID")&&e.put("dynamicContainerID",c.get("dynamicContainerID")),c.get("SkipConflictCheck")&&e.put("SkipConflictCheck",c.get("SkipConflictCheck")),c.get("reload")&&e.put("reload",c.get("reload")),c.get("mdcTarget")&&
e.put("mdcTarget",c.get("mdcTarget")),c.get("tenantData")&&e.put("tenantData",c.get("tenantData")),c.get("paramsObj")&&e.put("paramsObj",c.get("paramsObj")));b=!1;var g="undefined"!==typeof pmcRuntimeFeatures&&pmcRuntimeFeatures.pxUsesMultiWebView,h=g?pega.mobile.support.getPMCRedux():pega.redux;if((pega.ctx.isMDC||g)&&"dynamicContainer"!=e.get("mdcTarget")&&pega.ctx.name===e.get("mdcTarget"))for(var g=h.Utils.getAjaxContainerState().mdcDocs,l=0;l<g.length;++l)if(g[l].recordId===pega.ctx.recordId){"Perform"!==
pega.ctx.strHarnessPurpose&&!c.get("reload")||g[l].recordKey!==a||(b=!0);break}b?(e.put("isMDC",!0),e.put("recordId",pega.ctx.recordId),e.put("mdcTarget",pega.ctx.acName),e.put("skipSwitchDocument","true"),e.put("clearThreadState","true"),e.put("closeDocCallback",function(){e.remove("closeDocCallback");d()}),h.store.dispatch(h.actions(h.actionTypes.CLOSE,e))):d()};
pega.desktop.support.openNextWorkWithApplication=function(){var a=pega.desktop.support.getDesktopWindow();if(a&&1==a.gAccessGroupList.length)return!1;a=new SafeURL("Work-.GetNextWorkAccessGroup");a.put("workPage","newWorkPage");a=httpRequestAsynch(a.toURL(),null,50,100);if("false"==a)return!1;var b=a.split(","),a=b[0];pega.desktop.support.openAssignmentWithApplication(a,b[1],!1);return!0};
pega.desktop.support.openAssignmentWithApplication=function(a,b,c){var d=new SafeURL;d.put("param",b);b=c?pega.desktop.support.constructUrl(d,"openbyassignment"):pega.desktop.support.constructUrl(d,"openbyworkHandle");c=new SafeURL("RedirectAndRun");c.put("ThreadName",a);c.put("Location",b.toQueryString());c.put("AccessGroupName",a);pega.desktop.support.openUrlInWindow(c.toURL(),a,WorkFormSize+PopupWindowFeatures)};
pega.desktop.support.getFrameElement=function(a){var b=window;if("undefined"!=typeof a)for(var c=0;c<a;c++)if(b.pega.desktop.support.isSafeToAskParent())b=b.parent;else return null;return getFrameElementForWindow(b)};var getFrameElementForWindow=function(a){if(a.pega&&a.pega.desktop&&a.pega.desktop.support&&a.pega.desktop.support.isSafeToAskParent())try{return a.frameElement}catch(b){return null}};
pega.desktop.support.isSafeToAskParent=function(){var a="undefined"!=typeof gIsMashupContent&&"true"==gIsMashupContent?!0:!1;if(-1!==pxReqHomeURI.indexOf("/prgateway/")||!a)return!0;if("unsafe"==gIsSafeToAskParent||"inProgress"==gIsSafeToAskParent)return gIsSafeToAskParent="unsafe",!1;var b=pxReqHomeURI.split("/")[2].split(":")[1],a=pxReqHomeURI;if("80"==b||"443"==b)a=pxReqHomeURI.replace(":"+b+"/","/");a=a.split("/")[2];gIsSafeToAskParent="inProgress";pega.desktop.support.readCookie("mashupBaseReferrer")?
b=pega.desktop.support.readCookie("mashupBaseReferrer"):(pega.desktop.support.setCookie("mashupBaseReferrer",document.referrer,1),b=document.referrer);var b=b.split("/")[2],c;if(b&&-1!=b.indexOf(a))try{var d=window.parent;window.dialogArguments&&window.dialogArguments.opener&&(d=window.opener);c=d.pega}catch(e){}else c=!1;gIsSafeToAskParent=c?"safe":"unsafe";return c?!0:!1};
pega.desktop.support.getSTPortalWindow=function(a){return a&&a.AFTPortal?(a=a.document.querySelector("iframe#"+a.AFTPortal))?a.contentWindow:null:null};var gIsSafeToAskParent="";
pega.desktop.support.getDesktopWindow=function(){window.application&&"PegaDesktopApplicationController"==window.application.name&&(pega.desktop.support.desktopWindow=window);var a="undefined"!=typeof gIsMashupContent&&"true"==gIsMashupContent?!0:!1;if(a&&!pega.desktop.support.isSafeToAskParent()||pega.desktop.support.desktopWindow)return pega.desktop.support.getDesktopWindow=function(){try{return pega.desktop.support.desktopWindow&&"object"==typeof pega.desktop.support.desktopWindow.application?pega.desktop.support.desktopWindow:
null}catch(h){return pega.desktop.support.desktopWindow=null}},pega.desktop.support.getDesktopWindow();if(a&&!pega.desktop.support.isSafeToAskParent())return null;for(var b=self,c=null,d=null;b&&b!=d;)if(d=b,a&&d.pega.desktop&&d.pega.desktop.support&&d.pega.desktop.support.isSafeToAskParent&&d.pega.desktop.support.isSafeToAskParent())if((c=d.dialogArguments&&window.dialogArguments.opener?d.opener:d.parent)&&c.application&&"PegaDesktopApplicationController"==c.application.name){pega.desktop.support.desktopWindow=
c;break}else b=c;else break;if(a)return pega.desktop.support.desktopWindow;try{for(var e=window.parent;e;){if(e.application&&"workspace"===e.pega.desktop.portalCategory&&e.name===e.pega.desktop.portalName)return pega.desktop.support.desktopWindow=e,pega.desktop.support.desktopWindow;if(e.parent&&e!=e.parent)e=e.parent;else break}}catch(h){}var a=null,f,b=null;try{b=top}catch(h){}window.dialogArguments&&(b=window.dialogArguments.opener);try{f=b.top;b={};do{if(f==b)break;var g;g=f.top;if("object"!=
typeof g)break;f=g;if("object"==typeof f.application&&"PegaDesktopApplicationController"==f.application.name){a=f;break}b=f;f=f.opener;try{if(null!=f.pega&&null!=f.pega.desktop.support.desktopWindow){a=f.pega.desktop.support.desktopWindow;break}}catch(h){}}while(null!=f)}catch(h){}if(null==a||null==a.application)a=pega.desktop.support.getDesktopFrames();return pega.desktop.support.desktopWindow=a};pega.desktop.support.setDesktopWindow=function(a){pega.desktop.support.desktopWindow=a};
pega.desktop.support.getDesktopFrames=function(){var a;try{var b=window;if("object"==typeof b.application&&"PegaDesktopApplicationController"==b.application.name)return b;do if(b=b.parent,"object"==typeof b.application&&"PegaDesktopApplicationController"==b.application.name){a=b;break}while(null!=b&&b.parent!=b)}catch(c){}return a};
pega.desktop.support.openRuleInWindow=function(a,b,c,d){0<a.length?(b=a.replace(/\W/g,"_"),c=new SafeURL("WBOpenLaunch"),c.put("InsHandle",a),c.put("Action","Open"),void 0!=d&&c.put("SourceType",d),pega.desktop.support.openUrlInWindow(c,b,RuleFormSize+PopupWindowFeatures)):window.status="Can't open rule; no key."};
pega.desktop.support.getSpaceExplorer=function(a){if("Composite"==pega.d.s.getDesktopType())return null;var b=null,c=getSpacePaneAPI();c&&("Rules"==a&&c.getRulesExplorerController?b=c.getRulesExplorerController():"Work"==a&&c.getWorkExplorerController&&(b=c.getWorkExplorerController()));return b};pega.desktop.support.getWorkExplorer=function(){return getSpaceExplorer("Work")};pega.desktop.support.getRulesExplorer=function(){return getSpaceExplorer("Rules")};
pega.desktop.support.getLocalString=function(a,b,c){if("Composite"==pega.d.s.getDesktopType())return b;var d=getDesktopApplication();return d?d.getModel().getResourceBundle().getLocalString(a,b,c):b};pega.desktop.support.attachIntercept=function(a,b){var c=getDesktopApplication();return c&&(c=c.getView("SpaceTitleBar"),null!=c)?c.attachIntercept(a,b):!1};
pega.desktop.support.processSpaceTitleBarAction=function(a){var b=getDesktopApplication();return b&&(b=b.getView("SpaceTitleBar"),null!=b)?b.processAction(a):!1};pega.desktop.support.disableSpaceTitleBarAction=function(a){var b=getDesktopApplication();b&&(b=b.getView("SpaceTitleBar"),null!=b&&b.disableAction(a))};pega.desktop.support.enableSpaceTitleBarAction=function(a){var b=getDesktopApplication();b&&(b=b.getView("SpaceTitleBar"),null!=b&&b.enableAction(a))};
pega.desktop.support.disableHistoryForDocument=function(){var a=getDesktopApplication();a&&(a=a.getView("SpaceTitleBar"))&&a.disableAddToHistory()};
pega.desktop.support.showHelpTopic=function(a){var b="top\x3d"+(window.screen.height/2-450)+",left\x3d"+(window.screen.width-1E3)+",width\x3d960,height\x3d780,menubar\x3dno,location\x3dno,status\x3dno,titlebar\x3dno,toolbar\x3dno,scrollbars\x3dyes,resizable\x3dyes";getReqURI();var c=strHelpBaseURL;window.baseHelpURL&&(c=window.baseHelpURL+"/");a=SafeURL_createFromURL(c+a);b=pega.desktop.support.openUrlInWindow(a,"HelpWindow",b);try{b.focus()}catch(d){}};
pega.desktop.support.getSystemURL=function(a){for(var b=document.all("pegaSourceSystems").XMLDocument.selectNodes("/pagedata/System"),c=0;c<b.length;c++)if(b[c].selectSingleNode("Name").text==a)return objSystem.selectSingleNode("URL").text;return null};
pega.desktop.support.constructUrl=function(a,b){a=a&&"safeURL"!=a.name?SafeURL_createFromURL(a):SafeURL_clone(a);var c=new SafeURL,d=getCurrentWorkPool(),e=a.get("param"),f=2>a.size()?!0:"0"!=a.get("version"),g=a.get("FlowType")?a.get("FlowType"):null;switch(b.toLowerCase()){case "openbyassignment":c.put("pyActivity","Assign-Worklist.ProcessAssignment");c.put("ClassName","Assign-Worklist");c.put("InsHandle",e);break;case "formbyurl":c=a;break;case "getnextwork":c.put("pyActivity",(d&&""!=d?d:"Work-")+
".GetNextWork");c.put("UserIdentifier",e);c.put("glimpseMode","Scripts");c.put("gnwCount",gnwCount++ +"");break;case "enternewwork":c.put("pyActivity",e+".New");c.put("InsClass",e);c.put("FolderType","pyDefault");f&&c.put("HarnessPurpose","New");break;case "enternewworkfromflow":c.put("pyActivity",e+".NewFromFlow");c.put("InsClass",e);c.put("FlowType",g);c.put("param",e);var d=a.keys(),h;for(h in d)"className"!=d[h]&&"HarnessVersion"!=d[h]&&"flowType"!=d[h]&&"api"!=d[h]&&"param"!=d[h]&&"version"!=
d[h]&&"FlowType"!=d[h]&&c.put(d[h],a.get(d[h]));break;case "openbyworkhandle":c.put("pyActivity",(d&&""!=d?d:"Work-")+".Open");c.put("InsHandle",e);c.put("Action","Review");c.put("AllowInput","false");f&&c.put("HarnessPurpose","Review");break;case "openbyworkitem":h=trim(e);a.get("workpool")&&(d=a.get("workpool"));c.put("pyActivity",(d&&""!=d?d:"Work-")+".GetWorkByID");c.put("WorkPool",d);c.put("ID",h);f&&c.put("HarnessPurpose","Review");break;case "listbyuser":c.put("pyActivity","Rule-Obj-ListView.ShowView");
c.put("ViewClass","Assign-Worklist");c.put("ViewPurpose","WorkList");c.put("ViewOwner","ALL");c.put("pyAction","Refresh");c.put("showHeader","false");c.put("UserID",e);c.put("ViewHeader","false");c.put("glimpseMode","Scripts");break;case "listbybasket":c.put("pyActivity","Rule-Obj-ListView.ShowView");c.put("ViewClass","Assign-WorkBasket");c.put("ViewPurpose","workbasketlist");c.put("ViewOwner","ALL");c.put("pyAction","Refresh");c.put("showHeader","false");c.put("WorkbasketID",a.get("param"));c.put("ViewHeader",
"false");c.put("glimpseMode","Scripts");break;case "listbyurl":c=a;break;default:c=a}return c};pega.desktop.support.restartTimeoutWarningTimer=function(){var a=pega.desktop.support.getDesktopWindow();null!=a&&("Composite"==pega.d.s.getDesktopType()&&a.desktop_restartTimeoutWarningTimer?a.desktop_restartTimeoutWarningTimer():a.framesetscript_restartTimeoutWarningTimer&&a.framesetscript_restartTimeoutWarningTimer())};pega.util.Event.addListener(window,"load",pega.desktop.restartTimeoutWarningTimer);
pega.desktop.support.clearBrowserProgressBar=function(){try{var a=pega.desktop.support.getDesktopWindow(),b;a&&(b=a.CLEAR_PROGRESS_STRING);setBrowserStatusMessage(null!=b?b:" ")}catch(c){}};null==didClearBrowserAttach&&("undefined"!=typeof pega?pega.util.Event.addListener(window,"load",pega.desktop.support.clearBrowserProgressBar):window.attachEvent("onload",pega.desktop.support.clearBrowserProgressBar));var didClearBrowserAttach=!0;
pega.desktop.support.setSpaceFocus=function(){var a=pega.desktop.support.getDesktopWindow();a&&(a.frames.SpaceTitleBar.document.all("spaceNameHeader").focus(),a.frames.RoomPane.focus())};
var DesktopAddRecentWork="DesktopAddRecentWork",AppChange="AppChange",DesktopSpaceChange="DesktopSpaceChange",NavPaneResizeEvent="NavPaneResizeEvent",DesktopLoadingComplete="DesktopLoadingComplete",ViewContentLoadComplete="ViewContentLoadComplete",RuleActivateEvent="RuleActivateEvent",DecisionRunRuleEvent="DecisionRunRuleEvent",RuleHeaderUpdateEvent="RuleHeaderUpdateEvent",RuleFormOpened="RuleFormOpened";
pega.desktop.showNewRuleForm=function(a){if(!openSpace("Rules",a,"rulebyurl")){var b=new SafeURL("WBOpenLaunch");b.put("newRuleURL",a);b.put("SourceType","rulecreatewithurl");pega.desktop.openUrlInWindow(b,"",RuleFormSize+PopupWindowFeatures)}};pega.desktop.showListInWindow=function(a,b,c,d,e){pega.desktop.showNextInWindow();pega.desktop.showList(a,b,c,d,e)};pega.desktop.showSummaryInWindow=function(a,b,c,d,e,f){pega.desktop.showNextInWindow();pega.desktop.showSummary(a,b,c,d,e,f)};
pega.desktop.getCurrentWorkPool=function(){return pega.desktop.getCurrentApplication()};pega.desktop.support.setCookie=function(a,b,c){var d=new Date;c=null==c||0==c?1:c;d.setTime(d.getTime()+864E5*c);document.cookie=a+"\x3d"+escape(b)+";expires\x3d"+d.toGMTString()};pega.desktop.support.readCookie=function(a){var b=""+document.cookie,c=b.indexOf(a);if(-1==c||""==a)return"";var d=b.indexOf(";",c);-1==d&&(d=b.length);return unescape(b.substring(c+a.length+1,d))};
pega.desktop.support.isCosmosCase=function(){return pega.desktop.infinity&&pega.desktop.isCosmosCase?!0:!1};
pega.d=pega.namespace("pega.desktop");pega.d.recentWorkArray=[];pega.desktop.windowReloadHandler=function(){var a=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),b=a.getProperty("pxClientSession"),b=localStorage.getItem("pyRequestorToken"+b);pega.desktop.infinity&&pega.desktop.infinity.isNewTab()||!window.localStorage||!b||a.getProperty("pyRequestorToken")==b||(pega.desktop.support.getDesktopWindow().MWReloading="true",pega.desktop.support.getDesktopWindow().location.reload())};
pega.desktop.openRule=function(a,b,c,f,g,e){if(""!=a){var d=new SafeURL;a=pega.tools.SUtils.trim(a);-1<a.indexOf("+")&&(a=a.replace(/[+]/g," "));d.put("Handle",a);2<=arguments.length&&b&&d.put("OpenSpecificVersion",b+"");f&&""!=f&&d.put("contentID",f);g&&""!=g&&d.put("dynamicContainerID",g);null!=e&&d.put("SkipConflictCheck",e);var h=window.dialogArguments&&window.dialogArguments.opener,k=pega.desktop.support.getDesktopWindow();if(k&&k.pega&&k.pega.ui&&k.pega.ui.NavigateTopHandler||h||!pega.desktop.support.openSpace("Rules",
d,"rulespecific"))0<a.length?(d=a.replace(/\W/g,"_"),h=new SafeURL("WBOpenLaunch"),h.put("InsHandle",a),h.put("Action","Open"),h.put("target","popup"),f&&""!=f&&h.put("contentID",f),g&&""!=g&&h.put("dynamicContainerID",g),pega.desktop.openUrlInWindow(h,d,RuleFormSize+PopupWindowFeatures)):window.status="Can't open rule; no key."}};
pega.desktop.openWizard=function(a,b,c){(null!=c&&""!=c?pega.desktop.support.openWizard(a,b,c):pega.desktop.support.openWizard(a,b))||(c=new SafeURL("RedirectAndRun"),c.put("ThreadName",a),c.put("Location",b),c.put("PagesToCopy","pyPortal"),c.put("bEncodeLocation","true"),a=new DesktopNavigationEvent("Rules",c,""),a=pega.desktop.support.constructUrl(a.sourceString,"openwizard"),pega.desktop.openUrlInWindow(a,"pyWorkPage",WorkFormSize+PopupWindowFeatures))};
pega.desktop.openAssignment=function(a,b,c,f,g,e,d){var h=a,k=null;pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setPALInteraction("abc?\x26action\x3dopenAssignment\x26key\x3d"+a);"object"==typeof h&&"safeURL"==h.name&&(k=SafeURL_clone(h),a=k.get("key"),b=k.get("contentID"),c=k.get("dynamicContainerID"));k||(k=new SafeURL);null!=c&&""!=c&&k.put("dynamicContainerID",c);null!=b&&""!=b&&k.put("contentID",b);null!=g&&k.put("SkipConflictCheck",g);e&&k.put("offlineEnabled",e);pega.mobile&&
pega.mobile.isMultiWebViewOfflinePegaMobileClient&&k.put("openerWindowName",window.name);pega.desktop.augmentConfigParams(d,k);pega.desktop.support.handleMultipleAG(a,!0,void 0,k)&&pega.desktop.support.postOpenAssignment(a,f,k)};
pega.desktop.showWorkList=function(a){"object"!=typeof a&&"safeURL"!=a.name&&(a=SafeURL_createFromURL(a));openSpace("Work",a,"listbyurl")||(a=a.toQueryString(),a=pega.desktop.support.constructUrl(a,"listbyurl"),a.remove("ViewHeader"),pega.desktop.openUrlInWindow(a,"WorkListPage",WorkFormSize+PopupWindowFeatures))};
pega.desktop.showUserWorkList=function(a){var b=a;if("object"==typeof b&&"safeURL"==b.name){var c=SafeURL_clone(b);a=c.get("userID")}c||(c=new SafeURL);c.put("param",a);pega.desktop.support.openSpace("Work",c,"listbyuser")||(a=c.toQueryString(),a=pega.desktop.support.constructUrl(a,"listbyuser"),a.remove("ViewHeader"),pega.desktop.support.openUrlInWindow(a,"WorkListPage",WorkFormSize+PopupWindowFeatures))};
pega.desktop.openWorkByURL=function(a,b){if("object"!=typeof a&&"safeURL"!=a.name){var c=SafeURL_createFromURL(a);a=c}openSpace("Work",a,"formbyurl")||(a=c.toQueryString(),a=pega.desktop.support.constructUrl(a,"formbyurl"),pega.desktop.openUrlInWindow(a,"pyWorkPage",WorkFormSize+PopupWindowFeatures,null,b))};
pega.desktop.showWorkBasket=function(a){var b=new SafeURL;b.put("param",a);pega.desktop.support.openSpace("Work",b,"listbybasket")||(a=b.toQueryString(),a=pega.desktop.support.constructUrl(a,"listbybasket"),a.remove("ViewHeader"),pega.desktop.openUrlInWindow(a,"WorkListPage",WorkFormSize+PopupWindowFeatures))};
pega.desktop.openWorkByHandleReload=function(a,b,c,f,g){var e=a,d=null;"object"==typeof e&&"safeURL"==e.name&&(d=SafeURL_clone(e),a=d.get("key"),c=d.get("contentID"),f=d.get("dynamicContainerID"));d||(d=new SafeURL);c&&""!=c&&d.put("contentID",c);f&&""!=f&&d.put("dynamicContainerID",f);"true"==g&&d.put("SkipConflictCheck",g);d.put("reload","true");pega.desktop.support.handleMultipleAG(a,!1,b)&&pega.desktop.support.postOpenWorkByHandle(a,b,d)};
pega.desktop.openWorkByHandle=function(a,b,c,f,g,e,d){var h=a?a:"";b=b?b:"";c=c?c:"";f=f?f:"";g=g?g:"";e=e?e:"";d=d?d:"";pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setPALInteraction("abc?\x26action\x3dopenWorkByHandle\x26key\x3d"+h);"object"==typeof a&&"safeURL"==a.name?(a=SafeURL_clone(a),h=a.get("key")):(a=new SafeURL,a.put("contentID",c),a.put("dynamicContainerID",f));""==h?(h=pega.u.d.fieldValuesList.get("Empty Work Item ID"),alert(h),pega&&pega.control&&pega.control.Actions&&
pega.control.Actions.prototype.hideSkeleton(!0)):(a.put("SkipConflictCheck",g),a.put("reload",e),pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&a.put("openerWindowName",window.name),pega.desktop.augmentConfigParams(d,a),pega.desktop.support.handleMultipleAG(h,!1,b,a)&&pega.desktop.support.postOpenWorkByHandle(h,b,a))};pega.desktop.closeCurrentWorkItem=function(){var a=new SafeURL;return pega.desktop.support.execSpace("Work",a,"closecurrentwork")};pega.desktop.getReqURI=function(){return pxReqURI};
pega.desktop.getOperatorID=function(){var a=pega.desktop.support.getDesktopApplication();return a?a.getUserSessionInfo().getOperatorId():""};pega.desktop.getCurrentApplication=function(){var a=pega.desktop.support.getDesktopApplication();return a?a.getUserSessionInfo().getCurrentWorkPool():""};pega.desktop.setCurrentApplication=function(a){var b=pega.desktop.support.getDesktopApplication();return b?b.getView("PegaLogo").setCurrentApplication(a):""};
pega.desktop.openUrlInSpace=function(a,b,c){pega.desktop.support.openUrlInSpace(a,b,c)};pega.desktop.openUrlInDashboard=function(a){a="object"==typeof a&&"safeURL"==a.name?a.toQueryString():SafeURL_createFromURL(a).toQueryString();pega.desktop.support.openUrlInSpace(a,"Dashboard")};
pega.desktop.showSpace=function(a,b){"Composite"==pega.d.s.getDesktopType()&&(pega.desktop.nextSpace=a);var c=new SafeURL;2==arguments.length&&"spacehome"==b?pega.desktop.support.openSpace(a,c,b)||window.alert(getLocalString("pyMessageLabel","Space not configured")):pega.desktop.support.openSpace(a,c,"")||window.alert(getLocalString("pyMessageLabel","Space not configured"));pega&&pega.control&&pega.control.Actions&&pega.control.Actions.prototype.hideSkeleton()};
pega.desktop.getDefaultSpaceName=function(){var a=pega.desktop.support.getDesktopApplication();return a?a.getModel().getUserSessionInfo().getStartPage():""};pega.desktop.getCurrentSpaceName=function(){if("Composite"==pega.d.s.getDesktopType())return pega.d.s.getDesktopWindow().pega.d.activeSpaceName;var a=pega.desktop.support.getDesktopApplication();return a&&a.getView("SpacePane")?a.getView("SpacePane").getActiveSpaceName():""};
pega.desktop.registerWorkPoolChangeListener=function(a,b){pega.desktop.registerApplicationChangeListener(a,b)};pega.desktop.registerApplicationChangeListener=function(a,b){var c=pega.desktop.support.getDesktopApplication();c&&c.getEventManager().registerWorkPoolChangeListener(a,b)};pega.desktop.registerEventListener=function(a,b,c,f){var g=pega.desktop.support.getDesktopApplication();g&&g.getEventManager().registerEventListener(a,b,c,f)};
pega.desktop.cancelEventListener=function(a,b){var c=pega.desktop.support.getDesktopApplication();c&&c.getEventManager().cancelEventListener(a,b)};var SYNC="SYNC",ASYNC="ASYNC",ASYNC_REPLACE="ASYNC_REPLACE",ASYNC_COPY="ASYNC_COPY",ASYNC_COPY_REPLACE="ASYNC_COPY_REPLACE";pega.desktop.sendEvent=function(a,b,c,f){var g=pega.desktop.support.getDesktopApplication();g&&g.getEventManager().sendEvent(a,b,c,f)};
pega.desktop.showList=function(a,b,c,f,g){var e;if("object"==typeof a&&"safeURL"==a.name)e=a;else{e=new SafeURL;null!=a&&""!=a&&(a=pega.desktop.support.getClassForReports(a),e.put("ViewClass",a));var d,h=b.indexOf("\x26"),k=[];if(0<h)for(d=b.substr(h+1),b=b.substring(0,h),paramsList=d.split("\x26"),d=0;d<paramsList.length;d++)if(a=paramsList[d].indexOf("\x3d"),-1<a){var l,m="";l=paramsList[d].substring(0,a);a<paramsList[d].length&&(m=paramsList[d].substring(a+1));k[l]=m}null!=b&&""!=b?e.put("ViewPurpose",
b):(e.put("ViewPurpose","LookupList"),e.put("glimpseMode","Scripts"));null!=c&&""!=c&&e.put("ViewHeader",c);null!=f&&""!=f?e.put("pyAction",f):e.put("pyAction","Refresh")}e.put("pyActivity","Rule-Obj-ListView.ShowView");b=e.get("removeDataPage");null!=b&&""!=b&&e.put("removeDataPage","true");if(g&&""!=g&&("array"==typeof g||"object"==typeof g))for(d in g)e.put(d,g[d]);if(0<h)for(var n in k)e.put(n,k[n]);pega.desktop.support.openUrlInSpace(e)};
pega.desktop.showNewList=function(a,b,c){pega.desktop.showNextInWindow();var f=new SafeURL;null!=b&&""!=b&&f.put("ViewPurpose",b);null!=a&&""!=a&&f.put("className",a);if(c&&""!=c&&("array"==typeof c||"object"==typeof c))for(var g in c)f.put(g,c[g]);f.put("bListEdit","true");f.put("pyActivity","@baseclass.pzDisplayListEditHarness");pega.desktop.support.openUrlInSpace(f)};
pega.desktop.showSummary=function(a,b,c,f,g,e){var d=new SafeURL;if("object"==typeof a&&"safeURL"==a.name)d=a,null!=d.hashtable.ViewGraph&&""!=d.hashtable.ViewGraph?d.put("pyActivity","Rule-Obj-SummaryView.ShowViewGraph"):d.put("pyActivity","Rule-Obj-SummaryView.ShowView");else{null!=a&&""!=a&&(a=pega.desktop.support.getClassForReports(a),d.put("ViewClass",a));var h;a=b.indexOf("\x26");var k=[];if(0<a)for(h=b.substr(a+1),b=b.substring(0,a),paramsList=h.split("\x26"),h=0;h<paramsList.length;h++){var l=
paramsList[h].indexOf("\x3d");if(-1<l){var m,n="";m=paramsList[h].substring(0,l);l<paramsList[h].length&&(n=paramsList[h].substring(l+1));k[m]=n}}null!=b&&""!=b&&d.put("ViewPurpose",b);null!=c&&""!=c&&d.put("ViewHeader",c);null!=f&&""!=f&&d.put("pyAction",f);null!=g&&""!=g?(d.put("ViewGraph",g),d.put("pyActivity","Rule-Obj-SummaryView.ShowViewGraph")):d.put("pyActivity","Rule-Obj-SummaryView.ShowView");b=d.get("removeDataPage");null!=b&&""!=b&&d.put("removeDataPage","true");if(e&&""!=e&&("array"==
typeof e||"object"==typeof e))for(h in e)d.put(h,e[h]);if(0<a)for(var p in k)d.put(p,k[p])}pega.desktop.support.openUrlInSpace(d)};pega.desktop.openUrlInDialog=function(a,b,c,f,g){return pega.desktop.support.openUrlInDialog(a,b,c,f,g)};pega.desktop.showNextInWindow=function(){pega.desktop.gShowNextInWindow=!0;gShowNextInWindow=pega.desktop.gShowNextInWindow};pega.desktop.gadgetCustomEvent=function(a){pega.desktop.support.doGadgetAction({name:"custom",params:[a]})};
pega.desktop.closeAllDocuments=function(a){var b=new SafeURL;b.put("api","CloseAllDocuments");b.put("event",a);pega.desktop.sendEvent("DesktopAction",b,"SYNC")};
pega.desktop.updateRecentList=function(a){if(a&&0<a.length){a=a.split("\x26");var b=null;if(0<a.length){var c=a[0];if("ClearRecentItem"==c||"ClearOneRecentItem"==c){var b=new SafeURL,f,g,e,d;f=a[1];g=a[2];e=a[3];d=a[4];b.put("api","UpdateRecentList");c&&b.put("recentAction","ClearRecentItem");f&&b.put("searchKey",f);g&&b.put("recentItemRemoved",g);e&&b.put("ignoreDirty",e);d&&b.put("dirtyState",d);5<=a.length&&a[5]&&(e=a[5].split("\x3d"),2<=e.length?b.put("originalRecentKey",e[1]):b.put("isFirstRecentItem",
a[5]));6<=a.length&&a[6]&&(e=a[6].split("\x3d")[1],b.put("originalRecentKey",e))}else if("ClearAllRecentItems"==c||"ClearAllRecentItemsOnce"==c)b=new SafeURL,e=a[1],c=a[2],f=a[3],a=a.slice(4).join("\x26"),b.put("api","UpdateRecentList"),b.put("recentAction","ClearAllRecentItems"),e&&b.put("ignoreDirty",e),c&&b.put("hasDirtyRecentItem",c),a&&b.put("recordKeys",a),f&&b.put("pooledDoClose",f);b&&pega.desktop.sendEvent("DesktopAction",b,"ASYNC")}}};
pega.desktop.activateDocument=function(a,b,c){if(pega.ctx.isMDC||!(pega&&pega.ui&&pega.ui.NavigateTopHandler)&&pega.desktop.support.getDesktopWindow()&&!pega.desktop.support.getDesktopWindow().pega.u.d.isDcExists())if(c="undefined"===typeof c?"acprimary_":c+"_",pega.redux&&pega.redux.store){pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.SWITCH,{recordId:c+a}));return}pega&&pega.offline&&0==a&&"function"==typeof onNavigateToDashboard&&onNavigateToDashboard();pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient?
(a=pega.mobile.support.getPortalWindow(),a.pega.offline.Utils.refreshWorkList.apply(a.pega.offline.Utils.refreshWorkList,[function(){window.close.apply(window)},function(){console.info("Failed to refresh the worklist webview");window.close.apply(window)}])):(c=typeof b,b="string"==c||"boolean"==c?"false"==b.toString().toLowerCase()?"false":"true":"true",c=new SafeURL,c.put("api","activate"),c.put("index",a),c.put("triggerDeltaSync",b),pega.u.d.bIsDCSPA&&c.put("skipDirtyCheck",!0),pega.desktop.sendEvent("DesktopAction",
c,"SYNC"))};pega.desktop.setNativeTransition=function(a){pega.control.Actions.prototype.setMobileTransition(a)};
pega.desktop.navigateTo=function(a){"object"==typeof a&&"safeURL"==a.name&&(a=a.toURL());var b=null;pega&&pega.ui&&pega.ui.statetracking&&(b=pega.ui.statetracking.setNavigationBusy(a));b&&(b.serverInteractionStart&&1==b.serverInteractionStart&&(a+="\x26ClientInt\x3dStart"),b.clientInteractionDuration&&0<b.clientInteractionDuration&&(a+="\x26ClientLoadDuration\x3d"+b.clientInteractionDuration),b.clientInteractionAction&&null!=b.clientInteractionAction&&(a+="\x26ClientIntAction\x3d"+b.clientInteractionAction),
b.uiTkn&&null!=b.uiTkn&&(a+="\x26UsIntTkn\x3d"+b.uiTkn));pega.ui.d.gBusyInd&&pega.ui.d.gBusyInd.hide();location.href=a};
pega.desktop.augmentConfigParams=function(a,b){if(b){a=a||{};a.target&&b.put("mdcTarget",a.target);if(a.tenantData)b.put("tenantData",a.tenantData);else{var c=pega.desktop.support.getDesktopWindow();c&&c.gIsMultiTenantPortal&&b.put("tenantData",{tenantUrl:requestHomeURI})}a.paramsObj&&b.put("paramsObj",a.paramsObj);a.pySkipConflictCheck&&b.put("SkipConflictCheck",a.pySkipConflictCheck);a.pyReloadAlways&&b.put("reload",a.pyReloadAlways)}};
pega.namespace("pega.ui");pega.ui.busyIndicator=function(a,b,c,d){this._message=a;this._sNode=c;this._visibility=!0;this.oDiv=this.oSpan=null;this._showFullScreenBusyInd=!1;this.busyIndicatorID=(new Date).getTime();this.previousBusyIndInterval=null;this.busyIndInterval="undefined"==typeof d?2E3:d;this._visibility="undefined"==typeof b?!0:b};
pega.ui.busyIndicator.prototype={initialize:function(a){var b=document.createElement("SPAN");b.id="pega_ui_load";b.className="pega_ui_busyIndicator";b.setAttribute("role","progressbar");pega&&pega.u&&pega.u.d&&"throbberLoadingText"in pega.u.d&&pega.u.d.throbberLoadingText&&(b.setAttribute("aria-valuetext",pega.u.d.throbberLoadingText),b.setAttribute("aria-label",pega.u.d.throbberLoadingText));b.setAttribute("tabindex",-1);this.oSpan=b;b=document.createElement("DIV");b.id="pega_ui_mask";b.className=
"pega_ui_masking";this.oDiv=b;var b=!0,c=null==this._sNode||null==this._sNode.tagName?"body":this._sNode.tagName.toLowerCase();if(null!=a)for(;b;)"table"===c||"tr"===c||"tbody"===c?(a=a.parentNode,c=a.tagName):b=!1;null!=a?(this.oDiv.appendChild(this.oSpan),a.insertBefore(this.oDiv,a.firstChild)):(this.oDiv.appendChild(this.oSpan),document.body.insertBefore(this.oDiv,document.body.firstChild));a&&"PEGA_HARNESS"!==a.getAttribute("id")?this.oDiv.style.position="absolute":this.oDiv.style.position="fixed"},
cleanup:function(){var a;this.oSpan&&(a=this.oSpan.parentNode,null!=a&&a.removeChild(this.oSpan));this.oDiv&&(a=this.oDiv.parentNode,null!=a&&a.removeChild(this.oDiv));this._sNode=this.oDiv=this.oSpan=null},busyIndTimeOut:null,busyManager:!1};pega.ui.busyIndicator.prototype.setMessage=function(a){this._message="undefined"==typeof a?"":a};pega.ui.busyIndicator.prototype.setTargetElement=function(a){this._sNode=a};
pega.ui.busyIndicator.prototype.setVisibility=function(a){this._visibility="undefined"==typeof a?!0:a};pega.ui.busyIndicator.prototype.preventFocusOnTab=function(){return!1};
pega.ui.busyIndicator.prototype.show=function(a,b){null!=this.busyIndTimeOut&&clearTimeout(this.busyIndTimeOut);var c=this;this.busyManager=!0;this.createIndicatorImage();if(!window.event||"undefined"==typeof event){var d=null;if(this.show.caller||"undefined"!=typeof this.show.caller)d=this.show.caller;d&&d.arguments[0]&&d.arguments[0].constructor&&(window.Event==d.arguments[0].constructor||window.UIEvent==d.arguments[0].constructor)&&(event=d.arguments[0])}if(1==a)c.showInternal();else if(1==b||
window.event&&"undefined"!=typeof event&&"scroll"==event.type){c.showInternalWithoutImage();var e=c.bShowIndicatorImg;this.busyIndTimeOut=setTimeout(function(){c.showIndicatorImage(e)},this.busyIndInterval)}else this.busyIndTimeOut=setTimeout(function(){c.showInternal()},this.busyIndInterval)};pega.ui.busyIndicator.prototype.showInternalWithoutImage=function(){this.showMask()};
pega.ui.busyIndicator.prototype.showInternal=function(){this._showFullScreenBusyInd||(pega.c&&pega.c.actionSequencer&&(pega.c.actionSequencer.getPendingQueueLength&&0<pega.c.actionSequencer.getPendingQueueLength()||!pega.c.actionSequencer.isQueueEmpty())&&pega.u.d.gBusyInd&&(pega.u.d.gBusyInd.setTargetElement(document.getElementById("PEGA_HARNESS")),pega.u.d.gBusyInd.hide(null,null,!0),this.oSpan=null,this.busyManager=!0,this.createIndicatorImage(),this._showFullScreenBusyInd=!0),this.showMask(),
this.showIndicatorImage(this.bShowIndicatorImg))};
pega.ui.busyIndicator.prototype.showIndicatorImage=function(a){var b=pega.desktop.support.getDesktopWindow();b||(b=window);for(var b=b.document.querySelectorAll(".iframe-wrapper"),c=0;c<b.length;c++)if(null!=b[c].querySelector("iframe")&&"none"==b[c].style.display){var d=b[c].querySelector("iframe").contentDocument.getElementById("statusDiv");null!=d&&(d.parentNode.removeChild(d),d=null)}b=null;d=$("body").find("#statusDiv");0<$(d).length?$(d).text(""):$("html").hasClass("phone")||$("html").hasClass("tablet")||
$("body").prepend("\x3cdiv id\x3d'statusDiv' role\x3d'status' aria-live\x3d'polite' aria-atomic\x3d'true' class\x3d'pzPegaThrobberLiveRegion'\x3e\x3c/div\x3e");if(a){if(this.oSpan){this.oSpan.style.display="block";$(this.oDiv).parent().attr("aria-busy",!0);this.refARIABusyElement=this.oDiv.parentNode;var e=this;setTimeout(function(){e.oSpan&&"block"==e.oSpan.style.display&&(pega.ctxmgr.registerContextSwitching(e.oSpan),e.oSpan.focus(),e.oSpan.announcedThrobber=!0)},pega.u.d.throbberAnnouncementDelay)}}else this.oSpan&&
(this.oSpan.style.display="none")};pega.ui.busyIndicator.prototype.createIndicatorImage=function(){null==this.oSpan&&this.initialize(this._sNode);this.oSpan.innerHTML=this._message&&0<this._message.length?"\x3cdiv class\x3d'throbber' role\x3d'progressbar' aria-valuetext\x3d'Loading content'  tabindex\x3d'0'\x3e\x3cdiv class\x3d'loader'\x3e\x3c/div\x3e\x3c/div\x3e"+this._message:"\x3cdiv class\x3d'throbber' role\x3d'progressbar' aria-valuetext\x3d'Loading content'  tabindex\x3d'0'\x3e\x3cdiv class\x3d'loader'\x3e\x3c/div\x3e\x3c/div\x3e"};
pega.ui.busyIndicator.prototype.showMask=function(){if(this.busyManager){this.busyIndTimeOut=null;pega.util.Event.removeListener(window,"resize",this.show);$(window).off("scroll."+this.busyIndicatorID);var a=this.oDiv,b=this.oSpan;a.style.display="block";this.bShowIndicatorImg=!0;var c=document.body.scrollTop,d=document.body.scrollLeft;(pega.env.ua.gecko||pega.util.Event.isIE)&&document.documentElement&&(c=document.documentElement.scrollTop,d=document.documentElement.scrollLeft);var e=document.body.clientHeight,
g=document.body.clientWidth;if(this._sNode){var f=0,k=this._sNode;if(null!=k){var h=pega.util.Dom.getXY(k),f=h[1];0>f&&(f=0);h[1]<c&&k.offsetHeight>e?pega.util.Dom.setXY(this.oDiv,[h[0],c]):pega.util.Dom.setXY(this.oDiv,h)}f<e?f+this._sNode.offsetHeight<e?a.style.height=this._sNode.offsetHeight+"px":c<f?a.style.height=e-f+c+"px":f+this._sNode.offsetHeight<=a.offsetTop+e?c>f+this._sNode.offsetHeight?(a.style.display="none",this.bShowIndicatorImg=!1):(a.style.display="block",this.bShowIndicatorImg=
!0,a.style.height=f+this._sNode.offsetHeight-c+"px"):a.style.height=e+"px":c+e>=f?c<f?a.style.height=this._sNode.offsetHeight<e?this._sNode.offsetHeight+"px":e-f+c+"px":f+this._sNode.offsetHeight<=a.offsetTop+e?c>=f+this._sNode.offsetHeight?(a.style.display="none",this.bShowIndicatorImg=!1):(a.style.display="block",this.bShowIndicatorImg=!0,a.style.height=f+this._sNode.offsetHeight-c+"px"):a.style.height=e+"px":a.style.display="none";0<g?0+this._sNode.offsetWidth<g?a.style.width=this._sNode.offsetWidth+
"px":0>d?a.style.width=g-0+d+"px":(a.style.left=d+"px",0+this._sNode.offsetWidth<=a.offsetLeft+g?d>0+this._sNode.offsetWidth?(a.style.display="none",this.bShowIndicatorImg=!1):(a.style.display="block",this.bShowIndicatorImg=!0,a.style.width=0+this._sNode.offsetWidth-d+"px"):a.style.width=g+"px"):0<=d+g?0>d?a.style.width=this._sNode.offsetWidth<g?this._sNode.offsetWidth+"px":g-0+d+"px":(a.style.left=d+"px",0+this._sNode.offsetWidth<=a.offsetLeft+g?d>=0+this._sNode.offsetWidth?(a.style.display="none",
this.bShowIndicatorImg=!1):(a.style.display="block",this.bShowIndicatorImg=!0,a.style.width=0+this._sNode.offsetWidth-d+"px"):a.style.width=g+"px"):a.style.display="none";this._visibility||(this.bShowIndicatorImg=!1)}else a.style.top=c+"px",a.style.left=d+"px",a.style.height=e+"px",a.style.width=g+"px",this._visibility?(b.style.top=c+e/2-b.offsetHeight/2+"px",b.style.left=d+g/2-b.offsetWidth/2+"px"):this.bShowIndicatorImg=!1;b=$(b).children().first();c=parseInt($(a).width());a=parseInt($(a).height());
80>=c?b.addClass("vertical"):80>=a&&b.addClass("horizontal");pega.util.Event.addListener(window,"resize",this.show,this,!0);a=$.proxy(this.show,this);$(window).on("scroll."+this.busyIndicatorID,a);pega.util.Event.addListener(document.body,"keydown",this.preventFocusOnTab,this,!0)}};
pega.ui.busyIndicator.prototype.hide=function(a,b,c){if(pega.c&&pega.c.actionSequencer&&pega.u.d.gBusyInd==this){var d=pega.c.actionSequencer.getPendingQueueLength(),e=pega.c.actionSequencer.isQueueEmpty();if(b||0==d&&e)this._showFullScreenBusyInd=!1;if(!c&&!b&&(0<d||!e))return}pega.util.Event.removeListener(window,"resize",this.show);$(window).off("scroll."+this.busyIndicatorID);pega.util.Event.removeListener(document.body,"keydown",this.preventFocusOnTab);this.oSpan&&this.oSpan.announcedThrobber&&
(pega&&pega.u&&pega.u.d&&"throbberLoadingCompletedText"in pega.u.d&&pega.u.d.throbberLoadingCompletedText&&$("#statusDiv").text(pega.u.d.throbberLoadingCompletedText),this.oSpan.announcedThrobber=!1);this.refARIABusyElement&&(this.refARIABusyElement.removeAttribute("aria-busy"),this.refARIABusyElement=null);b=$(pega.u.d.focusElement).closest("table.gridTable");pega&&pega.u&&pega.u.d&&pega.u.d.focusElement&&pega.u.d.focusElement.focus&&document&&document.activeElement&&document.activeElement!==pega.u.d.focusElement&&
!a&&!b&&pega.u.d.focusDomElement(pega.u.d.focusElement);pega.util.Event.isIE&&(pega.ctxmgr.skipContextSwitching=!0);this.oDiv&&(this.oDiv.style.display="none");this.oSpan&&(this.oSpan.style.display="none");pega.ctxmgr&&"function"===typeof pega.ctxmgr.unregisterContextSwitching&&this.oSpan&&pega.ctxmgr.unregisterContextSwitching(this.oSpan);this.cleanup();this.busyManager=!1;null!=this.busyIndTimeOut&&clearTimeout(this.busyIndTimeOut)};
pega.ui.busyIndicator.prototype.hideMessage=function(){pega.util.Event.removeListener(window,"resize",this.show);$(window).off("scroll."+this.busyIndicatorID);this.oSpan.style.display="none"};pega.ui.busyIndicator.prototype.total_offset=function(a,b){for(var c=0;a;){c+=a[b];try{a=a.offsetParent}catch(d){break}}return c};pega.ui.busyIndicator.prototype.nullify=function(){this.cleanup();this._sNode=null};
pega.ui.busyIndicator.prototype.setBusyIndInterval=function(a){this.previousBusyIndInterval=this.busyIndInterval;this.busyIndInterval=a};pega.ui.busyIndicator.prototype.resetBusyIndInterval=function(){this.busyIndInterval=this.previousBusyIndInterval};
pega.desktop.MouseEventSingleton=function(){this._clickListeners=[]};
pega.desktop.MouseEventSingleton.prototype={_bEnable:!0,enable:function(){this._bEnable=!0},disable:function(){this._bEnable=!1},registerClickListener:function(a,b){this._clickListeners[this._clickListeners.length]=[a,b]},cancelclickListener:function(a){for(var b=0;b<this._clickListeners.length;b++)if(this._clickListeners[b]==a){this._clickListeners[b]=null;this._clickListeners.splice(b,1);break}},_doOnMouseClick:function(a){if(this._bEnable&&2!=a.button){var b=pega.util.Event.getTarget(a),d=pega.util.Event.getPageX(a);
a=pega.util.Event.getPageY(a);var c={};c.srcElement=b;c.window=window;c.pageX=d;c.pageY=a;try{window.gRuleFormManager?gRuleFormManager.wrapperAPI.pega.d.sendEvent("DesktopMouseClick",c,"ASYNC"):null!=pega.desktop.support.getDesktopApplication()?pega.d.sendEvent("DesktopMouseClick",c,"ASYNC"):this._invokeClickListeners(c)}catch(e){}}},_doOnContextMenu:function(a){if(this._bEnable){var b=pega.util.Event.getTarget(a),d=pega.util.Event.getPageX(a);a=pega.util.Event.getPageY(a);var c={};c.srcElement=b;
c.window=window;c.pageX=d;c.pageY=a;try{window.gRuleFormManager?gRuleFormManager.wrapperAPI.pega.d.sendEvent("desktopRightClick",c,"ASYNC"):null!=pega.desktop.support.getDesktopApplication()&&pega.d.sendEvent("desktopRightClick",c,"ASYNC")}catch(e){}}},_doOnLoad:function(){if(-1==document.URL.indexOf("Rule-Obj-ListView.pzShowLVFilters")&&-1==document.URL.indexOf("ShowCalendar"))try{pega.util.Event.addListener(document,"click",this._doOnMouseClick,this,!0),pega.util.Event.addListener(document,"contextmenu",
this._doOnContextMenu,this,!0)}catch(a){}},_invokeClickListeners:function(a){for(var b=0;b<this._clickListeners.length;b++)this._clickListeners[b][0].call(this._clickListeners[b][1],a)}};pega.d.MouseEvent=new pega.desktop.MouseEventSingleton;pega.util.Event.addListener(window,"load",pega.d.MouseEvent._doOnLoad,pega.d.MouseEvent,!0);pega.desktop.MouseEventHandler=function(){this.pageX;this.pageY;this.alternateWindow=this.window=this.srcElement=null};
pega.desktop.MouseEventHandler.prototype={check:function(a){var b=!1;try{var d=a.pageX,c=a.pageY,e=a.srcElement;if(a.window==window||this.alternateWindow){var f=a=!1;this.pageX&&this.pageY&&d==this.pageX&&c==this.pageY&&(a=!0);this.srcElement&&e==this.srcElement&&(f=!0);if(a||f)b=!0}}catch(g){}return b},set:function(a){this.pageX=pega.util.Event.getPageX(a);this.pageY=pega.util.Event.getPageY(a);this.srcElement=pega.util.Event.getTarget(a)},clear:function(a){this.pageY=this.pageX=0;this.alternateWindow=
this.window=this.srcElement=null}};
pega.namespace("pega.tools");pega.tools.Queue=function(){this.queue=[];this.dequeueLocked=!1};
(function(){pega.tools.Queue.prototype={enqueue:function(a){this.queue.push(a)},dequeue:function(){if(this.dequeueLocked)throw Error("Dequeue is locked");if(this.isEmpty())throw Error("Queue is empty");return this.queue.shift()},lockDequeue:function(){if(this.dequeueLocked)throw Error("Dequeue is already locked");this.dequeueLocked=!0},unlockDequeue:function(){this.dequeueLocked=!1},isDequeueLocked:function(){return this.dequeueLocked},dequeueAndLock:function(){try{var a=this.dequeue();this.lockDequeue()}catch(b){throw b;
}return a},isEmpty:function(){return 0==this.queue.length},putInFront:function(a){this.queue.unshift(a)}}})();
var PalData=function(){return function(b){this.clientInteractionAction=null;this.serverInteractionStart=!1;this.serverCallCount=this.netAndServerDuration=this.clientInteractionDuration=0;this.callDurations=[];this.actionsCount=this.uiTkn=0;if(null!=b){this.uiTkn=b.uiTkn;this.clientInteractionDuration=b.clientInteractionDuration;this.clientInteractionAction=b.clientInteractionAction;this.netAndServerDuration=b.netAndServerDuration;this.serverCallCount=b.serverCallCount;for(var a=b.callDurations,c=
0;c<a.length;c++)this.callDurations.push(a[c]);this.actionsCount=b.actionsCount}}}(),Statetracking=function(){function b(a){this.IDLE_EVENT="clientIdle";this.COOKIE_NAME="Pega-Perf";this.debug=!1;this.objId=Date.now();this.timeEnabled=!0;this.firstLoadCompleted=this.isChrome=this.divEnabled=!1;this.inFlightCounts={Action:0,Ajax:0,ajaxPre:0,ajaxPost:0,Doc:0,Nav:1,Fmsbmt:0,LoadMgr:0,ScriptLd:0,Http:0,css:0,procEng:0,offSync:0,other:0};this.workPending=!1;this.actionTotals={totalDuration:0,callDurations:[],
interactCounts:0};this.uiTkn=0;this.uiActionInFlight=null;this.uiActionsCount=0;this.interactionStartForPAL=this.firstActionComplete=!1;this.completedTransactionForPAL=null;this.logToPALTransaction=this.logPALImmediate=!1;this.logToPALTransactionId=null;this.startClient={action:0};this.lastIdleTime=this.startHttpBusy=this.startClientBusy=0;this.startClientPending={action:!1};this.resetIdle_callbackId=this.hungBusy_callbackId=null;this.objId=Date.now();a&&(this.debug=a);this.debug&&console.log("inside constructor for pega.ui.statetracking("+
this.objId+")")}b.prototype.setActionBusy=function(a,c){this.timeEnabled&&this.setActionState(a||"busy",c)};b.prototype.setActionDone=function(){};b.prototype.setNavigationBusy=function(a){this.timeEnabled?this.setNavigationState("busy",null,a):null};b.prototype.setNavigationDone=function(a){this.timeEnabled&&this.setNavigationState("none",a)};b.prototype.setFormsubmitBusy=function(a){this.timeEnabled&&this.setFormsubmitState("busy",a)};b.prototype.setFormsubmitDone=function(){this.timeEnabled&&this.setFormsubmitState("none")};
b.prototype.setPALInteraction=function(a){this.timeEnabled&&this.setAsPALInteraction(a)};b.prototype.setAjaxBusy=function(a){this.timeEnabled&&this.isOnline()&&this.setAjaxState(a||"busy")};b.prototype.setAjaxDone=function(){this.timeEnabled&&this.isOnline()&&this.setAjaxState("none")};b.prototype.setAjaxPreBusy=function(a){this.timeEnabled&&this.isOnline()&&this.setAjaxEngineTimes(a||"busy","ajaxPre")};b.prototype.setAjaxPreDone=function(a){this.timeEnabled&&this.isOnline()&&this.setAjaxEngineTimes("none",
"ajaxPre")};b.prototype.setAjaxPostBusy=function(a){this.timeEnabled&&this.isOnline()&&this.setAjaxEngineTimes(a||"busy","ajaxPost")};b.prototype.setAjaxPostDone=function(a){this.timeEnabled&&this.isOnline()&&this.setAjaxEngineTimes("none","ajaxPost")};b.prototype.setHttpBusy=function(a,c){this.timeEnabled?this.setHttpState("busy",a,c):null};b.prototype.setHttpDone=function(a,c){this.timeEnabled&&this.setHttpState("none",a,!1,c)};b.prototype.setDocumentBusy=function(a){this.timeEnabled&&this.setDocumentState(a||
"busy")};b.prototype.setDocumentDone=function(a){this.timeEnabled&&this.setDocumentState("ready",a)};b.prototype.setDocumentDoneImmediate=function(){this.timeEnabled&&this.setDocumentState("readyImmediate")};b.prototype.setLoadMgrBusy=function(a){this.timeEnabled&&this.setLoadMgrState(a||"busy")};b.prototype.setLoadMgrDone=function(){this.timeEnabled&&this.setLoadMgrState("none")};b.prototype.setScriptLoadingBusy=function(a){this.timeEnabled&&this.setScriptLoadingState(a||"busy")};b.prototype.setScriptLoadingDone=
function(){this.timeEnabled&&this.setScriptLoadingState("none")};b.prototype.setCSSBusy=function(){this.timeEnabled&&this.setCSSState("busy")};b.prototype.setCSSDone=function(){this.timeEnabled&&this.setCSSState("none")};b.prototype.setProcessEngineBusy=function(a){this.timeEnabled&&this.setProcEngState(a||"busy")};b.prototype.setProcessEngineDone=function(){this.timeEnabled&&this.setProcEngState("none")};b.prototype.setOfflineSyncBusy=function(a){this.setOfflnSyncState(a||"busy")};b.prototype.setOfflineSyncDone=
function(){this.setOfflnSyncState("none")};b.prototype.setCallbackPending=function(a){this.timeEnabled&&this.setWorkPending(a,"busy")};b.prototype.setCallbackDone=function(a){this.timeEnabled&&this.setWorkPending(a,"done")};b.prototype.setBusy=function(a){this.timeEnabled&&this.setOtherState(a||"busy")};b.prototype.setDone=function(){this.timeEnabled&&this.setOtherState("none")};b.prototype.resetBusyTotalizer=function(){this.resetTimers();this.resetInFlightCounts();this.resetBusyTotalisers();this.updateDiv(!1);
this.firstLoadCompleted=!0};b.prototype.enableLogging=function(a){"boolean"===typeof a&&(this.timeEnabled=a)};b.prototype.logImmediatelyOnComplete=function(a){this.timeEnabled&&this.logOnComplete(a||!1)};b.prototype.cleanCookieToToken=function(){this.cleanCookie()};b.prototype.getState=function(){return this.getCondition()};b.prototype.getBusyTotalizer=function(){return{totalDuration:this.actionTotals.totalDuration,callDurations:this.actionTotals.callDurations}};b.prototype.isSDM=function(){return"object"==
typeof pega.ui.NavigateTopHandler&&("undefined"==typeof pega.u.d.bIsDCSPA||0==pega.u.d.bIsDCSPA)};b.prototype.isSPA=function(){return"object"==typeof pega.ui.NavigateTopHandler&&1==pega.u.d.bIsDCSPA};b.prototype.isOnline=function(){return pega.u.d.ServerProxy.isDestinationRemote()};b.prototype.initialise=function(){this.log("initialise()");this.getDocumentStateTracker()&&(this.divEnabled=!0);0<=navigator.userAgent.indexOf("Chrome/")&&(this.isChrome=!0);if(this.isSDM()){this.log("    reading from sessionStore");
try{this.startClient.action=Number(sessionStorage.getItem("docStateTracker_actionStart"));this.uiActionInFlight=sessionStorage.getItem("docStateTracker_actionURL");null!=this.uiActionInFlight&&0<this.uiActionInFlight.length&&(this.uiActionsCount=1);var a=parseInt(sessionStorage.getItem("docStateTracker_uiTkn"),10);this.uiTkn=isNaN(a)?0:a;var c=sessionStorage.getItem("docStateTracker_duratns");null!=c&&(this.actionTotals.callDurations=c.split(","),this.actionTotals.interactCounts=this.actionTotals.callDurations.length);
this.logPALdetails("    from session store: ");sessionStorage.removeItem("docStateTracker_actionStart");sessionStorage.removeItem("docStateTracker_actionURL");sessionStorage.removeItem("docStateTracker_uiTkn");sessionStorage.removeItem("docStateTracker_duratns")}catch(e){}}};b.prototype.setActionState=function(a,c){this.log("setActionState("+a+", "+c+")");var b=Date.now();this.log("event time:"+b);c=function(){0==this.startClient.action&&(this.startClient.action=b,this.interactionStartForPAL=this.startClientPending.action=
!0)};"publishEndOfQueue"===a?(this.firstActionComplete=!0,this.inFlightCounts.Action=1,this.setState("none","Action",null,c)):0==this.inFlightCounts.Action&&this.setState(a,"Action",null,c);this.log("setActionState("+a+") ... done; inFlightActionC.Action\x3d"+this.inFlightCounts.Action+", clientBusy\x3d"+this.startClientBusy+", sC.action\x3d"+this.startClient.action+", interactionStartForPAL\x3d"+this.interactionStartForPAL+", firstActionComplete\x3d"+this.firstActionComplete)};b.prototype.setNavigationState=
function(a,c,b){this.log("setNavigationState("+a+", "+(null!=c?c.location:"null")+")");b&&this.log("    url\x3d"+b);this.setState(a,"Nav",function(){-1==this.inFlightCounts.Nav?this.inFlightCounts.Nav=0:(1==this.startClientPending.action&&(this.startClientPending.action=!1),this.cleanCookie());var a,b;this.actionTotals.interactCounts++;c&&c.performance&&c.performance.timing?(a=c.performance.timing,b=a.navigationStart,a=a.responseEnd-a.requestStart,this.log("w.p.t:navigationStart\x3d"+b+", http\x3d"+
a)):(a=Date.now()-this.startHttpBusy,this.log("    duration estimate\x3d"+a));0<a&&(this.actionTotals.callDurations.push(a),0==this.inFlightCounts.Http&&0==this.inFlightCounts.Nav&&(this.startHttpBusy=0))},function(){var a=Date.now();1==this.inFlightCounts.Nav&&0==this.inFlightCounts.Http&&0==this.startHttpBusy&&(this.startHttpBusy=a);0==this.startClient.action&&(this.startClient.action=a,this.interactionStartForPAL=!0);b||(b="setNavigation() no url");this.initPALlogging(b);this.updateCookie();0<
this.inFlightCounts.other&&this.setOtherState("none","formSubmit");this.isSPA()&&this.inFlightCounts.Nav--});this.log("setNavigationState("+a+") ... done;  sC.action\x3d"+this.startClient.action+", startHttpB\x3d"+this.startHttpBusy+", httpDs\x3d"+this.actionTotals.callDurations.join("!"))};b.prototype.setFormsubmitState=function(a,c){this.log("setFormsubmitState("+a+")");this.setState(a,"Fmsbmt",function(){0>this.inFlightCounts.Fmsbmt&&(this.inFlightCounts.Fmsbmt=0)},function(){this.interactionStartForPAL=
!0;c||(c="setFormsubmitState() no url");this.initPALlogging(c);this.updateCookie()});this.log("setFormsubmitState("+a+") ... done; inFlightC.Nav\x3d"+this.inFlightCounts.Nav+", inFlightC.Doc\x3d"+this.inFlightCounts.Doc+", inFlightC.Fmsbmt\x3d"+this.inFlightCounts.Fmsbmt+", sC.action\x3d"+this.startClient.action);this.logPALdetails("    ")};b.prototype.setDocumentState=function(a,c){this.log("setDocumentState("+a+")");c=a;"ready"==a&&(c="none");"readyImmediate"==a&&(c="noneImmediate");this.setState(c,
"Doc",function(){"readyImmediate"==a&&0<this.inFlightCounts.other&&this.setOtherState("none","formSubmit")},function(){"initialising"==a&&(this.initialise(),0<this.inFlightCounts.other&&this.setOtherState("none"))});this.log("setDocState("+a+") ... done; inFlightC.Nav\x3d"+this.inFlightCounts.Nav+", inFlightC.Doc\x3d"+this.inFlightCounts.Doc+", inFlightC.Fmsbmt\x3d"+this.inFlightCounts.Fmsbmt+", sC.action\x3d"+this.startClient.action)};b.prototype.setAjaxState=function(a){this.log("setAjaxEngineState("+
a+")");this.setState(a,"Ajax",null,function(){0==this.startClient.action&&(this.startClient.action=Date.now(),this.interactionStartForPAL=!0)});this.log("setAjaxEngineState() ... done; inFlightC.Ajax\x3d"+this.inFlightCounts.Ajax+", sC.action\x3d"+this.startClient.action)};b.prototype.setAjaxEngineTimes=function(a,c){this.log("setAjaxEngineTimes("+a+", "+c+")");this.setState(a,c,function(){0==this.inFlightCounts[c]&&(this.startClient[c]=0)},function(){var a=Date.now();1==this.inFlightCounts[c]&&(this.startClient[c]=
a);0==this.startClient.action&&(this.startClient.action=a,this.interactionStartForPAL=!0)});this.log("setAjaxEngineTimes("+a+", "+c+") ... done; inFlightC.ajaxPre\x3d"+this.inFlightCounts.ajaxPre+", inFlightC.ajaxPost\x3d"+this.inFlightCounts.ajaxPost+", sC.action\x3d"+this.startClient.action)};b.prototype.setHttpState=function(a,c,b,d){this.log("setHttpState("+a+", "+c+", "+b+", "+d+")");1==this.logToPALTransaction?"busy"==a?(this.log("sending to PAL - do not track - duration for PAL\x3d"),this.logToPALTransactionId=
c,this.updateCookie()):(this.log("completion sending to PAL - end do not track"),this.logToPALTransactionId==c?(this.logToPALTransaction=!1,this.logToPALTransactionId=null,this.cleanCookie()):this.logErr("mismatched log-to-PAL transaction ids "+this.logToPALTransactionId+", "+c)):this.setState(a,"Http",function(){this.actionTotals.interactCounts++;"undefined"==typeof d&&(d=0);this.actionTotals.callDurations.push(d);0==this.inFlightCounts.Http&&0==this.inFlightCounts.Nav&&(this.startHttpBusy=0);this.cleanCookie()},
function(){0==this.inFlightCounts.Nav&&1==this.inFlightCounts.Http&&0==this.startHttpBusy&&(this.startHttpBusy=Date.now());0==this.startClient.action&&(this.startClient.action=this.startHttpBusy,this.interactionStartForPAL=!0);this.updateCookie()});this.log("setHttpState("+a+") ... done;  sC.action\x3d"+this.startClient.action+", startHttpB\x3d"+this.startHttpBusy+", httpDs\x3d"+this.actionTotals.callDurations.join("!"))};b.prototype.setLoadMgrState=function(a){this.setState(a,"LoadMgr");this.log("setLoadMgrState("+
a+") ... done; inFlightC.LoadMgr\x3d"+this.inFlightCounts.LoadMgr)};b.prototype.setScriptLoadingState=function(a){this.setState(a,"ScriptLd");-1==this.inFlightCounts.ScriptLd&&(this.inFlightCounts.ScriptLd=0);this.log("setScriptLoadingState("+a+") ... done; inFlightC.ScriptLd\x3d"+this.inFlightCounts.ScriptLd)};b.prototype.setCSSState=function(a){this.setState(a,"css");this.log("setCSSState("+a+") ... done; inFlightC.css\x3d"+this.inFlightCounts.css)};b.prototype.setOtherState=function(a){this.setState(a,
"other",null,function(){0==this.startClient.action&&(this.startClient.action=Date.now(),this.interactionStartForPAL=!0)});this.log("setOtherState("+a+") ... done; inFlightC.other\x3d"+this.inFlightCounts.other+", sC.action\x3d"+this.startClient.action)};b.prototype.setProcEngState=function(a){this.setState(a,"procEng");this.log("setProcEngState("+a+") ... done; inFlightC.procEng\x3d"+this.inFlightCounts.procEng)};b.prototype.setOfflnSyncState=function(a){this.log("setOfflnSyncState("+a+")");this.setState(a,
"offSync",null,function(){0==this.startClient.action&&(this.startClient.action=Date.now(),this.uiActionInFlight="action:offline-sync")});this.log("setOfflnSyncState("+a+") ... done; inFlightC.offSync\x3d"+this.inFlightCounts.offSync+", this.uiActionInFlight\x3d"+this.uiActionInFlight)};b.prototype.setAsPALInteraction=function(a){this.log("setAsPALInteraction("+a+")");a||(a="setAsPALInteraction() no url");this.initPALlogging(a);this.logPALdetails("setAsPALInteraction() ... done:  ")};b.prototype.setState=
function(a,c,b,d){"none"==a||"noneImmediate"==a?(this.inFlightCounts[c]--,b&&b.apply(this),this.log(this.counters_s()),this.isIdle()&&this.goingIdle("noneImmediate"==a)):(this.inFlightCounts[c]++,d&&d.apply(this),this.goingBusy())};b.prototype.setWorkPending=function(a,b){"busy"!=b||this.workPending?"done"==b&&this.workPending&&(this.workPending=!1,this.isIdle()&&this.goingIdle()):this.workPending=!0;this.log("setWorkPending("+a+", "+b+") workPending\x3d"+this.workPending)};b.prototype.isIdle=function(){return this.isNetworkIdle()&&
this.isClientIdle()};b.prototype.isNetworkIdle=function(){return 0==this.inFlightCounts.Http&&0==this.inFlightCounts.Ajax&&0==this.inFlightCounts.Nav&&0==this.inFlightCounts.Fmsbmt};b.prototype.isClientIdle=function(){return 0==this.inFlightCounts.Action&&0==this.inFlightCounts.LoadMgr&&0==this.inFlightCounts.Doc&&0==this.inFlightCounts.css&&0==this.inFlightCounts.ajaxPre&&0==this.inFlightCounts.ajaxPost&&0==this.inFlightCounts.ScriptLd&&0==this.inFlightCounts.procEng&&0==this.inFlightCounts.offSync&&
0==this.inFlightCounts.other};b.prototype.isWorkPending=function(){return this.workPending};b.prototype.goingBusy=function(){0==this.startClientBusy&&(this.startClientBusy=Date.now(),this.actionTotals.totalDuration=0,this.actionTotals.callDurations=[],this.updateDiv(!0),this.divEnabled&&console.timeStamp&&this.isChrome&&console.timeStamp("dstBusy"));this.hungBusy_callbackId&&clearTimeout(this.hungBusy_callbackId);this.hungBusy_callbackId=setTimeout(this.hungBusy_cleanup.bind(this),7E4);this.resetIdle_callbackId&&
(clearTimeout(this.resetIdle_callbackId),this.resetIdle_callbackId=null);this.log("goingBusy() ... done;  "+this.counters_s())};b.prototype.goingIdle=function(a){this.lastIdleTime=Date.now();this.resetTimers();a&&1==a?this.resetStateOnNoChange():this.resetIdle_callbackId=setTimeout(this.resetStateOnNoChange.bind(this),110);this.divEnabled&&console.timeStamp&&this.isChrome&&console.timeStamp("dstIdle");this.log("goingIdle() ... done; lastIdle\x3d"+this.lastIdleTime)};b.prototype.resetTimers=function(){this.hungBusy_callbackId&&
(clearTimeout(this.hungBusy_callbackId),this.hungBusy_callbackId=null);this.resetIdle_callbackId&&(clearTimeout(this.resetIdle_callbackId),this.resetIdle_callbackId=null)};b.prototype.hungBusy_cleanup=function(){this.logWarn("hungBusy_cleanup() ... forced cleanup executing");this.divEnabled&&console.timeStamp&&this.isChrome&&console.timeStamp("dstReset");this.resetInFlightCounts();this.workPending=!1;this.resetIdle_callbackId=this.hungBusy_callbackId=null;this.resetStateOnNoChange();this.resetBusyTotalisers()};
b.prototype.resetStateOnNoChange=function(){this.log("resetStateOnNoChange():");this.log("    "+this.counters_s());this.log("    "+this.totals_s());var a=0;this.resetIdle_callbackId=null;if(this.isIdle()&&!this.isWorkPending()){this.firstLoadCompleted||(this.firstLoadCompleted=!0);0==this.startClient.action?this.logWarn("missing startClient.action on going idle"):a=this.lastIdleTime-this.startClient.action;this.log("    lastTotalDuration\x3d"+a+", lastIdleTime\x3d"+this.lastIdleTime+", startClient.action\x3d"+
this.startClient.action+", uiActionInFlight\x3d"+this.uiActionInFlight+", uiActionsCount\x3d"+this.uiActionsCount);this.actionTotals.totalDuration=a;this.divEnabled&&console.timeStamp&&this.isChrome&&console.timeStamp("dstIdle110");this.updateDiv(!1,a.toString(),this.actionTotals.callDurations);if(0<this.uiActionsCount){var b=new PalData;b.uiTkn=this.uiTkn;b.clientInteractionAction=this.uiActionInFlight;b.actionsCount=this.uiActionsCount;b.clientInteractionDuration=a;b.serverCallCount=this.actionTotals.interactCounts;
for(var e=this.actionTotals.callDurations,d=0;d<e.length;d++)b.callDurations.push(e[d]);this.completedTransactionForPAL=b;1==this.logPALImmediate&&(this.log("posting to PAL: "+b.clientInteractionDuration),this.logToPALTransaction=!0,b=new SafeURL,b.put("pyActivity","pzAmIOnline"),pega.util.Connect.asyncRequest("POST",b.toURL(null,null)))}0<=a&&pega.ui.EventsEmitter.publish(this.IDLE_EVENT,{totalDuration:a+0,interactionAction:null==this.uiActionInFlight?null:this.uiActionInFlight+"",httpd:this.actionTotals.callDurations.join("!")});
this.resetToStart();this.log("     - reset executed:");this.log("     aTotals.totalDuration\x3d"+this.actionTotals.totalDuration);this.logPALdetails("    ")}else this.log("resetStateOnNoChange() - reset cancelled")};b.prototype.updateDiv=function(a,b,e){void 0===b&&(b="");void 0===e&&(e=[]);if(this.divEnabled){var c=this.getDocumentStateTracker();c&&(c.setAttribute("data-state-busy-status",a?"busy":"none"),c.setAttribute("data-dst-busy-duration",b),c.setAttribute("data-dst-http-durations",e.join(",")))}};
b.prototype.resetToStart=function(){this.categoriesIter(this.startClient,function(a,b){a[b]=0});this.uiTkn++;this.actionTotals.interactCounts=0;if(this.isSDM())try{sessionStorage.removeItem("docStateTracker_duratns")}catch(a){}this.startHttpBusy=this.startClientBusy=0;this.uiActionInFlight=null;this.firstActionComplete=!1;this.uiActionsCount=0};b.prototype.resetInFlightCounts=function(){this.categoriesIter(this.inFlightCounts,function(a,b){a[b]=0})};b.prototype.resetBusyTotalisers=function(){this.log("resetBusyTotalisers()");
this.resetToStart();this.interactionStartForPAL=!1;this.completedTransactionForPAL=null;this.logToPALTransaction=!1;this.logToPALTransactionId=null;try{sessionStorage.removeItem("docStateTracker_actionStart"),sessionStorage.removeItem("docStateTracker_actionURL"),sessionStorage.removeItem("docStateTracker_uiTkn"),sessionStorage.removeItem("docStateTracker_duratns")}catch(a){}this.deleteCookie()};b.prototype.initPALlogging=function(a){this.log("initPALlogging("+a+") uiActionsCount\x3d"+this.uiActionsCount+
", uiActionInFlight\x3d"+this.uiActionInFlight+", firstLoadCompleted\x3d"+this.firstLoadCompleted+", firstActionComplete\x3d"+this.firstActionComplete);if(this.firstLoadCompleted||"undefined"!==typeof pmcRuntimeFeatures&&"true"===pmcRuntimeFeatures.pxUsesMultiWebView)if(this.firstActionComplete?this.uiActionsCount++:0===this.uiActionsCount&&this.uiActionsCount++,null===this.uiActionInFlight){if(a)if("string"===typeof a){if(-1!=a.indexOf("pyactivitypzZZZ"))try{var b=SafeURL_createFromEncryptedURL(a).toUnencodedQueryString();
b&&1<b.length&&(a=b)}catch(f){}b=a.indexOf("?");if(1<b){b=a.substring(b+1).split("\x26");try{for(var e=0;e<b.length;e++){var d=b[e];if(d.startsWith("action")||d.startsWith("key")||d.startsWith("harnessName")||d.startsWith("className")||d.startsWith("openHandle")||d.startsWith("insName")||d.startsWith("objClass")||d.startsWith("PreActivity")||d.startsWith("pyActivity")||d.startsWith("pyReportName")||d.startsWith("pyReportClass")||d.startsWith("pyShortcutHandle"))this.uiActionInFlight=null===this.uiActionInFlight?
"":this.uiActionInFlight+"|",this.uiActionInFlight+=-1!=d.indexOf("\x3d")?d.replace("\x3d",":"):d}this.uiActionInFlight=null===this.uiActionInFlight||""===this.uiActionInFlight?"no recognised operations on action:"+a:this.uiActionInFlight.replace("\x3d",":")}catch(f){this.uiActionInFlight="cannot parse action:"+a}}else this.uiActionInFlight="badly formed action url:"+a}else this.uiActionInFlight="typeof actionURL:"+typeof a+", actionURL.name:"+a.name;else this.uiActionInFlight="actionUrl is null";
if(this.isSDM()){this.log("initPALlogging: writing to sessionStore, uiActionInFlight\x3d"+this.uiActionInFlight+", startClient.action\x3d"+this.startClient.action);try{sessionStorage.setItem("docStateTracker_actionStart",this.startClient.action.toString()),sessionStorage.setItem("docStateTracker_actionURL",this.uiActionInFlight),sessionStorage.setItem("docStateTracker_uiTkn",this.uiTkn.toString())}catch(f){console.warn("pzpega_ui_doc_statetracking.initPALLogging() - write to session store fail")}}}this.log("initPALlogging("+
a+") ... done  uiActionsCount\x3d"+this.uiActionsCount+", uiActionInFlight\x3d"+this.uiActionInFlight+", firstActionComplete\x3d"+this.firstActionComplete)};b.prototype.updateCookie=function(){this.log("updateCookie()");this.logPALdetails("    ");var a;a=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+this.COOKIE_NAME+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1");var b=a.indexOf("\x26start");-1==b&&(b=a.indexOf("\x26completed"));if(-1==b){if(a="itkn\x3d"+this.uiTkn,this.interactionStartForPAL&&(a+=
"\x26start",this.interactionStartForPAL=!1),null!=this.completedTransactionForPAL){var b=this.completedTransactionForPAL,e="";1<b.actionsCount&&(e="\x26userActions\x3d"+b.actionsCount);a+="\x26completed\x3d{itkn\x3d"+b.uiTkn+"\x26clientd\x3d"+b.clientInteractionDuration+"\x26action\x3d"+encodeURIComponent(b.clientInteractionAction)+e+"\x26calls\x3d"+b.serverCallCount+"\x26httpd\x3d"+b.callDurations.join("!")+"}";this.completedTransactionForPAL=null}}else a="itkn\x3d"+this.uiTkn+a.substring(b,a.length-
1);"https:"==window.location.protocol&&(a+=";secure");this.log("    "+a);document.cookie=this.COOKIE_NAME+"\x3d"+a};b.prototype.cleanCookie=function(){var a="itkn\x3d"+this.uiTkn;"https:"==window.location.protocol&&(a+=";secure");this.log("cleanCookie() "+a);document.cookie=this.COOKIE_NAME+"\x3d"+a};b.prototype.deleteCookie=function(){this.log("deleteCookie()");document.cookie=this.COOKIE_NAME+"\x3d"};b.prototype.logOnComplete=function(a){this.log("logOnComplete("+a+")");this.logPALImmediate=a};
b.prototype.getCondition=function(){this.log("getCondition()");return{id:this.objId,busy:!(this.isIdle()&&!this.isWorkPending()),counts:this.inFlightCounts,uiActionsCount:this.uiActionsCount,collectionInFlight:this.uiActionInFlight,action:this.actionTotals,logImmediate:this.logPALImmediate,completePalValue:this.completedTransactionForPAL,startClient:this.startClient}};b.prototype.categoriesIter=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&b(a,c)};b.prototype.getDocumentStateTracker=
function(){var a=document.querySelector(".document-statetracker");if(!a){this.log("pega.ui.statetracking.getDocumentStateTracker() - could not find local dst");var b=pega.desktop.support.getDesktopWindow();b&&((a=b.document.querySelector(".document-statetracker"))||this.log("getDocumentStateTracker() - could not find top window dst"))}return a};b.prototype.logPALdetails=function(a){if(this.debug&&window.console){var b="";if(null!=this.completedTransactionForPAL)for(var e=this.completedTransactionForPAL,
b=" uiToken\x3d"+e.uiTkn+", duration\x3d"+e.clientInteractionDuration+", #actions\x3d"+e.actionsCount+", action\x3d"+e.clientInteractionAction+", net\x26srvr\x3d"+e.netAndServerDuration+", call#\x3d"+e.serverCallCount+", d's:",d=0,f=e.callDurations;d<f.length;d++)e=f[d],b+=" "+e;this.log(a+"completed PAL data:"+b);b="";d=0;for(f=this.actionTotals.callDurations;d<f.length;d++)e=f[d],b+=" "+e;this.log(a+"current PAL data; uiActionInFlight\x3d"+this.uiActionInFlight+", uiActionsCount\x3d"+this.uiActionsCount+
",  firstActionComplete\x3d"+this.firstActionComplete+", interactionStartForPAL\x3d"+this.interactionStartForPAL+", durations\x3d"+b)}};b.prototype.counters_s=function(){return"inFlightC; Http\x3d"+this.inFlightCounts.Http+", ajaxPre\x3d"+this.inFlightCounts.ajaxPre+", ajaxPost\x3d"+this.inFlightCounts.ajaxPost+", Nav\x3d"+this.inFlightCounts.Nav+", Fmsbmt\x3d"+this.inFlightCounts.Fmsbmt+", Doc\x3d"+this.inFlightCounts.Doc+", Action\x3d"+this.inFlightCounts.Action+", LoadMgr\x3d"+this.inFlightCounts.LoadMgr+
", ScriptLd\x3d"+this.inFlightCounts.ScriptLd+", css\x3d"+this.inFlightCounts.css+", other\x3d"+this.inFlightCounts.other+", procEng\x3d"+this.inFlightCounts.procEng+", offSync\x3d"+this.inFlightCounts.offSync+", workPending\x3d"+this.workPending};b.prototype.totals_s=function(){if(this.debug&&window.console){for(var a=" :",b=0,e=this.actionTotals.callDurations;b<e.length;b++)a+=" "+e[b];return"startClient; Busy\x3d"+this.startClientBusy+", Http\x3d"+this.startHttpBusy+", totalDuration\x3d"+this.actionTotals.totalDuration+
", actionTotals.interactCounts\x3d"+this.actionTotals.interactCounts+a}return""};b.prototype.logCallbackIds=function(){this.debug&&window.console&&console.log("    callbackIds; hungBusy\x3d"+this.hungBusy_callbackId+", resetIdle\x3d"+this.resetIdle_callbackId)};b.prototype.log=function(a){this.debug&&window.console&&console.log("p.u.stk("+this.objId+")."+a)};b.prototype.logWarn=function(a){this.debug&&window.console&&console.warn("pega.ui.statetracking("+this.objId+")."+a)};b.prototype.logErr=function(a){window.console&&
console.error("pega.ui.statetracking("+this.objId+")."+a)};return b}();
if("undefined"!=typeof jasmineUnderNode&&!0===jasmineUnderNode)module.exports=Statetracking;else{pega.ui.statetracking=new Statetracking;var myTopRef={pega:!1},dtw;"undefined"!=typeof gIsMashupContent?"true"!=gIsMashupContent&&(myTopRef=window.top,dtw=myTopRef.opener):(myTopRef=window.top,dtw=myTopRef.opener);try{myTopRef.pega&&myTopRef.pega.ui&&myTopRef.pega.ui.statetracking&&myTopRef.pega.ui.statetracking!=pega.ui.statetracking&&(pega.ui.statetracking=myTopRef.pega.ui.statetracking,pega.ui.statetracking.cleanCookieToToken(),
pega.ui.statetracking.setBusy("scriptLoadingFudge"),pega.ui.statetracking.setFormsubmitState("none")),dtw&&null!=dtw&&(myTopRef.menubar&&myTopRef.menubar.visible&&0==myTopRef.menubar.visible?pega.ui.statetracking=dtw.pega.ui.statetracking:dtw.pega.ui.statetracking!=pega.ui.statetracking&&pega.ui.statetracking.logImmediatelyOnComplete(dtw.pega.ui.statetracking.getState().logImmediate))}catch(b){}};
if(!pega.desktop){pega.d=pega.namespace("pega.desktop")}pega.desktop.AutomationManager=(function(){var Q=[],V={},d=-1,r=false,L=null,a=null,m={},k=null,B=false,u="pxTourStopContainer",v=null;var J=function(x,y){if(B){console.log(x.concat(": ",y))}};var I=function(){try{J("async_ProcessNextStep","called");window.setTimeout($.proxy(s,this),10)}catch(x){J("async_ProcessNextStep failure: ",x)}};var A=function(){try{J("async_ProcessSameStep","called");window.setTimeout($.proxy(c,this),10)}catch(x){J("async_ProcessSameStep failure: ",x)}};var n=function(){try{J("async_ProcessPreviousStep","called");window.setTimeout($.proxy(X,this),10)}catch(x){J("async_ProcessPreviousStep failure: ",x)}};var e=function(y){try{J("async_ProcessAction","called");window.setTimeout($.proxy(o,this,y),10)}catch(x){}};var h=function(z,x,y){try{J("async_ProcessScript","called");window.setTimeout($.proxy(t,this,z,x,y),10)}catch(AA){}};var l=function(z,x,y){try{J("async_ContinueScript","called");window.setTimeout($.proxy(b,this,z,x,y),10)}catch(AA){}};var O=function(x){J("processStep","called");V.pyCurrentStep=x;return p()};var D=function(x){J("shouldStepBeDisplayed","called");retVal=pega.desktop.AutomationManager.preConditionProcessor.shouldStepBeDisplayed(x);J("shouldStepBeDisplayed result: ",retVal);return retVal};var Y=function(x){J("shouldStepBeSkipped","called");retVal=pega.desktop.AutomationManager.preConditionProcessor.shouldStepBeSkipped(x);J("shouldStepBeSkipped result: ",retVal);return retVal};var p=function(){J("continueStep","called");if(typeof V.pyCurrentStep=="undefined"){return false}if(!D(V.pyCurrentStep)){V.pyCurrentStep.pySkipped=true;return false}var x=function(){var z=V.pyCurrentStep;if(z.pySteps&&z.pySteps.length>0&&z.pySteps.length>d){e(z.pySteps[++d]);return }else{o(z,true)}};var y={success:x};W(y);return true};var s=function(){J("processNextStep","called");J("processNextStep","oAutomationScript.pyActiveStepIdx: "+V.pyActiveStepIdx);J("processNextStep","oAutomationScript.pySteps.length: "+V.pySteps.length);if(V.pyActiveStepIdx<V.pySteps.length){if(!O(V.pySteps[++V.pyActiveStepIdx])){J("processNextStep","processStep returned false, which means the step was not displayed. -- calling nextStep()");pega.desktop.automation.support.nextStep();J("processNextStep","call to pega.desktop.automation.support.nextStep() complete");return true}else{J("processNextStep","processStep returned true, which means the step was displayed -- exiting");J("processNextStep","complete");return true}}else{J("processNextStep","oAutomationScript.pyActiveStepIdx < oAutomationScript.pySteps.length is FALSE -- exiting");J("processNextStep","complete");return false}J("processNextStep","complete")};var c=function(){J("processSameStep","called");if(typeof V.pySteps!=="undefined"){var z=F(".smartInfoContainer");J("processSameStep","oSmartInfoContainer.bSuccess: "+z.bSuccess);var y=z.bSuccess&&typeof z.$TargetElement.selector!=="undefined"&&z.$TargetElement.selector!=="body";if(y){$Target=z.$TargetElement;if(typeof $Target!=="undefined"){var x=$Target.is(":visible");if(x&&V.pyActiveStepIdx<V.pySteps.length){O(V.pySteps[V.pyActiveStepIdx])}else{}}}}else{J("processSameStep","oAutomationScript.pySteps is undefined")}};var X=function(){J("processPreviousStep","called");if(V.pyActiveStepIdx!==0){if(!O(V.pySteps[--V.pyActiveStepIdx])){pega.desktop.automation.support.previousStep()}}else{}};function K(x,z,y){J("getPotentialElements","called");if(!z){z=$(document)}if(!y){y=$()}z.find("iframe").filter(":visible").each(function(){try{y=K(x,$(this).contents(),y)}catch(AA){}});y=y.add(z.find(x));J("getPotentialElements","complete");return y}var M=function(x){J("findElement","called");var z={};var y=K(x);J("findElement","$collection.length: "+y.length);if(y.length>1){J("findElement","using first element found");z.bSuccess=true;z.$TargetElement=y.eq(0);z.oContext=z.$TargetElement[0].ownerDocument.defaultView}else{if(y.length==1){J("findElement","using only element found");z.bSuccess=true;z.$TargetElement=y.eq(0);z.oContext=z.$TargetElement[0].ownerDocument.defaultView}else{J("findElement","found no elements, bSuccess is false");z.bSuccess=false;z.sErrorCode="FoundImproperNumberOfElements\t0"}}J("findElement","complete");return z};var F=function(y){J("findTargetElement","called");J("findTargetElement","sCSSSelector: "+y);var z=M(y);J("findTargetElement","oReturn.bSuccess"+z.bSuccess);var x=false;if(typeof z.$TargetElement!=="undefined"){x=z.$TargetElement.is(":visible")}if(!x||!z.bSuccess){J("findTargetElement","element is either not found or is not visible - redirecting to display centered on the document body");z.$TargetElement=$("body");if(z.$TargetElement.length>=1){z.bSuccess=true;z.oContext=z.$TargetElement[0].ownerDocument.defaultView}}J("findTargetElement","complete");return z};var o=function(AA,z){J("processAction","called");var x=AA.pyAction;var y;U();if(typeof x=="undefined"||x===""){x="showSmartInfo"}if(x==="showSmartInfo"){return y=C(AA)}if(z!==true){p()}};var C=function(AD){J("processAction_ShowInfo","called");var y=F(AD.pyTarget),AB=null;if(!y.bSuccess){J("processAction_ShowInfo","oElemSearch.bSuccess == false  Exiting");return }J("processAction_ShowInfo","oElemSearch.$TargetElement.prop('tagName'): "+y.$TargetElement.prop("tagName"));AB=y.$TargetElement;var AC=null;var AE=false;var AG=false;var z=false;var AF=true;if(typeof AB!=="undefined"){AC=AB.get(0);AE=S(AC);AG=AB.is(":visible");z=AB.is(":hidden")}if($(".screen-layout-region-main-middle").css("left")!=="0px"){AF=false}var AA=true;if(AB.parents("[node_name = 'pzAppConfigNavigation']").length===0){AA=false}if(AF&&AA){J("processAction_ShowInfo","left Panel is Hidden and element is in left panel");if($(".nav-toggle-one").length===1){J("processAction_ShowInfo","Clicking Hamburger Icon");$(".nav-toggle-one").click();$(".nav-toggle-one").promise().done()}if($(".toggle-runtime-edit").length===1){J("processAction_ShowInfo","Clicking Runtime Edit Icon");$(".toggle-runtime-edit").click();$(".toggle-runtime-edit").promise().done()}}if(!AA){var x=$("#screen-layout-mask").click()}J("processAction_ShowInfo","targetElementIsOnScreen: "+AE);J("processAction_ShowInfo","targetElementIsVisible: "+AG);J("processAction_ShowInfo","targetElementIsHidden: "+z);J("processAction_ShowInfo","leftPanelHidden: "+AF);J("processAction_ShowInfo","isElementInLeftPanel: "+AA);if(y.oContext===window){k=window;$(".screen-layout-region-main-middle").promise().done(function(){j(AB,f())})}else{k=y.oContext;$(".screen-layout-region-main-middle").promise().done(function(){y.oContext.pega.desktop.AutomationManager.showInfoOnElement(AB,f())})}};var f=function(){J("getTourStopContainer","returning: "+v);return v};var R=function(x){J("setTourStopContainer","called");if(x==null||x==""){J("setTourStopContainer","override is null/blank - using default container: "+u);v=u}else{J("setTourStopContainer","setting override container to: "+x);v=x}};var S=function(y){J("isElementOnScreen","called");var z=y.getBoundingClientRect();var x=document.documentElement;return(z.top>=0&&z.left>=0&&z.bottom<=(window.innerHeight||x.clientHeight)&&z.right<=(window.innerWidth||x.clientWidth))};var q=function(AE,AA){J("openPopOver","called");var y=document.querySelector("html").dir==="rtl";var AG=y?"rightBottom":"leftBottom";var AF=y?"rightTop":"leftTop";if(AE.tagName=="BODY"){AG="centerMiddle";AF="centerMiddle"}var AH=document.createElement("div");AH.id="smartInfoMain";pega.util.Dom.addClass(AH,"smartInfoMain");var AJ=g();if(AJ!=""){pega.util.Dom.addClass(AH,"smartInfoMain-"+AJ)}var AI="smartInfoContainer smartInfoContainer-"+AJ+" smartInfoMain-"+AJ;var AD=document.createElement("div");AD.id="sInfoBodyDiv";AD.innerHTML=AA;AD.className="sInfoBody";AH.appendChild(AD);var AC=document.createElement("div");AC.appendChild(AH);var x={displayLoader:false,contentClass:AI,arrowDivClasses:["arrow top","arrow bottom","arrow right","arrow left"]};if(AE.tagName=="BODY"){x={displayLoader:false,contentClass:AI,arrowDivClasses:["","","",""]}}var AL=pega.u.d.getPopOver(AE);AL.open({content:{type:"domElement",element:AC},buttons:{ok:false,cancel:false},bindings:{associatedElement:AE},visual:x,position:{fieldAttach:AG,popOverAttach:AF,size:{min:{x:20,y:20}},offsetAttach:{y:7}},extraParams:{refresh:false,overflow:false},callbacks:{onBeforeClose:T}});var z=new pega.tools.EvalDOMScripts();if(pega.u&&pega.u.d){pega.u.d.loadDOMObject(AD,AA)}else{z.loadHTMLElement(AD,AA)}var AN=AL.getContentContainerElement();var AM=pega.util.Dom.getElementsById("smartInfoMain",AN);if(AM!=null&&AM[0].offsetHeight!=AN.offsetHeight){AN.style.height=AM[0].offsetHeight+"px"}var AK=pega.util.Dom.getElementsById("sInfoBodyDiv",AN,"DIV");if(AK!=null&&AK.length>0){var AB=pega.util.Dom.getElementsById("sInfoHeader",AN,"DIV");if(AB!=null&&AB.length>0){AB[0].style.width=AK[0].offsetWidth+"px"}AK[0].setAttribute("data-clickable","-1")}a=AL;w()};var w=function(){J("setTourContainterButtonFocus","called");if($("[data-tour-id='pega-tourcontainer-button-next'] button").length>0){$("[data-tour-id='pega-tourcontainer-button-next'] button").focus()}else{if($("[data-tour-id='pega-tourcontainer-button-finish'] button").length>0){$("[data-tour-id='pega-tourcontainer-button-finish'] button").focus()}}};var i=function(){J("closePopOverDiv","called");if(a){a.close("","",true)}};var U=function(){J("findAndClosePopOver","called");try{if(k==null){k=window}if(k===window){i()}else{if(k&&k.pega.desktop.AutomationManager){k.pega.desktop.AutomationManager.closePopOver()}}}catch(x){}};var j=function(AB,AC){J("showInfo","called");U();var AG=AB.is(":visible");J("showInfo","targetElemIsVisible: "+AG);var y=null;var AE=AB[0];var AH=false;if(AG){AH=S(AE)}J("showInfo","targetElementIsOnScreen: "+AH);if(AG&&!AH){AE.scrollIntoView()}if(AC!=""){y=SafeURL_createFromURL(pega.u.d.url);y.put("pyActivity","ReloadSection");y.put("StreamName",AC);y.put("StreamClass","Rule-HTML-Section");if(pega.ui.onlyOnce){var AD=SafeURL_createFromURL(pega.ui.onlyOnce.getAsPostString());y.copy(AD)}}else{y=""}pega.u.d.fixBaseThreadTxnId(y);var AF=function(AI){J("showInfo onSuccess","called");r=false;var AK=AI.responseText;if(AK.indexOf("<table width='100%'>")!=-1){AK=AK.replace("<table width='100%'>","<table>")}var AJ=document.createElement("div");AJ.innerHTML=AK;q(AE,AJ.innerHTML)};var z=function(AI){J("showInfo onFailure","called");r=false;var AK=AI.responseText;var AJ=document.createElement("div");AJ.innerHTML=AK;q(AE,AJ.innerHTML)};var AA=function(){J("showInfo abortRequest","called");if(L){if(r){pega.u.d.decrementAsyncRequestCount()}try{L.conn.abort()}catch(AI){}}};var x=function(){J("sendRequest","called");if(r){AA()}else{r=true}var AI={success:AF,failure:z};L=pega.u.d.asyncRequest("POST",y,AI)};x()};var g=function(){J("getPopoverFormat","called");var y=pega.desktop.automation.support.getAutomationMainWindow();var x=y.pega.desktop.AutomationManager.getPopoverFormat().trim();x=x.replace(" ","_");if(x==""){x="Standard"}J("getPopoverFormat","complete");return x.toLowerCase()};var T=function(){return false};var N=function(x,z){J("processActionInFrame","called");var y=null;try{if(z){y=z.pega.desktop.AutomationManager}if(x=="reset"){J("processActionInFrame","action is reset...calling oExecutionContext.resetState()");y.resetState();J("processActionInFrame","call to oExecutionContext.resetState() returned")}}catch(AA){J("processActionInFrame","exception e: "+AA)}};var b=function(AC,x,AA){J("continueScript",AC.pzInsKey);if(x&&x!=""){t(AC,0,AA);return }if(V&&AC.pzInsKey===V.pzInsKey){J("continueScript","We are processing the same script as the last run, see if we can continue");if(V.pyActiveStepIdx+1===V.pySteps.length){J("continueScript","We were on the last step, can't continue...start over");t(AC,0,AA)}else{J("continueScript","We need to check if any step forward is displayable");var AB=false;var z=0;for(var y=V.pyActiveStepIdx+1;y<V.pySteps.length;y++){J("continueScript","Checking if step should be displayed - step number: "+y);if(D(V.pySteps[y])){J("continueScript","Found a step to display - step number: "+y);AB=true;z=y;break}}if(AB){J("continueScript","We are going to processScript with sStep set to: "+z);t(AC,z,AA)}else{J("continueScript","We had nothing displayable forward, so we will start over with processScript");t(AC,0,AA)}}}else{J("continueScript","We are processing a different script, just run it from the start");t(AC,0,AA)}J("continueScript","complete")};var t=function(AB,x,y){J("processScript","called");J("processScript",AB.pzInsKey);V=AB;var AA=0;if(typeof x!=="undefined"){if($.isNumeric(x)){AA=x-1;if(!(AA>-1&&AA<V.pySteps.length)){AA=0}}else{for(var z=0;z<V.pySteps.length;z++){if(x==V.pySteps[z].pyHeaderValue||x==V.pySteps[z].pySectionName||x==V.pySteps[z].pyTarget){AA=z;break}}}}V.pyActiveStepIdx=AA-1;J("processScript","Setting oAutomationScript.pyActiveStepIdx to: "+V.pyActiveStepIdx);V.pyActiveStepNumber=AA;J("processScript","Setting oAutomationScript.pyActiveStepNumber to: "+V.pyActiveStepNumber);V.pyNumberOfSteps=V.pySteps.length;J("processScript","Setting oAutomationScript.pyNumberOfSteps to: "+V.pyNumberOfSteps);J("processScript","Calling processNextStep()");s();J("processScript","Call to processNextStep() is complete");J("processScript","complete")};var P=function(){J("processCleanupActions","");var y=null;for(var x in Q){y=Q.pop();o(y,true)}};var E=function(AB,AA,AE,AG){J("retrieveScript","called");if(typeof AA==="undefined"||AA==""){AA="@baseclass"}var y=null;y=SafeURL_createFromURL(pega.u.d.url);y.put("pyActivity","pxGetTour");y.put("TourName",AB);y.put("TourClass",AA);if(pega.ui.onlyOnce){var AD=SafeURL_createFromURL(pega.ui.onlyOnce.getAsPostString());y.copy(AD)}pega.u.d.fixBaseThreadTxnId(y);var AC=function(){J("retrieveScript","abortRequest");if(L){if(r){pega.u.d.decrementAsyncRequestCount()}try{L.conn.abort()}catch(AH){}}};var AF=function(AI){J("retrieveScript","onSuccess");r=false;var AH=pega.lang.JSON.parse(AI.responseText);if(typeof AH.pzInsKey==="undefined"||AH.pzInsKey===""){}else{G(AB,AH)}if(m[AB]){h(m[AB],AE,AG)}};var z=function(AH){J("retrieveScript","onFailure");r=false};var x=function(){J("retrieveScript","sendRequest");if(r){AC()}else{r=true}var AH={success:AF,failure:z};L=pega.u.d.asyncRequest("POST",y,AH)};x()};var W=function(AB){J("updateAutomationManagerModel","called");var AA=new SafeURL();if(typeof V.pySteps==="undefined"){return }V.pyShowNext=false;V.pyShowPrevious=false;J("updateAutomationManagerModel","oAutomationScript.pyActiveStepIdx: "+V.pyActiveStepIdx);for(var z=V.pyActiveStepIdx+1;z<V.pySteps.length;z++){J("updateAutomationManagerModel","Checking if step should be displayed - step number: "+z);if(D(V.pySteps[z])){J("updateAutomationManagerModel","pyShowNext set to true because of step: "+z);V.pyShowNext=true;break}}for(var x=V.pyActiveStepIdx-1;x>=0;x--){if(D(V.pySteps[x])){J("updateAutomationManagerModel","pyShowPrevious set to true because of step: "+x);V.pyShowPrevious=true;break}}V.pyActiveStepNumber=V.pyActiveStepIdx+1;AA.put("AutomationStateJSON",pega.lang.JSON.stringify(V));var AD=null;AD=SafeURL_createFromURL(pega.u.d.url);AD.put("pyActivity","pzUpdateAutomationRuntimeClipboard");AD.put("pzPrimaryPageName","D_pzAutomationTour");if(pega.ui.onlyOnce){var y=SafeURL_createFromURL(pega.ui.onlyOnce.getAsPostString());AD.copy(y)}pega.u.d.fixBaseThreadTxnId(AD);try{pega.u.d.asyncRequest("POST",AD,AB,AA)}catch(AC){J("updateAutomationManagerModel try/catch failed: ",AC)}};var H=function(){J("dismissScript","called");J("dismissScript","oContextOfLastAction: "+k);if(!(k===window)){J("dismissScript","processActionInFrame being called with reset");N("reset",k);J("dismissScript","processActionInFrame returned")}$("#screen-layout-mask").click();J("dismissScript","before call to resetState()");Z();J("dismissScript","after call to resetState()");J("dismissScript","dismissScript ending")};var Z=function(){J("resetState","called");P();d=-1;sActiveScriptKey="";U();pega.desktop.AutomationManager.TourResizeManager.stopListeningForWindowResize()};var G=function(y,x){J("registerScriptObject","called");m[y]=x};return{findElement:function(x){return M(x)},isElementOnScreen:function(x){return S(x)},dismiss:function(){J("dismiss","called");H()},resetState:function(){J("reset","called");Z()},next:function(){J("next","called");I()},eventNotified:function(){J("eventNotified","called");alert("eventNotified")},previous:function(){J("previous","called");n()},startTour:function(z,AB,x,y,AA){J("startTour","called");pega.desktop.AutomationManager.TourResizeManager.startListeningForWindowResize();R(AA);if(m[z]&&m[z].pyClassName===AB){h(m[z],x,y)}else{E(z,AB,x,y)}return true},continueTour:function(z,AB,x,y,AA){J("continueTour (public)","called");pega.desktop.AutomationManager.TourResizeManager.startListeningForWindowResize();R(AA);if(m[z]&&m[z].pyClassName===AB){J("continueTour (public)","class name of script matches last run, calling async_ContinueScript");l(m[z],x,y)}else{J("continueTour (public)","class name of script does not match last run, calling retrieveScript");E(z,AB,x,y)}J("continueTour (public)","complete")},registerTour:function(y,x){J("registerTour","called");G(y,x)},showInfoOnElement:function(y,x){J("showInfoOnElement","called");j(y,x)},getPopoverFormat:function(){J("getPopoverFormat","called");return V.pyFormat},closePopOver:function(){J("closePopOver","called");i()},listTours:function(){J("listTours","called");var x="";var y;for(y in m){if(m.hasOwnProperty(y)){x=x+y+", "}}return x},clearRegisteredTours:function(){m={}},countTours:function(){J("countTours","called");var y=0;var x;for(x in m){if(m.hasOwnProperty(x)){y++}}return y},automationWindowResize:function(){J("automationWindowResize","called");if(typeof jQuery!=="undefined"){$(window).promise().done(A())}},enableLogging:function(){B=true;console.log("desktop.AutomationManger browser console logging is enabled")},disableLogging:function(){B=false;console.log("desktop.AutomationManger browser console logging is disabled")},getElem:K}})();pega.desktop.AutomationManager.preConditionProcessor=(function(){var B=function(D){return !C(D)};var C=function(F){var I=pega.desktop.AutomationManager.findElement(F);if(!I.bSuccess){return false}$Target=I.$TargetElement;var H=$Target.is(":visible");var E=$Target.is(":hidden");if(!H||E){return false}else{var G=$Target.get(0);var D=pega.desktop.AutomationManager.isElementOnScreen(G);return D}};var A={};A.shouldStepBeSkipped=function(D){return !shouldStepBeDisplayed};A.shouldStepBeDisplayed=function(E){if($(".smartInfoContainer").length>0){$(".smartInfoContainer")[0].style.visibility="hidden"}if(typeof E=="undefined"||typeof E.pyPreconditions=="undefined"||E.pyPreconditions[0]==null){return true}var D=true;var F=E.pyPreconditions[0];switch(F.pyConditionType){case"always":break;case"isTourStopVisible":D=C(E.pyTarget);break;case"isFieldNotVisible":D=B(F.pyTarget);break;case"isFieldVisible":D=C(F.pyTarget);break;default:_log("stepConditionProcessor","pyConditionType invalid: "+F.pyConditionType)}if($(".smartInfoContainer").length>0){$(".smartInfoContainer")[0].style.visibility="visible"}return D};return A})();pega.desktop.AutomationManager.TourResizeManager=(function(){var A={};var B=false;A.isListeningForWindowResize=function(){return B};A.redrawTourPopupOnWindowResize=function(){var C;var D=pega.desktop.automation.support.getAutomationMainWindow();if(D){clearTimeout(C);C=setTimeout(pega.desktop.AutomationManager.automationWindowResize,200)}};A.startListeningForWindowResize=function(){if(!this.isListeningForWindowResize()){pega.util.Event.addListener(window,"resize",pega.desktop.AutomationManager.TourResizeManager.redrawTourPopupOnWindowResize);B=true}};A.stopListeningForWindowResize=function(){pega.util.Event.removeListener(window,"resize",pega.desktop.AutomationManager.TourResizeManager.redrawTourPopupOnWindowResize);B=false};return A})();
pega.namespace("pega.desktop.automation.support");pega.desktop.automation.support.startTour=function(D,F,B,A){var C=pega.desktop.automation.support.getAutomationMainWindow();var E=null;if(frameElement){E=frameElement.id}if(C){C.pega.desktop.AutomationManager.startTour(D,F,B,E,A)}};pega.desktop.automation.support.continueTour=function(D,F,B,A){var C=pega.desktop.automation.support.getAutomationMainWindow();var E=null;if(frameElement){E=frameElement.id}if(C){C.pega.desktop.AutomationManager.continueTour(D,F,B,E,A)}};pega.desktop.automation.support.dismissTour=function(){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){A.pega.desktop.AutomationManager.dismiss()}};pega.desktop.automation.support.nextStep=function(){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){A.pega.desktop.AutomationManager.next()}};pega.desktop.automation.support.previousStep=function(){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){A.pega.desktop.AutomationManager.previous()}};pega.desktop.automation.support.listTours=function(B){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){var C=A.pega.desktop.AutomationManager.listTours();if(B){alert(C)}else{return C}}};pega.desktop.automation.support.countTours=function(B){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){var C=A.pega.desktop.AutomationManager.countTours();if(B){alert(C)}else{return C}}};pega.desktop.automation.support.enableLogging=function(){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){A.pega.desktop.AutomationManager.enableLogging()}};pega.desktop.automation.support.disableLogging=function(){var A=pega.desktop.automation.support.getAutomationMainWindow();if(A){A.pega.desktop.AutomationManager.disableLogging()}};pega.desktop.automation.support.registerTour=function(C,B){var A=pega.desktop.AutomationManager.registerTour(C,B);if(A){A.pega.desktop.AutomationManager.registerTour(C,B)}};pega.desktop.automation.support.clearRegisteredTours=function(){var A=pega.desktop.AutomationManager.clearRegisteredTours();if(A){A.pega.desktop.AutomationManager.clearRegisteredTours()}};pega.desktop.automation.support.getAutomationMainWindow=function(){var A=pega.desktop.support.getDesktopWindow();return A};
if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector}if(!Element.prototype.closest){Element.prototype.closest=function(B){var A=this;if(!document.documentElement.contains(A)){return null}do{if(A.matches(B)){return A}A=A.parentElement||A.parentNode}while(A!==null&&A.nodeType===1);return null}};
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
//static-content-hash-trigger-NON
/*! jQuery UI - v1.13.1 - 2022-02-17
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/slider.js, widgets/spinner.js, effect.js, effects/effect-slide.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){x.ui=x.ui||{};x.ui.version="1.13.1";var n,i=0,a=Array.prototype.hasOwnProperty,r=Array.prototype.slice;x.cleanData=(n=x.cleanData,function(t){for(var e,i,s=0;null!=(i=t[s]);s++)(e=x._data(i,"events"))&&e.remove&&x(i).triggerHandler("remove");n(t)}),x.widget=function(t,i,e){var s,n,o,a={},r=t.split(".")[0],l=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=x.Widget),Array.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr.pseudos[l.toLowerCase()]=function(t){return!!x.data(t,l)},x[r]=x[r]||{},s=x[r][t],n=x[r][t]=function(t,e){if(!this||!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},x.extend(n,s,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),(o=new i).options=x.widget.extend({},o.options),x.each(e,function(e,s){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}a[e]="function"==typeof s?function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=o,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}:s}),n.prototype=x.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},a,{constructor:n,namespace:r,widgetName:t,widgetFullName:l}),s?(x.each(s._childConstructors,function(t,e){var i=e.prototype;x.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),x.widget.bridge(t,n),n},x.widget.extend=function(t){for(var e,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(e in s[n])i=s[n][e],a.call(s[n],e)&&void 0!==i&&(x.isPlainObject(i)?t[e]=x.isPlainObject(t[e])?x.widget.extend({},t[e],i):x.widget.extend({},i):t[e]=i);return t},x.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;x.fn[o]=function(i){var t="string"==typeof i,s=r.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=x.data(this,a);return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?x.error("no such method '"+i+"' for "+o+" widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=x.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=x.data(this,a);t?(t.option(i||{}),t._init&&t._init()):x.data(this,a,new e(i,this))})),n}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=x(e||this.defaultElement||this)[0],this.element=x(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},e!==this&&(x.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=x(e.style?e.ownerDocument:e.document||e),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var i=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,o=t;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(s=o[t]=x.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=x(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function t(t,e){for(var i,s=0;s<t.length;s++)i=a.classesElementLookup[t[s]]||x(),i=n.add?(function(){var i=[];n.element.each(function(t,e){x.map(a.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),a._on(x(i),{remove:"_untrackClassesElement"})}(),x(x.uniqueSort(i.get().concat(n.element.get())))):x(i.not(n.element).get()),a.classesElementLookup[t[s]]=i,o.push(t[s]),e&&n.classes[t[s]]&&o.push(n.classes[t[s]])}return(n=x.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;x.each(s.classesElementLookup,function(t,e){-1!==x.inArray(i.target,e)&&(s.classesElementLookup[t]=x(e.not(i.target).get()))}),this._off(x(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){var n="string"==typeof t||null===t,i={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s="boolean"==typeof s?s:i};return i.element.toggleClass(this._classes(i),s),this},_on:function(n,o,t){var a,r=this;"boolean"!=typeof n&&(t=o,o=n,n=!1),t?(o=a=x(o),this.bindings=this.bindings.add(o)):(t=o,o=this.element,a=this.widget()),x.each(t,function(t,e){function i(){if(n||!0!==r.options.disabled&&!x(this).hasClass("ui-state-disabled"))return("string"==typeof e?r[e]:e).apply(r,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||x.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),t=s[1]+r.eventNamespace,s=s[2];s?a.on(t,s,i):o.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=x(this.bindings.not(t).get()),this.focusable=x(this.focusable.not(t).get()),this.hoverable=x(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(x(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(x(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},(e=x.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!("function"==typeof o&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(o,a){x.Widget.prototype["_"+o]=function(e,t,i){var s,n=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||a:o;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),s=!x.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&x.effects&&x.effects.effect[n]?e[o](t):n!==o&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){x(this)[o](),i&&i.call(e[0]),t()})}});var s,C,k,o,l,h,u,c,z;x.widget;function P(t,e,i){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?i/100:1)]}function T(t,e){return parseInt(x.css(t,e),10)||0}function D(t){return null!=t&&t===t.window}C=Math.max,k=Math.abs,o=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,z=x.fn.position,x.position={scrollbarWidth:function(){if(void 0!==s)return s;var t,e=x("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=e.children()[0];return x("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),s=t-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:e?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),i=D(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:!i&&!s?x(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},x.fn.position=function(c){if(!c||!c.of)return z.apply(this,arguments);var p,d,f,m,g,t,_="string"==typeof(c=x.extend({},c)).of?x(document).find(c.of):x(c.of),v=x.position.getWithinInfo(c.within),b=x.position.getScrollInfo(v),y=(c.collision||"flip").split(" "),w={},e=9===(t=(e=_)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:D(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return _[0].preventDefault&&(c.at="left top"),d=e.width,f=e.height,g=x.extend({},m=e.offset),x.each(["my","at"],function(){var t,e,i=(c[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],c[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===c.at[0]?g.left+=d:"center"===c.at[0]&&(g.left+=d/2),"bottom"===c.at[1]?g.top+=f:"center"===c.at[1]&&(g.top+=f/2),p=P(w.at,d,f),g.left+=p[0],g.top+=p[1],this.each(function(){var i,t,a=x(this),r=a.outerWidth(),l=a.outerHeight(),e=T(this,"marginLeft"),s=T(this,"marginTop"),n=r+e+T(this,"marginRight")+b.width,o=l+s+T(this,"marginBottom")+b.height,h=x.extend({},g),u=P(w.my,a.outerWidth(),a.outerHeight());"right"===c.my[0]?h.left-=r:"center"===c.my[0]&&(h.left-=r/2),"bottom"===c.my[1]?h.top-=l:"center"===c.my[1]&&(h.top-=l/2),h.left+=u[0],h.top+=u[1],i={marginLeft:e,marginTop:s},x.each(["left","top"],function(t,e){x.ui.position[y[t]]&&x.ui.position[y[t]][e](h,{targetWidth:d,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[p[0]+u[0],p[1]+u[1]],my:c.my,at:c.at,within:v,elem:a})}),c.using&&(t=function(t){var e=m.left-h.left,i=e+d-r,s=m.top-h.top,n=s+f-l,o={target:{element:_,left:m.left,top:m.top,width:d,height:f},element:{element:a,left:h.left,top:h.top,width:r,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};d<r&&k(e+i)<d&&(o.horizontal="center"),f<l&&k(s+n)<f&&(o.vertical="middle"),C(k(e),k(i))>C(k(s),k(n))?o.important="horizontal":o.important="vertical",c.using.call(this,t,o)}),a.offset(x.extend(h,{using:t}))})},x.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,o=t.left-e.collisionPosition.marginLeft,a=s-o,r=o+e.collisionWidth-n-s;e.collisionWidth>n?0<a&&r<=0?(i=t.left+a+e.collisionWidth-n-s,t.left+=a-i):t.left=!(0<r&&a<=0)&&r<a?s+n-e.collisionWidth:s:0<a?t.left+=a:0<r?t.left-=r:t.left=C(t.left-o,t.left)},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,n=e.within.height,o=t.top-e.collisionPosition.marginTop,a=s-o,r=o+e.collisionHeight-n-s;e.collisionHeight>n?0<a&&r<=0?(i=t.top+a+e.collisionHeight-n-s,t.top+=a-i):t.top=!(0<r&&a<=0)&&r<a?s+n-e.collisionHeight:s:0<a?t.top+=a:0<r?t.top-=r:t.top=C(t.top-o,t.top)}},flip:{left:function(t,e){var i=e.within,s=i.offset.left+i.scrollLeft,n=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,a=t.left-e.collisionPosition.marginLeft,r=a-o,l=a+e.collisionWidth-n-o,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,i="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,a=-2*e.offset[0];r<0?((s=t.left+h+i+a+e.collisionWidth-n-s)<0||s<k(r))&&(t.left+=h+i+a):0<l&&(0<(o=t.left-e.collisionPosition.marginLeft+h+i+a-o)||k(o)<l)&&(t.left+=h+i+a)},top:function(t,e){var i=e.within,s=i.offset.top+i.scrollTop,n=i.height,o=i.isWindow?i.scrollTop:i.offset.top,a=t.top-e.collisionPosition.marginTop,r=a-o,l=a+e.collisionHeight-n-o,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,a=-2*e.offset[1];r<0?((s=t.top+h+i+a+e.collisionHeight-n-s)<0||s<k(r))&&(t.top+=h+i+a):0<l&&(0<(o=t.top-e.collisionPosition.marginTop+h+i+a-o)||k(o)<l)&&(t.top+=h+i+a)}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}};var t;x.ui.position,x.extend(x.expr.pseudos,{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,i){return!!x.data(t,i[3])}}),x.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});x.ui.focusable=function(t,e){var i,s,n,o,a=t.nodeName.toLowerCase();return"area"===a?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(0<(s=x("img[usemap='#"+s+"']")).length&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(n=!t.disabled)&&(o=x(t).closest("fieldset")[0])&&(n=!o.disabled):n="a"===a&&t.href||e,n&&x(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(x(t)))},x.extend(x.expr.pseudos,{focusable:function(t){return x.ui.focusable(t,null!=x.attr(t,"tabindex"))}});x.ui.focusable,x.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):x(this[0].form)},x.ui.formResetMixin={_formResetHandler:function(){var e=x(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");x.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(x.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},x.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},x.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+x.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},x.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=x(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:x(this[0].ownerDocument||document)},x.extend(x.expr.pseudos,{tabbable:function(t){var e=x.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&x.ui.focusable(t,i)}}),x.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}}),x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var e,p=!1;x(document).on("mouseup",function(){p=!1});x.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===x.data(t.target,e.widgetName+".preventClickEvent"))return x.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&x(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===x.data(t.target,this.widgetName+".preventClickEvent")&&x.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),p=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&x.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),x.ui.plugin={add:function(t,e,i){var s,n=x.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},x.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=!(i=i||e.body).nodeName?e.body:i},x.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&x(t).trigger("blur")};x.widget("ui.draggable",x.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<x(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=x(this);return x("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=x.ui.safeActiveElement(this.document[0]);x(t.target).closest(e).length||x.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),x.ui.ddmanager&&(x.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===x(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),x.ui.ddmanager&&!e.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),x.ui.ddmanager&&x.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){e=this._uiHash();if(!1===this._trigger("drag",t,e))return this._mouseUp(new x.Event("mouseup",t)),!1;this.position=e.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",x.ui.ddmanager&&x.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return x.ui.ddmanager&&!this.options.dropBehaviour&&(i=x.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?x(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),x.ui.ddmanager&&x.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),x.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new x.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!x(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i="function"==typeof e.helper,t=i?x(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(e=x(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=s.containment:this.containment=[0,0,x(n).width()-this.helperProportions.width-this.margins.left,(x(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[x(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,x(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,x(window).scrollLeft()+x(window).width()-this.helperProportions.width-this.margins.left,x(window).scrollTop()+(x(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,t=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:t?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:t?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s=this.options,n=this._isRootNode(this.scrollParent[0]),o=t.pageX,a=t.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(a=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(a=i[3]+this.offset.click.top)),s.grid&&(t=s.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,a=!i||t-this.offset.click.top>=i[1]||t-this.offset.click.top>i[3]?t:t-this.offset.click.top>=i[1]?t-s.grid[1]:t+s.grid[1],t=s.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,o=!i||t-this.offset.click.left>=i[0]||t-this.offset.click.left>i[2]?t:t-this.offset.click.left>=i[0]?t-s.grid[0]:t+s.grid[0]),"y"===s.axis&&(o=this.originalPageX),"x"===s.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),x.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),x.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),x.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=x.extend({},t,{item:i.element});i.sortables=[],x(i.options.connectToSortable).each(function(){var t=x(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=x.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,x.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){x.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,x.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,t=this!==e&&this._intersectsWith(this.containerCache)&&x.contains(e.element[0],this.element[0])?!1:t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,x.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,x.each(n.sortables,function(){this.refreshPositions()}))})}}),x.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=x("body"),i=i.options;s.css("cursor")&&(i._cursor=s.css("cursor")),s.css("cursor",i.cursor)},stop:function(t,e,i){i=i.options;i._cursor&&x("body").css("cursor",i._cursor)}}),x.ui.plugin.add("draggable","opacity",{start:function(t,e,i){e=x(e.helper),i=i.options;e.css("opacity")&&(i._opacity=e.css("opacity")),e.css("opacity",i.opacity)},stop:function(t,e,i){i=i.options;i._opacity&&x(e.helper).css("opacity",i._opacity)}}),x.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=n=o.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-x(a).scrollTop()<s.scrollSensitivity?n=x(a).scrollTop(x(a).scrollTop()-s.scrollSpeed):x(window).height()-(t.pageY-x(a).scrollTop())<s.scrollSensitivity&&(n=x(a).scrollTop(x(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-x(a).scrollLeft()<s.scrollSensitivity?n=x(a).scrollLeft(x(a).scrollLeft()-s.scrollSpeed):x(window).width()-(t.pageX-x(a).scrollLeft())<s.scrollSensitivity&&(n=x(a).scrollLeft(x(a).scrollLeft()+s.scrollSpeed)))),!1!==n&&x.ui.ddmanager&&!s.dropBehaviour&&x.ui.ddmanager.prepareOffsets(i,t)}}),x.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],x(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=x(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){for(var s,n,o,a,r,l,h,u,c,p=i.options,d=p.snapTolerance,f=e.offset.left,m=f+i.helperProportions.width,g=e.offset.top,_=g+i.helperProportions.height,v=i.snapElements.length-1;0<=v;v--)l=(r=i.snapElements[v].left-i.margins.left)+i.snapElements[v].width,u=(h=i.snapElements[v].top-i.margins.top)+i.snapElements[v].height,m<r-d||l+d<f||_<h-d||u+d<g||!x.contains(i.snapElements[v].item.ownerDocument,i.snapElements[v].item)?(i.snapElements[v].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,x.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=!1):("inner"!==p.snapMode&&(s=Math.abs(h-_)<=d,n=Math.abs(u-g)<=d,o=Math.abs(r-m)<=d,a=Math.abs(l-f)<=d,s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),c=s||n||o||a,"outer"!==p.snapMode&&(s=Math.abs(h-g)<=d,n=Math.abs(u-_)<=d,o=Math.abs(r-f)<=d,a=Math.abs(l-m)<=d,s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[v].snapping&&(s||n||o||a||c)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,x.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=s||n||o||a||c)}}),x.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,i=i.options,i=x.makeArray(x(i.stack)).sort(function(t,e){return(parseInt(x(t).css("zIndex"),10)||0)-(parseInt(x(e).css("zIndex"),10)||0)});i.length&&(s=parseInt(x(i[0]).css("zIndex"),10)||0,x(i).each(function(t){x(this).css("zIndex",s+t)}),this.css("zIndex",s+i.length))}}),x.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){e=x(e.helper),i=i.options;e.css("zIndex")&&(i._zIndex=e.css("zIndex")),e.css("zIndex",i.zIndex)},stop:function(t,e,i){i=i.options;i._zIndex&&x(e.helper).css("zIndex",i._zIndex)}});x.ui.draggable;function d(t,e,i){return e<=t&&t<e+i}x.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){x.ui.ddmanager.droppables[t]=x.ui.ddmanager.droppables[t]||[],x.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=x.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var i;"accept"===t?this.accept="function"==typeof e?e:function(t){return t.is(e)}:"scope"===t&&(i=x.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=x.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=x.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=x.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=x.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||x.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=x(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&x.ui.intersect(i,x.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),x.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,r=o+t.helperProportions.height,l=e.offset.left,h=e.offset.top,u=l+e.proportions().width,c=h+e.proportions().height;switch(i){case"fit":return l<=n&&a<=u&&h<=o&&r<=c;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&h<o+t.helperProportions.height/2&&r-t.helperProportions.height/2<c;case"pointer":return d(s.pageY,h,e.proportions().height)&&d(s.pageX,l,e.proportions().width);case"touch":return(h<=o&&o<=c||h<=r&&r<=c||o<h&&c<r)&&(l<=n&&n<=u||l<=a&&a<=u||n<l&&u<a);default:return!1}},!(x.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=x.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return x.each((x.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&x.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||x.ui.ddmanager.prepareOffsets(t,e)})},drag:function(n,o){n.options.refreshPositions&&x.ui.ddmanager.prepareOffsets(n,o),x.each(x.ui.ddmanager.droppables[n.options.scope]||[],function(){var t,e,i,s;this.options.disabled||this.greedyChild||!this.visible||(s=!(i=x.ui.intersect(n,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return x(this).droppable("instance").options.scope===e})).length&&((t=x(i[0]).droppable("instance")).greedyChild="isover"===s)),t&&"isover"===s&&(t.isover=!1,t.isout=!0,t._out.call(t,o)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,o),t&&"isout"===s&&(t.isout=!1,t.isover=!0,t._over.call(t,o)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||x.ui.ddmanager.prepareOffsets(t,e)}})!==x.uiBackCompat&&x.widget("ui.droppable",x.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});x.ui.droppable;x.widget("ui.resizable",x.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===x(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;if(0<t[i])return!0;try{t[i]=1,e=0<t[i],t[i]=0}catch(t){}return e},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),x.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(x("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&x(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function t(t){x(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var t,e,i,s,n,o=this.options,a=this;if(this.handles=o.handles||(x(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=x(),this._addedHandles=x(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s="ui-resizable-"+(t=String.prototype.trim.call(i[e])),n=x("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(t){var e,i,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=x(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=x(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=x(this.handles[e])[0])!==t.target&&!x.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=x(s.containment).scrollLeft()||0,i+=x(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=x(".ui-resizable-"+this.axis).css("cursor"),x("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.originalMousePosition,i=this.axis,s=t.pageX-e.left||0,e=t.pageY-e.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(e=i.apply(this,[t,s,e]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),x.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n=this.options,o=this;return this._helper&&(s=(e=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:o.sizeDiff.height,i=e?0:o.sizeDiff.width,e={width:o.helper.width()-i,height:o.helper.height()-s},i=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null,s=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,n.animate||this.element.css(x.extend(e,{top:s,left:i})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!n.animate&&this._proportionallyResize()),x("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s=this.options,n={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,i=n.minWidth/this.aspectRatio,s=n.maxHeight*this.aspectRatio,t=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),i>n.minHeight&&(n.minHeight=i),s<n.maxWidth&&(n.maxWidth=s),t<n.maxHeight&&(n.maxHeight=t)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&i&&(t.top=l-e.minHeight),n&&i&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||x("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return x.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return x.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return x.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return x.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){x.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),x.ui.plugin.add("resizable","animate",{stop:function(e){var i=x(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),o=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,n={width:i.size.width-a,height:i.size.height-o},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(x.extend(n,o&&a?{top:o,left:a}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&x(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),x.ui.plugin.add("resizable","containment",{start:function(){var i,s,n=x(this).resizable("instance"),t=n.options,e=n.element,o=t.containment,a=o instanceof x?o.get(0):/parent/.test(o)?e.parent().get(0):o;a&&(n.containerElement=x(a),/document/.test(o)||o===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:x(document),left:0,top:0,width:x(document).width(),height:x(document).height()||document.body.parentNode.scrollHeight}):(i=x(a),s=[],x(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=n._num(i.css("padding"+e))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=n.containerOffset,e=n.containerSize.height,o=n.containerSize.width,o=n._hasScroll(a,"left")?a.scrollWidth:o,e=n._hasScroll(a)?a.scrollHeight:e,n.parentData={element:a,left:t.left,top:t.top,width:o,height:e}))},resize:function(t){var e=x(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.position,o=e._aspectRatio||t.shiftKey,a={top:0,left:0},r=e.containerElement,t=!0;r[0]!==document&&/static/.test(r.css("position"))&&(a=s),n.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-a.left),o&&(e.size.height=e.size.width/e.aspectRatio,t=!1),e.position.left=i.helper?s.left:0),n.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),o&&(e.size.width=e.size.height*e.aspectRatio,t=!1),e.position.top=e._helper?s.top:0),i=e.containerElement.get(0)===e.element.parent().get(0),n=/relative|absolute/.test(e.containerElement.css("position")),i&&n?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top),n=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-a.left:e.offset.left-s.left)),s=Math.abs(e.sizeDiff.height+(e._helper?e.offset.top-a.top:e.offset.top-s.top)),n+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-n,o&&(e.size.height=e.size.width/e.aspectRatio,t=!1)),s+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-s,o&&(e.size.width=e.size.height*e.aspectRatio,t=!1)),t||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var t=x(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,o=x(t.helper),a=o.offset(),r=o.outerWidth()-t.sizeDiff.width,o=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&x(this).css({left:a.left-s.left-i.left,width:r,height:o}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&x(this).css({left:a.left-s.left-i.left,width:r,height:o})}}),x.ui.plugin.add("resizable","alsoResize",{start:function(){var t=x(this).resizable("instance").options;x(t.alsoResize).each(function(){var t=x(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=x(this).resizable("instance"),s=e.options,n=e.originalSize,o=e.originalPosition,a={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};x(s.alsoResize).each(function(){var t=x(this),s=x(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];x.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){x(this).removeData("ui-resizable-alsoresize")}}),x.ui.plugin.add("resizable","ghost",{start:function(){var t=x(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==x.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=x(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=x(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),x.ui.plugin.add("resizable","grid",{resize:function(){var t,e=x(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,u=Math.round((s.width-n.width)/l)*l,c=Math.round((s.height-n.height)/h)*h,p=n.width+u,d=n.height+c,f=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<d,g=i.minWidth&&i.minWidth>p,s=i.minHeight&&i.minHeight>d;i.grid=r,g&&(p+=l),s&&(d+=h),f&&(p-=l),m&&(d-=h),/^(se|s|e)$/.test(a)?(e.size.width=p,e.size.height=d):/^(ne)$/.test(a)?(e.size.width=p,e.size.height=d,e.position.top=o.top-c):/^(sw)$/.test(a)?(e.size.width=p,e.size.height=d,e.position.left=o.left-u):((d-h<=0||p-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<d-h?(e.size.height=d,e.position.top=o.top-c):(d=h-t.height,e.size.height=d,e.position.top=o.top+n.height-d),0<p-l?(e.size.width=p,e.position.left=o.left-u):(p=l-t.width,e.size.width=p,e.position.left=o.left+n.width-p))}});x.ui.resizable,x.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault(),this._activateItem(t)},"click .ui-menu-item":function(t){var e=x(t.target),i=x(x.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this._menuItems().first();e||this.focus(t,i)},blur:function(t){this._delay(function(){x.contains(this.element[0],x.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t,!0),this.mouseHandled=!1}})},_activateItem:function(t){var e,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},e=x(t.target).closest(".ui-menu-item"),i=x(t.currentTarget),e[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=x(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,s,n=!0;switch(t.keyCode){case x.ui.keyCode.PAGE_UP:this.previousPage(t);break;case x.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case x.ui.keyCode.HOME:this._move("first","first",t);break;case x.ui.keyCode.END:this._move("last","last",t);break;case x.ui.keyCode.UP:this.previous(t);break;case x.ui.keyCode.DOWN:this.next(t);break;case x.ui.keyCode.LEFT:this.collapse(t);break;case x.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case x.ui.keyCode.ENTER:case x.ui.keyCode.SPACE:this._activate(t);break;case x.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=this.previousFilter||"",s=n=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===e?s=!0:i=e+i,e=this._filterMenuItems(i),(e=s&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,s=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=x(this),e=t.prev(),i=x("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+n),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=x(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(e=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!x.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var i;"icons"===t&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,s;this._hasScroll()&&(i=parseFloat(x.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(x.css(this.activeMenu[0],"paddingTop"))||0,e=t.offset().top-this.activeMenu.offset().top-i-s,i=this.activeMenu.scrollTop(),s=this.activeMenu.height(),t=t.outerHeight(),e<0?this.activeMenu.scrollTop(i+e):s<e+t&&this.activeMenu.scrollTop(i+e-s+t))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=x.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:x(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},i?0:this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!x(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this._menuItems(this.active.children(".ui-menu")).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(t){return(t||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(t,e,i){var s;(s=this.active?"first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").last():this.active[t+"All"](".ui-menu-item").first():s)&&s.length&&this.active||(s=this._menuItems(this.activeMenu)[e]()),this.focus(i,s)},nextPage:function(t){var e,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===x.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(e=x(this)).offset().top-i-s<0}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===x.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=x(this)).offset().top-i+s}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||x(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),e=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(String.prototype.trim.call(x(this).children(".ui-menu-item-wrapper").text()))})}});x.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,s,n,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var e=x.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:s=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!s){var e=x.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=x("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault()},menufocus:function(t,e){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){x(t.target).trigger(t.originalEvent)});s=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=e.item.attr("aria-label")||s.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(x("<div>").text(i))},100))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==x.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=x("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||x.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?x(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_initSource:function(){var i,s,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(x.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(t,e){n.xhr&&n.xhr.abort(),n.xhr=x.ajax({url:s,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t&&(e||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:x.map(t,function(t){return"string"==typeof t?{label:t,value:t}:x.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(x.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var s=this;x.each(t,function(t,e){s._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return x("<li>").append(x("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),x.extend(x.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(x.ui.autocomplete.escapeRegex(e),"i");return x.grep(t,function(t){return i.test(t.label||t.value||t)})}}),x.widget("ui.autocomplete",x.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(x("<div>").text(e))},100))}});x.ui.autocomplete;var f=/ui-corner-([a-z]){2,6}/g;x.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];x.each(this.options.items,function(s,t){var e,n={};if(t)return"controlgroupLabel"===s?((e=o.element.find(t)).each(function(){var t=x(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(x.fn[s]&&(n=o["_"+s+"Options"]?o["_"+s+"Options"]("middle"):{classes:{}},o.element.find(t).each(function(){var t=x(this),e=t[s]("instance"),i=x.widget.extend({},n);"button"===s&&t.parent(".ui-spinner").length||((e=e||t[s]()[s]("instance"))&&(i.classes=o._resolveClassesValues(i.classes,e)),t[s](i),i=t[s]("widget"),x.data(i[0],"ui-controlgroup-data",e||t[s]("instance")),a.push(i[0]))})))}),this.childWidgets=x(x.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=x(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){t=this._buildSimpleOptions(t,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return x.each(i,function(t){var e=s.options.classes[t]||"",e=String.prototype.trim.call(e.replace(f,""));n[t]=(e+" "+i[t]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var n,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,(n=this.options.onlyVisible?n.filter(":visible"):n).length&&(x.each(["first","last"],function(t,e){var i,s=n[e]().data("ui-controlgroup-data");s&&o["_"+s.widgetName+"Options"]?((i=o["_"+s.widgetName+"Options"](1===n.length?"only":e)).classes=o._resolveClassesValues(i.classes,s),s.element[s.widgetName](i)):o._updateCornerClass(n[e](),e)}),this._callChildMethod("refresh"))}});x.widget("ui.checkboxradio",[x.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=x(t[t.length-1]),this.label.length||x.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){e.originalLabel+=3===this.nodeType?x(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||x.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+x.escapeSelector(t)+"']";return t?(this.form.length?x(this.form[0].elements).filter(e):x(e).filter(function(){return 0===x(this)._form().length})).not(this.element):x([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=x(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=x("<span>"),this.iconSpace=x("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),(t=this.iconSpace?t.not(this.iconSpace[0]):t).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var m;x.ui.checkboxradio;x.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===x.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,s=i?this.options.iconPosition:e,t="top"===s||"bottom"===s;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=x("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(s),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=x("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,i=(void 0===t.icon?this.options:t).icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==x.uiBackCompat&&(x.widget("ui.button",x.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),x.fn.button=(m=x.fn.button,function(i){var t="string"==typeof i,s=Array.prototype.slice.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t=x(this).attr("type"),e=x.data(this,"ui-"+("checkbox"!==t&&"radio"!==t?"button":"checkboxradio"));return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?x.error("no such method '"+i+"' for button widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=x.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=x(this).attr("type"),e="checkbox"!==t&&"radio"!==t?"button":"checkboxradio",t=x.data(this,"ui-"+e);t?(t.option(i||{}),t._init&&t._init()):"button"!=e?x(this).checkboxradio(x.extend({icon:!1},i)):m.call(x(this),i)})),n}),x.fn.buttonset=function(){return x.ui.controlgroup||x.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});x.ui.button;x.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=x(this).css(t).offset().top;e<0&&x(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&x.fn.draggable&&this._makeDraggable(),this.options.resizable&&x.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?x(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:x.noop,enable:x.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||x.ui.safeBlur(x.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+x(this).css("z-index")}).get(),s=Math.max.apply(null,s);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=x(x.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=!(t=!(t=!(t=!(t=t||this.element.find("[autofocus]")).length?this.element.find(":tabbable"):t).length?this.uiDialogButtonPane.find(":tabbable"):t).length?this.uiDialogTitlebarClose.filter(":tabbable"):t).length?this.uiDialog:t).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=x.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||x.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(t){t.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=x("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===x.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var e,i,s;t.keyCode!==x.ui.keyCode.TAB||t.isDefaultPrevented()||(e=this.uiDialog.find(":tabbable"),i=e.first(),s=e.last(),t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault()))},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=x("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){x(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=x("<button type='button'></button>").button({label:x("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=x("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=x("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=x("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var s=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),x.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(x.each(t,function(t,e){var i;e=x.extend({type:"button"},e="function"==typeof e?{click:e,text:t}:e),i=e.click,t={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,x("<button></button>",e).button(t).appendTo(s.uiButtonSet).on("click",function(){i.apply(s.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,o=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){n._addClass(x(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",t,a(e))},drag:function(t,e){n._trigger("drag",t,a(e))},stop:function(t,e){var i=e.offset.left-n.document.scrollLeft(),s=e.offset.top-n.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=s?"+":"")+s,of:n.window},n._removeClass(x(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var n=this,o=this.options,t=o.resizable,e=this.uiDialog.css("position"),t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:t,start:function(t,e){n._addClass(x(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",t,a(e))},resize:function(t,e){n._trigger("resize",t,a(e))},stop:function(t,e){var i=n.uiDialog.offset(),s=i.left-n.document.scrollLeft(),i=i.top-n.document.scrollTop();o.height=n.uiDialog.height(),o.width=n.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=s?"+":"")+s+" top"+(0<=i?"+":"")+i,of:n.window},n._removeClass(x(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=x(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=x.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};x.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:x("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=s.is(":data(ui-draggable)"))&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=s.is(":data(ui-resizable)"))&&!e&&s.resizable("destroy"),i&&"string"==typeof e&&s.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=x(this);return x("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!x(t.target).closest(".ui-dialog").length||!!x(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,s;this.options.modal&&(i=x.fn.jquery.substring(0,4),s=!0,this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(t){var e;s||((e=this._trackingInstances()[0])._allowInteraction(t)||(t.preventDefault(),e._focusTabbable(),"3.4."!==i&&"3.5."!==i||e._delay(e._restoreTabbableFocus)))}.bind(this)),this.overlay=x("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var t;this.options.modal&&this.overlay&&((t=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",t):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==x.uiBackCompat&&x.widget("ui.dialog",x.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});x.ui.dialog,x.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=x("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=x("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),x.widget("ui.slider",x.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e=this.options,i=this.element.find(".ui-slider-handle"),s=[],n=e.values&&e.values.length||1;for(i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push("<span tabindex='0'></span>");this.handles=i.add(x(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){x(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=x("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,o,e,a,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(a),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-r.values(t));(e<s||s===e&&(t===r._lastChangedValue||r.values(t)===l.min))&&(s=e,n=x(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),e=n.offset(),a=!x(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-e.left-n.width()/2,top:t.pageY-e.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,t="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=t/e;return(t=1<t?1:t)<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),e=this._valueMin()+t*e,this._trimAlignValue(e)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,s,n;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!Array.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,s=t,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(s[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,e){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=s-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i;if(arguments.length)return t=this.options.values[t],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;i<e.length;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,t=t-i;return 2*Math.abs(i)>=e&&(t+=0<i?e:-e),parseFloat(t.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,s,n,o=this.options.range,a=this.options,r=this,l=!this._animateOff&&a.animate,h={};this._hasMultipleValues()?this.handles.each(function(t){i=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,h["horizontal"===r.orientation?"left":"bottom"]=i+"%",x(this).stop(1,1)[l?"animate":"css"](h,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===t&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===t&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(t=this.value(),s=this._valueMin(),n=this._valueMax(),i=n!==s?(t-s)/(n-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](h,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,i,s,n=x(t.target).data("ui-slider-handle-index");switch(t.keyCode){case x.ui.keyCode.HOME:case x.ui.keyCode.END:case x.ui.keyCode.PAGE_UP:case x.ui.keyCode.PAGE_DOWN:case x.ui.keyCode.UP:case x.ui.keyCode.RIGHT:case x.ui.keyCode.DOWN:case x.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(x(t.target),null,"ui-state-active"),!1===this._start(t,n)))return}switch(s=this.options.step,e=i=this._hasMultipleValues()?this.values(n):this.value(),t.keyCode){case x.ui.keyCode.HOME:i=this._valueMin();break;case x.ui.keyCode.END:i=this._valueMax();break;case x.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case x.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case x.ui.keyCode.UP:case x.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+s);break;case x.ui.keyCode.DOWN:case x.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-s)}this._slide(t,n,i)},keyup:function(t){var e=x(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(x(t.target),null,"ui-state-active"))}}});function g(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}x.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s=this._super(),n=this.element;return x.each(["min","max","step"],function(t,e){var i=n.attr(e);null!=i&&i.length&&(s[e]=i)}),s},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){var i=x.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===x.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===x.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,x(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(x(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,x(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=x.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?"function"==typeof e?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_adjustValue:function(t){var e=this.options,i=null!==e.min?e.min:0,s=t-i;return t=i+Math.round(s/e.step)*e.step,t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:g(function(t){this._super(t)}),_parse:function(t){return""===(t="string"==typeof t&&""!==t?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t:t)||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:g(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:g(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:g(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:g(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==x.uiBackCompat&&x.widget("ui.spinner",x.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});x.ui.spinner;var _=x,v={},b=v.toString,y=/^([\-+])=\s*(\d+\.?\d*)/,w=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?(parseInt(t[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),t[4]?(parseInt(t[4]+t[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],S=_.Color=function(t,e,i,s){return new _.Color.fn.parse(t,e,i,s)},H={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},E={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},O=S.support={},M=_("<p>")[0],I=_.each;function W(t){return null==t?t+"":"object"==typeof t?v[b.call(t)]||"object":typeof t}function A(t,e,i){var s=E[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:Math.min(s.max,Math.max(0,t)))}function N(s){var n=S(),o=n._rgba=[];return s=s.toLowerCase(),I(w,function(t,e){var i=e.re.exec(s),i=i&&e.parse(i),e=e.space||"rgba";if(i)return i=n[e](i),n[H[e].cache]=i[H[e].cache],o=n._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&_.extend(o,$.transparent),n):$[s]}function R(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}M.style.cssText="background-color:rgba(1,1,1,.5)",O.rgba=-1<M.style.backgroundColor.indexOf("rgba"),I(H,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){v["[object "+e+"]"]=e.toLowerCase()}),(S.fn=_.extend(S.prototype,{parse:function(n,t,e,i){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=_(n).css(t),t=void 0);var o=this,s=W(n),a=this._rgba=[];return void 0!==t&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(N(n)||$._default):"array"===s?(I(H.rgba.props,function(t,e){a[e.idx]=A(n[e.idx],e)}),this):"object"===s?(I(H,n instanceof S?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;I(i.props,function(t,e){if(!o[s]&&i.to){if("alpha"===t||null==n[t])return;o[s]=i.to(o._rgba)}o[s][e.idx]=A(n[t],e,!0)}),o[s]&&_.inArray(null,o[s].slice(0,3))<0&&(null==o[s][3]&&(o[s][3]=1),i.from&&(o._rgba=i.from(o[s])))}),this):void 0},is:function(t){var n=S(t),o=!0,a=this;return I(H,function(t,e){var i,s=n[e.cache];return s&&(i=a[e.cache]||e.to&&e.to(a._rgba)||[],I(e.props,function(t,e){if(null!=s[e.idx])return o=s[e.idx]===i[e.idx]})),o}),o},_space:function(){var i=[],s=this;return I(H,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,a){var e=(h=S(t))._space(),i=H[e],t=0===this.alpha()?S("transparent"):this,r=t[i.cache]||i.to(t._rgba),l=r.slice(),h=h[i.cache];return I(i.props,function(t,e){var i=e.idx,s=r[i],n=h[i],o=E[e.type]||{};null!==n&&(null===s?l[i]=n:(o.mod&&(n-s>o.mod/2?s+=o.mod:s-n>o.mod/2&&(s-=o.mod)),l[i]=A((n-s)*a+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=S(t)._rgba;return S(_.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=_.map(this._rgba,function(t,e){return null!=t?t:2<e?1:0});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=_.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),t=e&&e<3?Math.round(100*t)+"%":t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+_.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=S.fn,H.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,i=t[1]/255,s=t[2]/255,n=t[3],o=Math.max(e,i,s),a=Math.min(e,i,s),r=o-a,l=o+a,t=.5*l,i=a===o?0:e===o?60*(i-s)/r+360:i===o?60*(s-e)/r+120:60*(e-i)/r+240,l=0==r?0:t<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,t,null==n?1:n]},H.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],t=t[3],i=s<=.5?s*(1+i):s+i-s*i,s=2*s-i;return[Math.round(255*R(s,i,e+1/3)),Math.round(255*R(s,i,e)),Math.round(255*R(s,i,e-1/3)),t]},I(H,function(l,t){var e=t.props,o=t.cache,a=t.to,r=t.from;S.fn[l]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===t)return this[o].slice();var i=W(t),s="array"===i||"object"===i?t:arguments,n=this[o].slice();return I(e,function(t,e){t=s["object"===i?t:e.idx];null==t&&(t=n[e.idx]),n[e.idx]=A(t,e)}),r?((t=S(r(n)))[o]=n,t):S(n)},I(e,function(a,r){S.fn[a]||(S.fn[a]=function(t){var e,i=W(t),s="alpha"===a?this._hsla?"hsla":"rgba":l,n=this[s](),o=n[r.idx];return"undefined"===i?o:("function"===i&&(i=W(t=t.call(this,o))),null==t&&r.empty?this:("string"===i&&(e=y.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),(S.hook=function(t){t=t.split(" ");I(t,function(t,o){_.cssHooks[o]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==W(e)||(i=N(e)))){if(e=S(i||e),!O.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=_.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},_.fx.step[o]=function(t){t.colorInit||(t.start=S(t.elem,o),t.end=S(t.end),t.colorInit=!0),_.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),_.cssHooks.borderColor={expand:function(i){var s={};return I(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}};var L,F,B,V,j,q,U,X,Y,G,$=_.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},K="ui-effects-",Q="ui-effects-style",J="ui-effects-animated";function Z(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[e.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function tt(t,e,i,s){return t={effect:t=x.isPlainObject(t)?(e=t).effect:t},"function"==typeof(e=null==e?{}:e)&&(s=e,i=null,e={}),"number"!=typeof e&&!x.fx.speeds[e]||(s=i,i=e,e={}),"function"==typeof i&&(s=i,i=null),e&&x.extend(t,e),i=i||e.duration,t.duration=x.fx.off?0:"number"==typeof i?i:i in x.fx.speeds?x.fx.speeds[i]:x.fx.speeds._default,t.complete=s||e.complete,t}function et(t){return!t||"number"==typeof t||x.fx.speeds[t]||("string"==typeof t&&!x.effects.effect[t]||("function"==typeof t||"object"==typeof t&&!t.effect))}function it(t,e){var i=e.outerWidth(),e=e.outerHeight(),t=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,e,0];return{top:parseFloat(t[1])||0,right:"auto"===t[2]?i:parseFloat(t[2]),bottom:"auto"===t[3]?e:parseFloat(t[3]),left:parseFloat(t[4])||0}}x.effects={effect:{}},V=["add","remove","toggle"],j={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},x.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){x.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,e,t.end),t.setAttr=!0)}}),x.fn.addBack||(x.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),x.effects.animateClass=function(n,t,e,i){var o=x.speed(t,e,i);return this.queue(function(){var i=x(this),t=i.attr("class")||"",e=(e=o.children?i.find("*").addBack():i).map(function(){return{el:x(this),start:Z(this)}}),s=function(){x.each(V,function(t,e){n[e]&&i[e+"Class"](n[e])})};s(),e=e.map(function(){return this.end=Z(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(j[i]||!x.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",t),e=e.map(function(){var t=this,e=x.Deferred(),i=x.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),x.when.apply(x,e.get()).done(function(){s(),x.each(arguments,function(){var e=this.el;x.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},x.fn.extend({addClass:(B=x.fn.addClass,function(t,e,i,s){return e?x.effects.animateClass.call(this,{add:t},e,i,s):B.apply(this,arguments)}),removeClass:(F=x.fn.removeClass,function(t,e,i,s){return 1<arguments.length?x.effects.animateClass.call(this,{remove:t},e,i,s):F.apply(this,arguments)}),toggleClass:(L=x.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?x.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):L.apply(this,arguments):x.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return x.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),x.expr&&x.expr.pseudos&&x.expr.pseudos.animated&&(x.expr.pseudos.animated=(q=x.expr.pseudos.animated,function(t){return!!x(t).data(J)||q(t)})),!1!==x.uiBackCompat&&x.extend(x.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(K+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(K+e[s]),t.css(e[s],i))},setMode:function(t,e){return e="toggle"===e?t.is(":hidden")?"show":"hide":e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=x("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!x.contains(i[0],n)||x(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(x.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),x.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!x.contains(t[0],e)||x(e).trigger("focus")),t}}),x.extend(x.effects,{version:"1.13.1",define:function(t,e,i){return i||(i=e,e="effect"),x.effects.effect[t]=i,x.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,e="vertical"!==i?(e||100)/100:1;return{height:t.height()*e,width:t.width()*s,outerHeight:t.outerHeight()*e,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(Q,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(Q)||"",t.removeData(Q)},mode:function(t,e){t=t.is(":hidden");return"toggle"===e&&(e=t?"show":"hide"),e=(t?"hide"===e:"show"===e)?"none":e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=x("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(K+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=K+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){x.effects.restoreStyle(t),x.effects.removePlaceholder(t)},setTransition:function(s,t,n,o){return o=o||{},x.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),x.fn.extend({effect:function(){function t(t){var e=x(this),i=x.effects.mode(e,r)||o;e.data(J,!0),l.push(i),o&&("show"===i||i===o&&"hide"===i)&&e.show(),o&&"none"===i||x.effects.saveStyle(e),"function"==typeof t&&t()}var s=tt.apply(this,arguments),n=x.effects.effect[s.effect],o=n.mode,e=s.queue,i=e||"fx",a=s.complete,r=s.mode,l=[];return x.fx.off||!n?r?this[r](s.duration,a):this.each(function(){a&&a.call(this)}):!1===e?this.each(t).each(h):this.queue(i,t).queue(i,h);function h(t){var e=x(this);function i(){"function"==typeof a&&a.call(e[0]),"function"==typeof t&&t()}s.mode=l.shift(),!1===x.uiBackCompat||o?"none"===s.mode?(e[r](),i()):n.call(e[0],s,function(){e.removeData(J),x.effects.cleanUp(e),"hide"===s.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===r:"show"===r)?(e[r](),i()):n.call(e[0],s,i)}},show:(Y=x.fn.show,function(t){if(et(t))return Y.apply(this,arguments);t=tt.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(X=x.fn.hide,function(t){if(et(t))return X.apply(this,arguments);t=tt.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(U=x.fn.toggle,function(t){if(et(t)||"boolean"==typeof t)return U.apply(this,arguments);t=tt.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(t){var i=this.css(t),s=[];return x.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):it(this.css("clip"),this)},transfer:function(t,e){var i=x(this),s=x(t.to),n="fixed"===s.css("position"),o=x("body"),a=n?o.scrollTop():0,r=n?o.scrollLeft():0,o=s.offset(),o={top:o.top-a,left:o.left-r,height:s.innerHeight(),width:s.innerWidth()},s=i.offset(),l=x("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(t.className).css({top:s.top-a,left:s.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(o,t.duration,t.easing,function(){l.remove(),"function"==typeof e&&e()})}}),x.fx.step.clip=function(t){t.clipInit||(t.start=x(t.elem).cssClip(),"string"==typeof t.end&&(t.end=it(t.end,t.elem)),t.clipInit=!0),x(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},G={},x.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){G[t]=function(t){return Math.pow(t,e+2)}}),x.extend(G,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),x.each(G,function(t,e){x.easing["easeIn"+t]=e,x.easing["easeOut"+t]=function(t){return 1-e(1-t)},x.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});x.effects,x.effects.define("slide","show",function(t,e){var i,s,n=x(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,r=t.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,u=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0),c={};x.effects.createPlaceholder(n),i=n.cssClip(),s=n.position()[l],c[l]=(h?-1:1)*u+s,c.clip=n.cssClip(),c.clip[o[r][1]]=c.clip[o[r][0]],"show"===a&&(n.cssClip(c.clip),n.css(l,c[l]),c.clip=i,c[l]=s),n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})});
//static-content-hash-trigger-NON
pega.ui.ChangeTrackerMap=new function(){var a={},d=null,b=null;this.getTrackerByThread=function(c){return a[c]};this.addTracker=function(c,b){a[c]=b;null==d?(d=b,b.isPrimary=!0):b.isPrimary=!1};this.isSingleTracker=function(){var b=0,e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&b++;return 1===b};this.getTracker=function(){if(null!=d)return this.isSingleTracker()?d:a[pega.u.d.getThreadName()];if(pega.u.d&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isHybridClient()){var c=new pega.ui.ChangeTracker;
this.addTracker(pega.u.d.getThreadName(),c);return c}return b=b||new pega.ui.ChangeTracker};this.getDummyTracker=function(){return b=b||new pega.ui.ChangeTracker};this.getTrackers=function(){return a};this.getPrimaryTracker=function(){for(var b in a){var e=a[b];if(e.isPrimary)return e}}};pega.ui.ChangeTracker=function(){this.id=null;this.threadName="";this.isPrimary=!0;this.changedPropertiesList=[];this.addRemovePagesList=[];this.trackedPropertiesList={};this.nonThreadTrackedPropertiesList=""};
pega.ui.ChangeTracker.prototype.init=function(a,d){if(a&&(a=a.getAttribute("data-json"),a=pega.tools.Security.decodeCrossScriptingFilter(a,!0),"undefined"!=typeof a&&null!=a)){a=JSON.parse(a);var b=a.Values;a.Values=a.Initial;if(null!=a.Values.pxThread){var c=a.Values.pxThread.pxClientExchange,e=SafeURL_createFromURL(pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("url")).get("pzTransactionId");e&&c!==e&&a.Values&&a.Values.pxThread&&(a.Values.pxThread.pxClientExchange=e)}this.id=
a.ID;this.trackedPropertiesList={};this.merge(this.trackedPropertiesList,a.Values,null,!1,!1);this.threadName=d||pega.u.d.getThreadName();pega.ui.ChangeTrackerMap.addTracker(this.threadName,this);this.mergeOnlyNonThread=!0;this.merge(this.trackedPropertiesList,a.Values,null,!1,!1);this.mergeOnlyNonThread=null;this.currentCTJSONObj=a;this.currentCTJSONObj.Values=b;pega.util.Event.isIE?setTimeout(this.handleXThreadChanges.bind(this),0):this.handleXThreadChanges()}};
pega.ui.ChangeTracker.prototype.parseForChangeTrackerDiv=function(a,d){var b,c=0;if(0<=navigator.userAgent.indexOf("Chrome/")||0<=navigator.userAgent.indexOf("Safari/")||0<=navigator.userAgent.indexOf("Firefox/")){String.prototype.changeToLower=function(){var a={"\u0130":"i","\u015e":"\u015f","\u011e":"\u011f","\u00dc":"\u00fc","\u00d6":"\u00f6","\u00c7":"\u00e7"};return this.replace(/(([\u0130\u015e\u011e\u00dc\u00c7\u00d6]))/g,function(b){return a[b]}).toLowerCase()};var e=a.changeToLower()}else e=
a.toLowerCase();for(var g=pega.util.Event.isIE?'\x3cdiv style\x3d"display: none" id\x3d"ajaxct_'+this.id+"_"+this.threadName.toLowerCase()+'"\x3e':'\x3cdiv style\x3d"display:none" id\x3d"ajaxct_'+this.id+"_"+this.threadName.toLowerCase()+'"\x3e';;){var h="\x3cdiv style\x3d'display:none' id\x3d'ajaxct_"+this.id+"_"+this.threadName.toLowerCase()+"'\x3e";b=h.length;h=e.indexOf(h,c);if(0>h&&(h=e.indexOf(g,c),b=g.length,0>h&&(g='\x3cdiv style\x3d"display: none" id\x3dajaxct_'+this.id+"_"+this.threadName.toLowerCase()+
"\x3e",b=g.length,h=e.indexOf(g,c),0>h&&(g="\x3cdiv id\x3dajaxct_"+this.id+"_"+this.threadName.toLowerCase()+' style\x3d"display: none"\x3e',b=g.length,h=e.indexOf(g,c),0>h&&(g='\x3cdiv id\x3d"ajaxct_'+this.id+"_"+this.threadName.toLowerCase()+'" style\x3d"display: none;"\x3e',b=g.length,h=e.indexOf(g,c),0>h&&(g='\x3cdiv style\x3d"display: none;" id\x3d"ajaxct_'+this.id+"_"+this.threadName.toLowerCase()+'"\x3e',b=g.length,h=e.indexOf(g,c),0>h&&(g='\x3cdiv id\x3d"ajaxct_'+this.id+"_"+this.threadName.toLowerCase()+
'" style\x3d"display:none"\x3e',b=g.length,h=e.indexOf(g,c))))),0>h)))break;c=e.indexOf("\x3c/div\x3e",h);if(c<h)break;b=a.substring(h+b,c);this.mergeChangesToMasterList(b);d&&0<this.changedPropertiesList.length&&pega.u.d.evaluateClientConditions("TCL")}};
pega.ui.ChangeTracker.prototype.handleXThreadChanges=function(){var a=!1;if(this.currentCTJSONObj){this.currentCTJSONObj.RequestorChangeSet&&(a=0<(this.currentCTJSONObj.RequestorChangeSet.Values||[]).length);if(a){var a=pega.desktop.support.getDesktopWindow(),d=pega.desktop.support.getDesktopApplication();this.evaluateConditionsOnXThread(a||window);d&&d.openedWindows&&d.openedWindows.forEach(function(a){var b=null;if(a)try{b=a.pega,a.closed||b&&b.ctx&&b.ctx.topHarness||this.evaluateConditionsOnXThread(a)}catch(e){}}.bind(this));
a&&this.trackXThreadChanges(a.document)}this.currentCTJSONObj=null}};
pega.ui.ChangeTracker.prototype.handlePendingCTChanges=function(){if(window.pegaDefer&&window.pegaDefer.pendingCTList&&0<window.pegaDefer.pendingCTList.length){var a=window.pegaDefer.pendingCTList.length,d=pega.ui.ChangeTrackerMap.getTracker();if(d){d.mergeOnlyNonThread=!0;for(var b=0;b<a;b++){var c=window.pegaDefer.pendingCTList[b];d.merge(d.trackedPropertiesList,c.Initial,null,!0,!1);var e=c.Values;c.proxy&&(e=c.proxy.Values);d.merge(d.trackedPropertiesList,e,null,!0,!1)}d.mergeOnlyNonThread=null;
0<d.changedPropertiesList.length&&pega.u.d.evaluateClientConditions("TCL",null,!0,!0)}delete window.pegaDefer.pendingCTList}delete window.pegaDefer};
pega.ui.ChangeTracker.prototype.trackXThreadChanges=function(a){a=a.getElementsByTagName("IFRAME");for(var d=a.length,b=0;b<d;b++){var c=a[b];try{if(!c.contentWindow.pega){try{var e=c.name&&c.id==c.name?c.name.match(/^PegaGadget\d*Ifr$/):null;e&&1==e.length&&(c.contentWindow.pegaDefer=c.contentWindow.pegaDefer||{},c.contentWindow.pegaDefer.pendingCTList=c.contentWindow.pegaDefer.pendingCTList||[],c.contentWindow.pegaDefer.pendingCTList.push(this.currentCTJSONObj))}catch(g){}continue}}catch(g){continue}c.contentWindow.pega.u&&
c.contentWindow.pega.u.d&&c.contentWindow.pega.ui.ChangeTrackerMap.getTracker()&&this.evaluateConditionsOnXThread(c.contentWindow)}};
pega.ui.ChangeTracker.prototype.evaluateConditionsOnXThread=function(a){var d=null;if(a)try{d=a.pega}catch(h){}if(d)if(a&&a.pega&&a.pega.u&&a.pega.u.d&&a.pega.u.d.isHarnessInitialized&&a.pega.u.d.isHarnessInitialized()){var d=a.pega.ui.ChangeTrackerMap.getTrackers(),b=a.pega.ctx,c;for(c in d){var e=d[c],g=this.getRequestorChangeSet(e.threadName,e.id);if(g){e.mergeOnlyNonThread=!0;e.merge(e.trackedPropertiesList,this.currentCTJSONObj.Initial,null,!0,!1);e.merge(e.trackedPropertiesList,g,null,!0,!1);
e.mergeOnlyNonThread=null;try{if(a.frameElement&&0==a.frameElement.offsetHeight)continue}catch(h){}0<e.changedPropertiesList.length&&(a.pega.ctxmgr.setContext(a.pega.ctxmgr.getContextByThreadName(c)),e=a.pega.ctx.gSectionReloaded,a.pega.u.d.evaluateClientConditions("TCL",null,!0,!0),a.pega.ctx.gSectionReloaded=e,a.pega.ctxmgr.resetContext());a.pega.ctxmgr.setContext(b)}}}else a.pegaDefer=a.pegaDefer||{},a.pegaDefer.pendingCTList=a.pegaDefer.pendingCTList||[],a.pegaDefer.pendingCTList.push(this.currentCTJSONObj)};
pega.ui.ChangeTracker.prototype.getRequestorChangeSet=function(a,d){if(this.currentCTJSONObj.RequestorChangeSet)for(var b=this.currentCTJSONObj.RequestorChangeSet.Values||[],c=0;c<b.length;c++){var e=b[c][a];if(e)return e[d]}};
pega.ui.ChangeTracker.prototype.isExpressionMatchingWithTrackedProps=function(a,d,b){var c=!1;if(d)d=this.addRemovePagesList;else{if(!b&&(d=pega.u.property.toHandle(a),pega.u.d.ct_postedProp!=d))if(this.tempPropMap&&this.tempPropMap[a]){if("dom"===this.tempPropMap[a])return!1}else if((d=pega.u.d.getCorrectPropertyElemFromDOM(d,this))&&0<d.length&&"CV"!=d[0].id)return"dom"===this.tempPropMap[a],!1;d=this.changedPropertiesList}a=a.replace(/\(\)/ig,"");b=a.split(".");if(d&&1<=d.length)for(var e=0;e<
d.length;e++)if(d[e]==a){c=!0;break}else{var g=d[e].split(".");if(g.length==b.length){for(var h=!0,f=0;f<g.length;f++)if(g[f]!=b[f])if(b[f].lastIndexOf(")")!=b[f].length-1){if(g[f].replace(/\([\w]*\)/ig,"")!=b[f]){h=!1;break}}else{h=!1;break}if(h){c=!0;break}}}return c};
pega.ui.ChangeTracker.prototype.mergeChangesToMasterList=function(a){if(a){a=pega.tools.Security.decodeCrossScriptingFilter(a,!0);this.currentCTJSONObj=a=JSON.parse(a);a.Initial&&this.merge(this.trackedPropertiesList,a.Initial,null,!1,!1);a.Initial.D_UITemplateMeta&&a.Initial.D_UITemplateMeta.pyForceReloadTemplates&&(pega.ui.TemplateEngine.removeForceReloadTemplates(a.Initial.D_UITemplateMeta.pyForceReloadTemplates),delete a.Initial.D_UITemplateMeta.pyForceReloadTemplates);a.AddRemove&&0<a.AddRemove.length&&
(this.addRemovePagesList=this.addRemovePagesList.concat(a.AddRemove));if(a.Values.pxThread){if(pega.u.d.bIsDCSPA){if("pxClientFrame"in a.Values.pxThread||this.threadName===pega.u.d.getThreadName())this.trackedPropertiesList.pxThread.pxClientFrame=a.Values.pxThread.pxClientFrame,delete a.Values.pxThread.pxClientFrame,pega.ctx.baseFrameName=this.trackedPropertiesList.pxThread.pxClientFrame}else a.Values.pxThread.pxClientFrame&&(this.trackedPropertiesList.pxThread.pxClientFrame=a.Values.pxThread.pxClientFrame,
delete a.Values.pxThread.pxClientFrame);a.Values.pxThread.pxClientExchange&&("undefined"!==typeof a.Values.pxThread.pxClientFrame&&""==a.Values.pxThread.pxClientFrame||!(this.trackedPropertiesList.pxThread.pxClientFrame==pega.ctx.baseFrameName||pega.ctx.isMDC&&this.trackedPropertiesList.pxThread.pxClientFrame==pega.ctx.baseFrameName)||(this.trackedPropertiesList.pxThread.pxClientExchange=a.Values.pxThread.pxClientExchange),delete a.Values.pxThread.pxClientExchange)}this.merge(this.trackedPropertiesList,
a.Values,null,!0,!1)}};
pega.ui.ChangeTracker.prototype.merge=function(a,d,b,c,e){var g=!1,h=1,f;for(f in d){var m=f,l=d[f];if(!c||!e||this.isThisGlobalPathTrackedByMe(b?b+"."+f:f)){if("[object Object]"===Object.prototype.toString.call(l)&&null!=l){e||"Requestor"!=l.pzPageScope&&"Node"!=l.pzPageScope||(e=g=!0);if(this.mergeOnlyNonThread&&!e)continue;var k=f.match(/\(([^)]+)\)/);k?(k=k[0],k=k.substring(k.indexOf("(")+1,k.length-1),f=f.substring(0,f.indexOf("(")),isNaN(k)?(a[f]=a[f]||{},a[f][k]||(a[f][k]={},a[f][k].pxSubscript=
k)):(--k,a[f]=a[f]||[],a[f][k]||(a[f][k]={})),this.merge(a[f][k],l,b?b+"."+m:m,c,e),0===Object.keys(a[f][k]).length&&(k==a[f].length-1?a[f].splice(-h):h+=1)):(a[f]||(a[f]={}),this.merge(a[f],l,b?b+"."+m:m,c,e))}else null==l?delete a[f]:"undefined"!=typeof l&&a[f]!=l&&(a[f]=l,c?this.changedPropertiesList.push(b+"."+f):e&&(this.nonThreadTrackedPropertiesList+="$"+b+"."+f));g&&(e=!1)}}};
pega.ui.ChangeTracker.prototype.isThisGlobalPathTrackedByMe=function(a){return-1!=this.nonThreadTrackedPropertiesList.indexOf("$"+a)?!0:!1};pega.ui.ChangeTracker.prototype.clearChanges=function(){this.changedPropertiesList=[];this.addRemovePagesList=[]};
pega.ui.ChangeTracker.prototype.getPropertyValue=function(a,d){var b=null,c=!1;"undefined"!=typeof d&&null!=d&&(c=d);!c&&pega&&pega.u&&pega.u.d&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&(a=pega.ui.AutopopulateSupport.resolveReference(a,this));if((a=a.split("."))&&1<=a.length)for(b=this.trackedPropertiesList,d=0;d<a.length;d++){var e=a[d];if(b&&"undefined"!=typeof b[e]&&null!=b[e])b=b[e];else if(c=this.returnListOrGroupProp(e,!0),b&&c!=e)e=c.index,c=c.key,0==e?b=b[c]&&0==b[c].length?
b[c]:null:(isNaN(e)||--e,b=b[c]?b[c][e]:b[c]);else{b=null;break}}return b};pega.ui.ChangeTracker.prototype.replaceCTTokensWithValue=function(a){var d="";if(a)var b=this,d=a.replace(/(#|\^)~([a-z.0-9_()$]+)~(#|\^)/gi,function(a,e,d){a=null;pega.ui.ClientCache?(d=pega.ui.ClientCache.find(d))&&d.getValue&&(a=d.getValue()):a=b.getPropertyValue(d);return"undefined"!=typeof a&&null!=a?a:""});return d};pega.ui.ChangeTracker.prototype.isDummy=function(){return this===pega.ui.ChangeTrackerMap.getDummyTracker()};
pega.ui.ChangeTracker.prototype.returnListOrGroupProp=function(a,d){var b=a.match(/\(([^)]+)\)/);if(b&&(b=b[0],b=b.substring(b.indexOf("(")+1,b.length-1))){a=a.substring(0,a.indexOf("("));if(isNaN(b))return{key:a,index:b,type:"group"};d||--b;return{key:a,index:b,type:"list"}}return a};
(function(){pega.ui.ClientDataProvider=new function(){var k,c={},g=function(a){a&&(c[a]||(c[a]={}),c[a].getPropertyValue||(c[a].getPropertyValue=l),c[a].returnListOrGroupProp||(c[a].returnListOrGroupProp=f),c[a].isDummy||(c[a].isDummy=n),c[a].trackedPropertiesList||(c[a].trackedPropertiesList={}),c[a].threadName=a)},m=function(a){g(a);k=c[a];pega.ui.TemplateEngine.ContextObject.initTracker();pega.clientTools.init&&pega.clientTools.init(a)},n=function(){},l=function(a,b){b=null;if((a=a.split("."))&&
1<=a.length){b=this.trackedPropertiesList;for(var h=0;h<a.length;h++){var c=a[h];if(b&&"undefined"!=typeof b[c]&&null!=b[c])b=b[c];else{var d=f(c,!0);if(b&&d!=c)c=d.index,d=d.key,0==c?b=b[d]&&0==b[d].length?b[d]:null:(isNaN(c)||--c,b=b[d]?b[d][c]:b[d]);else{b=null;break}}}}return b},f=function(a,c){var b=a.match(/\(([^)]+)\)/);if(b&&(b=b[0],b=b.substring(b.indexOf("(")+1,b.length-1))){a=a.substring(0,a.indexOf("("));if(isNaN(b))return{key:a,index:b,type:"group"};c||--b;return{key:a,index:b,type:"list"}}return a},
e={getTracker:function(){return k},getTrackers:function(){return c},getTrackerByThread:function(a){g(a);return c[a]},switchThread:m,getMetadataStoreByType:function(a){pega.ctx._MetadataStores||(pega.ctx._MetadataStores={});a?(pega.ctx._MetadataStores[a]||(pega.ctx._MetadataStores[a]={}),a=pega.ctx._MetadataStores[a]):a=void 0;return a},initChangeTracker:function(a){a||(a=pega.u.d.getThreadName());m(a)},cleanMetadataStore:function(a){a&&_MetadataStores[a]&&(_MetadataStores[a]=null)},getBaseThread:function(){return"STANDARD"}};
pega.isUnitTesting&&(e.returnListOrGroupProp=f,e.getPropertyValue=l,e.init=g);return e}})();
pega.capabilityList||(pega.cl=pega.namespace("pega.capabilityList"));(function(){var a=!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch);pega.cl.isTouchAble=function(){return a}})();(function(a){a.forEach(function(a){a.remove=a.remove||function(){this.parentNode.removeChild(this)}})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);
"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(a),d=1;d<arguments.length;d++){var c=arguments[d];if(null!=c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(f[e]=c[e])}return f},writable:!0,configurable:!0});
String.prototype.endsWith||(String.prototype.endsWith=function(a,b){if(void 0===b||b>this.length)b=this.length;return this.substring(b-a.length,b)===a});
pega.namespace("pega.tools");pega.tools.Security={decodeCrossScriptingFilter:function(a,c){var b={"\x26#61;":"\x3d","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'","\x26#37;":"%","\x26#59;":";","\x26#40;":"(","\x26#41;":")","\x26#43;":"+","\x26amp;":"\x26"};"undefined"!=typeof c&&null!=c&&(b["\x26quot;"]='\\"');for(var d in b)a=a.replace(new RegExp(d,"ig"),b[d]);return a}};
var count=0;pega.ui.Doc=function(){};function InstanceInfo(a,b,c){this.pzInsKey=a;this.workId=b;this.label=c}
pega.ui.Doc.prototype={myDesktop:null,modalCallback:[],bModalRendered:!1,bModalDialogOpen:!1,usesModalTemplate:!1,editorIndex:0,bFocused:!1,isOrientationRTL:!1,throbberLoadingCompletedText:"",throbberAnnouncementDelay:0,harnessElements:[],gSectionReloaded:!1,portal:null,MODALDIALOG_ADJUSTMENT:50,MODALDIALOG_MIN_WIDTH:320,MODALDIALOG_MIN_HEIGHT:0,MODALDIALOG_MAX_WIDTH:0,MODALDIALOG_BUTTONS_HEIGHT:0,fieldValuesList:new Hashtable,submitModalDlgParam:null,forceAJAX:!1,bResizeModalDlg:!0,autoCompList:new Hashtable,
harnessLabel:null,formEncodingType:null,bIsModelessDialog:!1,bUseNativeDirtyConfirm:!1,overLaySubmit:!1,gSubmitIdx:-1,onSubmits:[],contextObjects:[],reloadAllSectionsByName:!0,redirectingToLoginScreen:!1,bRecordEvent:!1,timerTimeoutId:null,bCallModalClose:!1,modalBtnElem:null,isInitialHarnessContentHeight:!0,initialHarnessContentHeight:null,initialize:function(a){pega.offline?this.HCLoadManager?(console.info("Initializing HCLoadManager"),this.HCLoadManager.init(a)):"undefined"!==typeof pmcRuntimeFeatures&&
"true"===pmcRuntimeFeatures.pxUsesMultiWebView&&(console.info("Initializing WebViewManager"),this.WebViewManager.init(a)):pega.ui.JitJLoader?pega.ui.JitJLoader.loadComponent("Action","pxOnLoad",null,"runtime",function(b,c,d,e){null!=b?console.error(b):this.initializeInner(a)}.bind(this)):this.initializeInner(a)}};pega.u=pega.namespace("pega.ui");pega.u.d=new pega.ui.Doc;pega.util.Event.addListener(window,"load",pega.u.d.initialize,pega.u.d,!0);
pega.util.Event.addListener(window,"unload",function(){window&&window.$&&$.datepicker&&$.datepicker.dpDiv&&$.datepicker.dpDiv.undelegate()},pega.u.d,!0);
(function(){var g=function(a){void 0===a&&(a="");var b=pega.ctx;a=a.split(".");for(var f=a.length,d=a[f-1],c=0;c<f-1;c++){var e=a[c];b[e]=b[e]||{};b=b[e]}return{ns:b,propName:d}},h=function(a){void 0===a&&(a=[]);a.forEach(function(a){var b=a.ns,d=a.propsObj;if(b&&d){a=function(a){var c=d[a];try{Object.defineProperty(b,a,{configurable:!0,get:function(){var a=g(c);return a.ns[a.propName]},set:function(a){var b=g(c);b.ns[b.propName]=a}})}catch(l){}};for(var c in d)a(c)}})},k=[{ns:window,propsObj:{pxReqURI:"pxReqURI",
bIsTemplateEnabled:"bIsTemplateEnabled",bClientValidation:"bClientValidation",bExpressionCalculation:"bExpressionCalculation",AppDynamicsAppKey:"AppDynamicsAppKey",gStrWindowName:"gStrWindowName",gStrWinNameDefault:"gStrWinNameDefault",strHarnessMode:"strHarnessMode",inDeveloperDesktop:"inDeveloperDesktop",pyPerformThreadWindowCheck:"pyPerformThreadWindowCheck",topHarness:"topHarness",isDesignViewIframe:"isDesignViewIframe",bFlowAction:"bFlowAction",strPyID:"strPyID",strPyLabel:"strPyLabel",desktopAvailableSpacesList:"desktopAvailableSpacesList",
isUITemplatized:"isUITemplatized",bReadOnly:"bReadOnly",strHarnessPurpose:"strHarnessPurpose",strHarnessClass:"strHarnessClass"}},{ns:pega.d,propsObj:{pxReqURI:"pxReqURI"}}];pega.u&&pega.u.d&&k.push({ns:pega.u.d,propsObj:{baseThreadName:"baseThreadName",gDirtyOverride:"gDirtyOverride",topHarness:"topHarness",url:"url",activeGrid:"activeGrid",gSectionReloaded:"gSectionReloaded",KeepPageMessages:"KeepPageMessages",ignoreDirtyState:"ignoreDirtyState",baseFrameName:"baseFrameName"}});h(k);window.addEventListener("load",
function(){h([{ns:window,propsObj:{strDisplayHarnessParms:"strDisplayHarnessParms",bClientValidation:"bClientValidation",bActionIframe:"bActionIframe",bEncryptURLs:"bEncryptURLs",strKey:"strKey",strPageName:"strPageName"}}])})})();
var docMethods={explorerFormGetFormData:function(a){a.pzInsKey=pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("strKey");a.descr=strPyLabel;a.label=strPyLabel;a.workId=strPyID;return a},explorerFormIsBusy:function(){return!1},resizeActionIFrame:function(a){var b=document.getElementById("HARNESS_CONTENT");b||(b=document.getElementsByTagName("body")[0]);if(b){pega.util.Event.isIE||(b.style.overflow="auto");var c=b.scrollHeight,e=b.clientHeight,f;f=c;pega.util.Event.isIE?document.body.scrollWidth>
document.body.clientWidth&&(f+=pega.u.d.SCROLL_ADJUSTMENT):b.scrollWidth>b.clientWidth&&(f+=pega.u.d.SCROLL_ADJUSTMENT);var d=0,g=parseInt(pega.util.Dom.getStyle(document.body,"paddingTop"));g&&(d+=g);(g=parseInt(pega.util.Dom.getStyle(document.body,"paddingBottom")))&&(d+=g);f+=d;d=0;(g=parseInt(pega.util.Dom.getStyle(document.body,"marginTop")))&&(d+=g);(g=parseInt(pega.util.Dom.getStyle(document.body,"marginBottom")))&&(d+=g);f+=d;pega.u.d.bModalDialogOpen&&(g=this.modalDialog.body.style.height,
d=pega.u.d.getDivScrollHeight(this.modalDialog.body,!1),""!=g&&(this.modalDialog.body.style.height=g),f<parseInt(d)&&(f+=parseInt(d)),document.getElementById("modaldialog_mask")&&(document.getElementById("modaldialog_mask").style.width=pega.desktop.support.getFrameElement().offsetWidth+"px"));g=(d=document.getElementById("FormErrorMarker_Div"))?d.offsetHeight:0;d=document.getElementById("ERRORTABLE");g+=d?d.offsetHeight:0;d&&(f=g+f+(""==d.style.marginTop?0:parseInt(d.style.marginTop))+(""==d.style.marginBottom?
0:parseInt(d.style.marginBottom)));if(e==c&&pega.desktop.support.getFrameElement().height==f)return;e=b.scrollHeight;e>f&&(f=e);pega.desktop.support.getFrameElement().style?pega.desktop.support.getFrameElement().style.height=f+"px":pega.desktop.support.getFrameElement().height=f;pega.util.Event.isIE&&9>=pega.util.Event.isIE&&(b.style.height=c+"px")}else{b=window.frames.document;f=b.body.offsetHeight;e=b.body.clientHeight;c=b.body.scrollHeight;f-=e;if(e==c)return;pega.util.Event.isIE?f=b.body.scrollHeight+
f+8:(pega.util.Event.isSafari||window.frames.document.defaultView.sizeToContent(),f=b.documentElement.scrollHeight,pega.u.d.bModalDialogOpen&&(f+=this.modalDialog.body.scrollHeight));pega.util.Event.isIE&&b.body.scrollWidth>b.body.offSetWidth&&(f+=pega.u.d.SCROLL_ADJUSTMENT);c=null;try{c=window.parent.document}catch(h){}if(null!=c)for(0<f&&null!=c.getElementById("iframeDiv")&&(c.getElementById("iframeDiv").style.height=f+"px"),c=c.getElementsByTagName("iframe"),e=0;e<c.length;e++)0<f&&"actionIFrame"==
c[e].name&&(c[e].height=f)}0<arguments.length?a&&pega.u.d.resizeHarnessCallback():pega.u.d.resizeHarnessCallback()},openUrlInWindow:function(a,b,c,e,f,d,g){"?"===a&&(a="");f=void 0==f?window.event:f;null!=f&&pega.util.Event.preventDefault(f);return desktopwrappersupport_openUrlInWindow(a,b,c,e,d,g)},customActivityInPopup:function(a,b,c,e){e=void 0==e?window.event:e;pega.util.Event.stopEvent(e);b=window.screen.height*parseInt(b)/100;c=window.screen.width*parseInt(c)/100;openUrlInWindow(a,"pyWorkPagePopup",
"left\x3d0,top\x3d0,height\x3d"+b+",width\x3d"+c+"status\x3dyes,toolbar\x3dno,menubar\x3dno,location\x3dno,scrollbars\x3dyes,resizable\x3dyes","",e)},replace:function(a,b){var c=SafeURL_createFromURL(a);Fingerprint2.get({excludes:{enumerateDevices:!0,sessionStorage:!0,colorDepth:!0,indexedDb:!0,canvas:!0,hasLiedLanguages:!0,touchSupport:!0,plugins:!0,hasLiedResolution:!0,adBlock:!0,hasLiedBrowser:!0,audio:!0,hasLiedOs:!0,fonts:!0,addBehavior:!0,openDatabase:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,
screenResolution:!0,availableScreenResolution:!0,webglVendorAndRenderer:!0,webgl:!0}},function(a){a=a.map(function(a){return a.value});fingerprintToken=Fingerprint2.x64hash128(a.join(""),31);pega.d.browserFingerprint="{v2}"+fingerprintToken});c.put("pzCTkn",pega.ctx.activeCSRFToken);c.put("pzBFP",pega.d.browserFingerprint);a=c.toURL();if("undefined"!=typeof a&&0==a.indexOf("pyActivity\x3dLogOff")){var e=pega.desktop.support.getDesktopWindow();null!=e&&(e.logout=!0)}(b=void 0==b?window.event:b)&&pega.util.Event.stopEvent(b);
c=SafeURL_createFromURL(a);(a=SafeURL_getNameValuePairsAsObject(window.location.href))&&a.target&&"popup"==a.target&&"AutoClose"==c.get("pyActivity")&&c.put("target","popup");pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setNavigationBusy("abc?"+c.toUnencodedQueryString());if(document.forms&&document.forms[0]||pega.ctx.isMDC)if("actionForm"==document.forms[0].name)parent.location.href=c.toURL();else{a=document.createElement("form");a.setAttribute("method","post");pega.ctx.recordId&&
document.querySelector("[data-mdc-recordid\x3d'"+pega.ctx.recordId+"']")?document.querySelector("[data-mdc-recordid\x3d'"+pega.ctx.recordId+"']").appendChild(a):document.body.appendChild(a);b=SafeURL_createFromURL(pega.ctx.url);b.put("pyActivity","@baseclass.doUIAction");a.setAttribute("action",b.toURL());b=c.keys();for(e=0;e<b.length;e++){var f=b[e],d=c.get(f);"undefined"===typeof d&&(d="");if("preActivityParams"===f||"preActivityDynamicParams"===f||"pyDataTransformDynamicParams"===f)d=d.replace(/\\"/g,
'\\\\"');try{d=decodeURIComponent(d)}catch(h){}var g=document.createElement("input");g.setAttribute("name",f);g.setAttribute("value",d);g.setAttribute("type","hidden");a.appendChild(g)}if(b=SafeURL_createFromEncryptedURL(a.getAttribute("action")))e=pega.u.d.getHiddenEltsAsSafeURL(document,!0),b.copy(e),a.setAttribute("action",b.toURL());pega.ctx.gDirtyOverride=!1;pega.ctx.isMDC?(a=pega.u.d.getQueryString(a),pega.ui.MDCUtil.microDCRenderer(b,a,!0)):pega.ctx.bIsDCSPA?(b.put("isURLReady","true"),b.put("skipHistoryUpdation",
"true"),pega.u.d.UIActionRouter.singlePageRenderer(b)):a.submit()}else try{setTimeout(function(){self.location.href=c.toURL()},200)}catch(h){}},handleActionEvent:function(a,b,c,e){pega.util.Event.stopEvent(c);var f=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),d=pega.u.d.getPopOver();d&&d.close();d=SafeURL_createFromURL(f.getProperty("url"));f=f.getProperty("strHarnessMode");""==f&&document.getElementById("HarnessMode")?d.put("HarnessMode",document.getElementById("HarnessMode").value):d.put("HarnessMode",
f);d.put("FieldError",pega.u.d.fieldErrorType);d.put("FormError",pega.u.d.formErrorType);d.put("pyCustomError",pega.u.d.pyCustomError);d.put("bExcludeLegacyJS",pega.u.d.bExcludeLegacyJS);switch(a){case "ActionChange":e=e?e:"";if(1==pega.u.d.bWarnBeforeChangingWindow&&!showDialogForWindowChange())break;a=document.getElementById("ActionOptions").value;if(null!=a&&""!=a)d.put("NewTaskStatus",document.getElementById(e+""+a).value),d.put("PrevTaskIndex",b),d.put("TaskIndex",a),pega.u.d.processActionDefault(d,
c);else if(b=document.getElementById("actionContainer"))b.style.visibility="hidden";break;case "GoBack":if(b=pega.u.d.getSectionByName(actionSection,"",document)){d.put("bReload","false");d.put("ActionMode","");d.put("TaskIndex","1");pega.u.d.reloadSection(b,"GoBack",d.toQueryString(),!1,!1,"");break}case "ActionScreenFlow":d.put("previousEntryPoint",!0),pega.u.d.modalDialogLoaded()?pega.u.d.launchFlow.handleModalActionEvent("GoToPreviousTask",d.toQueryString()):pega.u.d.submitWhenFail("GoToPreviousTask",
d.toQueryString())}},handleUpdate:function(a){a=void 0==a?window.event:a;pega.util.Event.stopPropagation(a);pega.util.Event.preventDefault(a);var b=window.frames.actionIFrame;null!=b&&null!=b.switchToUpdate?b.switchToUpdate():this.submit("pyActivity\x3dDoUpdate",pega.util.Event.getTarget(a),"Submitting...",a)},interceptPrint:function(){pega.u.d.doPrintDiv("HARNESS_CONTENT");return!0},doSave:function(a,b,c){b=void 0==b?window.event:b;pega.util.Event.stopEvent(b);var e=new SafeURL;a?(e.put("pyActivity",
"SaveAndContinue"),"undefined"!=typeof actionSection&&e.put("ActionSection",actionSection),c&&e.put("CloseAfterSave","true")):c?(e.put("pyActivity","SaveAndContinue"),e.put("CloseAfterSave","true")):e.put("pyActivity","DoSave");a=pega.u.d.getDocumentElement();var f=pega.u.d.getFormElement(),d=window.frames.actionIFrame;"undefined"!=d&&null!=d?d.doSave(!0,b,c):((d=document.getElementById("pyActionArea"))||a.querySelector("#HarnessMode")&&a.querySelector("#HarnessPurpose")&&"Perform"==a.querySelector("#HarnessPurpose").value&&
(d=!0),f&&"actionForm"==f.name?reSubmit(e.toQueryString()):"undefined"!=typeof actionSection&&d&&!c?pega.offline&&!pega.u.d.ServerProxy.isDestinationRemote()?doFormSubmit(e,b,strSaveText,b):pega.u.d.submitWhenFail("SaveAndContinue","",void 0,void 0,void 0,void 0,void 0,b):doFormSubmit(e,b,strSaveText,b))},isActive:function(){return"undefined"!=typeof printView&&printView?!1:!0},isReadOnly:function(){var a=pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("bReadOnly");return"undefined"!=
typeof a&&-1==a?!0:!1},registerAsHarnessElement:function(a,b){var c={};c.element=a;c.sectionID=b;c.type="complex";this.harnessElements.push(c);"function"==typeof a.onLoad&&pega.u.d.attachOnload(a.onLoad,!0);"function"==typeof a.onBeforeSubmit&&pega.u.d.registerOnBeforeSubmit(a.onBeforeSubmit,a)},getDocHeight:function(){var a=document.body;return pega.util.Event.isIE?a.offsetHeight:a.clientHeight},getDocWidth:function(){return document.body.offsetWidth},getHandle:function(){return pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("strKey")},
getID:function(){return pega.ui.HarnessContextMgr.get("strPyID")},getDocumentKey:function(){return!0===this.hasOwnProperty("documentKey")?this.documentKey:""},getDocumentTitle:function(){return!0===this.hasOwnProperty("documentTitle")?this.documentTitle:""},getDocumentTooltip:function(){return!0===this.hasOwnProperty("documentTooltip")?this.documentTooltip:""},getSystemNodeID:function(){return systemNodeID},getLabel:function(){return this.harnessLabel},setLabel:function(a){this.harnessLabel=a},doClose:function(a,
b,c,e,f){a=pega.u.d.closeWork(a,b,c,e,f);b=-1!=navigator.userAgent.toLowerCase().indexOf("pegamobilesdk");a&&b&&setTimeout(function(){window.close()},0);return a},notifyComplexObjStatus:function(a){1==a&&this.hideErrorBox()},getClassLabel:function(){return pega.u.d.workLabel},getPyLabel:function(){return strPyLabel},getHarnessClass:function(){return strHarnessClass},getHarnessPurpose:function(){return pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("strHarnessPurpose")},getSystemName:function(){return systemName},
getApplicationName:function(){return applicationName},isPortal:function(){return"yes"===pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("topHarness")},displayHelp:function(a){a=void 0==a?parent.window.event:a;pega.util.Event.stopPropagation(a);pega.util.Event.preventDefault(a);a="";pega.u.d.bModalDialogOpen?document.getElementsByName("ModalTaskHelpType")[0]&&(a=document.getElementsByName("ModalTaskHelpType")[0].value):document.getElementsByName("TaskHelpType")[0]&&(a=document.getElementsByName("TaskHelpType")[0].value);
"DEFINE"==trim(a)?pega.u.d.loadInstructionFromFlowAction():pega.u.d.loadInstructions()},loadInstructions:function(){var a=pega.ui.HarnessContextMgr,b="";pega.u.d.bModalDialogOpen?document.getElementsByName("ModalTaskInstr")[0]&&(b=document.getElementsByName("ModalTaskInstr")[0].value):document.getElementsByName("TaskInstructions")[0]&&(b=document.getElementsByName("TaskInstructions")[0].value);if(""!=b){var c=new SafeURL(pega.desktop.pzLoadHelpInstruction);c.put("StreamName",b);a=a.get("url")+"\x26"+
c.toQueryString();window.open(a,"Instructions","width\x3d500,height\x3d500,resizable,scrollbars")}},loadInstructionFromFlowAction:function(){var a="";if(pega.u.d.bModalDialogOpen&&pega.u.d.submitModalDlgParam)a=pega.u.d.submitModalDlgParam.taskStatus;else{var b=document.getElementsByName("TaskStatus");if(b&&1==b.length)a=b[0].value;else if(b&&0<b.length)for(var c=0;c<b.length;c++)if(""!=b[c].value){a=b[c].value;break}}""!=a&&(b=new SafeURL(pega.desktop.pzLoadHelpFromFlowAction),b.put("ActionName",
a),a=pxReqURI+"?"+b.toQueryString(),window.open(a,"Instructions","width\x3d500,height\x3d500,resizable,scrollbars"))},handleDOMLoad:function(a){a&&(a.onlyOnceEle&&a.onlyOnceEle[0]&&pega.u.d.handleOnlyOnce(a.onlyOnceEle[0]),a.domObj&&a.newHTML&&(a.callback?pega.u.d.loadDOMObject(a.domObj,a.newHTML,a.callback):a.callback&&a.partialParams?pega.u.d.loadDOMObject(a.domObj,a.newHTML,a.callback,a.partialParams):pega.u.d.loadDOMObject(a.domObj,a.newHTML)))},isDCSPAThread:function(a){return a&&0===a.indexOf("DCSPA")},
getThreadName:function(a){var b=a?a.url:pega.ctx.url||"";a=b.indexOf("/!@");if(-1<a){var b=b.substring(a+3),c=b.indexOf("!");a=b.indexOf("?");a=b.substring(c+1,a)}else c=b.indexOf("!")+1,a=b.indexOf("?"),a=1<a?b.substring(c,a):b.substring(c,b.length);return a},getPortalThreadName:function(){var a=pega.desktop.support.getDesktopWindow(),b;if(a){var c=a.pega.ctx;a.pega.ctxmgr.setContext(a.pega.ctxmgr.getRootDocumentContext());b=a.pega.u.d.getThreadName();a.pega.ctxmgr.setContext(c)}else b=pega.ui.ChangeTrackerMap.getPrimaryTracker().threadName;
return b},getPortalReqURI:function(){var a=pega.desktop.support.getDesktopWindow();a||(a=window);if(a)return a.pega.ctx.pxReqURI},disablePasswordReload:function(){pega.u.d.forceAJAX=!0},isSafeToReload:function(a){return this.preReloadEle&&(this.preReloadEle===a||pega.util.Dom.isAncestor(this.preReloadEle,a))?(pega.u.d.inCall&&(pega.u.d.inCall=!1,pega.u.d.changeInEventsArray&&pega.u.d.changeInEventsArray.fire()),!1):!0},stopEnterKeyPropagation:function(a){a=a||window.event;13==a.keyCode&&pega.util.Event.stopPropagation(a)},
switchThread:function(a){var b=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),c=b.getProperty("url"),e=b.getProperty("pxReqURI"),f=a=a.replace(/^([\s]+)|([\s]+)$/g,""),d=c.indexOf("/!@");-1<d&&(a="@"+c.substring(d+3,c.indexOf("!",d+3))+"!"+a);c=c.replace(/\!.+\?/,"!"+a+"?");e=e.replace(/\!.+/,"!"+a);b.setProperty("url",c);b.setProperty("pxReqURI",e);pega.ui.ClientDataProvider&&pega.ui.ClientDataProvider.switchThread(f)},setPrimaryPage:function(a){var b=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),
c=b.getProperty("url"),c=SafeURL_createFromURL(c),e=c.get("pzPrimaryPageName");a==e||"pyDisplayHarness"!=a&&"pyDisplayHarness"!=e&&"pyPortalHarness"!=a&&"pyPortalHarness"!=e||(c.put("pzPrimaryPageName",a),c=c.toURL(),b.setProperty("url",c),strPrimaryPage=this.primaryPageName=a)},switchPrimaryPage:function(a){a&&this.isPanelSetHarness()&&this.setPrimaryPage(a)},getWorkIcon:function(){var a=document.getElementById("WAIcon");return a?a.attributes["data-WAIcon"].value:""},checkEnterKey:function(a){if(!(pega.u&&
pega.u.d&&(pega.u.d.isAccessible||pega.u.d.bModalDialogOpen)||13!=a.keyCode)){var b=pega.util.Event.getTarget(a);try{if(pega.u.d.submitModalDlgParam&&"true"==pega.u.d.submitModalDlgParam.bIsOverlay){var c=document.getElementById("_popOversContainer");if(c&&b&&pega.util.Dom.isAncestor(c,b))return}}catch(e){}if("TEXTAREA"!=b.tagName&&"A"!=b.tagName&&"SELECT"!=b.tagName&&"ActionLink"!=b.id&&"button"!=b.type||"button"==b.type&&b.onclick==doSubmit)pega.u.d.submit("pyActivity\x3dFinishAssignment",null,
"",a),pega.util.Event.stopPropagation(a),pega.util.Event.preventDefault(a)}},checkEnterKeyNoSubmit:function(a){if(!(pega.u&&pega.u.d&&(pega.u.d.isAccessible||pega.u.d.bModalDialogOpen)||13!=a.keyCode)){var b=pega.util.Event.getTarget(a);("TEXTAREA"!=b.tagName&&"A"!=b.tagName&&"SELECT"!=b.tagName&&"ActionLink"!=b.id&&"button"!=b.type||"button"==b.type&&b.onclick==doSubmit)&&pega.util.Event.preventDefault(a)}},registerModalListener:function(a){for(var b=this.modalCallback.length,c=0;c<b;c++)if(this.modalCallback[c]==
a)return;this.modalCallback.push(a)},specialtyComponent:function(){return{getClipboardData:function(a){return eval("pzComponentData_"+a)},setClipboardData:function(a,b){var c;if("string"===typeof b)null!=b&&void 0!=b&&0<b.length&&(c=JSON.parse(b));else if("object"===typeof b&&null!=b)c=b;else throw Error("Data of invalid type passed into setComponentData!");b=eval("pzEntryHandles_"+a);c=pega.u.d.jsonToQuery(c,b);b=document.getElementById("pySpecialtyComponentData");a=document.getElementById("speciality_"+
a);b?window.pzSpecialityComponentDataInputName=b.name:(b=document.createElement("input"),b.setAttribute("name",window.pzSpecialityComponentDataInputName),b.setAttribute("type","hidden"),b.setAttribute("id","pySpecialtyComponentData"),document.forms[0]?document.forms[0].appendChild(b):document.body.appendChild(b));a&&a.appendChild(b);b.value=(b.value?b.value+"\x26":"")+c}}}(),areInputsValid:function(a,b){if("undefined"!=typeof bClientValidation&&bClientValidation&&"function"==typeof validation_validate&&
("undefined"!=typeof b?!validation_validate(b):!validation_validate()))if("undefined"!=typeof customClientErrorHandler){if(customClientErrorHandler())return pega.util.Event.stopEvent(a),docFocus.focusToFirstInvalidField(),!1}else return pega.ui.statetracking.resetBusyTotalizer(),pega.u.d.bModalDialogOpen||alert(form_submitCantProceed),pega.util.Event.stopEvent(a),docFocus.focusToFirstInvalidField(),!1;return!0},getProcessType:function(){return this.processHarnessType},isConfirm:function(){return"confirm"==
this.processHarnessType.toLowerCase()?!0:!1},isReview:function(){return"review"==this.processHarnessType.toLowerCase()?!0:!1},isNew:function(){return"new"==this.processHarnessType.toLowerCase()?!0:!1},isPerform:function(){return"display"==this.processHarnessType.toLowerCase()?!0:!1},isDisplay:function(){return"dislay"==this.processHarnessType.toLowerCase()?!0:!1},clearReloadedStatus:function(){pega.ctx.gSectionReloaded=!1},registerOnBeforeSubmit:function(a,b){for(var c=pega.u.d.onSubmits.length,e=
0;e<c;e++)if(pega.u.d.onSubmits[e]==a&&pega.u.d.contextObjects[e]==b)return;pega.u.d.gSubmitIdx++;pega.u.d.onSubmits[pega.u.d.gSubmitIdx]=a;pega.u.d.contextObjects[pega.u.d.gSubmitIdx]=b},isAppOfflineEnabled:function(){return pega&&pega.offline},removeNonDecimalCharacters:function(a){(a=pega.util.Event.getTarget(a))&&a.value&&(a.value=a.value.replace(/[^\d.,-]/g,""))},getCRC32LpadHash:function(a,b,c){b-=a.length;return 0>=b?a:Array(b+1).join(c||" ")+a},getCRC32HashId:function(a){if("true"==bEnableUniqueId){var b=
"",c;pega.ctx&&pega.ctx.isMDC&&(c=pega.u.d.getThreadName(),0<c.indexOf("/")&&(b=c.substring(c.indexOf("/")+1)));a=CRC32.str(b+a);return pega.u.d.getCRC32LpadHash((a>>>0).toString(16),8,"0")}return a.substring(a.lastIndexOf(".")+1)},isAjaxContainerExists:function(){var a=!!document.querySelector("div[data-mdc-id]");if(!a){var b=pega.desktop.support.getDesktopWindow();b&&b!==window&&(a=!!b.document.querySelector("div[data-mdc-id]"))}return a},getTargetACName:function(a){var b="";a&&pega.ui.hasAjaxContainer&&
(a=pega.util.Event.getTarget(a))&&(a=a.closest("div[data-mdc-id]"))&&(a=a.getAttribute("data-mdc-id"))&&(b=a);return b},getSectionDiv:function(a){if(a)for(;("RULE_KEY"!=a.id||"MAIN_RULE"!=a.getAttribute("node_type"))&&(a=a.parentNode,null!=a&&a!=document.body););return a},getSectionId:function(a){a=a.getAttribute("uniqueID");return null==a||0!=a.indexOf("SID")?"":a},addListenersToSecurityWarning:function(){var a=document.querySelector("#security-warnings");if(a){a.addEventListener("mouseover",function(){var a=
document.querySelector("#security-warnings-body");a&&(a.style.display="block")});var b=0;a.addEventListener("mouseout",function(){b||(b=setTimeout(function(){b=0;var a=document.querySelector("#security-warnings-body");a&&(a.style.display="none")},5E3))})}},showURLTamperFailures:function(a,b){var c=a.responseText;-1!==c.indexOf("||SecurityWarningStart||")&&(a.argument&&b?(console.warn("URL Tamper debug logs - pyActivity: "+b.get("pyActivity")+", DOM element: "),console.dir(a.argument[0])):a.argument?
(console.warn("URL Tamper debug logs - DOM element: "),console.dir(a.argument[0])):b&&(console.warn("URL Tamper debug logs - pyActivity: "+b.get("pyActivity")),window.event&&(console.log("Source element: "),console.dir(window.event.target))),b=c.substring(0,c.indexOf("||SecurityWarningStart||")),a.responseText=b,c=c.substring(c.indexOf("||SecurityWarningStart||")+24,c.indexOf("||SecurityWarningEnd||")),a=document.querySelector("#security-warnings"),!a&&(a=document.createElement("div"),a.setAttribute("id",
"security-warnings"),a.setAttribute("class","error-table"),a.style.position="absolute",a.style.zIndex="10",a.style.border="2px solid #E94B35",a.style.cursor="pointer",a.innerHTML="\x3cdiv id\x3d'security-warnings-body' style\x3d'display:none'\x3e"+c+"\x3c/div\x3e",c=document.querySelector("#FormErrorMarker_Div")))&&(c.appendChild(a),c.style.display="block",this.addListenersToSecurityWarning())},closeURLTamperFailures:function(){var a=document.querySelector("#security-warnings");a&&a.parentNode.removeChild(a)}};
pega.lang.augmentObject(pega.ui.Doc.prototype,docMethods);docMethods=null;
var onloadMethods={onAJAXLoads:[],onUnloads:[],initialOnloads:[],dummyFunction:function(){},attachOnload:function(a,b,c,d){this.initialOnloads.push({onloadFunction:a,scope:c,bInvokeOnReload:b,skipOnce:d});if(b){for(b=0;b<this.onAJAXLoads.length;b++)if(this.onAJAXLoads[b].fn==a)return;this.onAJAXLoads.push({fn:a})}},detachOnload:function(a){for(var b=0;b<this.onAJAXLoads.length;b++)if(this.onAJAXLoads[b].fn==a){this.processOnloadsActive?(this.onAJAXLoads[b].fn=this.dummyFunction,this.cleanDetachedFunctions=
!0):this.onAJAXLoads.splice(b,1);break}},attachOnUnload:function(a){for(var b=0;b<this.onUnloads.length;b++)if(this.onUnloads[b]==a)return;this.onUnloads.push(a)},detachOnUnload:function(a){for(var b=0;b<this.onUnloads.length;b++)if(this.onUnloads[b]==a){this.onUnloads.splice(b,1);break}},processOnHarnessloads:function(a){try{for(var b=this.initialOnloads.length,c=0;c<b;c++){var d=this.initialOnloads[c],e=d.onloadFunction;d.skipOnce?delete d.skipOnce:d.scope?e.call(d.scope,a):e(a)}this._removeOnHarnessloads(a)}catch(f){console.log(f)}},
_removeOnHarnessloads:function(){for(var a=this.initialOnloads.length;a--;)this.initialOnloads[a].bInvokeOnReload||this.initialOnloads.splice(a,1)},processAJAXOnloads:function(a){null==a&&(a=document);this.processOnloadsActive=!0;for(var b=0;b<this.onAJAXLoads.length;b++){var c=this.onAJAXLoads[b].fn;c&&c(a)}if(this.cleanDetachedFunctions){for(a=this.onAJAXLoads.length;a--;)this.onAJAXLoads[a].fn==this.dummyFunction&&this.onAJAXLoads.splice(a,1);this.cleanDetachedFunctions=!1}this.processOnloadsActive=
!1},processOnloads:function(a){this.processAJAXOnloads(a)},processOnUnloads:function(a){if(this.onUnloads){null==a&&(a=document);for(var b=0;b<this.onUnloads.length;b++)(0,this.onUnloads[b])(a)}}};pega.lang.augmentObject(pega.ui.Doc.prototype,onloadMethods);
var docLifecycle={CHECK_READYSTATE_TIMER:100,CHECK_DONERENDER_TIMER:500,gIsLoadingCounter:0,gIsLoading:!1,resizeFunctions:[],harnessInitialized:!1,onFrameLoads:[],totalFrames:0,_tmpasyncRequestQueue:[],initializeInner:function(a){var b=pega.ctx.isUITemplatized,c=pega.ui.HarnessContextMgr;document.body.setAttribute("data-harness-id",pega.ctx.pzHarnessID);pega.ui.statetracking.setDocumentBusy("initialising");pega.ui.statetracking.setNavigationDone(window);pega.u.d.harnessInit=!0;this.harness_execute(this.registerOnFrameLoads,
!0,a);"function"==typeof pega.ui.property&&(pega.u.property=new pega.ui.property);if(this.harnessType&&"layout"==this.harnessType){this.portal=initLayout();for(var d=this.portal.unitConfig,f=d.length,e=0;e<f;e++){var g=d[e],k="true"===g.tempResize,h=g.position,g=g.tempGutter;this.portal.layoutObj.getUnitByPosition(h).set("resize",k);this.portal.layoutObj.getUnitByPosition(h).set("gutter",g)}document.getElementById("layout-doc").style.display="block";this.portal.customizeLayout();this.portal.stretchLayoutsToContent()}pega.u.d.tabsOrAccorInit=
!1;pega.u.d.focusCount=0;d=pega.util.Dom.getElementsById("PEGA_TABBED");null!=d&&(pega.u.d.tabsOrAccorInit=!0,pega.u.d.focusCount+=d.length);d=pega.util.Dom.getElementsById("PEGA_ACCORDION");null!=d&&(pega.u.d.tabsOrAccorInit=!0,pega.u.d.focusCount+=d.length);(d=pega.util.Dom.getElementsById("PegaOnlyOnce",document))&&d[0]&&pega.u.d.handleOnlyOnce(d[0]);this.initChangeTracker();this.getChangesInCurrentPopup();this.harness_execute(pega.ui.TemplateEngine.renderAsyncStreams,!0,a);"function"===typeof this.loadSmartInfo&&
this.harness_execute(this.loadSmartInfo,!0,a);this.harness_execute(this.attachAccessKeys,!0,a,10);"function"===typeof this.initTabs&&this.harness_execute(this.initTabs,!1,a);"function"===typeof this.getFocusOnNewRow&&this.harness_execute(this.getFocusOnNewRow,!1,a);this.harness_execute(this.modalDialogInit,!1,a);"function"===typeof this.initializeTabs&&this.harness_execute(this.initializeTabs,!0,a);"function"===typeof this.initializeAccor&&this.harness_execute(this.initializeAccor,!0,a);this.harness_execute(this.showErrors,
!0,a);this.harness_execute(this.doLazyLoad,!0,a);this.harness_execute(this.initializeGrids,!0,a);this.harness_execute(this.initializeTimeline,!0,a);this.harness_execute(this.initializeCharts,!0,a);this.harness_execute(this.setAriaLabelForAC,!0,a);this.harness_execute(this.resetDateTimeHidden,!0,a);this.harness_execute(this.invokeDataBinder,!0,a);(!b||b&&pega.ui.ExpressionEvaluator.getNTExpressionStatus())&&this.harness_execute(this.evaluateAllVisibleWhens,!0,a);this.resetBusyState();this.removeClass(document.body,
"busyBody");this.processOnHarnessloads(a);this.portal&&null!=this.portal.accorIndex&&null!=this.portal.accorObj&&registerEventListener("DesktopAction",this.portal.doBeforeOpen,null,pega.ui.Layout);this.harness_execute(this.doHarnessResize,!1,a,10);this.harness_execute(this.doOnceOnInit,!0,a);"undefined"!=typeof bRecordEvent&&bRecordEvent&&window.setTimeout(function(){pega.u.d.Timer.updateClientEndTime();pega.u.d.Timer.endCurrentTimer()},10);this.harness_execute(function(){var a=$("div.sectionDivStyle[node_name\x3d'pyConfirmMessage']");
pega.u.d.confirmMsgText="";if(a.length){pega.u.d.confirmMsgText=$(a).text();(a=pega.desktop.support.getDesktopWindow())||(a=window);for(var a=a.document.querySelectorAll(".iframe-wrapper"),b=0;b<a.length;b++)if(null!=a[b].querySelector("iframe")&&"none"==a[b].style.display){var c=a[b].querySelector("iframe").contentDocument.getElementById("statusDiv");null!=c&&c.parentNode.removeChild(c)}c=$("body").find("#statusDiv");0<$(c).length?$(c).text(""):$("html").hasClass("phone")||$("html").hasClass("tablet")||
$("body").prepend("\x3cdiv id\x3d'statusDiv' role\x3d'status' aria-live\x3d'polite' aria-atomic\x3d'true' class\x3d'pzPegaThrobberLiveRegion'\x3e\x3c/div\x3e")}},!1,a);this.harness_execute(function(){$("#statusDiv").length&&$("#statusDiv").text(pega.u.d.confirmMsgText)},!1,a,1200);pega.u.d.tabsOrAccorInit||this.harness_execute(this.initFocusOnFirstInput,!1,a);this.harness_execute(pega.desktop.support.restartTimeoutWarningTimer,!0,a);window!=top||document.getElementById("workarea")||this.harness_execute(this.rollBackElementUpdate);
this.harness_execute(this.initGeolocationWatch);this.harness_execute(this.cleanRequiredAttr,!0,a);this.harness_execute(pega.tools.EvalDomUtils_globals.cleanup,!0,a);pega.u.d.harnessInit=!1;c.set("baseThreadName",this.getThreadName());pega.ctx.baseFrameName=SafeURL_createFromURL(c.get("url")).get("pzFromFrame");pega.u.d.basePrimaryPageName=this.primaryPageName;document.body.className=document.body.className;this.harnessInitialized=!0;pega.ui.EventsEmitter.publish("HarnessInitialized");pega.c&&pega.c.ControlBehaviorExecutor&&
(b=pega.c.ControlBehaviorExecutor.getBackupEvent())&&(pega.c.ControlBehaviorExecutor.processBehavior(b.e,b.ed),pega.c.ControlBehaviorExecutor.clearBackupEvent());b=function(){setTimeout(function(){pega.ui.composer&&"function"===typeof pega.ui.composer.isComposerOn&&pega.ui.composer.isComposerOn()&&pega.ui.inspector.expressedit.loadConfigureLinks()},1E3)};"pyWorkPage"==pega.u.d.primaryPageName&&0==$("div[node_name\x3d'pyCaseActionArea']").length&&this.harness_execute(b,!1,a);(b=pega.ui.ChangeTrackerMap.getTracker())&&
b.handlePendingCTChanges();this.fireDeferredAsyncRequests();pega.ui.statetracking.setDocumentDone(window);if(0<window.navigator.userAgent.indexOf("Trident/")&&"PrintView"!=pega.ctx.pyStreamNameForGadget){var l=function(a,b){if((a=a.find(".repeatContainer"))&&0<a.length)for(var c=0;c<a.length;c++)if(pega.ctx.dom.$(a[c]).is(":visible")&&(pega.ctx.dom.$(a[c]).width()>b||pega.ctx.dom.$(a[c]).closest('div[class*\x3d"column-1"]')))return!0},m=function(){var a,b,c=pega.ctx.dom.$(".containerBody"),d=pega.ctx.dom.$(".harnessContent #harness-container"),
e=pega.ctx.dom.$(".harnessContent"),f=pega.ctx.dom.$(".harnessContent #harness-container.ie-table-fix");c.removeClass("ie-table-fix");d.removeClass("ie-table-fix");d.css("width","");0<e.length&&(a=e[0].querySelectorAll(".flex"));a&&0<a.length&&0<e.length&&0<d.length&&e&&e[0]&&0<e[0].scrollWidth&&(a=e[0].clientWidth,l(e,a)?(b=e[0].scrollWidth,3E3>b?d.css("width",b):d.css("width",a),d.addClass("ie-table-fix"),c.addClass("ie-table-fix"),setTimeout(function(){3E3>b&&f.css("width",e[0].scrollWidth)},10)):
(d.css("width",a),c.css("width",a),d.addClass("ie-table-fix"),c.addClass("ie-table-fix")))};pega.u.d.DISABLE_FLEX_RESIZE||this.harness_execute(function(){m()},!0,a);pega.u.d.DISABLE_FLEX_RESIZE||pega.u.d.registerResize(m)}},deferAsyncRequest:function(a,b){this._tmpasyncRequestQueue.push({scope:a,args:b})},fireDeferredAsyncRequests:function(){if(!pega.offline&&"undefined"===typeof pega.d.browserFingerprint){var a=this;setTimeout(function(){a.fireDeferredAsyncRequests()},0)}else if(this._tmpasyncRequestQueue&&
0<this._tmpasyncRequestQueue.length){for(var b=0;b<this._tmpasyncRequestQueue.length;b++){var c=this._tmpasyncRequestQueue[b];pega.u.d.asyncRequest.apply(c.scope,c.args)}this._tmpasyncRequestQueue=[]}},isHarnessInitialized:function(){return this.harnessInitialized},rollBackElementUpdate:function(){var a=pega.desktop.support.getDesktopWindow();a&&a.document&&a.document.getElementById("workarea")&&(a=SafeURL_createFromURL(pega.u.d.url),a.put("pyActivity","pzUpdateElementModel"),a.put("pzKeepPageMessages",
"true"),a.put("elementAction","ROLLBACK"),pega.u.d.asyncRequest("GET",a))},initializeGrids:function(a){pega.ui.initGrids&&pega.ui.initGrids()},initializeTimeline:function(a){pega.ui.Timeline&&pega.ui.Timeline.initialize(a)},initGeolocationWatch:function(){var a=pega.util.Dom.getElementsById("pxRequestorPyLatitude",document.forms[0],"INPUT"),b=pega.util.Dom.getElementsById("pxRequestorPyLongitude",document.forms[0],"INPUT"),c=function(){navigator.geolocation&&a&&1==a.length&&b&&1==b.length&&navigator.geolocation.watchPosition(function(a){try{pega.util.Dom.getElementsById("pxRequestorPyLatitude",
document.forms[0],"INPUT")[0].value=a.coords.latitude,pega.util.Dom.getElementsById("pxRequestorPyLongitude",document.forms[0],"INPUT")[0].value=a.coords.longitude}catch(f){}},function(a){},{enableHighAccuracy:!0,timeout:5E3,maximumAge:0})};pega.mobile&&pega.mobile.isHybridClient?pega.mobile.hybrid.callWhenLaunchboxLoaded(c):c()},initializeCharts:function(a){window.Charts&&Charts.initCharts()},getTrackerChanges:function(a){pega.u.d.isAjaxInProgress()||pega.util.Event.getTarget(a)!=window||(a=SafeURL_createFromURL(pega.u.d.url),
a.put("pyActivity","pzGetTrackerChanges"),a.put("pzKeepPageMessages","true"),pega.u.d.asyncRequest("GET",a))},triggerEvaluateClientConditions:function(a){0<pega.ui.ChangeTrackerMap.getTracker().changedPropertiesList.length&&pega.u.d.evaluateClientConditions("TCL",null,!0,!0);pega.u.d.getTrackerChanges(a)},resetDateTimeHidden:function(){var a=pega.util.Dom.getElementsByAttribute("data-calendar","Calendar","input");if(a)for(var b=0;b<a.length;b++){var c=a[b];if(document.getElementById(c.name+"Error")){var d=
!1,f=c.parentElement;if((f=f?f.getElementsByTagName("select"):null)&&0<f.length){for(var e=0;e<f.length;e++){var g=f[e];if(g.selectedIndex&&0<g.selectedIndex){d=!0;break}}!d&&f&&0<f.length&&(c.value="")}}}},setAriaLabelForAC:function(a){a=pega.util.Dom.getElementsByAttribute("bAriaLabel","true","input");for(var b=0;b<a.length;b++)if(null==a[b].getAttribute("aria-label")||""==a[b].getAttribute("aria-label")){for(var c=a[b],d;null!=c&&"TABLE"!=c.tagName;)c=c.parentNode;for(d=c;null!=d&&"TD"!=d.tagName&&
("DIV"!=d.tagName||!pega.util.Dom.hasClass(d,"field-item"));)d=d.parentNode;if(c&&d){var c=pega.ui.property.toReference(a[b].getAttribute("name")),f=pega.util.Dom.getPreviousSibling(d),e="",g="";if(f)(g="LABEL"==f.tagName?f:f.getElementsByTagName("LABEL")[0])&&-1==c.indexOf(g.htmlFor)&&(d=pega.util.Dom.getNextSibling(d))&&(g="LABEL"==d.tagName?d:d.getElementsByTagName("LABEL")[0]);else if((d=pega.util.Dom.getNextSibling(d))&&(g="LABEL"==d.tagName?d:d.getElementsByTagName("LABEL")[0]),g&&-1==c.indexOf(g.htmlFor))continue;
g&&g.firstChild&&(3==g.firstChild.nodeType?e=g.firstChild.nodeValue:"SPAN"==g.firstChild.tagName&&(d=g.firstChild,e=d.innerText?d.innerText:d.textContent),a[b].setAttribute("aria-label",e))}}},getChangesInCurrentPopup:function(){try{var a=!(!window.opener||!window.opener.location.href)}catch(c){}if(a&&!(pega&&pega.offline&&pega.mobile.isChildWebView&&pega.mobile.isMultiWebViewOfflinePegaMobileClient)){var b;window.opener&&window.opener.pega&&window.opener.pega.u&&window.opener.pega.u.d&&(b=window.opener.pega.u.d.getThreadName());
this.getThreadName()===b&&(this.isDcExists()||pega.ui.ChangeTrackerMap.getTracker()!=pega.ui.ChangeTrackerMap.getDummyTracker()&&pega.util.Event.addListener(window,"focus",pega.u.d.triggerEvaluateClientConditions))}},initChangeTracker:function(a){a||(a=pega.ctx.dom.getContextRoot());if(a=a.getElementById?a.getElementById("AJAXCT"):a.hasAttribute&&a.hasAttribute("data-mdc-recordid")?pega.ctx.dom.querySelector("[id\x3d'AJAXCT']"):a.querySelector("[id\x3d'AJAXCT']")){var b=new pega.ui.ChangeTracker,
c=a.getAttribute("CTTHREAD");b.init(a,c);pega.clientTools.init(b.threadName);a.parentNode.removeChild(a)}return c},extractTemplateScripts:function(a,b){var c;c=pega.u.d.ServerProxy.isHybridClient()?a.querySelectorAll("div[template-scripts] script:not([src])"):a.querySelectorAll("div[template-scripts] script, div[data-template-name\x3d'pxSection']\x3escript[src]");if(0==c.length)b();else for(var d=function(){f--;0==f&&($("div[template-scripts]",a).remove(),b())},f=templateScriptsLength=c.length,e=
0;e<templateScriptsLength;e++){var g=!1,k=c[e],h=document.createElement("script"),l=k.src;if(l)h.onload=d,h.onerror=d,h.src=l;else{if(-1!=k.innerHTML.indexOf("pega.ui.jittemplate.addMetadataTree")){d();continue}h.innerHTML=k.innerHTML;g=!0}h.setAttribute("data-to-remove","true");document.getElementsByTagName("head")[0].appendChild(h);g&&d()}},parseAndGetMetaDataTree:function(a){if(a){if("string"!=typeof a)if(1==a.nodeType)a=a.innerHTML;else return;if(pega.ctx.isUITemplatized&&-1==a.lastIndexOf("{EndReloadCell}")&&
-1!=a.indexOf("data-template-instance-id")){var b=document.createElement("div");b.innerHTML=a;a=pega.u.d.ServerProxy.isHybridClient&&pega.u.d.ServerProxy.isHybridClient()?b.querySelectorAll("div[template-scripts] script:not([src])"):b.querySelectorAll("div[template-scripts] script, div[data-template-name\x3d'pxSection']\x3escript[src]");for(b=0;b<a.length;b++){var c=a[b];if(!c.src&&-1!=c.innerHTML.indexOf("pega.ui.jittemplate.addMetadataTree")){var d=document.createElement("script");d.innerHTML=c.innerHTML;
d.setAttribute("data-to-remove","true");document.getElementsByTagName("head")[0].appendChild(d)}}return pega.ui.TemplateEngine.getMetadataTree()}}},initRenderingEngine:function(a,b){if(pega.ui.ClientCache){var c=a.responseText;if(-1==c.indexOf("data-template-instance-id"))b();else{var d=document.createDocumentFragment();a=document.createElement("div");a.innerHTML=c;d.appendChild(a);c=this.initChangeTracker(d);pega.ui.ClientCache.init(c);var c=pega.ui.ClientCache.find("D_UITemplateMeta"),f=!1,f=d.querySelector?
null!=d.querySelector("div[data-template-instance-id]"):0<pega.util.Dom.getElementsByAttribute("data-template-instance-id","*","div",d).length;c&&f?pega.u.d.ServerProxy.isDestinationLocal()?($(a).find("[data-only-once]").remove(),pega.ui.template.RenderingEngine.beginRendering(d,function(a,c){b(a,c);pega.ui.template.DataBinder.bindData(d);pega.ui.ClientCache.find("D_UITemplateMeta").adoptJSON("{}")})):pega.ui.template.RenderingEngine.beginRendering(d,function(a,c){b(a,c);pega.ui.template.DataBinder.bindData(d)}):
b();d.firstChild&&d.removeChild(d.firstChild);d=null}}},harness_execute:function(a,b,c,d){c=void 0==c?window.event:c;d?window.setTimeout(a,"number"==typeof d?d:100):a(c);pega.u.d.attachOnload(a,b,null,!0)},harnessOnUnload:function(){pega.ui.EventsEmitter.publishSync("onHarnessUnload");this.processOnUnloads();pega.u.d.skipCleanup||this.cleanUp();delete pega.u.d.skipCleanup;window.frames.actionIFrame&&this.cleanUp(window.frames.actionIFrame)},harnessOnBeforeUnload:function(a,b){if(pega.u.d.deletedDocuments)pega.u.d.deletedDocuments=
!1;else{if(void 0!==document.getElementById("modalOverlay")&&null!==document.getElementById("modalOverlay")){var c=document.getElementById("modalOverlay").querySelector(".iconErrorDiv");pega.u.d.bModalDialogOpen&&c&&"none"!==c.style.display&&doModalAction("",a)}if("true"!=pega.ctx.ignoreDirty&&pega.u.NavigateTopHandler&&!pega.u.NavigateTopHandler.formSubmit&&(c=pega.u.d.isFormDirty(!0,!1,a))&&""!=c)return pega.u.d.gBusyInd.hide(),c;if(pega.u.d.skipDeleteDoumentPg)delete pega.u.d.skipDeleteDoumentPg;
else{if(pega.u.NavigateTopHandler&&pega.u.d.bModalDialogOpen&&pega.u.d.bIsFlowInModal){c=pega.u.d.getThreadName();c=c.replace("//","/");-1===c.indexOf("/$FlowModalProcess")&&(c+="/$FlowModalProcess");pega.u.d.baseThreadName||(pega.u.d.baseThreadName=pega.u.d.getThreadName());pega.u.d.switchThread(pega.u.d.baseThreadName);var d=SafeURL_createFromURL(pega.u.d.url);d.put("pyActivity","removeThead");d.put("threadName",c);httpRequestAsynch(d.toURL())}if(!pega.desktop.support.getDesktopWindow()||"true"!=
pega.desktop.support.getDesktopWindow().MWReloading)if(pega.u.NonBlockingAjax&&pega.u.NonBlockingAjax.cleanPendingRequests(),!pega.u.d.redirectingToLoginScreen){try{var f=pega.desktop.support.getDesktopWindow();f||(f=window);if(f.pega.u.d.redirectingToLoginScreen)return}catch(k){}f="";c=pega.desktop.support.getDesktopWindow();if(null==c||1!=c.logout&&1!=c.gLoggedOff)if(1==window.logout)delete window.logout;else{if(pega.u.d.pyDeleteDocumentPgCompleted)b&&(pega.ui.statetracking.setBusy("formSubmit"),
pega.u.d.deletedDocuments=!0,pega.u.d.disableMDCFieldSets(b),b.submit(),pega.u.d.deletedDocuments=!1,pega.ui.HarnessContextMgr.set("gDirtyOverride",null));else{f+=""==f?"D_UITemplateMeta":"\x26D_UITemplateMeta";if("undefined"!=typeof Grids&&Grids&&pega.ctx.Grid){var c=Grids.getAllGrids(),e;for(e in c)c[e].bFilterable&&(f+=""==f?c[e].gridFilterPage:"\x26"+c[e].gridFilterPage),c[e].bTreegrid&&c[e].RDContPage&&(d=c[e].RDContPage,d+="\x26pgRepPg"+d.substring(6),f+=""==f?d:"\x26"+d)}if("undefined"!=typeof Charts)for(e in c=
Charts.getAllCharts(),d="",c)d='D_pzRuntimeChart[ChartID:"'+$(c[e]).attr("id")+'"]',f+=""==f?d:"\x26"+d,$(c[e]).chart("destroy");if(e=pega.u.template&&pega.u.template.utility)for(var g in e.pagesToRemoveMap)if(0===g.indexOf("HID")){f+=e.pagesToRemoveMap[g]?"\x26"+e.pagesToRemoveMap[g].toString().replace(/,/g,"\x26"):"";e.pagesToRemoveMap={};e.childsOfASection={};break}g=!1;if(e=document.getElementById("workarea")){if(e=e.getAttribute("data-multiview"),"1"==e||"0"==e)g=!0}else pega.u&&pega.u.NavigateTopHandler&&
!pega.u.d.SubmitInProgress&&(g=!0);c=pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("bExpressionCalculation");if(window==top&&g||!document.getElementById("PEGAGADGET")&&""==f&&!c)b&&(pega.ui.statetracking.setBusy("formSubmit"),pega.u.d.deletedDocuments=!0,pega.u.d.disableMDCFieldSets(b),b.submit(),pega.u.d.deletedDocuments=!1,pega.ui.HarnessContextMgr.set("gDirtyOverride",null));else{g=new SafeURL;e=SafeURL_createFromURL(pega.u.d.url);delete e.hashtable.pzTransactionId;c&&e.put("pyRemCtlExpProp",
"true");(c=document.getElementById("pzHarnessID"))&&e.put("pzHarnessID",c.value);pega.u.d.GET_REQUEST_DELETEDOCUMENT?(f=f.substring(0,1500),e.put("pyPagesToRemove",f)):g.put("pyPagesToRemove",f);e.put("pyActivity","pyDeleteDocumentPg");e.put("pzKeepPageMessages","true");(f=pega.ui.ChangeTrackerMap.getTracker())&&f.id&&e.put("AJAXTrackID",f.id);(f=pega.desktop.support.getDesktopWindow())||(f=window);e=f.gIsMultiTenantPortal&&"function"==typeof pega.u.d.getAbsoluteURL?pega.u.d.getAbsoluteURL(e):e.toURL();
g=g&&0<g.size()?g.toEncodedPostBody():null;if(pega.mobile.isMultiWebViewOfflinePegaMobileClient&&pega.u.d.ServerProxy.isDestinationLocal())return;b?(c=function(a){pega.u.d.showLoginScreen(a.responseText)||(pega.u.d.deletedDocuments=!0,pega.u.d.disableMDCFieldSets(b),b.submit(),pega.u.d.deletedDocuments=!1,pega.ui.HarnessContextMgr.set("gDirtyOverride",null))},d=function(a){(a=pega.ui.HarnessContextMap)&&a.set("SubmitInProgress",!1);pega.u.d.resetBusyState()},pega.u.d.GET_REQUEST_DELETEDOCUMENT?f.pega.util.Connect.asyncRequest("GET",
e,{success:c,failure:d}):f.pega.util.Connect.asyncRequest("POST",e,{success:c,failure:d},g)):(c=function(a){pega.u.d.showLoginScreen(a.responseText)},pega.u.d.GET_REQUEST_DELETEDOCUMENT?f.pega.util.Connect.asyncRequest("GET",e,{success:c}):f.pega.util.Connect.asyncRequest("POST",e,{success:c},g));pega.u.d.pyDeleteDocumentPgCompleted=!0}}pega.u.d.isPortal()&&!pega.u.NavigateTopHandler&&"pzLiveComposer"!=pega.u.d.getHarnessPurpose()&&(e=SafeURL_createFromURL(pega.u.d.url),e.put("pyActivity","pyOnbeforeWindowClose"),
e.put("pzAuth","guest"),e=e.toURL(),(f=pega.desktop.support.getDesktopWindow())||(f=window),f.pega.util.Connect.asyncRequest("GET",e,null,null,!0));!pega.u.d.dirtyCloseApproved&&pega.u.d.explorerFormIsDirty&&pega.u.d.explorerFormIsDirty()&&(a||(a=window.event),a&&0>a.clientY&&(a.returnValue=getLocalString("pyMessageLabel","Exiting will discard all outstanding changes",null)))}}}}},attachOnFrameLoads:function(a){for(var b=0;b<pega.u.d.onFrameLoads.length;b++)if(pega.u.d.onFrameLoads[b]==a)return;this.onFrameLoads.push(a)},
processOnFrameLoads:function(a){a.totalFrames=pega.u.d.totalFrames;for(var b=0;b<pega.u.d.onFrameLoads.length;b++)(0,pega.u.d.onFrameLoads[b])(a)},registerOnFrameLoads:function(){pega.u.d.totalFrames=0;var a=document.getElementsByTagName("IFRAME");if(a&&0<a.length){pega.u.d.totalFrames+=a.length;for(var b=0;b<a.length;b++)pega.u.d.isAddedOnLoad(a[b],pega.u.d.processOnFrameLoads)||pega.util.Event.addListener(a[b],"load",pega.u.d.processOnFrameLoads)}try{window.frameElement&&!pega.u.d.isAddedOnLoad(window.frameElement,
pega.u.d.processOnFrameLoads)&&parent.pega&&parent.pega.u&&parent.pega.u.d&&!parent.pega.u.d.isAddedOnLoad(window.frameElement,parent.pega.u.d.processOnFrameLoads)&&(pega.util.Event.addListener(window.frameElement,"load",pega.u.d.processOnFrameLoads),pega.u.d.totalFrames+=1)}catch(c){}},isAddedOnLoad:function(a,b){if(!b)return!1;a||(a=document);if(a=pega.util.Event.getListeners(a,"load"))for(var c=0;c<a.length;c++)if(a[c].fn==b)return!0;return!1},closeWork:function(a,b,c,d,f){if(pega.offline)pega.u.d.closeDoc(a);
else{!b&&pega.u.d.dcCleanup&&(b=pega.u.d.dcCleanup,delete pega.u.d.dcCleanup);!c&&pega.u.d.dcCleanupCallback&&(c=pega.u.d.dcCleanupCallback,delete pega.u.d.dcCleanupCallback);if(pega.u.MessagingManager){var e=pega.u.d.getThreadName();pega.ctx.isMDC||pega.ctx.bIsDCSPA&&pega.u.d.isDCSPAThread(e)?pega.u.MessagingManager.unregisterAll(window,e):pega.u.MessagingManager.unregisterAll(window)}d&&pega.ui.HarnessContextMgr.set("gDirtyOverride",!1);if(1!=pega.u.d.bWarnBeforeChangingWindow||showDialogForWindowChange()){a=
void 0==a?window.event:a;null!=a&&(pega.util.Event.stopEvent(a),this.setBusyState(null,"",null,a));if((null==b&&null==c||c&&"openWizard"!=c.action)&&"true"!=pega.ctx.ignoreDirty&&this.isFormDirty(!0,!0,a)){this.resetBusyState();window.setTimeout("pega.u.d.resetBusyState()",10);if(pega.u.d.focusElement&&pega.u.d.focusElement.tagName)try{pega.u.d.bModalDialogOpen&&"BODY"==pega.u.d.focusElement.tagName||(pega.u.d.focusElement.blur(),pega.u.d.focusElement=null)}catch(m){}if(!0===f){pega.u.d.dcCleanup=
b;pega.u.d.dcCleanupCallback=c;var g=function(){delete pega.u.d.dcCleanup;delete pega.u.d.dcCleanupCallback;pega.u.d.modalDialog.unsubscribe("hide",g)};pega.u.d.modalDialog.subscribe("hide",g)}return!1}this.resetBusyState();desktopenvironmentscript_isInDesignerDesktop();pega.u.d.baseThreadName||(pega.u.d.baseThreadName=pega.u.d.getThreadName());this.switchThread(pega.u.d.baseThreadName);if(b){var k=!1;pega.ctx.bIsCTXUnloading=!0;var h=pega.ctx;a=function(){k&&pega.ctxmgr.resetContext(h);pega.desktop.sendEvent("DCDocumentBeforeClose",
{docObj:pega.u.d},"SYNC");this.cleanupForDC(c)}.bind(this);if(pega.ui.hasAjaxContainer){if(0===pega.redux.Utils.getACNames().length){a();return}(b=pega.u.d.getOuterDocumentContext())&&"object"==typeof b&&(pega.ctxmgr.setContext(b),k=!0);b=SafeURL_createFromURL(pega.u.d.url);a={closeAllDocsCallback:a,pzPrimaryPageName:b.get("pzPrimaryPageName"),forceClose:!0,closeSynchronously:!0,isOuterDocClose:!0};pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.CLOSEALL,a))}else a();return!0}b=
SafeURL_createFromURL(pega.u.d.url);b.put("pyActivity","DoClose");b.put("retainLock",pega.u.d.retainLock);b.put("pzFromFrame","");b.put("pzTransactionId","");pega.ui.ChangeTrackerMap.getTracker().id&&b.put("AJAXTrackID",pega.ui.ChangeTrackerMap.getTracker().id);if(null!=a&&pega.util.Event.getTarget(a)&&"close"==pega.util.Event.getTarget(a).id)(a=pega.desktop.support.getDesktopWindow())||(a=window),b=a.gIsMultiTenantPortal&&"function"==typeof pega.u.d.getAbsoluteURL?pega.u.d.getAbsoluteURL(b):b.toURL(),
a.pega.util.Connect.asyncRequest("GET",b,c);else if(pega.ctx.bIsCTXUnloading=!0,null!=pega.u.d.ct_ID&&b.put("AJAXTrackID",pega.u.d.ct_ID),pega.ctx.isMDC)b.put("isMDC",!0),b.put("recordId",pega.ctx.recordId),pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.CLOSE,b)),pega.ui.statetracking.setPALInteraction(b.toURL());else if(pega.ui.hasAjaxContainer){var l=b.toURL();a={closeAllDocsCallback:function(){pega.desktop.sendEvent("DCDocumentBeforeClose",{docObj:pega.u.d},"SYNC");window.location.href=
l},pzPrimaryPageName:b.get("pzPrimaryPageName"),forceClose:!0,isOuterDocClose:!0};pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.CLOSEALL,a));pega.ui.statetracking.setPALInteraction(b.toURL())}else pega.mobile&&pega.mobile.support&&pega.mobile.support.getPMCRedux()?window.close():(pega.desktop.sendEvent("DCDocumentBeforeClose",{docObj:pega.u.d},"SYNC"),window.location.href=b.toURL(),pega.ui.statetracking.setNavigationBusy(b.toURL()));return!0}}},closeDoc:function(a){console.info("lifecycle: closeDoc");
pega.process.engine.cancel(null,function(b){a=void 0==a?window.event:a;pega.util.Event.stopEvent(a);pega.desktop.activateDocument("0");if(pega.mobile.isMultiWebViewOfflinePegaMobileClient){var c=SafeURL_createFromURL(window.location.href).get("openerWindowName");c&&pega.mobile.support.getPortalWindow().pega.redux.PMC.windows.forEach(function(a){c===a.name&&a.location.reload()})}if(pega.ui.hasAjaxContainer){if(b=a.target.closest("div[data-mdc-recordid]"))var d=b.getAttribute("data-mdc-recordid");d=
"STANDARD/"+d;delete pega.ui.ChangeTrackerMap.getTrackers()[d.toUpperCase()]}if(window.opener)window.close();else if(!pega.offline){d=null;try{d=window.parent.frames}catch(f){}null!=d&&(desktopenvironmentscript_isInDesignerDesktop()?window.location.href=d.HOMEFRAME.location.href:window.location.href=d.SPACEFRAME.location.href)}},function(){})},harnessOnLoad:function(){for(var a=document.getElementsByTagName("iframe"),b=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),c=0;c<a.length;c++)if("actionIFrame"==
a[c].name&&"undefined"!=typeof a[c].contentWindow.document.readyState&&"complete"!=a[c].contentWindow.document.readyState){this.gIsLoading=!0;break}else this.gIsLoading=!1;if(this.gIsLoading)window.setTimeout("pega.u.d.harnessOnLoad()",this.CHECK_READYSTATE_TIMER);else try{pega.desktop.support.loadedGadget()}catch(d){"undefined"!=typeof pega&&null!=pega.u&&null!=pega.u.d&&null!=pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide()}a=b.getProperty("strKey");c=b.getProperty("strPyID");b=b.getProperty("strPyLabel");
b=new InstanceInfo(a,c,b);(pega.ui.HarnessContextMgr.get("strPageName")||"").match("^RH_")||sendEvent(DesktopAddRecentWork,b);desktopenvironmentscript_isWindowTheDesignerDesktop(top)&&attachIntercept("PRINT",pega.u.d.interceptPrint);pega.env.ua.ie&&9>pega.env.ua.ie&&(b=pega.desktop.support.getDesktopWindow(),null!=b&&(a=b.document.createElement("iframe"),a.setAttribute("id","garbageFrame"),a.style.display="none",a.style.width=0,a.style.height=0,b.document.body.appendChild(a),(c=b.document.getElementById("garbageFrame"))&&
c.document&&c.document.close(),b.document.body.removeChild(a)));"CSS1Compat"!==document.compatMode&&-1!=navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){document.body.className=document.body.className},1E3);pega.ctxmgr.registerContextSwitching(document.body,pega.ctxmgr.harnessContextSwitchHandler)},cleanUp:function(a){try{a||(a=window);try{Grids&&pega.ctx.Grid&&Grids.deleteAllGridObjects()}catch(c){}pega.ui.Timeline&&pega.ui.Timeline.destroyAllTimelines();null!=a.pega.u.d.gBusyInd&&a.pega.u.d.gBusyInd.nullify();
a.pega.u.d.gBusyInd=null;a.pega.u.d.myDesktop=null;a.pega.u.d.onloads=null;a.pega.u.d.onUnloads=null;a.pega.u.d.initialOnloads=null;a.pega.u.d.CHECK_READYSTATE_TIMER=null;a.pega.u.d.CHECK_DONERENDER_TIMER=null;a.pega.u.d.gIsLoadingCounter=null;a.pega.u.d.gIsLoading=null;a.pega.u.d.gCurrTotalHeight=null;a.pega.u.d.gDoGadgetResize=null;a.pega.u.d.gSmartInfoPopUpHarness=null;a.pega.ui.HarnessContextMgr.set("gDirtyOverride",null);a.pega.u.d.onSubmits=null;a.pega.u.d.contextObjects=null;a.pega.u.d.bModalRendered=
null;a.pega.u.d.usesModalTemplate=null;a.pega.u.d.gSubmitIdx=null;a.pega.u.d.tabViewIndex=null;a.pega.u.d.editorIndex=null;a.pega.u.d.bFocused=null;a.pega.u.d.focusElement=null;a.pega.u.d.tabsLen=null;a.pega.u.d.AccLen=null;a.pega.u.d.harnessElements=null;a.pega.u.d.resizeFunctions=null;a.pega.u.d.gIsScriptsLoading=null;a.pega.u.d.topGutter=null;a.pega.u.d.leftGutter=null;a.pega.u.d.rightGutter=null;a.pega.u.d.bottomGutter=null;a.pega.u.d.modalDialog=null;a.pega.u.d.ClientEventAPI=null;a.pega.u.d.ServerEventAPI=
null;a.pega.u.d.modalCallback=null;a.pega.u.d.panelAccorHeight=null;a.pega.u.d.fieldValuesList=null;a.pega.u.d.autoCompList=null;a.pega.u.d.onFrameLoads=null;a.pega.u.d.ServerProxy=null;a.pega.ui.TabView.activeTabView=null;a.pega.c.actionSequencer=null;a.pega.c=null;a.pega.control=null;if(a.pega.u.d.harnessElements){for(var b=0;b<pega.u.d.harnessElements.length;b++)pega.u.d.harnessElements[b]=null;a.pega.u.d.harnessElements=null}a.pega.u.d.ajaxParams&&a.pega.u.d.ajaxParams.callback&&(a.pega.u.d.ajaxParams.callback.success=
null,a.pega.u.d.ajaxParams.callback.failure=null,a.pega.u.d.ajaxParams.callback.upload=null,a.pega.u.d.ajaxParams.callback=null);a.pega.u.d.ajaxParams=null;null!=a.pega.u.d.AJAXStatus&&(a.pega.u.d.AJAXStatus.nullify(),a.pega.u.d.AJAXStatus=null);a.pega.u.d.dcctNotifyCallback=a.pega.u.d.dcctNotifyTriggerPropertyList=a.pega.u.d.dcctNotifyCallbackData=a.pega.u.d.dcctNotifyCallbackContext=null}catch(c){}try{this.portal&&pega.desktop.cancelEventListener("DesktopAction",this.portal.doBeforeOpen)}catch(c){}try{pega.util.Event.removeListener(this.closeBtn,
"click",pega.u.d.showhideErrorFloat)}catch(c){}try{pega.util.Event.removeListener(document,"keydown",pega.u.d.hideSmartInfoHarness)}catch(c){}try{pega.util.Event.removeListener(document.getElementsByTagName("BODY")[0],"mousewheel",pega.u.d.hideSmartInfoHarness)}catch(c){}try{pega.util.Event.removeListener(window,"load",pega.u.d.initialize)}catch(c){}try{pega.util.Event.removeListener(window.frameElement,"load",pega.u.d.processOnFrameLoads)}catch(c){}try{a.pega.u.d.purgeJQuery()}catch(c){}try{pega.util.Event.removeListener(this.closeBtn,
"click",pega.u.d.showhideErrorFloat)}catch(c){}try{a.jQuery(a).off(),a.jQuery=null,a.OldJQuery=null,a.Handlebars=null,a._=null,a.ajaxengine=null,a.docLifecycle=null,a.tabSupport=null,a.busyIndicator=null}catch(c){}try{a.pega.ui.menubar&&(a.pega.ui.menubar.trNode=null,a.pega.ui.menubar.tableNode=null,a.pega.ui.menubar.tbodyNode=null,a.pega.ui.menubar.tdNode=null,a.pega.ui.menubar.spanNode=null,a.pega.ui.menubar.divNode=null,a.pega.ui.menubar.aNode=null,a.pega.ui.menubar.eventNode=null),a.pega.tools&&
a.pega.tools.EvalDomUtils_globals&&(a.pega.tools.EvalDomUtils_globals.objDocFragElemDOM=null,a.pega.tools.EvalDomUtils_globals.objDocFragDOM=null,a.pega.tools.EvalDomUtils_globals.orgDomObj=null),pega.u.d.tabViewMap&&(pega.u.d.tabViewMap=null)}catch(c){}},purgeJQuery:function(){for(var a in jQuery.cache)jQuery.cache[a]=null,delete jQuery.cache[a]},closeAllDocuments:function(a){var b=new SafeURL;b.put("api","CloseAllDocuments");b.put("event",a);pega.desktop.sendEvent("DesktopAction",b,"SYNC")},registerResize:function(a){for(var b=
pega.u.d.resizeFunctions.length,c=0;c<b;c++)if(pega.u.d.resizeFunctions[c]==a)return;pega.u.d.resizeFunctions.push(a)},unregisterResize:function(a){for(var b=pega.u.d.resizeFunctions.length,c=0;c<b;c++)if(pega.u.d.resizeFunctions[c]==a){pega.u.d.resizeFunctions.splice(c,1);break}},createDataModelInMainReq:function(){var a=document.getElementById("associateRequestorDataModel");if(a){pega.ctx.isAssociateReqThread=!0;var b=JSON.parse(a.textContent),c=pega.desktop.support.getDesktopWindow();c||(c=window);
var d=SafeURL_createFromURL(c.pega.ctx.url);d.put("pyActivity","pzUpdateAssociateReqModel");for(var f=["pyActivity","AJAXTrackID","PRXML","pzTransactionId","shouldCreateAssociateRequestor"],e=0;e<f.length;++e)delete b[f[e]];var f=new SafeURL,g;for(g in b)f.put(g,b[g]);c.pega.u.d.asyncRequest("POST",d,void 0,f.toEncodedPostBody());a.parentNode.removeChild(a)}},getAbsoluteURL:function(a){var b;if("object"==typeof a&&"safeURL"==a.name){b=a.toAbsoluteURL();-1==b.indexOf("!"+pega.u.d.getThreadName())&&
(-1<b.indexOf("!")&&(b=b.substr(0,b.indexOf("!"))),b+="/!"+pega.u.d.getThreadName());var c="?";-1<b.indexOf("?")&&(c="\x26");b+=c+a.toQueryString(!1,!0)}return b},dynamicSetUp:function(){var a=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),b=a.getProperty("gStrWindowName"),c=a.getProperty("inDeveloperDesktop"),d=a.getProperty("topHarness"),f=a.getProperty("isDesignViewIframe"),e=a.getProperty("strPyID"),g=a.getProperty("bFlowAction"),k=a.getProperty("pyPerformThreadWindowCheck"),h=a.getProperty("desktopAvailableSpacesList");
"undefined"!=typeof b&&(window.windowName=b);"false"==c&&"true"==k&&"yes"==d&&window.setUpWindowName();"true"!=f&&(pega.util.Event.addListener(window,"beforeunload",pega.u.d.harnessOnBeforeUnload),"true"!=g&&(pega.u.d.attachOnload(pega.u.d.harnessOnLoad,!1,pega.u.d),pega.util.Event.addListener(window,"unload",pega.u.d.harnessOnUnload,pega.u.d,!0)));pega.u.d.attachOnload(this.createDataModelInMainReq,!1);""!=e&&(b=document.createElement("div"),b.innerHTML=e,a.setProperty("strPyID",b.innerText||b.textContent));
h&&(pega.desktop.availableSpaces=[],pega.desktop.availableSpaces=h.split(","),pega.desktop.availableSpaces.pop())}};pega.lang.augmentObject(pega.ui.Doc.prototype,docLifecycle);docLifecycle.dynamicSetUp();
var domUtils={firstBaseRefElement:null,getOuterHeight:function(a,b){var c=a.offsetHeight;"scroll"==b&&(c=a.scrollHeight);a=getComputedStyle(a);c+=parseInt(a.marginTop)+parseInt(a.marginBottom);return c},isDisplayNone:function(){return"none"!=$(this).css("display")},getSectionByName:function(a,b,c){"undefined"==typeof b&&(b="");if(c=pega.util.Dom.getElementsById("RULE_KEY",c,"div")){for(var d=c.length,e=-1,f=0;f<d;f++)if("MAIN_RULE"==c[f].getAttribute("node_type")){if(c[f].parentNode&&"RULE_KEY"==
c[f].parentNode.id&&c[f].parentNode.getAttribute("node_name")==a&&this.getRelativeBaseRef(c[f])==b){e=f;break}if(c[f].getAttribute("node_name")==a){if(this.getRelativeBaseRef(c[f])==b){e=f;break}-1==e&&(e=f)}}if(-1<e)return c[e]}return null},getSectionsByName:function(a,b){var c=[];if(b=pega.util.Dom.getElementsById("RULE_KEY",b,"div"))for(var d=b.length,e=0;e<d;e++)"MAIN_RULE"==b[e].getAttribute("node_type")&&b[e].getAttribute("node_name")==a&&c.push(b[e]);return 0<c.length?c:null},findParentNamed:function(a,
b){for(a=a.parentNode;a&&!a.getElementById&&"HARNESS_CONTENT"!=a.id&&"PEGA_HARNESS"!=a.id&&!a.getAttribute("data-mdc-recordid");){if(a.getAttribute("NAME")==b)return a;a=a.parentNode}return null},findParentWithAtrribute:function(a,b){for(a=a.parentNode;a&&!a.getElementById;){if(a.getAttribute(b))return a;a=a.parentNode}return null},getRelativeBaseRef:function(a){a||(a=event.srcElement);var b=a.BASE_REF?a.BASE_REF:"";if(""==b)var c=this.findParentNamed(a,"BASE_REF"),b=c?c.getAttribute("BASE_REF"):
"";return c&&""==b?this.getRelativeBaseRef(c):b},getPanelDiv:function(){for(var a=window.frameElement.parentNode.parentNode;a&&a!=window.parent.document.body;){var b=a.id;if("PEGA_LU_C"==b||"PEGA_LU_B"==b||"PEGA_LU_L"==b||"PEGA_LU_T"==b||"PEGA_LU_R"==b)return a;a=a.parentNode}},getRowAndEntryHandle:function(a){var b=null,c=null;if(a){var d;"undefined"!=typeof Grids&&(d=Grids.getElementsGrid(a));if(d){var e;pega.util.Dom.isAncestor(d.leftBodyUL,a)?e=d.leftBodyUL:pega.util.Dom.isAncestor(d.rightBodyTbl,
a)&&(e=d.rightBodyTbl);if(e){e=d.findCell(null,e,a);var f;e&&(f=d.getRowIndex(e));-1!=f&&(b=d.getEntryHandle(f),c=d.getRightRow(f))}}a=pega.u.d.getRepeatRow(a,!0);c&&a?pega.util.Dom.isAncestor(c,a)&&(c=a):a&&(c=a);c&&(b=c.getAttribute("hPref")||c.id)}return{row:c,rowEntryHandle:b}},getEnclosingSection:function(a){for(;"RULE_KEY"!=a.id;){a=a.parentNode;if(a.getElementById)return null;if("RULE_KEY"==a.id&&("MAIN_RULE"==a.getAttribute("node_type")||"SECTION"!=a.getAttribute("node_type")))break}return"SECTION"==
a.getAttribute("node_type")?this.getIncludedSection(a):a},getIncludedSection:function(a){if(a=pega.util.Dom.getElementsById("RULE_KEY",a,"div"))for(var b=a.length,c=0;c<b;c++){if("MAIN_RULE"==a[c].getAttribute("node_type"))return a[c]}else return null},getBaseRef:function(a,b,c){var d="";a||(a=pega.util.Event.getTarget(b));if("RULE_KEY"==a.id&&"MAIN_RULE"==a.getAttribute("node_type")&&a.getAttribute("BASE_REF"))c=a;else if(b=null,c&&(b=c.gridDiv),c=this.findParentNamed(a,"BASE_REF"),b&&pega.util.Dom.isAncestor(c,
b))return a.getAttribute("sec_baseref")&&a.setAttribute("sec_baseref",""),"";b=c;null==c&&pega.util.Event.isIE&&a.tagName&&(a=document.querySelectorAll(a.tagName.toLowerCase()+"[name\x3d'"+a.getAttribute("name")+"']"),1==a.length&&(a=a[0],c=this.findParentNamed(a,"BASE_REF")));if(b&&b.getAttribute("FULL_BASE_REF")){a=b.getAttribute("FULL_BASE_REF");var e=b.getAttribute("BASE_REF");if(e&&0!=e.length&&-1!==a.indexOf(e,a.length-e.length))return a}for(;null!=c&&(d=c.getAttribute("BASE_REF")+d,""==c.getAttribute("BASE_REF")||
0==c.getAttribute("BASE_REF").indexOf("."));)c=this.findParentNamed(c,"BASE_REF");0==d.indexOf(".")&&(d=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName")+d);b&&null!=b&&b.getAttribute("FULL_BASE_REF")!==d&&b.setAttribute("FULL_BASE_REF",d);return d},getTemplatePath:function(a){var b="";if(!a)return"";var c=a.getAttribute("data-rel-path");if(null==c||"undefined"==typeof c)a=this.findParentWithAtrribute(a,"data-rel-path");if(null!=a){var d=a;if(d&&d.getAttribute("FULL_TEMPLATE_PATH"))b=d.getAttribute("FULL_TEMPLATE_PATH");
else{for(;null!=d;){c=d.getAttribute("data-rel-path");if(null!=c&&"undefined"!=typeof c)b=c+b;else{b="";break}d=this.findParentWithAtrribute(d,"data-rel-path")}""!=b&&a.setAttribute("FULL_TEMPLATE_PATH",b)}}return b},findParentTable:function(a){return this.findParentWithTagName(a,"TABLE")},findParentAnchor:function(a){return this.findParentWithTagName(a,"A")},findParentDiv:function(a){return this.findParentWithTagName(a,"DIV")},findParentWithTagName:function(a,b){for(a=a.parentNode;null!=a&&a.tagName!=
b;)a=a.parentNode;return a},calcAndAttachSectionBaseRef:function(a,b){var c="",d;d=b?pega.u.d.getSectionDiv(a):pega.u.d.getIncludedSection(a);if(!d)return{sectionBaseRef:"nosection"};var e=a.getAttribute("sec_baseRef"),f=!1;e?c="PEGA_NA"==e?"":e:(e=null,"undefined"!=typeof Grids&&(e=Grids.getElementsGrid(a)),e&&""==pega.u.d.getBaseRef(a,null,e)?f=!0:c=pega.u.d.getBaseRef(d),b&&(""==c&&(e=pega.u.d.getRowAndEntryHandle(a).rowEntryHandle,null!=e&&"undefined"!=typeof e&&(c=pega.u.property.toReference(e))),
c?"."==c.charAt(0)&&(c=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName")+c):c=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName")),c?a.setAttribute("sec_baseRef",c):a.setAttribute("sec_baseRef","PEGA_NA"),f&&a.setAttribute("sec_baseRef",""));a=d.getAttribute("BASE_REF");f=c;a&&!b&&(f=c.replace(new RegExp(a+"$"),""));return{includedSec:d,sectionBaseRef:c,baseRef4ConditionEval:f}},getSourceIndex:function(a,b){null==b&&(b=document);b=b.getElementsByTagName("*");for(var c=0;c<b.length;c++)if(b[c]==
a)return c},findParentTD:function(a){for(a=a.parentNode;!a.getElementById;){if("TD"==a.tagName)return a;a=a.parentNode}return null},showErrors:function(){var a;a=pega.util.Dom.getElementsById("PegaRULESErrorFlag",document);var b=0;if(a)var b=a.length,c=pega.u.d.shadeError,d=pega.u.d.expandIt;for(var e=0;e<b;e++){var f=a[e].parentNode;for("ERRORTEXT"==pega.u.d.fieldErrorType&&c(f);!f.getElementById;){if("none"==f.style.display){var g=pega.util.Dom.getElementsById("EXPAND-INNERDIV",f);null!=g&&(null!=
g.length&&(g=g[0]),"none"==pega.util.Dom.getStyle(g,"display")&&"function"===typeof d&&d(f))}f=f.parentNode}}if("function"!=typeof h_displayErrorTable&&"NONE"!=pega.u.d.formErrorType){if("true"!=pega.u.d.alwaysShowFormLevelErrors&&0<b)pega.u.d.hideErrorBox();else try{var k=pega.ctx.dom.getElementById("ERRORMESSAGES_ALL");null!=k&&pega.u.d.displayFormErrors(k.innerHTML)}catch(l){}"function"===typeof markTabErrors&&pega.u.d.markTabErrors()}},hideErrorBox:function(){var a=pega.util.Dom.getElementsById("ERRORTABLE",
document),b=0;a&&(b=a.length);if(0<b)for(var c=0;c<b;c++)pega.util.Dom.setStyle(a[c],"display","none");if("FLOAT"==pega.u.d.formErrorType&&(a=pega.util.Dom.getElementsById("ErrorTableSpacer",document),b=0,a&&(b=a.length),0<b))for(c=0;c<b;c++)pega.util.Dom.setStyle(a[c],"display","none")},shadeError:function(a){for(var b,c=a.id.substring(0,a.id.lastIndexOf("Error")),d=pega.u.d.addClass,e=pega.util.Dom.getElementsByName;!a.getElementById;)if(a=a.parentNode,b=e(c,a)){a=b.length;for(c=0;c<a;c++)if("hidden"!=
b[c].type){var e=pega.util.Dom.getFirstChild(b[c].parentNode),f=b[c].parentNode.nodeName.toLowerCase();"span"!=f&&"td"!=f||!(-1<e.className.indexOf("textAreaStyle")||-1<e.className.indexOf("TextAreaEC"))?d(b[c],"errorShade"):"td"!=f?d(b[c].parentNode,"errorShade"):d(pega.util.Dom.getAncestorByTagName(b[c],"TABLE"),"errorShade")}break}},addClass:function(a,b){pega.util.Dom.addClass(a,b)},removeClass:function(a,b){pega.util.Dom.removeClass(a,b)},doButtonAction:function(a,b){for(a=0;a<document.getElementsByTagName("Button").length;a++)"iconClose"==
document.getElementsByTagName("Button")[a].className&&("hide"==b?document.getElementsByTagName("Button")[a].style.display="none":"show"==b&&(document.getElementsByTagName("Button")[a].style.display="block"))},doButtonMouseOver:function(a){a=void 0==a?window.event:a;a=pega.util.Event.getTarget(a);try{a.className="_on"}catch(b){}},doButtonMouseOut:function(a){a=void 0==a?window.event:a;a=pega.util.Event.getTarget(a);try{a.className=a.buttonClass}catch(b){}},findParent:function(a,b){for(a=a.parentNode;null!=
a;){if(a.id==b)return a;a=a.parentNode}return null},moveStyles:function(){try{for(var a=parent.frames.document.getElementsByTagName("LINK"),b=document.getElementsByTagName("HEAD").item(0),c=0;c<a.length;c++){for(var d=a.item(c).href,e=document.getElementsByTagName("LINK"),f=e.length,g=!1,k=0;k<f;k++)e.item(k).href==d&&(g=!0);if(!g){var l=document.createElement("LINK");l.rel="Stylesheet";l.type="text/css";l.href=d;b.appendChild(l)}}}catch(h){}},getFirstInputElement:function(a,b){if(void 0!=b||void 0!=
a&&"pyActionArea"!=a)return b=void 0==b?document:b,b=pega.util.Dom.getElementsById(void 0==a?"PEGA_HARNESS":a,b),a=null,b&&(b=b[0])&&(a=this.parseChildNodes(b)),null==a?void 0:a;b=document.forms[0];a=[];b?a=b.getElementsByTagName("*"):(b=document.getElementsByTagName("BODY")[0],b.hasAttribute("data-harness-id")&&(b=b.getElementsByClassName("screen-layout")[0])&&(b=b.getElementsByTagName("main")[0])&&(a=b.getElementsByTagName("*")));b=a.length;for(var c=0;c<b;c++){var d=a[c];if(null!=d&&"hidden"!=
d.type&&d.style&&"none"!=d.style.display&&0<d.offsetHeight&&1!=d.disabled&&(1!=d.readOnly||d.hasAttribute("data-editable"))&&("INPUT"==d.nodeName||"SELECT"==d.nodeName||"TEXTAREA"==d.nodeName||"A"==d.nodeName&&"false"!==d.getAttribute("data-focusable")||pega.u&&pega.u.d&&pega.u.d.isAccessible&&"DIV"==d.nodeName&&"0"==d.getAttribute("tabindex"))&&"ActionOptions"!=d.id)return d}},parseChildNodes:function(a){if(a.hasChildNodes())for(var b=a.getElementsByTagName("*"),c=0;c<b.length;c++){if(a=b[c],null!=
a&&("INPUT"==a.nodeName||"SELECT"==a.nodeName||"TEXTAREA"==a.nodeName)&&"hidden"!=a.type&&"none"!=a.style.display)return a}else if("INPUT"==a.nodeName&&(null!=a.type&&"radio"==a.type&&a.checked||null!=a.type&&"radio"!=a.type))return a},getScrollObj:function(a){a=a.parentNode;for(var b=window,c=0;a;){var d;d=window.getComputedStyle?window.getComputedStyle(a,null).overflow||a.style.overflow:a.currentStyle?a.currentStyle.overflow:a.style.overflow||0;if(a.offsetHeight<a.scrollHeight&&"hidden"!=d&&"visible"!=
d)return[a,b,c];a=a.parentNode;d=window.getComputedStyle?window.getComputedStyle(a,null).overflow||a.style.overflow:a.currentStyle?a.currentStyle.overflow:a.style.overflow||0;if(a==b.document.body)try{b.frameElement&&(d=window.getComputedStyle?window.getComputedStyle(b.frameElement,null).overflow||b.frameElement.style.overflow:b.frameElement.currentStyle?b.frameElement.currentStyle.overflow:b.frameElement.style.overflow||0);if(a.offsetHeight<a.scrollHeight&&"hidden"!=d&&"visible"!=d)return[a,b,c];
if(b.frameElement)a=b.frameElement,c+=getAbsoluteTop(a),b=b.parent;else return null}catch(e){return[b.document.body,b,c]}}},getInputElements:function(){for(var a=[],b=["input","select","textarea"],c=0;c<b.length;c++)for(var d=document.getElementsByTagName(b[c]),e=0;e<d.length;e++)"hidden"!=d[e].type&&a.push(d[e]);return a},getOtherElements:function(){for(var a=[],b=["button","a"],c=0;c<b.length;c++)for(var d=document.getElementsByTagName(b[c]),e=0;e<d.length;e++)a.push(d[e]);return a},getHarnessElements:function(a,
b,c,d){var e=[];a&&(e=e.concat(this.getInputElements()));b&&(e=e.concat(this.getOtherElements()));c&&(d&&d.length?(a=this.harnessElements.filter(function(a){return-1!=d.indexOf(a.sectionID)}),e=e.concat(a)):e=e.concat(this.harnessElements));return e},getFirstChildObj:function(a){for(a=a.firstChild;null!=a;)if(3==a.nodeType||"input"==a.tagName.toLowerCase()&&"hidden"==a.type)a=a.nextSibling;else break;return a},formatNumberAsPerLocale:function(a){if(!a||""==a)return a;var b=window.decimal_separator;
pega.u.d.Locale.replace("_","-");if("."!==b){var c=a.indexOf(".");if(0<=c){var d=a.substring(0,c);a=a.substring(c+1);d=d.replace(/\D/g,"");a=a.replace(/\D/g,"");b=d+b+a}else b=a.replace(/\D/g,"");return b}return a},formatNumberWithSeparators:function(a){if(!a||""==a)return a;var b=window.decimal_separator,c=window.numeric_separator,d=a.indexOf(b),e=!1;0<=a.indexOf("-")&&(e=!0);if(-1!=d){var f=a.slice(0,d);a=a.slice(d+1);f=f.replace(/\D/g,"");f=f.replace(/\B(?=(\d{3})+(?!\d))/g,c);a=a.replace(/\D/g,
"");b=f+b+a}else a=a.replace(/\D/g,""),b=a.replace(/\B(?=(\d{3})+(?!\d))/g,c);e&&(b="-"+b);return b},formatNumberWithOutSeparators:function(a){if(!a||""==a)return a;var b=window.decimal_separator,c=a.indexOf(b),d=!1;0<=a.indexOf("-")&&(d=!0);if(-1!=c){var e=a.slice(0,c);a=a.slice(c+1);e=e.replace(/\D/g,"");a=a.replace(/\D/g,"");b=e+b+a}else b=a=a.replace(/\D/g,"");d&&(b="-"+b);return b},setProperty:function(a,b,c,d){var e;e=c?pega.u.property.toHandle(a,c):pega.u.property.toHandle(a);c=pega.ctx.dom.getElementsByName(e);
try{c||-1==navigator.userAgent.toLowerCase().indexOf("outlook")||(c=document.getElementsByName(e))}catch(h){}e=!1;if(1<c.length)for(var f=0;f<c.length;f++)if(c[f].getAttribute("data-ac-numeric-prop")&&"true"===c[f].getAttribute("data-ac-numeric-prop")){e=!0;break}if(e)for(f=0;f<c.length;f++)c[f].getAttribute("data-ac-numeric-prop")||c[f].setAttribute("data-ac-numeric-prop",!0);var g;if(c)for(e=0;e<c.length;e++)if("complex"==c[e].type)c[e].element.setProperty?c[e].element.setProperty(a,b):c[e].value=
b,pega.util.Event.isSafari?(f=document.createEvent("MouseEvents"),f.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.preventDefault(),c[e].dispatchEvent(f)):pega.util.Event.fireEvent(c[e],"onmousedown"),pega.u.d.fromSetValue=!0,pega.env.ua.ie?pega.util.Event.fireEvent(c[e],"onfocusin"):pega.util.Event.fireEvent(c[e],"onfocus"),pega.control.actionSequencer.fireTopPriorityEvent(c[e],"change"),pega.util.Event.fireEvent(c[e],"onblur"),pega.env.ua.ie&&pega.util.Event.fireEvent(c[e],
"onfocusout"),pega.u.d.fromSetValue=!1;else{var k=c[e].type;if(!$(c[e]).siblings(".checkbox")||!$(c[e]).siblings("input[type\x3d'checkbox']").get(0)||$(c[e]).siblings("input[type\x3d'checkbox']").get(0).getAttribute("name")!=c[e].getAttribute("name"))if("checkbox"==k)f=c[e].checked,(!f||0!=b&&"false"!=b)&&(f||1!=b&&"true"!=b)||pega.control.actionSequencer.fireTopPriorityEvent(c[e],"click");else if("textarea"==k&&c[e].id.startsWith("PEGACKEDITOR"))CKEDITOR.instances[c[e].id].setData(b),pega.control.actionSequencer.fireTopPriorityEvent(c[e],
"change");else{if("radio"==k)b==c[e].value?(c[e].checked=!0,g=c[e]):c[e].checked=!1;else{var l=c[e].getAttribute&&c[e].getAttribute("data-formatting")&&document.activeElement!=c[e];l&&(c[e].getAttribute("data-format-method")||""==c[e].getAttribute("data-template")?(c[e].setAttribute("data-formatting","yes"),c[e].setAttribute("data-display-value",c[e].value)):c[e].setAttribute("data-value",b));d&&(b=pega.u.d.CalendarUtil.convertDateTimeBtwnTimezones(b,d,c[e].getAttribute("data-custom-timezone")||pega.u.d.TimeZone));
"true"===c[e].getAttribute("data-ac-numeric-prop")?pega.control.PlaceHolder.setValue(c[e],this.formatNumberAsPerLocale(b)):pega.control.PlaceHolder.setValue(c[e],b);d&&"hidden"==c[e].type&&c[e].setAttribute("data-value",b);pega.util.Event.isSafari?(f=document.createEvent("MouseEvents"),f.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.preventDefault(),c[e].dispatchEvent(f)):pega.util.Event.fireEvent(c[e],"onmousedown")}pega.u.d.fromSetValue=!0;if(!g||g&&c[e].checked)document.activeElement!=
c[e]&&(l?pega.util.Event.fireEvent(c[e],"onfocus"):pega.env.ua.ie&&pega.util.Event.fireEvent(c[e],"onfocusin")),("radio"!==k||g)&&pega.control.actionSequencer.fireTopPriorityEvent(c[e],"change"),document.activeElement!=c[e]&&(l?pega.util.Event.fireEvent(c[e],"onblur"):pega.env.ua.ie&&pega.util.Event.fireEvent(c[e],"onfocusout")),pega.u.d.fromSetValue=!1}}},getProperty:function(a,b){var c;c=b?pega.u.property.toHandle(a,b):pega.u.property.toHandle(a);if(b=pega.ctx.dom.getElementsByName(c))for(var d=
0;d<b.length;d++)if("complex"==b[d].type)if(b[d].element.getProperty)b[d].element.getProperty(a);else return b[d].value;else{if(b[d].type&&"TEXTAREA"==b[d].type.toUpperCase()&&b[d].id&&-1!=b[d].id.indexOf("PEGAEDITOR")){a=pega.u.d.getHarnessElements(!1,!1,!0);for(var e=a.length,f=0;f<e;f++){var g=a[f].element;if(g&&1==g.isRichTextEditor&&void 0!=g.myEditor&&g.myEditor.get("element").name==c)return g.myEditor.getEditorHTML()}}if(b[d].name&&b[d].name==c&&b[d].type&&"TEXTAREA"==b[d].type.toUpperCase()&&
b[d].id&&-1!=b[d].id.indexOf("PEGACKEDITOR")&&CKEDITOR&&CKEDITOR.instances[b[d].id]&&CKEDITOR.instances[b[d].id].getData)return CKEDITOR.instances[b[d].id].getData();for(c=0;c<b.length;c++){a=b[c].type;if("checkbox"==a)return b[c].checked?!0:!1;if("radio"==a&&b[c].checked)return b[c].value}return"radio"===b[d].type?"":pega.control.PlaceHolder.getValue(b[d])}},getDOMElementValue:function(a){var b="";if("checkbox"==a.type)b=a.checked;else if("radio"==a.type){var c=document.getElementsByName(a.name);
c&&0===c.length&&(c=a.ownerDocument.getElementsByName(a.name));for(a=0;a<c.length;a++)if(c[a].checked){b=c[a].value;break}}else if("select"==a.tagName.toLowerCase()){if(0<a.length&&-1!=a.selectedIndex){var b=a.options[a.selectedIndex],c=pega.util.Dom.getInnerText(b),d=a.options[a.selectedIndex].getAttributeNode("value");null!=d&&d.specified&&(c=b.value);b=c}!b&&a.getAttribute("DSSource")&&(0==a.selectedIndex&&1<a.options.length||(b=a.getAttribute("DSDefault")))}else b=pega.control.PlaceHolder.getValue(a);
return b},getContainerSectionElement:function(a){if(null==a||void 0==a)return null;a=document.getElementById(a);return pega.u.d.getSectionId(pega.u.d.getSectionDiv(a))},isPanelSetHarness:function(){return this.harnessType&&"layout"==this.harnessType},getSectionIds:function(a){if(!a)return[];0<a.length&&(a=a[0]);var b=pega.util.Dom.getElementsByAttribute("node_type","MAIN_RULE","DIV",a),c=b.length,d=[];d.push(a.getAttribute("uniqueID"));for(a=0;a<c;a++){var e=b[a],f=b[a].getAttribute("uniqueID");e&&
"RULE_KEY"==e.id&&f&&""!=f&&d.push(f)}return d},doPrintDiv:function(a){var b=null,c=null,d=null,e="",f=[],g=[],k,l;if(null!=a){try{b=document.getElementById(a).innerHTML,c=document.getElementsByTagName("LINK"),d=document.getElementsByTagName("SCRIPT"),e=document.getElementsByTagName("INPUT")}catch(n){b=[];b["$(strDiv)"]=a;alert(getLocalString("pyMessageLabel","Function doPrintDiv($(strDiv)) Error Element $(strDiv) does not exist.",b));return}a=window.open("","thePrintWindow","toolbar\x3dno,scrollbars\x3dyes").document;
var h="";a.write("\x3chtml\x3e\x3chead\x3e");for(m=0;m<e.length;m++)"hidden"==e[m].type&&"EXPAND-INDICATOR"!=e[m].id&&(g.push(e[m].outerHTML),l=g.join(" "));a.write(l);for(var m=0;m<c.length;m++)f.push("\x3clink href\x3d'"+c[m].href+"' rel\x3d'stylesheet' type\x3d'text/css'\x3e"),k=f.join(" ");c=d.length;for(e=0;e<c;e++)""!=d[e].src?(f=a.getElementsByTagName("head")[0],g=a.createElement("script"),g.type="text/javascript",g.src=d[e].src):(f=a.getElementsByTagName("head")[0],g=a.createElement("script"),
g.type="text/javascript",g.text=d[e].innerHTML),f.appendChild(g);a.write("\x3cSCRIPT\x3evar gClosePrintWindow\x3dtrue; var printView\x3dtrue;\x3c/SCRIPT\x3e");a.write(k);a.write("\x3c/head\x3e");h=h+'\x3cbody class\x3d"forPrinting" onafterprint\x3d"window.opener" onload\x3d""\x3e\x3cdiv style\x3d"position:absolute; width:100%; height:100%"\x3e'+b+'\x3c/div\x3e\x3cdiv style\x3d"position:absolute; width:100%; height:100%; z-index:1000"\x3e';h+="\x3c/div\x3e";h+="\x3cscript\x3e";h+='var arrBodyElements \x3d document.getElementsByTagName("body");';
h+='if ( typeof(arrBodyElements ) !\x3d "undefined") arrBodyElements[0].onload\x3d"";';h+="\x3c/script\x3e";h+="\x3cSCRIPT src\x3d'harness_print.js' type\x3d'text/javascript'\x3e\x3c/script\x3e";h+="\x3c/body\x3e";h+="\x3c/html\x3e";a.write(h);a.close()}},fireButtonClick:function(a){a=a.getElementsByTagName("BUTTON");null!=a[0].onclick&&pega.util.Event.fireEvent(a[0],"click")},getCoordinates:function(a){for(var b=0,c=0,d=0;a&&"unknown"!=typeof a.offsetParent;){if(pega.u.d&&pega.u.d.modalDialog&&pega.u.d.modalDialog.body){if(a.id==
pega.u.d.modalDialog.body.id)break;d=a.offsetTop}var e="";a.offsetParent&&a.offsetParent.offsetParent&&(e=a.offsetParent.offsetParent.id);if("PEGA_LU_L"==e||"PEGA_LU_R"==e||"PEGA_LU_C"==e||"PEGA_LU_T"==e||"PEGA_LU_B"==e)break;b+=a.offsetLeft;c+=a.offsetTop;a=a.offsetParent}pega.u.d.inStandardsMode||(c-=d);return[b,c]},getReadOnlyValue:function(a,b){var c=pega.ui.HarnessContextMgr;void 0!=a&&a||void 0!=b||b||(a=pega.util.Event.getEvent(a));for(var d=b;d&&d.getAttribute;){if("true"==d.getAttribute("readonly"))return"-1";
if("false"==d.getAttribute("readonly"))return"0";d=d.parentNode}if("ACTION"==c.get("strHarnessMode")||document.getElementById("HarnessMode")&&"ACTION"==document.getElementById("HarnessMode").value){var d=pega.util.Dom.getElementsById("pyActionArea"),e=window.frames.actionIFrame,f=c.get("bActionIframe"),g=!1;if(e&&null!=e||f)g=!0;if(d||!g){for(void 0!=b&&b||!a||(b=pega.util.Event.getTarget(a));b;){if("pyActionArea"==b.id||"pyFlowActionHTML"==b.id)return"0";b=b.parentNode}return"-1"}}return c.get("bReadOnly")},
getGroupElementValue:function(a){var b=pega.u.d.getDOMElementValue(a[0]);1<a.length&&"checkbox"==a[1].type&&(b=pega.u.d.getDOMElementValue(a[1]));return b},getCaretPosition:function(a){try{if(void 0!=a&&/^(text|textarea|number|password|email|tel|url)$/.test(a.type)){if("selectionStart"in a)return a.selectionStart||document.getElementsByName(a.name)[0].selectionStart;if(document.selection){var b=document.selection.createRange();if(null==b)return 0;if(void 0!=a.createTextRange){var c,d;try{c=a.createTextRange()}catch(e){a=
document.getElementsByName(a.name)[0],c=a.createTextRange()}d=c.duplicate();c.moveToBookmark(b.getBookmark());d.setEndPoint("EndToStart",c);return d.text.length}}}}catch(e){}return 0},setCaretPosition:function(a,b){try{if(void 0!=a&&/^(text|textarea|number|password|email|tel|url)$/.test(a.type))if(a.setSelectionRange)a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0);c.moveEnd("character",b);c.moveStart("character",b);c.select()}}catch(d){}},getTrackedPagePointer:function(a,
b){a=a.getAttribute(b);return pega.ui.ChangeTrackerMap.getTracker().trackedPropertiesList[a]},getObjectKeys:function(a){if(a&&"object"==typeof a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}},registerSinglePageNav:function(a,b){var c=b?jQuery(b):jQuery(document);jQuery(a).find("a[href^\x3d'#']").filter(function(){return this.href.match(/#[a-zA-Z]/)}).click(function(){var a=c.find("a[id\x3d'"+this.hash.substring(1)+"']").first(),a=a.next(),b=pega.u.d.getScrollObj(a.get(0)),
b=b?jQuery(b[0]):jQuery("body"),a=b.scrollTop()+a.offset().top-b.offset().top;"BODY"===b.prop("tagName").toUpperCase()&&(pega.util.Dom.hasClass(document.documentElement,"ff")||pega.util.Dom.hasClass(document.documentElement,"chrome")||pega.util.Dom.hasClass(document.documentElement,"ie"))?jQuery(document.documentElement).animate({scrollTop:a},250):b.animate({scrollTop:a},250);return!1})},setRequestAnimationFrame:function(a){window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(a,
0)},isInRepeat:function(a){for(a=a.parentNode;null!=a;)if(!a.getAttribute||null==a.getAttribute("PL_PROP")&&null==a.getAttribute("PG_PROP"))a=a.parentNode;else return!0;return!1},getRepeatObject:function(a,b){var c=a.parentNode;if(b&&(a.getAttribute&&"MAIN_RULE"==a.getAttribute("node_type")||c&&c.getAttribute&&"MAIN_RULE"==c.getAttribute("node_type")))return null;for(;c&&c!=document.body;)if(!c.getAttribute||null==c.getAttribute("PL_PROP")&&null==c.getAttribute("PG_PROP")){if(c=c.parentNode,null!=
c&b&&c.getAttribute&&"MAIN_RULE"==c.getAttribute("node_type"))break}else return c;return null},getDocumentElement:function(){var a=document;if(pega&&pega.ui&&pega.ui.HarnessContextMgr&&pega.ui.HarnessContextMgr.get("isMDC")){var b=pega.ui.HarnessContextMgr.get("mdcName"),c=pega.ui.HarnessContextMgr.get("recordId");(b=c?document.querySelector("div[data-mdc-id\x3d'"+b+"'] div[data-mdc-recordid\x3d'"+c+"']"):document.querySelector("div[data-mdc-id\x3d'"+b+"']"))&&(a=b)}return a},getFormElement:function(){var a=
document.forms[0];if(pega&&pega.ui&&pega.ui.HarnessContextMgr&&pega.ui.HarnessContextMgr.get("isMDC")){var b=pega.ui.HarnessContextMgr.get("mdcName"),c=pega.ui.HarnessContextMgr.get("recordId");(b=c?document.querySelector("div[data-mdc-id\x3d'"+b+"'] div[data-mdc-recordid\x3d'"+c+"'] fieldset.mdc-fieldset"):document.querySelector("div[data-mdc-id\x3d'"+b+"'] fieldset.mdc-fieldset"))&&(a=b)}return a},scrollIntoViewIfOutOfView:function(a){var b=window.pageYOffset||document.documentElement.scrollTop||
document.body.scrollTop,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0,e;if(document.layers)d=a.y,e=a.height;else{for(e=a;e&&"BODY"!=e.tagName;e=e.offsetParent)d+=e.offsetTop;e=a.offsetHeight}b+c<d+e?a.scrollIntoView(!0):d<b&&a.scrollIntoView(!1)},getMDCFieldSets:function(){return document.querySelectorAll("fieldset.mdc-fieldset")},getAllMDCContainers:function(){var a=document.getElementsByTagName("main");return a&&1==a.length?a[0].querySelectorAll("div[data-mdc-id]"):
document.querySelectorAll("div[data-mdc-id]")},getMicroDCDocs:function(a){var b=[];if(a=document.querySelector("div[data-mdc-id\x3d'"+a+"']"))b=a.children;return b},closeOnlyMDCDocs:function(a,b,c,d,e){function f(){var d=SafeURL_createFromURL(pega.u.d.url);b&&d.put("forceClose",b);c&&d.put("closeSynchronously",c);var f=e||pega.ctx.mdcName;if(a&&null!=a){var h=pega.util.Event.getTarget(a);h&&(h=h.closest("div[data-mdc-recordid]"))&&"openSection"===h.getAttribute("action")&&(f=h.closest("div[data-mdc-id]").getAttribute("data-mdc-id"))}f&&
d.put("mdcTarget",f);d.put("isOuterDocClose",f?!1:!0);pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.CLOSEALL,d));return g}if(pega.ui.hasAjaxContainer){var g=!1;!d&&pega.u.d.isFormDirty(!0,null,null,!0,f)?g=pega.u.d.isFormDirty(!0,null,null,!0,f):f()}},getOuterDocumentContext:function(){var a=pega.ctxmgr.getHarnessContextMap(),b;for(b in a)if(a.hasOwnProperty(b)){var c=a[b];if(!c.isMDC&&!c.isStatic)return c}return null},getScrollParent:function(a){return a?a.scrollHeight>a.clientHeight?
a:this.getScrollParent(a.parentNode):null},filterRichText:function(a){return a},extendObj:function(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&("object"===typeof c[d]?Array.isArray(c[d])&&!a[d]?a[d]=this.extendObj([],c[d]):a[d]=this.extendObj(a[d],c[d]):a[d]=c[d])}return a},deepExtendObj:function(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&(a[d]=!c[d]||"object"!==typeof c[d]||
c[d].constructor!==Object&&c[d].constructor!==Array?c[d]:this.deepExtendObj(a[d],c[d]))}return a}};pega.lang.augmentObject(pega.ui.Doc.prototype,domUtils);
function deferredAdditionalDynamic(){processDynamicData(deferredVars);pega&&pega.offline&&pega.mobile.isChildWebView&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&(pega.ctx.url=window.location.pathname)}deferredFieldValues();
(function(){pega.util.Config=function(c){c&&this.init(c)};var k=pega.lang,h=pega.util.CustomEvent,n=pega.util.Config;n.CONFIG_CHANGED_EVENT="configChanged";n.BOOLEAN_TYPE="boolean";n.prototype={owner:null,queueInProgress:!1,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(c){this.owner=c;this.configChangedEvent=this.createEvent(n.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=h.LIST;this.queueInProgress=!1;this.config={};this.initialConfig={};this.eventQueue=
[]},checkBoolean:function(c){return typeof c==n.BOOLEAN_TYPE},checkNumber:function(c){return!isNaN(c)},fireEvent:function(c,d){(c=this.config[c])&&c.event&&c.event.fire(d)},addProperty:function(c,d){c=c.toLowerCase();this.config[c]=d;d.event=this.createEvent(c,{scope:this.owner});d.event.signature=h.LIST;d.key=c;d.handler&&d.event.subscribe(d.handler,this.owner);this.setProperty(c,d.value,!0);d.suppressEvent||this.queueProperty(c,d.value)},getConfig:function(){var c={},d,e;for(d in this.config)(e=
this.config[d])&&e.event&&(c[d]=e.value);return c},getProperty:function(c){if((c=this.config[c.toLowerCase()])&&c.event)return c.value},resetProperty:function(c){c=c.toLowerCase();var d=this.config[c];if(d&&d.event){if(this.initialConfig[c]&&!k.isUndefined(this.initialConfig[c]))return this.setProperty(c,this.initialConfig[c]),!0}else return!1},setProperty:function(c,d,e){var b;c=c.toLowerCase();if(this.queueInProgress&&!e)return this.queueProperty(c,d),!0;if((b=this.config[c])&&b.event){if(b.validator&&
!b.validator(d))return!1;b.value=d;e||(this.fireEvent(c,d),this.configChangedEvent.fire([c,d]));return!0}return!1},queueProperty:function(c,d){c=c.toLowerCase();var e=this.config[c],b,f,a,m,g;if(e&&e.event){if(k.isUndefined(d)||!e.validator||e.validator(d)){k.isUndefined(d)?d=e.value:e.value=d;b=!1;f=this.eventQueue.length;for(g=0;g<f;g++)if(a=this.eventQueue[g])if(m=a[0],a=a[1],m==c){this.eventQueue[g]=null;this.eventQueue.push([c,k.isUndefined(d)?a:d]);b=!0;break}b||k.isUndefined(d)||this.eventQueue.push([c,
d])}else return!1;if(e.supercedes)for(c=e.supercedes.length,m=0;m<c;m++)for(d=e.supercedes[m],b=this.eventQueue.length,g=0;g<b;g++)if(a=this.eventQueue[g])if(f=a[0],a=a[1],f==d.toLowerCase()){this.eventQueue.push([f,a]);this.eventQueue[g]=null;break}return!0}return!1},refireEvent:function(c){c=c.toLowerCase();var d=this.config[c];d&&d.event&&!k.isUndefined(d.value)&&(this.queueInProgress?this.queueProperty(c):this.fireEvent(c,d.value))},applyConfig:function(c,d){var e;if(d){d={};for(e in c)k.hasOwnProperty(c,
e)&&(d[e.toLowerCase()]=c[e]);this.initialConfig=d}for(e in c)k.hasOwnProperty(c,e)&&this.queueProperty(e,c[e])},refresh:function(){for(var c in this.config)this.refireEvent(c)},fireQueue:function(){var c,d,e,b;this.queueInProgress=!0;for(c=0;c<this.eventQueue.length;c++)if(d=this.eventQueue[c])e=d[0],d=d[1],b=this.config[e],b.value=d,this.fireEvent(e,d);this.queueInProgress=!1;this.eventQueue=[]},subscribeToConfigEvent:function(c,d,e,b){return(c=this.config[c.toLowerCase()])&&c.event?(n.alreadySubscribed(c.event,
d,e)||c.event.subscribe(d,e,b),!0):!1},unsubscribeFromConfigEvent:function(c,d,e){return(c=this.config[c.toLowerCase()])&&c.event?c.event.unsubscribe(d,e):!1},toString:function(){var c="Config";this.owner&&(c+=" ["+this.owner.toString()+"]");return c},outputEventQueue:function(){var c="",d,e,b=this.eventQueue.length;for(e=0;e<b;e++)(d=this.eventQueue[e])&&(c+=d[0]+"\x3d"+d[1]+", ");return c},destroy:function(){var c=this.config,d,e;for(d in c)k.hasOwnProperty(c,d)&&(e=c[d],e.event.unsubscribeAll(),
e.event=null);this.configChangedEvent.unsubscribeAll();this.eventQueue=this.initialConfig=this.config=this.owner=this.configChangedEvent=null}};n.alreadySubscribed=function(c,d,e){var b=c.subscribers.length,f;if(0<b){f=b-1;do if((b=c.subscribers[f])&&b.obj==e&&b.fn==d)return!0;while(f--)}return!1};pega.lang.augmentProto(n,pega.util.EventProvider)})();
(function(){function k(){m||(m=document.createElement("div"),m.innerHTML='\x3cdiv class\x3d"'+a.CSS_HEADER+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+a.CSS_BODY+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+a.CSS_FOOTER+'"\x3e\x3c/div\x3e',g=m.firstChild,p=g.nextSibling,q=p.nextSibling);return m}function h(){g||k();return g.cloneNode(!1)}function n(){p||k();return p.cloneNode(!1)}function c(){q||k();return q.cloneNode(!1)}pega.widget.Module=function(a,b){a&&this.init(a,b)};var d=pega.util.Dom,e=pega.util.Config,
b=pega.util.Event,f=pega.util.CustomEvent,a=pega.widget.Module,m,g,p,q,w=pega.lang.isBoolean,A=["visible"];a.IMG_ROOT=null;a.IMG_ROOT_SSL=null;a.CSS_MODULE="yui-module";a.CSS_HEADER="hd";a.CSS_BODY="bd";a.CSS_FOOTER="ft";a.RESIZE_MONITOR_SECURE_URL="javascript:false;";a.textResizeEvent=new f("textResize");var v=a.IMG_ROOT,l=function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("windows")||-1!=a.indexOf("win32")?"windows":-1!=a.indexOf("macintosh")?"mac":!1}(),t=function(){var a=navigator.userAgent.toLowerCase();
return-1!=a.indexOf("opera")?"opera":-1!=a.indexOf("msie 7")?"ie7":-1!=a.indexOf("msie")?"ie":-1!=a.indexOf("safari")?"safari":-1!=a.indexOf("gecko")?"gecko":!1}(),u;u=0===window.location.href.toLowerCase().indexOf("https")?!0:!1;a.prototype={constructor:a,element:null,header:null,body:null,footer:null,id:null,imageRoot:v,initEvents:function(){var a=f.LIST;this.beforeInitEvent=this.createEvent("beforeInit");this.beforeInitEvent.signature=a;this.initEvent=this.createEvent("init");this.initEvent.signature=
a;this.appendEvent=this.createEvent("append");this.appendEvent.signature=a;this.beforeRenderEvent=this.createEvent("beforeRender");this.beforeRenderEvent.signature=a;this.renderEvent=this.createEvent("render");this.renderEvent.signature=a;this.changeHeaderEvent=this.createEvent("changeHeader");this.changeHeaderEvent.signature=a;this.changeBodyEvent=this.createEvent("changeBody");this.changeBodyEvent.signature=a;this.changeFooterEvent=this.createEvent("changeFooter");this.changeFooterEvent.signature=
a;this.changeContentEvent=this.createEvent("changeContent");this.changeContentEvent.signature=a;this.destroyEvent=this.createEvent("destroy");this.destroyEvent.signature=a;this.beforeShowEvent=this.createEvent("beforeShow");this.beforeShowEvent.signature=a;this.showEvent=this.createEvent("show");this.showEvent.signature=a;this.beforeHideEvent=this.createEvent("beforeHide");this.beforeHideEvent.signature=a;this.hideEvent=this.createEvent("hide");this.hideEvent.signature=a},platform:l,browser:t,isSecure:u,
initDefaultConfig:function(){this.cfg.addProperty("visible",{handler:this.configVisible,value:!0,validator:w});this.cfg.addProperty("effect",{suppressEvent:!0,supercedes:A});this.cfg.addProperty("monitorresize",{handler:this.configMonitorResize,value:!1});this.cfg.addProperty("appendtodocumentbody",{value:!1})},init:function(b,c){var f;this.initEvents();this.beforeInitEvent.fire(a);this.cfg=new e(this);this.isSecure&&(this.imageRoot=a.IMG_ROOT_SSL);"string"==typeof b&&(f=b,b=document.getElementById(b),
b||(b=k().cloneNode(!1),b.id=f));this.element=b;b.id&&(this.id=b.id);if(b=this.element.firstChild){var l=f=!1,x=!1;do 1==b.nodeType&&(!f&&d.hasClass(b,a.CSS_HEADER)?(this.header=b,f=!0):!l&&d.hasClass(b,a.CSS_BODY)?(this.body=b,l=!0):!x&&d.hasClass(b,a.CSS_FOOTER)&&(this.footer=b,x=!0));while(b=b.nextSibling)}this.initDefaultConfig();d.addClass(this.element,a.CSS_MODULE);c&&this.cfg.applyConfig(c,!0);e.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)||this.renderEvent.subscribe(this.cfg.fireQueue,
this.cfg,!0);this.initEvent.fire(a)},initResizeMonitor:function(){if(pega.env.ua.gecko&&"windows"==this.platform){var a=this;setTimeout(function(){a._initResizeMonitor()},0)}else this._initResizeMonitor()},_initResizeMonitor:function(){function c(){a.textResizeEvent.fire()}var e,f;if(!pega.env.ua.opera){f=d.get("_yuiResizeMonitor");var l=this._supportsCWResize();if(!f){f=document.createElement("iframe");this.isSecure&&a.RESIZE_MONITOR_SECURE_URL&&pega.env.ua.ie&&(f.src=a.RESIZE_MONITOR_SECURE_URL);
l||(f.src="data:text/html;charset\x3dutf-8,"+encodeURIComponent('\x3chtml\x3e\x3chead\x3e\x3cscript type\x3d"text/javascript"\x3ewindow.onresize\x3dfunction(){window.parent.pega.widget.Module.textResizeEvent.fire();};\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'));f.id="_yuiResizeMonitor";f.style.position="absolute";f.style.visibility="hidden";e=document.body;var x=e.firstChild;x?e.insertBefore(f,x):e.appendChild(f);f.style.width="10em";f.style.height="10em";f.style.top="-500px";
f.style.left="-500px";f.style.borderWidth="0";f.style.visibility="visible";pega.env.ua.webkit&&(e=f.contentWindow.document,e.open(),e.close())}if(f&&f.contentWindow){a.textResizeEvent.subscribe(this.onDomResize,this,!0);if(!a.textResizeInitialized){if(l&&!b.on(f.contentWindow,"resize",c))b.on(f,"resize",c);a.textResizeInitialized=!0}this.resizeMonitor=f}}},_supportsCWResize:function(){var a=!0;pega.env.ua.gecko&&1.8>=pega.env.ua.gecko&&(a=!1);return a},onDomResize:function(a,b){a=-1*this.resizeMonitor.offsetWidth;
this.resizeMonitor.style.top=-1*this.resizeMonitor.offsetHeight+"px";this.resizeMonitor.style.left=a+"px"},setHeader:function(a){var b=this.header||(this.header=h());a.nodeName?(b.innerHTML="",b.appendChild(a)):b.innerHTML=a;this.changeHeaderEvent.fire(a);this.changeContentEvent.fire()},appendToHeader:function(a){(this.header||(this.header=h())).appendChild(a);this.changeHeaderEvent.fire(a);this.changeContentEvent.fire()},setBody:function(a){var b=this.body||(this.body=n());a.nodeName?(b.innerHTML=
"",b.appendChild(a)):b.innerHTML=a;this.changeBodyEvent.fire(a);this.changeContentEvent.fire()},appendToBody:function(a){(this.body||(this.body=n())).appendChild(a);this.changeBodyEvent.fire(a);this.changeContentEvent.fire()},setFooter:function(a){var b=this.footer||(this.footer=c());a.nodeName?(b.innerHTML="",b.appendChild(a)):b.innerHTML=a;this.changeFooterEvent.fire(a);this.changeContentEvent.fire()},appendToFooter:function(a){(this.footer||(this.footer=c())).appendChild(a);this.changeFooterEvent.fire(a);
this.changeContentEvent.fire()},render:function(a,b){this.beforeRenderEvent.fire();b||(b=this.element);if(a)"string"==typeof a&&(a=document.getElementById(a)),a&&(this._addToParent(a,this.element),this.appendEvent.fire());else if(!d.inDocument(this.element))return!1;this.header&&!d.inDocument(this.header)&&((a=b.firstChild)?b.insertBefore(this.header,a):b.appendChild(this.header));this.body&&!d.inDocument(this.body)&&(this.footer&&d.isAncestor(this.moduleElement,this.footer)?b.insertBefore(this.body,
this.footer):b.appendChild(this.body));this.footer&&!d.inDocument(this.footer)&&b.appendChild(this.footer);this.renderEvent.fire();return!0},destroy:function(){var d,c;this.element&&(b.purgeElement(this.element,!0),d=this.element.parentNode);d&&d.removeChild(this.element);this.footer=this.body=this.header=this.element=null;a.textResizeEvent.unsubscribe(this.onDomResize,this);this.cfg.destroy();this.cfg=null;this.destroyEvent.fire();for(c in this)c instanceof f&&c.unsubscribeAll()},show:function(){this.cfg.setProperty("visible",
!0)},hide:function(){this.cfg.setProperty("visible",!1)},configVisible:function(a,b,c){b[0]?(this.beforeShowEvent.fire(),d.setStyle(this.element,"display","block"),this.showEvent.fire()):(this.beforeHideEvent.fire(),d.setStyle(this.element,"display","none"),this.hideEvent.fire())},configMonitorResize:function(b,d,c){d[0]?this.initResizeMonitor():(a.textResizeEvent.unsubscribe(this.onDomResize,this,!0),this.resizeMonitor=null)},_addToParent:function(a,b){!this.cfg.getProperty("appendtodocumentbody")&&
a===document.body&&a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},toString:function(){return"Module "+this.id}};pega.lang.augmentProto(a,pega.util.EventProvider)})();
(function(){pega.widget.Overlay=function(a,b){pega.widget.Overlay.superclass.constructor.call(this,a,b)};var k=pega.lang,h=pega.util.CustomEvent,n=pega.widget.Module,c=pega.util.Event,d=pega.util.Dom,e=pega.util.Config,b=pega.widget.Overlay,f,a=k.isNumber,m=["iframe"],g=k.isNumber,p=["iframe"],q=["iframe"],w=["iframe"],A=k.isBoolean,v=["iframe","visible"],l=["context","fixedcenter","iframe"],t=["context","fixedcenter","iframe"],u=k.isBoolean,y=["iframe","x","y","xy"],z=6==pega.env.ua.ie?!0:!1,B=k.isBoolean,
C=["zindex"];b.IFRAME_SRC="javascript:false;";b.IFRAME_OFFSET=3;b.VIEWPORT_OFFSET=10;b.TOP_LEFT="tl";b.TOP_RIGHT="tr";b.BOTTOM_LEFT="bl";b.BOTTOM_RIGHT="br";b.CSS_OVERLAY="yui-overlay";b.windowScrollEvent=new h("windowScroll");b.windowResizeEvent=new h("windowResize");b.windowScrollHandler=function(a){pega.env.ua.ie?(window.scrollEnd||(window.scrollEnd=-1),clearTimeout(window.scrollEnd),window.scrollEnd=setTimeout(function(){b.windowScrollEvent.fire()},1)):b.windowScrollEvent.fire()};b.windowResizeHandler=
function(a){pega.env.ua.ie?(window.resizeEnd||(window.resizeEnd=-1),clearTimeout(window.resizeEnd),window.resizeEnd=setTimeout(function(){b.windowResizeEvent.fire()},100)):b.windowResizeEvent.fire()};b._initialized=null;null===b._initialized&&(c.on(window,"scroll",b.windowScrollHandler),c.on(window,"resize",b.windowResizeHandler),b._initialized=!0);pega.extend(b,n,{init:function(a,c){b.superclass.init.call(this,a);this.beforeInitEvent.fire(b);d.addClass(this.element,b.CSS_OVERLAY);c&&this.cfg.applyConfig(c,
!0);"mac"==this.platform&&pega.env.ua.gecko&&(e.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)||this.showEvent.subscribe(this.showMacGeckoScrollbars,this,!0),e.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)||this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,!0));this.initEvent.fire(b)},initEvents:function(){b.superclass.initEvents.call(this);var a=h.LIST;this.beforeMoveEvent=this.createEvent("beforeMove");this.beforeMoveEvent.signature=a;this.moveEvent=
this.createEvent("move");this.moveEvent.signature=a},initDefaultConfig:function(){b.superclass.initDefaultConfig.call(this);this.cfg.addProperty("x",{handler:this.configX,validator:a,suppressEvent:!0,supercedes:m});this.cfg.addProperty("y",{handler:this.configY,validator:g,suppressEvent:!0,supercedes:p});this.cfg.addProperty("xy",{handler:this.configXY,suppressEvent:!0,supercedes:q});this.cfg.addProperty("context",{handler:this.configContext,suppressEvent:!0,supercedes:w});this.cfg.addProperty("fixedcenter",
{handler:this.configFixedCenter,value:!1,validator:A,supercedes:v});this.cfg.addProperty("width",{handler:this.configWidth,suppressEvent:!0,supercedes:l});this.cfg.addProperty("height",{handler:this.configHeight,suppressEvent:!0,supercedes:t});this.cfg.addProperty("zindex",{handler:this.configzIndex,value:null});this.cfg.addProperty("constraintoviewport",{handler:this.configConstrainToViewport,value:!1,validator:u,supercedes:y});this.cfg.addProperty("iframe",{handler:this.configIframe,value:z,validator:B,
supercedes:C})},moveTo:function(a,b){this.cfg.setProperty("xy",[a,b])},hideMacGeckoScrollbars:function(){d.removeClass(this.element,"show-scrollbars");d.addClass(this.element,"hide-scrollbars")},showMacGeckoScrollbars:function(){d.removeClass(this.element,"hide-scrollbars");d.addClass(this.element,"show-scrollbars")},configVisible:function(a,b,r){r=b[0];var c=d.getStyle(this.element,"visibility"),f=this.cfg.getProperty("effect");a=[];var x="mac"==this.platform&&pega.env.ua.gecko;b=e.alreadySubscribed;
var l,g,m;if("inherit"==c){for(l=this.element.parentNode;9!=l.nodeType&&11!=l.nodeType;){c=d.getStyle(l,"visibility");if("inherit"!=c)break;l=l.parentNode}"inherit"==c&&(c="visible")}if(f)if(f instanceof Array)for(m=f.length,g=0;g<m;g++)l=f[g],a[a.length]=l.effect(this,l.duration);else a[a.length]=f.effect(this,f.duration);if(r)if(x&&this.showMacGeckoScrollbars(),f){if(r&&("visible"!=c||""===c))for(this.beforeShowEvent.fire(),r=a.length,f=0;f<r;f++)c=a[f],0!==f||b(c.animateInCompleteEvent,this.showEvent.fire,
this.showEvent)||c.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,!0),c.animateIn()}else{if("visible"!=c||""===c)this.beforeShowEvent.fire(),d.setStyle(this.element,"visibility","visible"),d.setStyle(this.innerElement,"display","block"),this.cfg.refireEvent("iframe"),this.showEvent.fire()}else if(x&&this.hideMacGeckoScrollbars(),f)if("visible"==c)for(this.beforeHideEvent.fire(),r=a.length,c=0;c<r;c++)f=a[c],0!==c||b(f.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)||
f.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,!0),f.animateOut();else""===c&&d.setStyle(this.element,"visibility","hidden");else if("visible"==c||""===c)this.beforeHideEvent.fire(),d.setStyle(this.element,"visibility","hidden"),d.setStyle(this.innerElement,"display","none"),this.hideEvent.fire()},doCenterOnDOMEvent:function(){this.cfg.getProperty("visible")&&(pega&&pega.u&&pega.u.d&&pega.u.d.isModalLoaded()&&"modaldialog"==this.id||this.center())},configFixedCenter:function(a,
d,c){a=e.alreadySubscribed;c=b.windowResizeEvent;var f=b.windowScrollEvent;d[0]?(this.center(),a(this.beforeShowEvent,this.center,this)||this.beforeShowEvent.subscribe(this.center),a(c,this.doCenterOnDOMEvent,this)||c.subscribe(this.doCenterOnDOMEvent,this,!0),a(f,this.doCenterOnDOMEvent,this)||f.subscribe(this.doCenterOnDOMEvent,this,!0)):(this.beforeShowEvent.unsubscribe(this.center),c.unsubscribe(this.doCenterOnDOMEvent,this),f.unsubscribe(this.doCenterOnDOMEvent,this))},configHeight:function(a,
b,c){d.setStyle(this.element,"height",b[0]);this.cfg.refireEvent("iframe")},configWidth:function(a,b,c){d.setStyle(this.element,"width",b[0]);this.cfg.refireEvent("iframe")},configzIndex:function(a,b,c){a=b[0];b=this.element;a||(a=d.getStyle(b,"zIndex"),a&&!isNaN(a))||(a=0);(this.iframe||!0===this.cfg.getProperty("iframe"))&&0>=a&&(a=1);d.setStyle(b,"zIndex",a);this.cfg.setProperty("zIndex",a,!0);this.iframe&&this.stackIframe()},configXY:function(a,b,d){b=b[0];a=b[0];b=b[1];this.cfg.setProperty("x",
a);this.cfg.setProperty("y",b);this.beforeMoveEvent.fire([a,b]);a=this.cfg.getProperty("x");b=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([a,b])},configX:function(a,b,c){a=b[0];b=this.cfg.getProperty("y");this.cfg.setProperty("x",a,!0);this.cfg.setProperty("y",b,!0);this.beforeMoveEvent.fire([a,b]);a=this.cfg.getProperty("x");b=this.cfg.getProperty("y");d.setX(this.element,a,!0);this.cfg.setProperty("xy",[a,b],!0);this.cfg.refireEvent("iframe");this.moveEvent.fire([a,
b])},configY:function(a,b,c){a=this.cfg.getProperty("x");b=b[0];this.cfg.setProperty("x",a,!0);this.cfg.setProperty("y",b,!0);this.beforeMoveEvent.fire([a,b]);a=this.cfg.getProperty("x");b=this.cfg.getProperty("y");d.setY(this.element,b,!0);this.cfg.setProperty("xy",[a,b],!0);this.cfg.refireEvent("iframe");this.moveEvent.fire([a,b])},showIframe:function(){var a=this.iframe,b;a&&(b=this.element.parentNode,b!=a.parentNode&&this._addToParent(b,a),a.style.display="block")},hideIframe:function(){this.iframe&&
(this.iframe.style.display="none")},syncIframe:function(){var a=this.iframe,c=this.element,f=b.IFRAME_OFFSET,e=2*f;if(a){a.style.width=c.offsetWidth+e+"px";a.style.height=c.offsetHeight+e+"px";c=this.cfg.getProperty("xy");if(!k.isArray(c)||isNaN(c[0])||isNaN(c[1]))this.syncPosition(),c=this.cfg.getProperty("xy");d.setXY(a,[c[0]-f,c[1]-f])}},stackIframe:function(){if(this.iframe){var a=d.getStyle(this.element,"zIndex");pega.lang.isUndefined(a)||isNaN(a)||d.setStyle(this.iframe,"zIndex",a-1)}},configIframe:function(a,
c,d){function r(){var a=this.iframe,c=this.element;a||(f||(f=document.createElement("iframe"),this.isSecure&&(f.src=b.IFRAME_SRC),pega.env.ua.ie?(f.style.filter="alpha(opacity\x3d0)",f.frameBorder=0):f.style.opacity="0",f.style.position="absolute",f.style.border="none",f.style.margin="0",f.style.padding="0",f.style.display="none"),a=f.cloneNode(!1),c=c.parentNode,this._addToParent(c||document.body,a),this.iframe=a);this.showIframe();this.syncIframe();this.stackIframe();this._hasIframeEventListeners||
(this.showEvent.subscribe(this.showIframe),this.hideEvent.subscribe(this.hideIframe),this.changeContentEvent.subscribe(this.syncIframe),this._hasIframeEventListeners=!0)}function e(){r.call(this);this.beforeShowEvent.unsubscribe(e);this._iframeDeferred=!1}c[0]?this.cfg.getProperty("visible")?r.call(this):this._iframeDeferred||(this.beforeShowEvent.subscribe(e),this._iframeDeferred=!0):(this.hideIframe(),this._hasIframeEventListeners&&(this.showEvent.unsubscribe(this.showIframe),this.hideEvent.unsubscribe(this.hideIframe),
this.changeContentEvent.unsubscribe(this.syncIframe),this._hasIframeEventListeners=!1))},_primeXYFromDOM:function(){pega.lang.isUndefined(this.cfg.getProperty("xy"))&&(this.syncPosition(),this.cfg.refireEvent("xy"),this.beforeShowEvent.unsubscribe(this._primeXYFromDOM))},configConstrainToViewport:function(a,b,c){b[0]?(e.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)||this.beforeMoveEvent.subscribe(this.enforceConstraints,this,!0),e.alreadySubscribed(this.beforeShowEvent,this._primeXYFromDOM)||
this.beforeShowEvent.subscribe(this._primeXYFromDOM)):(this.beforeShowEvent.unsubscribe(this._primeXYFromDOM),this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this))},configContext:function(a,b,c){if(c=b[0])a=c[0],b=c[1],c=c[2],a&&("string"==typeof a&&this.cfg.setProperty("context",[document.getElementById(a),b,c],!0),b&&c&&this.align(b,c))},align:function(a,c){function f(c,d){switch(a){case b.TOP_LEFT:l.moveTo(d,c);break;case b.TOP_RIGHT:l.moveTo(d-m.offsetWidth,c);break;case b.BOTTOM_LEFT:l.moveTo(d,
c-m.offsetHeight);break;case b.BOTTOM_RIGHT:l.moveTo(d-m.offsetWidth,c-m.offsetHeight)}}var e=this.cfg.getProperty("context"),l=this,g,m;if(e&&(g=e[0],m=this.element,l=this,a||(a=e[1]),c||(c=e[2]),m&&g))switch(e=d.getRegion(g),c){case b.TOP_LEFT:f(e.top,e.left);break;case b.TOP_RIGHT:f(e.top,e.right);break;case b.BOTTOM_LEFT:f(e.bottom,e.left);break;case b.BOTTOM_RIGHT:f(e.bottom,e.right)}},enforceConstraints:function(a,b,c){a=b[0];a=this.getConstrainedXY(a[0],a[1]);this.cfg.setProperty("x",a[0],
!0);this.cfg.setProperty("y",a[1],!0);this.cfg.setProperty("xy",a,!0)},getConstrainedXY:function(a,c){var f=b.VIEWPORT_OFFSET,e=d.getViewportWidth(),l=d.getViewportHeight(),g=this.element.offsetHeight,m=this.element.offsetWidth,q=d.getDocumentScrollLeft(),v=d.getDocumentScrollTop(),p=a,k=c;if(m+f<e){var h=q+f,e=q+e-m-f;a<h?p=h:a>e&&(p=e)}else p=f+q;g+f<l?(a=v+f,f=v+l-g-f,c<a?k=a:c>f&&(k=f)):k=f+v;return[p,k]},center:function(){var a=b.VIEWPORT_OFFSET,c=this.element.offsetWidth,f=this.element.offsetHeight,
e=d.getViewportWidth(),l=d.getViewportHeight(),c=c<e?e/2-c/2+d.getDocumentScrollLeft():a+d.getDocumentScrollLeft(),a=f<l?l/2-f/2+d.getDocumentScrollTop():a+d.getDocumentScrollTop();this.cfg.setProperty("xy",[parseInt(c,10),parseInt(a,10)]);this.cfg.refireEvent("iframe")},syncPosition:function(){var a=d.getXY(this.element);this.cfg.setProperty("x",a[0],!0);this.cfg.setProperty("y",a[1],!0);this.cfg.setProperty("xy",a,!0)},onDomResize:function(a,c){var d=this;b.superclass.onDomResize.call(this,a,c);
setTimeout(function(){d.syncPosition();d.cfg.refireEvent("iframe");d.cfg.refireEvent("context")},0)},bringToTop:function(){var a=[],c=this.element;d.getElementsBy(function(f){var e=d.hasClass(f,b.CSS_OVERLAY),l=pega.widget.Panel;e&&!d.isAncestor(c,e)&&(l&&d.hasClass(f,l.CSS_PANEL)?a[a.length]=f.parentNode:a[a.length]=f)},"DIV",document.body);a.sort(function(a,b){a=d.getStyle(a,"zIndex");b=d.getStyle(b,"zIndex");a=!a||isNaN(a)?0:parseInt(a,10);b=!b||isNaN(b)?0:parseInt(b,10);return a>b?-1:a<b?1:0});
var f=a[0],e;if(f&&(e=d.getStyle(f,"zIndex"),!isNaN(e))){var l=!1;f!=c?l=!0:1<a.length&&(f=d.getStyle(a[1],"zIndex"),isNaN(f)||e!=f||(l=!0));l&&this.cfg.setProperty("zindex",parseInt(e,10)+2)}},destroy:function(){this.iframe&&this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;b.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);b.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);b.superclass.destroy.call(this)},toString:function(){return"Overlay "+this.id}})})();
(function(){pega.widget.OverlayManager=function(b){this.init(b)};var k=pega.widget.Overlay,h=pega.util.Event,n=pega.util.Dom,c=pega.util.Config,d=pega.util.CustomEvent,e=pega.widget.OverlayManager;e.CSS_FOCUSED="focused";e.prototype={constructor:e,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:!0});this.cfg.addProperty("focusevent",{value:"mousedown"})},init:function(b){this.cfg=new c(this);this.initDefaultConfig();b&&this.cfg.applyConfig(b,!0);this.cfg.fireQueue();
var d=null;this.getActive=function(){return d};this.focus=function(a){(a=this.find(a))&&d!=a&&(d&&d.blur(),this.bringToTop(a),d=a,n.addClass(d.element,e.CSS_FOCUSED),a.focusEvent.fire())};this.remove=function(a){a=this.find(a);var b;if(a){d==a&&(d=null);var c=null===a.element&&null===a.cfg?!0:!1;c||(b=n.getStyle(a.element,"zIndex"),a.cfg.setProperty("zIndex",-1E3,!0));this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,this.overlays.length-1);a.hideEvent.unsubscribe(a.blur);
a.destroyEvent.unsubscribe(this._onOverlayDestroy,a);c||(h.removeListener(a.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus),a.cfg.setProperty("zIndex",b,!0),a.cfg.setProperty("manager",null));a.focusEvent.unsubscribeAll();a.blurEvent.unsubscribeAll();a.focusEvent=null;a.blurEvent=null;a.focus=null;a.blur=null}};this.blurAll=function(){var a=this.overlays.length;if(0<a){--a;do this.overlays[a].blur();while(a--)}};this._onOverlayBlur=function(a,b){d=null};b=this.cfg.getProperty("overlays");
this.overlays||(this.overlays=[]);b&&(this.register(b),this.overlays.sort(this.compareZIndexDesc))},_onOverlayElementFocus:function(b){b=h.getTarget(b);var c=this.close;c&&(b==c||n.isAncestor(c,b))?this.blur():this.focus()},_onOverlayDestroy:function(b,c,a){this.remove(a)},register:function(b){var c=this,a,m,g;if(b instanceof k)return b.cfg.addProperty("manager",{value:this}),b.focusEvent=b.createEvent("focus"),b.focusEvent.signature=d.LIST,b.blurEvent=b.createEvent("blur"),b.blurEvent.signature=
d.LIST,b.focus=function(){c.focus(this)},b.blur=function(){c.getActive()==this&&(n.removeClass(this.element,e.CSS_FOCUSED),this.blurEvent.fire())},b.blurEvent.subscribe(c._onOverlayBlur),b.hideEvent.subscribe(b.blur),b.destroyEvent.subscribe(this._onOverlayDestroy,b,this),h.on(b.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus,null,b),a=n.getStyle(b.element,"zIndex"),isNaN(a)?b.cfg.setProperty("zIndex",0):b.cfg.setProperty("zIndex",parseInt(a,10)),this.overlays.push(b),this.bringToTop(b),
!0;if(b instanceof Array){a=0;g=b.length;for(m=0;m<g;m++)this.register(b[m])&&a++;if(0<a)return!0}else return!1},bringToTop:function(b){b=this.find(b);var c,a,d;if(b&&(d=this.overlays,d.sort(this.compareZIndexDesc),a=d[0])){c=n.getStyle(a.element,"zIndex");if(!isNaN(c)){var e=!1;a!==b?e=!0:1<d.length&&(a=n.getStyle(d[1].element,"zIndex"),isNaN(a)||c!=a||(e=!0));e&&b.cfg.setProperty("zindex",parseInt(c,10)+2)}d.sort(this.compareZIndexDesc)}},find:function(b){var c=this.overlays,a=c.length;if(0<a){--a;
if(b instanceof k){do if(c[a]==b)return c[a];while(a--)}else if("string"==typeof b){do if(c[a].id==b)return c[a];while(a--)}return null}},compareZIndexDesc:function(b,c){b=b.cfg?b.cfg.getProperty("zIndex"):null;c=c.cfg?c.cfg.getProperty("zIndex"):null;return null===b&&null===c?0:null===b?1:null===c?-1:b>c?-1:b<c?1:0},showAll:function(){var b=this.overlays,c=b.length;if(0<c){--c;do b[c].show();while(c--)}},hideAll:function(){var b=this.overlays,c=b.length;if(0<c){--c;do b[c].hide();while(c--)}},toString:function(){return"OverlayManager"}}})();
(function(){function k(a,b,c){a=c[0];b=c[1];var d=this.cfg;d.getProperty("width")==b&&d.setProperty("width",a);this.unsubscribe("hide",this._onHide,c)}function h(a,b){a=document.body;b=this.cfg;var c=b.getProperty("width"),d,e;c&&"auto"!=c||!(b.getProperty("container")!=a||b.getProperty("x")>=f.getViewportWidth()||b.getProperty("y")>=f.getViewportHeight())||(e=this.element.cloneNode(!0),e.style.visibility="hidden",e.style.top="0px",e.style.left="0px",a.appendChild(e),d=e.offsetWidth+"px",a.removeChild(e),
b.setProperty("width",d),b.refireEvent("xy"),this.subscribe("hide",k,[c||"",d]))}function n(a,b,c){this.render(c)}function c(){e.onDOMReady(n,this.cfg.getProperty("container"),this)}pega.widget.Tooltip=function(a,b){pega.widget.Tooltip.superclass.constructor.call(this,a,b)};var d=pega.lang,e=pega.util.Event,b=pega.util.CustomEvent,f=pega.util.Dom,a=pega.widget.Tooltip,m,g=d.isBoolean,p=["x","y","xy"],q=d.isNumber,w=d.isNumber,A=d.isNumber;a.CSS_TOOLTIP="yui-tt";pega.extend(a,pega.widget.Overlay,{init:function(b,
d){a.superclass.init.call(this,b);this.beforeInitEvent.fire(a);f.addClass(this.element,a.CSS_TOOLTIP);d&&this.cfg.applyConfig(d,!0);this.cfg.queueProperty("visible",!1);this.cfg.queueProperty("constraintoviewport",!0);this.setBody("");this.subscribe("beforeShow",h);this.subscribe("init",c);this.subscribe("render",this.onRender);this.initEvent.fire(a)},initEvents:function(){a.superclass.initEvents.call(this);var c=b.LIST;this.contextMouseOverEvent=this.createEvent("contextMouseOver");this.contextMouseOverEvent.signature=
c;this.contextMouseOutEvent=this.createEvent("contextMouseOut");this.contextMouseOutEvent.signature=c;this.contextTriggerEvent=this.createEvent("contextTrigger");this.contextTriggerEvent.signature=c},initDefaultConfig:function(){a.superclass.initDefaultConfig.call(this);this.cfg.addProperty("preventoverlap",{value:!0,validator:g,supercedes:p});this.cfg.addProperty("showdelay",{handler:this.configShowDelay,value:200,validator:q});this.cfg.addProperty("autodismissdelay",{handler:this.configAutoDismissDelay,
value:5E3,validator:w});this.cfg.addProperty("hidedelay",{handler:this.configHideDelay,value:250,validator:A});this.cfg.addProperty("text",{handler:this.configText,suppressEvent:!0});this.cfg.addProperty("container",{handler:this.configContainer,value:document.body});this.cfg.addProperty("disabled",{handler:this.configContainer,value:!1,supressEvent:!0})},configText:function(a,b,c){(a=b[0])&&this.setBody(a)},configContainer:function(a,b,c){a=b[0];"string"==typeof a&&this.cfg.setProperty("container",
document.getElementById(a),!0)},_removeEventListeners:function(){var a=this._context,b,c;if(a&&(b=a.length,0<b)){c=b-1;do b=a[c],e.removeListener(b,"mouseover",this.onContextMouseOver),e.removeListener(b,"mousemove",this.onContextMouseMove),e.removeListener(b,"mouseout",this.onContextMouseOut);while(c--)}},configContext:function(a,b,c){if(a=b[0])if(a instanceof Array||("string"==typeof a?this.cfg.setProperty("context",[document.getElementById(a)],!0):this.cfg.setProperty("context",[a],!0),a=this.cfg.getProperty("context")),
this._removeEventListeners(),a=this._context=a)if(b=a.length,0<b){c=b-1;do b=a[c],e.on(b,"mouseover",this.onContextMouseOver,this),e.on(b,"mousemove",this.onContextMouseMove,this),e.on(b,"mouseout",this.onContextMouseOut,this);while(c--)}},onContextMouseMove:function(a,b){b.pageX=e.getPageX(a);b.pageY=e.getPageY(a)},onContextMouseOver:function(a,b){this.title&&(b._tempTitle=this.title,this.title="");!1===b.fireEvent("contextMouseOver",this,a)||b.cfg.getProperty("disabled")||(b.hideProcId&&(clearTimeout(b.hideProcId),
b.hideProcId=null),e.on(this,"mousemove",b.onContextMouseMove,b),b.showProcId=b.doShow(a,this))},onContextMouseOut:function(a,b){b._tempTitle&&(this.title=b._tempTitle,b._tempTitle=null);b.showProcId&&(clearTimeout(b.showProcId),b.showProcId=null);b.hideProcId&&(clearTimeout(b.hideProcId),b.hideProcId=null);b.fireEvent("contextMouseOut",this,a);b.hideProcId=setTimeout(function(){b.hide()},b.cfg.getProperty("hidedelay"))},doShow:function(a,b){var c=25,d=this;pega.env.ua.opera&&b.tagName&&"A"==b.tagName.toUpperCase()&&
(c+=12);return setTimeout(function(){var a=d.cfg.getProperty("text");d._tempTitle&&(""===a||pega.lang.isUndefined(a)||pega.lang.isNull(a))?d.setBody(d._tempTitle):d.cfg.refireEvent("text");d.moveTo(d.pageX,d.pageY+c);d.cfg.getProperty("preventoverlap")&&d.preventOverlap(d.pageX,d.pageY);e.removeListener(b,"mousemove",d.onContextMouseMove);d.contextTriggerEvent.fire(b);d.show();d.hideProcId=d.doHide()},this.cfg.getProperty("showdelay"))},doHide:function(){var a=this;return setTimeout(function(){a.hide()},
this.cfg.getProperty("autodismissdelay"))},preventOverlap:function(a,b){var c=this.element.offsetHeight;a=new pega.util.Point(a,b);var d=f.getRegion(this.element);d.top-=5;d.left-=5;d.right+=5;d.bottom+=5;d.contains(a)&&this.cfg.setProperty("y",b-c-5)},onRender:function(a,b){function c(){var a=this.element,b=this._shadow;b&&(b.style.width=a.offsetWidth+6+"px",b.style.height=a.offsetHeight+1+"px")}function d(){f.addClass(this._shadow,"yui-tt-shadow-visible")}function e(){f.removeClass(this._shadow,
"yui-tt-shadow-visible")}function g(){var a=this._shadow,b,f,r,g;!a&&(b=this.element,f=pega.widget.Module,r=pega.env.ua.ie,g=this,m||(m=document.createElement("div"),m.className="yui-tt-shadow"),a=m.cloneNode(!1),b.appendChild(a),this._shadow=a,d.call(this),this.subscribe("beforeShow",d),this.subscribe("beforeHide",e),6==r||7==r&&"BackCompat"==document.compatMode)&&(window.setTimeout(function(){c.call(g)},0),this.cfg.subscribeToConfigEvent("width",c),this.cfg.subscribeToConfigEvent("height",c),this.subscribe("changeContent",
c),f.textResizeEvent.subscribe(c,this,!0),this.subscribe("destroy",function(){f.textResizeEvent.unsubscribe(c,this)}))}function q(){g.call(this);this.unsubscribe("beforeShow",q)}this.cfg.getProperty("visible")?g.call(this):this.subscribe("beforeShow",q)},destroy:function(){this._removeEventListeners();a.superclass.destroy.call(this)},toString:function(){return"Tooltip "+this.id}})})();
(function(){function k(a,b){!this.header&&this.cfg.getProperty("draggable")&&this.setHeader("\x26#160;")}function h(a,b,c){a=c[0];b=c[1];var d=this.cfg;d.getProperty("width")==b&&d.setProperty("width",a);this.unsubscribe("hide",h,c)}function n(a,b){a=pega.env.ua.ie;var c;if(6==a||7==a&&"BackCompat"==document.compatMode)a=this.cfg,b=a.getProperty("width"),b&&"auto"!=b||(c=this.element.offsetWidth+"px",a.setProperty("width",c),this.subscribe("hide",h,[b||"",c]))}pega.widget.Panel=function(a,b){pega.widget.Panel.superclass.constructor.call(this,
a,b)};var c=pega.lang,d=pega.util.DD,e=pega.util.Dom,b=pega.util.Event,f=pega.widget.Overlay,a=pega.util.CustomEvent,m=pega.util.Config,g=pega.widget.Panel,p,q,w,A=c.isBoolean,v=["visible"],l=d?!0:!1,t=c.isBoolean,u=["visible"],y=c.isBoolean,z=["draggable"],B=["visible"],C=c.isBoolean,x=["visible","zindex"],D=["visible"];g.CSS_PANEL="yui-panel";g.CSS_PANEL_CONTAINER="yui-panel-container";g.FOCUSABLE=["a","button","select","textarea","input"];pega.extend(g,f,{init:function(a,b){g.superclass.init.call(this,
a);this.beforeInitEvent.fire(g);e.addClass(this.element,g.CSS_PANEL);this.buildWrapper();b&&this.cfg.applyConfig(b,!0);this.subscribe("showMask",this._addFocusHandlers);this.subscribe("hideMask",this._removeFocusHandlers);this.subscribe("beforeRender",k);this.initEvent.fire(g)},_onElementFocus:function(a){this.blur()},_addFocusHandlers:function(a,c){b.addListener(document.documentElement,isIE?"focusin":"focus",this._onElementFocus)},_removeFocusHandlers:function(a,c){b.removeListener(document.documentElement,
isIE?"focusin":"focus",this._onElementFocus)},initEvents:function(){g.superclass.initEvents.call(this);var b=a.LIST;this.showMaskEvent=this.createEvent("showMask");this.showMaskEvent.signature=b;this.hideMaskEvent=this.createEvent("hideMask");this.hideMaskEvent.signature=b;this.dragEvent=this.createEvent("drag");this.dragEvent.signature=b},initDefaultConfig:function(){g.superclass.initDefaultConfig.call(this);this.cfg.addProperty("close",{handler:this.configClose,value:!0,validator:A,supercedes:v});
this.cfg.addProperty("draggable",{handler:this.configDraggable,value:l,validator:t,supercedes:u});this.cfg.addProperty("dragonly",{value:!1,validator:y,supercedes:z});this.cfg.addProperty("underlay",{handler:this.configUnderlay,value:"shadow",supercedes:B});this.cfg.addProperty("modal",{handler:this.configModal,value:!1,validator:C,supercedes:x});this.cfg.addProperty("keylisteners",{handler:this.configKeyListeners,suppressEvent:!0,supercedes:D})},configClose:function(a,c,d){function e(a,b){b.hide()}
a=this.close;c[0]?a?a.style.display="block":(w||(w=document.createElement("span"),w.innerHTML="\x26#160;",w.className="container-close"),a=w.cloneNode(!0),this.innerElement.appendChild(a),b.on(a,"click",e,this),this.close=a):a&&(a.style.display="none")},configDraggable:function(a,b,c){b[0]?d?(this.header&&(e.setStyle(this.header,"cursor","move"),this.registerDragDrop()),this.subscribe("beforeShow",n)):this.cfg.setProperty("draggable",!1):(this.dd&&this.dd.unreg(),this.header&&e.setStyle(this.header,
"cursor","auto"),this.unsubscribe("beforeShow",n))},configUnderlay:function(a,b,c){function d(){var a=this.underlay;e.addClass(a,"yui-force-redraw");window.setTimeout(function(){e.removeClass(a,"yui-force-redraw")},0)}function f(){p||(q||(q=document.createElement("div"),q.className="underlay"),p=q.cloneNode(!1),this.element.appendChild(p),this.underlay=p,l&&(this.sizeUnderlay(),this.cfg.subscribeToConfigEvent("width",this.sizeUnderlay),this.cfg.subscribeToConfigEvent("height",this.sizeUnderlay),this.changeContentEvent.subscribe(this.sizeUnderlay),
pega.widget.Module.textResizeEvent.subscribe(this.sizeUnderlay,this,!0)),r.webkit&&420>r.webkit&&this.changeContentEvent.subscribe(d))}function g(){!f.call(this)&&l&&this.sizeUnderlay();this._underlayDeferred=!1;this.beforeShowEvent.unsubscribe(g)}function m(){this._underlayDeferred&&(this.beforeShowEvent.unsubscribe(g),this._underlayDeferred=!1);p&&(this.cfg.unsubscribeFromConfigEvent("width",this.sizeUnderlay),this.cfg.unsubscribeFromConfigEvent("height",this.sizeUnderlay),this.changeContentEvent.unsubscribe(this.sizeUnderlay),
this.changeContentEvent.unsubscribe(d),pega.widget.Module.textResizeEvent.unsubscribe(this.sizeUnderlay,this,!0),this.element.removeChild(p),this.underlay=null)}var r=pega.env.ua;a="mac"==this.platform&&r.gecko;var l=6==r.ie||7==r.ie&&"BackCompat"==document.compatMode;b=b[0].toLowerCase();var p=this.underlay;c=this.element;switch(b){case "shadow":e.removeClass(c,"matte");e.addClass(c,"shadow");break;case "matte":a||m.call(this);e.removeClass(c,"shadow");e.addClass(c,"matte");break;default:a||m.call(this),
e.removeClass(c,"shadow"),e.removeClass(c,"matte")}if("shadow"==b||a&&!p)this.cfg.getProperty("visible")?!f.call(this)&&l&&this.sizeUnderlay():this._underlayDeferred||(this.beforeShowEvent.subscribe(g),this._underlayDeferred=!0)},configModal:function(a,b,c){b[0]?this._hasModalityEventListeners||(this.subscribe("beforeShow",this.buildMask),this.subscribe("beforeShow",this.bringToTop),this.subscribe("beforeShow",this.showMask),this.subscribe("hide",this.hideMask),f.windowResizeEvent.subscribe(this.sizeMask,
this,!0),this._hasModalityEventListeners=!0):this._hasModalityEventListeners&&(this.cfg.getProperty("visible")&&(this.hideMask(),this.removeMask()),this.unsubscribe("beforeShow",this.buildMask),this.unsubscribe("beforeShow",this.bringToTop),this.unsubscribe("beforeShow",this.showMask),this.unsubscribe("hide",this.hideMask),f.windowResizeEvent.unsubscribe(this.sizeMask,this),this._hasModalityEventListeners=!1)},removeMask:function(){var a=this.mask,b;a&&(this.hideMask(),(b=a.parentNode)&&b.removeChild(a),
this.mask=null)},configKeyListeners:function(a,b,c){a=b[0];var d;if(a)if(a instanceof Array)for(c=a.length,d=0;d<c;d++)b=a[d],m.alreadySubscribed(this.showEvent,b.enable,b)||this.showEvent.subscribe(b.enable,b,!0),m.alreadySubscribed(this.hideEvent,b.disable,b)||(this.hideEvent.subscribe(b.disable,b,!0),this.destroyEvent.subscribe(b.disable,b,!0));else m.alreadySubscribed(this.showEvent,a.enable,a)||this.showEvent.subscribe(a.enable,a,!0),m.alreadySubscribed(this.hideEvent,a.disable,a)||(this.hideEvent.subscribe(a.disable,
a,!0),this.destroyEvent.subscribe(a.disable,a,!0))},configHeight:function(a,b,c){e.setStyle(this.innerElement,"height",b[0]);this.cfg.refireEvent("iframe")},configWidth:function(a,b,c){e.setStyle(this.innerElement,"width",b[0]);this.cfg.refireEvent("iframe")},configzIndex:function(a,b,c){g.superclass.configzIndex.call(this,a,b,c);if(this.mask||!0===this.cfg.getProperty("modal")){a=e.getStyle(this.element,"zIndex");if(!a||isNaN(a))a=0;0===a?this.cfg.setProperty("zIndex",1):this.stackMask()}},buildWrapper:function(){var a=
this.element.parentNode,b=this.element,c=document.createElement("div");c.className=g.CSS_PANEL_CONTAINER;c.id=b.id+"_c";a&&a.insertBefore(c,b);c.appendChild(b);this.element=c;this.innerElement=b;e.setStyle(this.innerElement,"visibility","inherit")},sizeUnderlay:function(){var a=this.underlay,b;a&&(b=this.element,a.style.width=b.offsetWidth+"px",a.style.height=b.offsetHeight+"px")},registerDragDrop:function(){var a=this;if(this.header&&d){var b=!0===this.cfg.getProperty("dragonly");this.dd=new d(this.element.id,
this.id,{dragOnly:b});this.header.id||(this.header.id=this.id+"_h");this.dd.startDrag=function(){var b,c,d,g,m,q;6==pega.env.ua.ie&&e.addClass(a.element,"drag");if(a.cfg.getProperty("constraintoviewport")){var p=f.VIEWPORT_OFFSET;b=a.element.offsetHeight;c=a.element.offsetWidth;d=e.getViewportWidth();g=e.getViewportHeight();m=e.getDocumentScrollLeft();q=e.getDocumentScrollTop();b+p<g?(this.minY=q+p,this.maxY=q+g-b-p):(this.minY=q+p,this.maxY=q+p);c+p<d?(this.minX=m+p,this.maxX=m+d-c-p):(this.minX=
m+p,this.maxX=m+p);this.constrainY=this.constrainX=!0}else this.constrainY=this.constrainX=!1;a.dragEvent.fire("startDrag",arguments)};this.dd.onDrag=function(){a.syncPosition();a.cfg.refireEvent("iframe");"mac"==this.platform&&pega.env.ua.gecko&&this.showMacGeckoScrollbars();a.dragEvent.fire("onDrag",arguments)};this.dd.endDrag=function(){6==pega.env.ua.ie&&e.removeClass(a.element,"drag");a.dragEvent.fire("endDrag",arguments);a.moveEvent.fire(a.cfg.getProperty("xy"))};this.dd.setHandleElId(this.header.id);
this.dd.addInvalidHandleType("INPUT");this.dd.addInvalidHandleType("SELECT");this.dd.addInvalidHandleType("TEXTAREA")}},buildMask:function(){var a=this.mask;a||(p||(p=document.createElement("div"),p.className="mask",p.innerHTML="\x26#160;"),a=p.cloneNode(!0),a.id=this.id+"_mask",document.body.insertBefore(a,document.body.firstChild),this.mask=a,pega.env.ua.gecko&&"mac"==this.platform&&e.addClass(this.mask,"block-scrollbars"),6==pega.env.ua.ie&&(this.mask.style.background="#cccccc",this.mask.style.filter=
"alpha(opacity\x3d50)"),this.stackMask())},hideMask:function(){this.cfg.getProperty("modal")&&this.mask&&(this.mask.style.display="none",this.hideMaskEvent.fire(),6==pega.env.ua.ie&&e.removeClass(document.body,"masked"))},showMask:function(){this.cfg.getProperty("modal")&&this.mask&&(6==pega.env.ua.ie&&e.addClass(document.body,"masked"),this.sizeMask(),this.mask.style.display="block",this.showMaskEvent.fire())},sizeMask:function(){this.mask&&"none"!=this.mask.style.display&&(this.mask.style.height=
e.getDocumentHeight()+"px",this.mask.style.width=e.getDocumentWidth()+"px")},stackMask:function(){if(this.mask){var a=e.getStyle(this.element,"zIndex");pega.lang.isUndefined(a)||isNaN(a)||e.setStyle(this.mask,"zIndex",a-1)}},render:function(a){return g.superclass.render.call(this,a,this.innerElement)},destroy:function(){f.windowResizeEvent.unsubscribe(this.sizeMask,this);this.removeMask();this.close&&b.purgeElement(this.close);g.superclass.destroy.call(this)},toString:function(){return"Panel "+this.id}})})();
(function(){function k(){var a=this._aButtons,b,c;if(f.isArray(a)&&(b=a.length,0<b)){c=b-1;do b=a[c],pega.widget.Button&&b instanceof pega.widget.Button?b.destroy():"BUTTON"==b.tagName.toUpperCase()&&(h.purgeElement(b),h.purgeElement(b,!1));while(c--)}}pega.widget.Dialog=function(a,b){pega.widget.Dialog.superclass.constructor.call(this,a,b)};var h=pega.util.Event,n=pega.util.CustomEvent,c=pega.util.Dom,d=pega.util.KeyListener,e=pega.util.Connect,b=pega.widget.Dialog,f=pega.lang;b.CSS_DIALOG="yui-dialog";
pega.extend(b,pega.widget.Panel,{form:null,initDefaultConfig:function(){b.superclass.initDefaultConfig.call(this);this.callback={success:null,failure:null,argument:null};this.cfg.addProperty("postmethod",{handler:this.configPostMethod,value:"async",validator:function(a){return"form"!=a&&"async"!=a&&"none"!=a&&"manual"!=a?!1:!0}});this.cfg.addProperty("hideaftersubmit",{value:!0});this.cfg.addProperty("buttons",{handler:this.configButtons,value:"none"})},initEvents:function(){b.superclass.initEvents.call(this);
var a=n.LIST;this.beforeSubmitEvent=this.createEvent("beforeSubmit");this.beforeSubmitEvent.signature=a;this.submitEvent=this.createEvent("submit");this.submitEvent.signature=a;this.manualSubmitEvent=this.createEvent("manualSubmit");this.manualSubmitEvent.signature=a;this.asyncSubmitEvent=this.createEvent("asyncSubmit");this.asyncSubmitEvent.signature=a;this.formSubmitEvent=this.createEvent("formSubmit");this.formSubmitEvent.signature=a;this.cancelEvent=this.createEvent("cancel");this.cancelEvent.signature=
a},init:function(a,d){b.superclass.init.call(this,a);this.beforeInitEvent.fire(b);c.addClass(this.element,b.CSS_DIALOG);this.cfg.setProperty("visible",!1);d&&this.cfg.applyConfig(d,!0);this.showEvent.subscribe(this.focusFirst,this,!0);this.beforeHideEvent.subscribe(this.blurButtons,this,!0);this.subscribe("changeBody",this.registerForm);this.initEvent.fire(b)},doSubmit:function(){var a=this.form,b=!1,c=!1,d,f;switch(this.cfg.getProperty("postmethod")){case "async":d=a.elements;f=d.length;if(0<f){--f;
do if("file"==d[f].type){b=!0;break}while(f--)}b&&pega.env.ua.ie&&this.isSecure&&(c=!0);d=(a.getAttribute("method")||"POST").toUpperCase();e.setForm(a,b,c);e.asyncRequest(d,a.getAttribute("action"),this.callback);this.asyncSubmitEvent.fire();break;case "form":a.submit();this.formSubmitEvent.fire();break;case "none":case "manual":this.manualSubmitEvent.fire()}},registerForm:function(){var a=this.element.getElementsByTagName("form")[0],b;if(this.form){if(this.form==a&&c.isAncestor(this.element,this.form))return;
h.purgeElement(this.form);this.form=null}a||(a=document.createElement("form"),a.name="frm_"+this.id,this.body.appendChild(a));if(a&&(this.form=a,h.on(a,"submit",function(a){h.stopEvent(a);this.submit();this.form.blur()},this,!0),this.firstFormElement=function(){var b,c,d=a.elements.length;for(b=0;b<d;b++)if(c=a.elements[b],c.focus&&!c.disabled&&"hidden"!=c.type)return c;return null}(),this.lastFormElement=function(){var b,c;for(b=a.elements.length-1;0<=b;b--)if(c=a.elements[b],c.focus&&!c.disabled&&
"hidden"!=c.type)return c;return null}(),this.cfg.getProperty("modal"))){if(b=this.firstFormElement||this.firstButton)this.preventBackTab=new d(b,{shift:!0,keys:9},{fn:this.focusLast,scope:this,correctScope:!0}),this.showEvent.subscribe(this.preventBackTab.enable,this.preventBackTab,!0),this.hideEvent.subscribe(this.preventBackTab.disable,this.preventBackTab,!0);if(b=this.lastButton||this.lastFormElement)this.preventTabOut=new d(b,{shift:!1,keys:9},{fn:this.focusFirst,scope:this,correctScope:!0}),
this.showEvent.subscribe(this.preventTabOut.enable,this.preventTabOut,!0),this.hideEvent.subscribe(this.preventTabOut.disable,this.preventTabOut,!0)}},configClose:function(a,b,d){function e(a,b){b.cancel()}b[0]?this.close?this.close.style.display="block":(this.close=document.createElement("div"),c.addClass(this.close,"container-close"),this.close.innerHTML="\x26#160;",this.innerElement.appendChild(this.close),h.on(this.close,"click",e,this)):this.close&&(this.close.style.display="none")},configButtons:function(a,
b,d){a=pega.widget.Button;var e=b[0];b=this.innerElement;var g,m,n,v,l;k.call(this);this._aButtons=null;if(f.isArray(e)){d=document.createElement("span");d.className="button-group";v=e.length;this._aButtons=[];for(l=0;l<v;l++){g=e[l];if(a)n=new a({label:g.text,container:d}),m=n.get("element"),g.isDefault&&(n.addClass("default"),this.defaultHtmlButton=m),f.isFunction(g.handler)?n.set("onclick",{fn:g.handler,obj:this,scope:this}):f.isObject(g.handler)&&f.isFunction(g.handler.fn)&&n.set("onclick",{fn:g.handler.fn,
obj:f.isUndefined(g.handler.obj)?this:g.handler.obj,scope:g.handler.scope||this}),this._aButtons[this._aButtons.length]=n;else{m=document.createElement("button");m.setAttribute("type","button");g.isDefault&&(m.className="default",this.defaultHtmlButton=m);m.innerHTML=g.text;if(f.isFunction(g.handler))h.on(m,"click",g.handler,this,!0);else if(f.isObject(g.handler)&&f.isFunction(g.handler.fn))h.on(m,"click",g.handler.fn,f.isUndefined(g.handler.obj)?this:g.handler.obj,g.handler.scope||this);d.appendChild(m);
this._aButtons[this._aButtons.length]=m}g.htmlButton=m;0===l&&(this.firstButton=m);l==v-1&&(this.lastButton=m)}this.setFooter(d);a=this.footer;c.inDocument(this.element)&&!c.isAncestor(b,a)&&b.appendChild(a);this.buttonSpan=d}else d=this.buttonSpan,a=this.footer,d&&a&&(a.removeChild(d),this.defaultHtmlButton=this.lastButton=this.firstButton=this.buttonSpan=null);this.cfg.refireEvent("iframe");this.cfg.refireEvent("underlay")},getButtons:function(){var a=this._aButtons;if(a)return a},focusFirst:function(a,
b,c){a=this.firstFormElement;b&&(b=b[1])&&h.stopEvent(b);if(a)try{a.focus()}catch(p){}else this.focusDefaultButton()},focusLast:function(a,b,c){a=this.cfg.getProperty("buttons");c=this.lastFormElement;b&&(b=b[1])&&h.stopEvent(b);if(a&&f.isArray(a))this.focusLastButton();else if(c)try{c.focus()}catch(p){}},focusDefaultButton:function(){var a=this.defaultHtmlButton;if(a)try{a.focus()}catch(m){}},blurButtons:function(){var a=this.cfg.getProperty("buttons"),b,c;if(a&&f.isArray(a)&&(b=a.length,0<b)){--b;
do if(c=a[b])if(c=c.htmlButton)try{c.blur()}catch(p){}while(b--)}},focusFirstButton:function(){var a=this.cfg.getProperty("buttons");if(a&&f.isArray(a)&&(a=a[0])&&(a=a.htmlButton))try{a.focus()}catch(m){}},focusLastButton:function(){var a=this.cfg.getProperty("buttons"),b;if(a&&f.isArray(a)&&(b=a.length,0<b&&(a=a[b-1]))&&(a=a.htmlButton))try{a.focus()}catch(g){}},configPostMethod:function(a,b,c){this.registerForm()},validate:function(){return!0},submit:function(){return this.validate()?(this.beforeSubmitEvent.fire(),
this.doSubmit(),this.submitEvent.fire(),this.cfg.getProperty("hideaftersubmit")&&this.hide(),!0):!1},cancel:function(){this.cancelEvent.fire();this.hide()},getData:function(){function a(a){var b=a.tagName.toUpperCase();return("INPUT"==b||"TEXTAREA"==b||"SELECT"==b)&&a.name==k}var b=this.form,d,e,f,k,h,n,l,t,u,y,z;if(b)for(d=b.elements,e=d.length,f={},z=0;z<e;z++)if(k=d[z].name,h=c.getElementsBy(a,"*",b),n=h.length,0<n)if(1==n)switch(h=h[0],l=h.type,t=h.tagName.toUpperCase(),t){case "INPUT":"checkbox"==
l?f[k]=h.checked:"radio"!=l&&(f[k]=h.value);break;case "TEXTAREA":f[k]=h.value;break;case "SELECT":h=h.options;n=h.length;t=[];for(l=0;l<n;l++)u=h[l],u.selected&&(y=u.value,y&&""!==y||(y=u.text),t[t.length]=y);f[k]=t}else switch(l=h[0].type,l){case "radio":for(l=0;l<n;l++)if(t=h[l],t.checked){f[k]=t.value;break}break;case "checkbox":t=[];for(l=0;l<n;l++)u=h[l],u.checked&&(t[t.length]=u.value);f[k]=t}return f},destroy:function(){k.call(this);this._aButtons=null;var a=this.element.getElementsByTagName("form");
0<a.length&&(a=a[0])&&(h.purgeElement(a),a.parentNode&&a.parentNode.removeChild(a),this.form=null);b.superclass.destroy.call(this)},toString:function(){return"Dialog "+this.id}})})();
(function(){pega.widget.SimpleDialog=function(c,d){pega.widget.SimpleDialog.superclass.constructor.call(this,c,d)};var k=pega.util.Dom,h=pega.widget.SimpleDialog,n=["icon"];h.ICON_BLOCK="blckicon";h.ICON_ALARM="alrticon";h.ICON_HELP="hlpicon";h.ICON_INFO="infoicon";h.ICON_WARN="warnicon";h.ICON_TIP="tipicon";h.ICON_CSS_CLASSNAME="yui-icon";h.CSS_SIMPLEDIALOG="yui-simple-dialog";pega.extend(h,pega.widget.Dialog,{initDefaultConfig:function(){h.superclass.initDefaultConfig.call(this);this.cfg.addProperty("icon",
{handler:this.configIcon,value:"none",suppressEvent:!0});this.cfg.addProperty("text",{handler:this.configText,value:"",suppressEvent:!0,supercedes:n})},init:function(c,d){h.superclass.init.call(this,c);this.beforeInitEvent.fire(h);k.addClass(this.element,h.CSS_SIMPLEDIALOG);this.cfg.queueProperty("postmethod","manual");d&&this.cfg.applyConfig(d,!0);this.beforeRenderEvent.subscribe(function(){this.body||this.setBody("")},this,!0);this.initEvent.fire(h)},registerForm:function(){h.superclass.registerForm.call(this);
this.form.innerHTML+='\x3cinput type\x3d"hidden" name\x3d"'+this.id+'" value\x3d""/\x3e'},configIcon:function(c,d,e){c=d[0];d=this.body;e=h.ICON_CSS_CLASSNAME;var b,f;c&&"none"!=c&&((b=k.getElementsByClassName(e,"*",d))&&(f=b.parentNode)&&f.removeChild(b),-1==c.indexOf(".")?(b=document.createElement("span"),b.className=e+" "+c,b.innerHTML="\x26#160;"):(b=document.createElement("img"),b.src=this.imageRoot+c,b.className=e),b&&d.insertBefore(b,d.firstChild))},configText:function(c,d,e){if(c=d[0])this.setBody(c),
this.cfg.refireEvent("icon")},toString:function(){return"SimpleDialog "+this.id}})})();
(function(){pega.widget.ContainerEffect=function(c,e,b,f,a){a||(a=pega.util.Anim);this.overlay=c;this.attrIn=e;this.attrOut=b;this.targetElement=f||c.element;this.animClass=a};var k=pega.util.Dom,h=pega.util.CustomEvent,n=pega.util.Easing,c=pega.widget.ContainerEffect;c.FADE=function(d,e){e=new c(d,{attributes:{opacity:{from:0,to:1}},duration:e,method:n.easeIn},{attributes:{opacity:{to:0}},duration:e,method:n.easeOut},d.element);e.handleUnderlayStart=function(){var b=this.overlay.underlay;b&&pega.env.ua.ie&&
b.filters&&0<b.filters.length&&k.addClass(d.element,"yui-effect-fade")};e.handleUnderlayComplete=function(){this.overlay.underlay&&pega.env.ua.ie&&k.removeClass(d.element,"yui-effect-fade")};e.handleStartAnimateIn=function(b,c,a){k.addClass(a.overlay.element,"hide-select");a.overlay.underlay||a.overlay.cfg.refireEvent("underlay");a.handleUnderlayStart();k.setStyle(a.overlay.element,"visibility","visible");k.setStyle(a.overlay.element,"opacity",0)};e.handleCompleteAnimateIn=function(b,c,a){k.removeClass(a.overlay.element,
"hide-select");a.overlay.element.style.filter&&(a.overlay.element.style.filter=null);a.handleUnderlayComplete();a.overlay.cfg.refireEvent("iframe");a.animateInCompleteEvent.fire()};e.handleStartAnimateOut=function(b,c,a){k.addClass(a.overlay.element,"hide-select");a.handleUnderlayStart()};e.handleCompleteAnimateOut=function(b,c,a){k.removeClass(a.overlay.element,"hide-select");a.overlay.element.style.filter&&(a.overlay.element.style.filter=null);k.setStyle(a.overlay.element,"visibility","hidden");
k.setStyle(a.overlay.element,"opacity",1);a.handleUnderlayComplete();a.overlay.cfg.refireEvent("iframe");a.animateOutCompleteEvent.fire()};e.init();return e};c.SLIDE=function(d,e){var b=d.cfg.getProperty("x")||k.getX(d.element),f=d.cfg.getProperty("y")||k.getY(d.element),a=k.getClientWidth(),h=d.element.offsetWidth;d=new c(d,{attributes:{points:{to:[b,f]}},duration:e,method:n.easeIn},{attributes:{points:{to:[a+25,f]}},duration:e,method:n.easeOut},d.element,pega.util.Motion);d.handleStartAnimateIn=
function(a,b,c){c.overlay.element.style.left=-25-h+"px";c.overlay.element.style.top=f+"px"};d.handleTweenAnimateIn=function(a,c,d){c=k.getXY(d.overlay.element);a=c[0];c=c[1];"hidden"==k.getStyle(d.overlay.element,"visibility")&&a<b&&k.setStyle(d.overlay.element,"visibility","visible");d.overlay.cfg.setProperty("xy",[a,c],!0);d.overlay.cfg.refireEvent("iframe")};d.handleCompleteAnimateIn=function(a,c,d){d.overlay.cfg.setProperty("xy",[b,f],!0);d.startX=b;d.startY=f;d.overlay.cfg.refireEvent("iframe");
d.animateInCompleteEvent.fire()};d.handleStartAnimateOut=function(a,b,c){a=k.getViewportWidth();b=k.getXY(c.overlay.element)[1];c.animOut.attributes.points.to=[a+25,b]};d.handleTweenAnimateOut=function(a,b,c){a=k.getXY(c.overlay.element);c.overlay.cfg.setProperty("xy",[a[0],a[1]],!0);c.overlay.cfg.refireEvent("iframe")};d.handleCompleteAnimateOut=function(a,c,d){k.setStyle(d.overlay.element,"visibility","hidden");d.overlay.cfg.setProperty("xy",[b,f]);d.animateOutCompleteEvent.fire()};d.init();return d};
c.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn");this.beforeAnimateInEvent.signature=h.LIST;this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut");this.beforeAnimateOutEvent.signature=h.LIST;this.animateInCompleteEvent=this.createEvent("animateInComplete");this.animateInCompleteEvent.signature=h.LIST;this.animateOutCompleteEvent=this.createEvent("animateOutComplete");this.animateOutCompleteEvent.signature=h.LIST;this.animIn=new this.animClass(this.targetElement,
this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);
this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this)},animateIn:function(){this.beforeAnimateInEvent.fire();this.animIn.animate()},animateOut:function(){this.beforeAnimateOutEvent.fire();this.animOut.animate()},handleStartAnimateIn:function(c,e,b){},handleTweenAnimateIn:function(c,e,b){},handleCompleteAnimateIn:function(c,e,b){},handleStartAnimateOut:function(c,e,b){},handleTweenAnimateOut:function(c,e,b){},handleCompleteAnimateOut:function(c,e,b){},toString:function(){var c="ContainerEffect";
this.overlay&&(c+=" ["+this.overlay.toString()+"]");return c}};pega.lang.augmentProto(c,pega.util.EventProvider)})();pega.register("container",pega.widget.Module,{version:"2.5.2",build:"1076"});
var gEventType="Refresh Section",uwtUserStart=0;function setUserStart(a){uwtUserStart=(new Date).getTime();"undefined"!==typeof a&&(gEventType=a)}"function"==typeof desktopwrappersupport_getDesktopWindow&&(pega.u.d.myDesktop=desktopwrappersupport_getDesktopWindow());function doFormSubmit(a,b,c,d){return pega.u.d.submit(a,b,c,d)}function openUrlInWindow(a,b,c,d,e){return pega.u.d.openUrlInWindow(a,b,c,d,e)}function shrinkToFit(){pega.u.d.shrinkToFit()}
function checkContainersExpanded(){"function"===typeof pega.u.d.checkContainersExpanded&&pega.u.d.checkContainersExpanded()}function doHarnessResize(){try{pega.u.d.doHarnessResize()}catch(a){}}function selectTab(a){pega.u.d.selectTab(a)}function doClose(a){pega.ui.NavigateTopHandler?pega.desktop.activateDocument(0):pega.u.d.doClose(a)}function ShowSubscriptPrompt(a,b,c,d,e,f){pega.u.d.ShowSubscriptPrompt(a,b,c,d,e,f)}function AppendToGroup(a,b,c,d,e,f,g){pega.u.d.AppendToGroup(a,b,c,d,e,f,g)}
function RemoveFromGroup(a,b,c,d,e,f){pega.u.d.RemoveFromGroup(a,b,c,d,e,f)}function expandIt(a,b){"function"===typeof pega.u.d.expandIt&&pega.u.d.expandIt(a,b)}function expandHeader(a,b,c,d){"function"===typeof pega.u.d.expandHeader&&pega.u.d.expandHeader(a,b,c,d)}function displayFormErrors(a){pega.u.d.displayFormErrors(a)}function toggleExpandCollapse(a){"function"===typeof pega.u.d.toggleExpandCollapse&&pega.u.d.toggleExpandCollapse(a)}
function customActivityInPopup(a,b,c,d){pega.u.d.customActivityInPopup(a,b,c,d)}function attachAccessKeys(){pega.u.d.attachAccessKeys()}function loadContainer(a,b,c){pega.u.d.loadContainer(a,b,c)}function h_isHarness(a){var b=window;"PARENT"==a&&(b=window.parent);return b.document.getElementById("PEGA_HARNESS")?!0:!1}function handleUpdate(a){pega.u.d.handleUpdate(a)}function doSave(a,b,c){pega.u.d.doSave(a,b,c)}
function processAction(a,b,c,d,e,f,g,h,k,l,m){pega.u.d.processAction(a,b,c,d,e,f,g,h,k,l,m)}function AppendToList(a,b,c,d,e,f,g){pega.u.d.AppendToList(a,b,c,d,e,f,g)}function RemoveFromList(a,b,c,d,e,f){pega.u.d.RemoveFromList(a,b,c,d,e,f)}function handleClientEvent(a,b,c,d,e,f){pega.u.d.handleClientEvent(a,b,c,d,e,f)}function doPrintDiv(a){pega.u.d.doPrintDiv(a)}function harnessOnLoad(){pega.u.d.harnessOnLoad()}function harnessOnUnload(){pega.u.d.harnessOnUnload()}
function disableAllOtherButtons(a){pega.u.d.disableAllOtherButtons(a)}function makeButtonBusy(a,b){pega.u.d.makeButtonBusy(a,b)}function explorerFormIsDirty(){return pega.u.d.explorerFormIsDirty()}function reSubmit(a){pega.u.d.reSubmit(a)}function displayHelp(a){pega.u.d.displayHelp(a)}function doSubmit(a){doFormSubmit("pyActivity\x3dFinishAssignment",null,"",a)}function doModalAction(a,b){null!=a&&pega.u.d.doModalAction(a,b)}function doOverlayAction(a,b){pega.u.d.doOverlayAction(a,b)}
function takeAction(a,b,c,d,e,f,g){pega.u.d.takeAction(a,b,c,d,e,f,g)}function checkEnterKey(a){pega.u.d.checkEnterKey(a)}function checkEnterKeyNoSubmit(a){pega.u.d.checkEnterKeyNoSubmit(a)}function pd(a){pega.util&&pega.util.Event&&pega.util.Event.preventDefault(a)}function alertIgnoreActions(a){alert('One or more actions configured on this control cannot be supported in offline mode. Hence all actions configured for "'+a.type+'" are ignored.')}
function addRDLRow(a,b){pega.ui&&pega.ui.template&&pega.ui.template.RDL&&pega.ui.template.RDL.addRow(a,b)}function removeRDLRow(a){pega.ui&&pega.ui.template&&pega.ui.template.RDL&&pega.ui.template.RDL.removeRow(a)}
function addToRepeatSource(a,b,c,d,e,f,g,h){if(h&&"true"==h){var k=pega.ui.DataRepeaterUtils.getSourcePageList(b[0],a);pega.desktop.DataRepeater.addToRepeatSourceWithoutLA(a,k,c,f,h,b[1])}else pega.u.d.ServerProxy.isDestinationLocal()?pega.ui&&pega.ui.template&&pega.ui.template.DataRepeater&&pega.ui.template.DataRepeater.addToRepeatSourceUsingLA(a,b,c,d,e,f,g):pega.ui&&pega.ui.DataRepeaterUtils&&pega.desktop&&pega.desktop.DataRepeater&&(k=pega.ui.DataRepeaterUtils.getSourcePageList(b,a),pega.desktop.DataRepeater.addToRepeatSourceUsingLA(a,
k,c,d,e,f,g))}
function removeFromRepeatSource(a,b){if(pega.ui&&pega.ui.DataRepeaterUtils){var c=pega.ui.DataRepeaterUtils.getLayoutType(a);if("template-grid"===c)pega.ui.template.DataRepeater.Actions.doListAction(a,"DELETEITEM",b);else if("grid"==c)doGridAction(a,"DELETE");else if("repeat-layout"==c||"dlgrepeat-layout"==c)b="dlgrepeat-layout"==c?pega.ui.DataRepeaterUtils.getAbsoluteDataSourceFromEvent(a,!0):pega.ui.DataRepeaterUtils.getAbsoluteDataSourceFromEvent(a),"dlgrepeat-layout"==c?(a=$(pega.util.Event.getTarget(a)).closest("[data-lg-repeatsource]"),(a=
pega.u.d.getBaseRef(a))||(a=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName")),b.sectionContext=a):b.sectionContext=pega.ui.DataRepeaterUtils.getRepeatLayoutSectionContext(a),pega.u.d.ServerProxy.isDestinationLocal()?pega.ui.template&&pega.ui.template.DataRepeater&&pega.ui.template.DataRepeater.removeFromRepeatSource(b):pega.desktop&&pega.desktop.DataRepeater&&pega.desktop.DataRepeater.removeFromRepeatSource(b)}}
function editRepeatItem(a){if(pega.ui&&pega.ui.DataRepeaterUtils){var b=pega.ui.DataRepeaterUtils.getLayoutType(a);"template-grid"===b?pega.ui.template.DataRepeater.Actions.doListAction(a,"EDITITEM"):"grid"==b?doGridAction(a,"EDITITEM"):pega.ui&&pega.ui.rdlMasterDetails&&pega.ui.rdlMasterDetails.showDetails(a)}}
function loadMoreData(a){pega.ui&&pega.ui.DataRepeaterUtils&&(pega.ui.DataRepeaterUtils.getLayoutType(a),pega.desktop&&pega.desktop.DataRepeater&&pega.desktop.DataRepeater.loadMoreData(a))}function preventDocOnBeforeUnload(a){pega.u.d.deletedDocuments=!0};
/*

 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function(c,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):"object"===typeof exports?exports.Handlebars=b():c.Handlebars=b()})(this,function(){return function(c){function b(d){if(a[d])return a[d].exports;var e=a[d]={exports:{},id:d,loaded:!1};c[d].call(e.exports,e,e.exports,b);e.loaded=!0;return e.exports}var a={};b.m=c;b.c=a;b.p="";return b(0)}([function(c,b,a){function d(){var a=new m.HandlebarsEnvironment;q.extend(a,
m);a.SafeString=l["default"];a.Exception=k["default"];a.Utils=q;a.escapeExpression=q.escapeExpression;a.VM=y;a.template=function(b){return y.template(b,a)};return a}var e=a(1)["default"],f=a(2)["default"];b.__esModule=!0;var g=a(3),m=e(g),g=a(36),l=f(g),g=a(5),k=f(g),g=a(4),q=e(g),g=a(37),y=e(g);a=a(43);f=f(a);a=d();a.create=d;f["default"](a);a["default"]=a;b["default"]=a;c.exports=b["default"]},function(c,b){b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&(b[c]=a[c]);b["default"]=a;return b};b.__esModule=!0},function(c,b){b["default"]=function(a){return a&&a.__esModule?a:{"default":a}};b.__esModule=!0},function(c,b,a){function d(a,b,c){this.helpers=a||{};this.partials=b||{};this.decorators=c||{};m.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}c=a(2)["default"];b.__esModule=!0;b.HandlebarsEnvironment=d;var e=a(4),f=a(5),g=c(f),m=a(9),l=a(29),f=a(31);c=c(f);var k=a(32);b.VERSION="4.7.7";b.COMPILER_REVISION=8;b.LAST_COMPATIBLE_COMPILER_REVISION=
7;b.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0 \x3c4.3.0",8:"\x3e\x3d 4.3.0"};d.prototype={constructor:d,logger:c["default"],log:c["default"].log,registerHelper:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new g["default"]("Arg not supported with multiple helpers");e.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},
registerPartial:function(a,b){if("[object Object]"===e.toString.call(a))e.extend(this.partials,a);else{if("undefined"===typeof b)throw new g["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if("[object Object]"===e.toString.call(a)){if(b)throw new g["default"]("Arg not supported with multiple decorators");e.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]},
resetLoggedPropertyAccesses:function(){k.resetLoggedProperties()}};b.log=c["default"].log;b.createFrame=e.createFrame;b.logger=c["default"]},function(c,b){function a(a){return e[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}b.__esModule=!0;b.extend=d;b.indexOf=function(a,b){for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1};b.escapeExpression=function(b){if("string"!==typeof b){if(b&&
b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+"";b=""+b}return g.test(b)?b.replace(f,a):b};b.isEmpty=function(a){return a||0===a?l(a)&&0===a.length?!0:!1:!0};b.createFrame=function(a){var b=d({},a);b._parent=a;return b};b.blockParams=function(a,b){a.path=b;return a};b.appendContextPath=function(a,b){return(a?a+".":"")+b};var e={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;"},f=/[&<>"'`]/g,g=/[&<>"'`]/,m=Object.prototype.toString;
b.toString=m;c=function(a){return"function"===typeof a};c(/x/)&&(b.isFunction=c=function(a){return"function"===typeof a&&"[object Function]"===m.call(a)});b.isFunction=c;var l=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===m.call(a):!1};b.isArray=l},function(c,b,a){function d(a,b){b=b&&b.loc;var c=void 0,g=void 0,q=void 0,m=void 0;b&&(c=b.start.line,g=b.end.line,q=b.start.column,m=b.end.column,a+=" - "+c+":"+q);a=Error.prototype.constructor.call(this,a);for(var p=0;p<
f.length;p++)this[f[p]]=a[f[p]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{b&&(this.lineNumber=c,this.endLineNumber=g,e?(Object.defineProperty(this,"column",{value:q,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:m,enumerable:!0})):(this.column=q,this.endColumn=m))}catch(r){}}var e=a(6)["default"];b.__esModule=!0;var f="description fileName lineNumber endLineNumber message name number stack".split(" ");d.prototype=Error();b["default"]=d;c.exports=b["default"]},function(c,
b,a){c.exports={"default":a(7),__esModule:!0}},function(c,b,a){var d=a(8);c.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(c,b){b=Object;c.exports={create:b.create,getProto:b.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:b.getOwnPropertyDescriptor,setDesc:b.defineProperty,setDescs:b.defineProperties,getKeys:b.keys,getNames:b.getOwnPropertyNames,getSymbols:b.getOwnPropertySymbols,each:[].forEach}},function(c,b,a){c=a(2)["default"];b.__esModule=!0;b.registerDefaultHelpers=function(a){d["default"](a);
e["default"](a);f["default"](a);g["default"](a);m["default"](a);l["default"](a);k["default"](a)};b.moveHelperToHooks=function(a,b,c){a.helpers[b]&&(a.hooks[b]=a.helpers[b],c||delete a.helpers[b])};b=a(10);var d=c(b);b=a(11);var e=c(b);b=a(24);var f=c(b);b=a(25);var g=c(b);b=a(26);var m=c(b);b=a(27);var l=c(b);a=a(28);var k=c(a)},function(c,b,a){b.__esModule=!0;var d=a(4);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(!0===b)return f(this);if(!1===
b||null==b)return e(this);if(d.isArray(b))return 0<b.length?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);c.data&&c.ids&&(e=d.createFrame(c.data),e.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:e});return f(b,c)})};c.exports=b["default"]},function(c,b,a){(function(d){var e=a(12)["default"],f=a(2)["default"];b.__esModule=!0;var g=a(4),m=a(5),l=f(m);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,e){n&&(n.key=b,n.index=c,n.first=0===c,n.last=
!!e,h&&(n.contextPath=h+b));q+=f(a[b],{data:n,blockParams:g.blockParams([a[b],b],[h+b,null])})}if(!b)throw new l["default"]("Must pass iterator to #each");var f=b.fn,m=b.inverse,k=0,q="",n=void 0,h=void 0;b.data&&b.ids&&(h=g.appendContextPath(b.data.contextPath,b.ids[0])+".");g.isFunction(a)&&(a=a.call(this));b.data&&(n=g.createFrame(b.data));if(a&&"object"===typeof a)if(g.isArray(a))for(b=a.length;k<b;k++)k in a&&c(k,k,k===a.length-1);else if(d.Symbol&&a[d.Symbol.iterator]){b=[];for(var z=a[d.Symbol.iterator](),
x=z.next();!x.done;x=z.next())b.push(x.value);a=b;for(b=a.length;k<b;k++)c(k,k,k===a.length-1)}else(function(){var b=void 0;e(a).forEach(function(a){void 0!==b&&c(b,k-1);b=a;k++});void 0!==b&&c(b,k-1,!0)})();0===k&&(q=m(this));return q})};c.exports=b["default"]}).call(b,function(){return this}())},function(c,b,a){c.exports={"default":a(13),__esModule:!0}},function(c,b,a){a(14);c.exports=a(20).Object.keys},function(c,b,a){var d=a(15);a(17)("keys",function(a){return function(b){return a(d(b))}})},function(c,
b,a){var d=a(16);c.exports=function(a){return Object(d(a))}},function(c,b){c.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(c,b,a){var d=a(18),e=a(20),f=a(23);c.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c);d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(c,b,a){var d=a(19),e=a(20),f=a(21),g=function(a,b,c){var m=a&g.F,k=a&g.G,l=a&g.S,r=a&g.P,u=a&g.B;a&=g.W;var w=k?e:e[b]||(e[b]={}),l=k?d:l?d[b]:(d[b]||{}).prototype,t,
n;k&&(c=b);for(t in c)b=!m&&l&&t in l,b&&t in w||(n=b?l[t]:c[t],w[t]=k&&"function"!=typeof l[t]?c[t]:u&&b?f(n,d):a&&l[t]==n?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};b.prototype=a.prototype;return b}(n):r&&"function"==typeof n?f(Function.call,n):n,r&&((w.prototype||(w.prototype={}))[t]=n))};g.F=1;g.G=2;g.S=4;g.P=8;g.B=16;g.W=32;c.exports=g},function(c,b){c=c.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();
"number"==typeof __g&&(__g=c)},function(c,b){c=c.exports={version:"1.2.6"};"number"==typeof __e&&(__e=c)},function(c,b,a){var d=a(22);c.exports=function(a,b,c){d(a);if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(c,b){c.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},
function(c,b){c.exports=function(a){try{return!!a()}catch(d){return!0}}},function(c,b,a){var d=a(2)["default"];b.__esModule=!0;a=a(5);var e=d(a);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};c.exports=b["default"]},function(c,b,a){var d=a(2)["default"];b.__esModule=!0;var e=a(4);a=a(5);var f=d(a);b["default"]=function(a){a.registerHelper("if",function(a,b){if(2!=arguments.length)throw new f["default"]("#if requires exactly one argument");
e.isFunction(a)&&(a=a.call(this));return!b.hash.includeZero&&!a||e.isEmpty(a)?b.inverse(this):b.fn(this)});a.registerHelper("unless",function(b,c){if(2!=arguments.length)throw new f["default"]("#unless requires exactly one argument");return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})};c.exports=b["default"]},function(c,b){b.__esModule=!0;b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],f=0;f<arguments.length-1;f++)b.push(arguments[f]);
f=1;null!=c.hash.level?f=c.hash.level:c.data&&null!=c.data.level&&(f=c.data.level);b[0]=f;a.log.apply(a,b)})};c.exports=b["default"]},function(c,b){b.__esModule=!0;b["default"]=function(a){a.registerHelper("lookup",function(a,b,c){return a?c.lookupProperty(a,b):a})};c.exports=b["default"]},function(c,b,a){var d=a(2)["default"];b.__esModule=!0;var e=a(4);a=a(5);var f=d(a);b["default"]=function(a){a.registerHelper("with",function(a,b){if(2!=arguments.length)throw new f["default"]("#with requires exactly one argument");
e.isFunction(a)&&(a=a.call(this));var c=b.fn;if(e.isEmpty(a))return b.inverse(this);var d=b.data;b.data&&b.ids&&(d=e.createFrame(b.data),d.contextPath=e.appendContextPath(b.data.contextPath,b.ids[0]));return c(a,{data:d,blockParams:e.blockParams([a],[d&&d.contextPath])})})};c.exports=b["default"]},function(c,b,a){c=a(2)["default"];b.__esModule=!0;b.registerDefaultDecorators=function(a){d["default"](a)};b=a(30);var d=c(b)},function(c,b,a){b.__esModule=!0;var d=a(4);b["default"]=function(a){a.registerDecorator("inline",
function(a,b,c,e){var f=a;b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);e=a(e,f);c.partials=g;return e});b.partials[e.args[0]]=e.fn;return f})};c.exports=b["default"]},function(c,b,a){b.__esModule=!0;var d=a(4),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"===typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=0<=b?b:parseInt(a,10)}return a},log:function(a){a=e.lookupLevel(a);if("undefined"!==typeof console&&
e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(1<c?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e;c.exports=b["default"]},function(c,b,a){function d(a,b){if(void 0!==a.whitelist[b])return!0===a.whitelist[b];if(void 0!==a.defaultValue)return a.defaultValue;!0!==l[b]&&(l[b]=!0,m.log("error",'Handlebars: Access has been denied to resolve the property "'+b+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'));
return!1}var e=a(33)["default"],f=a(12)["default"];c=a(1)["default"];b.__esModule=!0;b.createProtoAccessControl=function(a){var b=e(null);b.constructor=!1;b.__defineGetter__=!1;b.__defineSetter__=!1;b.__lookupGetter__=!1;var c=e(null);c.__proto__=!1;return{properties:{whitelist:g.createNewLookupObject(c,a.allowedProtoProperties),defaultValue:a.allowProtoPropertiesByDefault},methods:{whitelist:g.createNewLookupObject(b,a.allowedProtoMethods),defaultValue:a.allowProtoMethodsByDefault}}};b.resultIsAllowed=
function(a,b,c){return"function"===typeof a?d(b.methods,c):d(b.properties,c)};b.resetLoggedProperties=function(){f(l).forEach(function(a){delete l[a]})};var g=a(35);b=a(31);var m=c(b),l=e(null)},function(c,b,a){c.exports={"default":a(34),__esModule:!0}},function(c,b,a){var d=a(8);c.exports=function(a,b){return d.create(a,b)}},function(c,b,a){var d=a(33)["default"];b.__esModule=!0;b.createNewLookupObject=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return e.extend.apply(void 0,
[d(null)].concat(b))};var e=a(4)},function(c,b){function a(a){this.string=a}b.__esModule=!0;a.prototype.toString=a.prototype.toHTML=function(){return""+this.string};b["default"]=a;c.exports=b["default"]},function(c,b,a){function d(a,b,c,d,e,v,f){function h(b){var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],h=f;!f||b==f[0]||b===a.nullContext&&null===f[0]||(h=[b].concat(f));return c(a,b,a.helpers,a.partials,e.data||d,v&&[e.blockParams].concat(v),h)}h=g(c,h,a,f,d,v);h.program=b;h.depth=
f?f.length:0;h.blockParams=e||0;return h}function e(){return""}function f(a,b){b&&"root"in b||(b=b?u.createFrame(b):{},b.root=a);return b}function g(a,b,c,d,e,v){if(a.decorator){var f={};b=a.decorator(b,f,c,d&&d[0],e,v,d);p.extend(b,f)}return b}function m(a,b){q(a).forEach(function(c){a[c]=l(a[c],b)})}function l(a,b){var c=b.lookupProperty;return t.wrapHelper(a,function(a){return p.extend({lookupProperty:c},a)})}var k=a(38)["default"],q=a(12)["default"],y=a(1)["default"];c=a(2)["default"];b.__esModule=
!0;b.checkRevision=function(a){var b=a&&a[0]||1,c=u.COMPILER_REVISION;if(!(b>=u.LAST_COMPATIBLE_COMPILER_REVISION&&b<=u.COMPILER_REVISION)){if(b<u.LAST_COMPATIBLE_COMPILER_REVISION)throw new r["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+u.REVISION_CHANGES[c]+") or downgrade your runtime to an older version ("+u.REVISION_CHANGES[b]+").");throw new r["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
a[1]+").");}};b.template=function(a,b){function c(b){function d(b){return""+a.main(h,b,h.helpers,h.partials,v,k,x)}var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],v=e.data;c._setup(e);!e.partial&&a.useData&&(v=f(b,v));var x=void 0,k=a.useBlockParams?[]:void 0;a.useDepths&&(x=e.depths?b!=e.depths[0]?[b].concat(e.depths):e.depths:[b]);d=g(a.main,d,h,e.depths||[],v,k);return d(b,e)}if(!b)throw new r["default"]("No environment passed to template");if(!a||!a.main)throw new r["default"]("Unknown template object: "+
typeof a);a.main.decorator=a.main_d;b.VM.checkRevision(a.compiler);var e=a.compiler&&7===a.compiler[0],h={strict:function(a,b,c){if(!(a&&b in a))throw new r["default"]('"'+b+'" not defined in '+a,{loc:c});return h.lookupProperty(a,b)},lookupProperty:function(a,b){var c=a[b];if(null==c||Object.prototype.hasOwnProperty.call(a,b)||n.resultIsAllowed(c,h.protoAccessControl,b))return c},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(null!=(a[d]&&h.lookupProperty(a[d],b)))return a[d][b]},lambda:function(a,
b){return"function"===typeof a?a.call(b):a},escapeExpression:p.escapeExpression,invokePartial:function(c,d,e){e.hash&&(d=p.extend({},d,e.hash),e.ids&&(e.ids[0]=!0));c=b.VM.resolvePartial.call(this,c,d,e);var f=p.extend({},e,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),g=b.VM.invokePartial.call(this,c,d,f);null==g&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),g=e.partials[e.name](d,f));if(null!=g){if(e.indent){c=g.split("\n");d=0;for(f=c.length;d<f&&(c[d]||d+1!==
f);d++)c[d]=e.indent+c[d];g=c.join("\n")}return g}throw new r["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode");},fn:function(b){var c=a[b];c.decorator=a[b+"_d"];return c},programs:[],program:function(a,b,c,e,f){var g=this.programs[a],h=this.fn(a);b||f||e||c?g=d(this,a,h,b,c,e,f):g||(g=this.programs[a]=d(this,a,h));return g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},mergeIfNeeded:function(a,b){var c=a||b;a&&b&&a!==b&&(c=p.extend({},b,a));return c},
nullContext:k({}),noop:b.VM.noop,compilerInfo:a.compiler};c.isTop=!0;c._setup=function(c){if(c.partial)h.protoAccessControl=c.protoAccessControl,h.helpers=c.helpers,h.partials=c.partials,h.decorators=c.decorators,h.hooks=c.hooks;else{var d=p.extend({},b.helpers,c.helpers);m(d,h);h.helpers=d;a.usePartial&&(h.partials=h.mergeIfNeeded(c.partials,b.partials));if(a.usePartial||a.useDecorators)h.decorators=p.extend({},b.decorators,c.decorators);h.hooks={};h.protoAccessControl=n.createProtoAccessControl(c);
c=c.allowCallsToHelperMissing||e;w.moveHelperToHooks(h,"helperMissing",c);w.moveHelperToHooks(h,"blockHelperMissing",c)}};c._child=function(b,c,e,f){if(a.useBlockParams&&!e)throw new r["default"]("must pass block params");if(a.useDepths&&!f)throw new r["default"]("must pass parent depths");return d(h,b,a[b],c,0,e,f)};return c};b.wrapProgram=d;b.resolvePartial=function(a,b,c){a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name];return a};
b.invokePartial=function(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0;c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var f=void 0;c.fn&&c.fn!==e&&function(){c.data=u.createFrame(c.data);var a=c.fn;f=c.data["partial-block"]=function(b){var c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];c.data=u.createFrame(c.data);c.data["partial-block"]=d;return a(b,c)};a.partials&&(c.partials=p.extend({},c.partials,a.partials))}();void 0===a&&f&&(a=f);if(void 0===a)throw new r["default"]("The partial "+
c.name+" could not be found");if(a instanceof Function)return a(b,c)};b.noop=e;b=a(4);var p=y(b);b=a(5);var r=c(b),u=a(3),w=a(9),t=a(42),n=a(32)},function(c,b,a){c.exports={"default":a(39),__esModule:!0}},function(c,b,a){a(40);c.exports=a(20).Object.seal},function(c,b,a){var d=a(41);a(17)("seal",function(a){return function(b){return a&&d(b)?a(b):b}})},function(c,b){c.exports=function(a){return"object"===typeof a?null!==a:"function"===typeof a}},function(c,b){b.__esModule=!0;b.wrapHelper=function(a,
b){return"function"!==typeof a?a:function(){arguments[arguments.length-1]=b(arguments[arguments.length-1]);return a.apply(this,arguments)}}},function(c,b){(function(a){b.__esModule=!0;b["default"]=function(b){var c="undefined"!==typeof a?a:window,d=c.Handlebars;b.noConflict=function(){c.Handlebars===b&&(c.Handlebars=d);return b}};c.exports=b["default"]}).call(b,function(){return this}())}])});
pega.namespace("pega.ui.template");
pega.ui.template.RenderingEngine = (function () {

   var registeredUIComponentRenderers = {};
	 var currentDocument = null;
	 var templatingUtils = pega.ui.TemplateEngine;

    /* This is the main method of the Rendering Engine
     * Arguments: templateTreesIterator - iterator for the metadata JSON
     *            doc - document / documentFragment /element
     */
  

   /*
    * Jit loader will fall through if pega.ui.JitJLoader doesn't exist
    * If does exist, need to dynamically load js files that correspond to all the ui component defintions and their js files that
    * are in the component templates.  So we get a component list and then call the jitloader.loadComponent on all the components.
    * They are all loaded asynchronously.  When the final one has been loaded, the callback will continue with loading the templates.
    */
   var arTemplate = new Array();
   var _jitLoader = function(localCallback, templates, callback) {
     
      if (pega.ui.JitJLoader) {

        
          var arCompList = pega.ui.jittemplate.getComponentList(templates, null, false);
        
          var componentCount = arCompList.length;
          var componentIndex = 1;
        
          for (var i =0; i < componentCount; i++) {
            oComponent = arCompList[i];
            pega.ui.JitJLoader.loadComponent(oComponent.type, oComponent.name, null, "render", function(error, category, componentName, feature) {
              console.log("loading:" + category + " - " + componentName);
              if (error != null) {
                console.error(error);
              }
              componentIndex++;
              if (componentIndex === componentCount) {
                
                localCallback(callback);
              }
            }.bind(this));
          }
        
      } else {
        //alert("no jit");
        localCallback(callback);
      }
   }
	 
	// TODO: Avoid creating and writing a documentFrgament at the caller, pass an element directly.
   
   /* SE-50169 passing scopedMetaDataTree from renderUI to maintain metadatatree at function scoped  */
    var beginRendering = function(doc, callback, scopedMetaDataTree) {

		if (!doc)
			return;

      
        setCurrentDocument(doc);
		var metaDataTree =  scopedMetaDataTree || pega.ui.TemplateEngine.getMetadataTree();
		if(!metaDataTree) {
			callback && callback();
			return;
		}
				
		var templates =  pega.ui.TemplateEngine.getTemplates(metaDataTree); // pyTemplates
		if(!templates) {
			callback && callback();
			return;
		}
    
    /* 
     * call the jitLoader, to load all js files and then process the templates.
     * _jitLoader(localCallback, templates, originalCallback)
     */
   _jitLoader( function(callback) {
         
        /* inside localCallback of jitLoader */
      
        /* Process each child of the template tree
         */
        for(var i=0; i<templates.length; i++) {
          var templateTree = templates[i];	// templateTree or templateNode or template
          if(!templateTree)
            continue;

          // TODO: Invoke data binding the same pass
          /*Bind the values to the generated markup - custom binder */
          //pega.ui.template.TemplateDataBinder.bindPegaTemplates(documentFrag);

          /* Locate the tree-root-marker using the components isntanceID */
          // TODO: comapre perf of object.property vs object["property"]
          var componentId = templateTree["pyInstanceID"];
          var templateTreeNode = doc.querySelector("[data-template-instance-id='" + componentId + "']");
          if(!templateTreeNode) 
            continue;

          var primaryPage = templateTree["pzPrimaryPage"];  
                    var currentContext = pega.ui.TemplateEngine.getCurrentContext();
                    if(primaryPage) {
                        currentContext.push(primaryPage);
                    }


          var _markup = __renderTemplateTree(templateTree, doc);

                  if(primaryPage) {
                        currentContext.pop();
                    }
          if(_markup == "$asyncRendered$WithLoadingMessage"){
            templateTreeNode.innerHTML = "<div class=\"field-item dataValueRead\"><span>Loading...</span></div>";
          }else if(_markup == "$asyncRendered$WithoutLoadingMessage"){
            templateTreeNode.style.display = "none";
          }else if(_markup != "$asyncDone$NoChangeRequired"){
            templateTreeNode.outerHTML = (_markup || "");
          }
        }

        // Execute callback
        callback && callback();
     
        /* end of localCallback for jitloader */

     }, templates, callback);
			
  };

	var getCurrentDocument = function(){
      	if(currentDocument)
			return currentDocument;
      	else 
          	return document;
          
	};
    var setCurrentDocument = function(currentDoc){
		currentDocument = currentDoc;
	};
    /* This method is used to register a component's render method with the Rendering Engine
     * Arguments: uiComponentTemplateName - String identifying the component
     *            renderer - render method of the component
     */
    var register = function (uiComponentTemplateName, renderer) {

        if (uiComponentTemplateName && typeof renderer === 'function') {
            registeredUIComponentRenderers[uiComponentTemplateName] = renderer;
        }
    };

    /* This method is used to retrieve a component's render method
     * Arguments: uiComponentTemplateName - String identifying the component
     * Return:    renderer - render method of the component
     */
    var getRenderer = function (uiComponentTemplateName) {
            return registeredUIComponentRenderers[uiComponentTemplateName];
        };

    /* This method is called recursively for each component and its children
     * Arguments: treeNode - the object containing the metadata information of a component
     * Return:    markup - the markup of a rendered component
     */
	 // The actual rendering call
    var __renderTemplateTree = function (treeNode, doc) {
		// TODO: Check if boolean
		//if(!treeNode.pyProcessChildren)	// RE would not process the children
		//	return;
      
		
		var childTemplates =  pega.ui.TemplateEngine.getTemplates(treeNode); // pyTemplates
		if(treeNode.pyProcessChildren == "true" && childTemplates) {	// RE would not process the children
			for(var j=0; j<childTemplates.length; j++) {
				var childTemplateTree = childTemplates[j];
				if(!childTemplateTree)
					continue;
				
				var tempStr = __renderTemplateTree(childTemplateTree);
				// Push to child markup array
				if(!treeNode.childrenMarkupArray)
					treeNode.childrenMarkupArray = [];
				treeNode.childrenMarkupArray.push(tempStr || "");
				
			}
		}
		
		//var templateNodes = 
			
        var markup;
        /* For each tree node retrieve its children(if any) and call __renderTemplateTree on them recursively.
         * The structure of the meta-data can be as follows:
         * pyTemplate()
         * - pyCell(1)
         *    - pyTemplate()
         * - pyCell(2)
         *    - pyTemplate()
         * This structure causes the templateMetadataTreeIterator API to return an array of iterators as opposed to a single iterator with all the children
         */
        
		
		// LDP
        //try
		{
			var asynRenderCallback = function() {
				return function(markup) {
					var componentId = treeNode["pyInstanceID"];
					var childTemplateTreeNode = doc.querySelector("[data-template-instance-id='" + componentId + "']");
					if(childTemplateTreeNode)
						childTemplateTreeNode.outerHTML = markup;
					// If no node found, wait for it
					else {
					/*to avoid race conditions where the asynRenderCallback called when doc is already cleaned but not yet replaced in the document due to timeouts in loadDOMObject or any other places.*/
						setTimeout(function() {
							childTemplateTreeNode = pega.ctx.dom.querySelector("[data-template-instance-id='" + componentId + "']");
							if(childTemplateTreeNode)
								childTemplateTreeNode.outerHTML = markup;
						},250); 
					}	
				}
			}(treeNode, doc);
			
			var renderer =  getRenderer(treeNode["pyName"]);
        if(typeof renderer == "function") {
          markup = renderer.call(null, treeNode, null, asynRenderCallback);
        }
        else
          console.log("Cannot find  renderer for component: " + treeNode["pyName"]);
      
        }
      
        return markup;
    };

   
    return {
        register: register,
        beginRendering: beginRendering,
        getRenderer: getRenderer,
		getCurrentDocument: getCurrentDocument,
        setCurrentDocument: setCurrentDocument
    };
})();

// Dummy render
pega.ui.template.RenderingEngine.register("Dummy", function(metadata) {
    // Do nothing
	return "";
});
//static-content-hash-trigger-NON
"undefined"==typeof pega&&(pega={});pega.ui=pega.ui||{};pega.ui.TEMPLATE_DEFAULTS=pega.ui.TEMPLATE_DEFAULTS||{};
pega.ui.TemplateEngine=function(){var e=pega.isUnitTesting,D=!1,v={WHEN_LIST_MAP:{pyVisibilityWhenId:"pyVisibility",pyDisabledWhenId:"pyDisabled",pyReadOnlyWhenId:"pyReadOnly",pyObfuscatedWhenId:"pyObfuscated",pyContainerVisibilityWhenId:"pyContainerVisibility",pyBodyVisibilityWhenId:"pyBodyVisibility",pyExpandedWhenId:"pyExpandedWhen",pyContainerActiveWhenId:"pyContainerActive",pyRequiredWhenId:"pyRequired",pyViewPrivilegeWhenId:"pyViewPrivilege",pyDisablePrivilegeId:"pyDisablePrivilege"},COMPONENT_WHEN_PROPERTY_MAP:{pyVisibility:{pxSection:"pyVisibility"},
pyDisabled:{},pyReadOnly:{},pyObfuscated:{},pyContainerVisibility:{pxLayoutContainer:"pyWhenCondition"},pyBodyVisibility:{pxLayoutContainer:"pyVisibility_BV"},pyExpandedWhen:{pxLayoutHeader:"expanded"},pyContainerActive:{},pyRequired:{},pyViewPrivilege:{},pyDisablePrivilege:{}},REPEATING_COMPONENTS_MAP:"RepeatingDynamicLayout pxGrid DynamicLayoutGroup nextPage pxTreeGrid pxTreeGridChildren".split(" "),WHEN_RULE_PROPERTIES_MAP:{pyVisibilityWhenId:{"class":"pyVisibilityWhenClass",name:"pyVisibilityWhenName"},
pyDisabledWhenId:{"class":"pyDisabledWhenClass",name:"pyDisabledWhenName"},pyRequiredWhenId:{"class":"pyRequiredWhenClass",name:"pyRequiredWhenName"},pyBodyVisibilityWhenId:{"class":"pyBodyVisibilityWhenClass",name:"pyBodyVisibilityWhenName"}}},ja=1,A=[],E=!1,t=[],B,p=function(a){if("object"!=typeof a||null==a)return a;var b=a.constructor(),c;for(c in a)b[c]=p(a[c]);return b},J=function(a){if(a&&"object"==typeof a)return 0==Object.keys(a).length},K=function(a){for(var b=0;b<a.length;b++)if(J(a[b]))return!0},
L=function(a){return 1==Object.keys(a).length},M=function(a,b){for(var c in b)if(!a.hasOwnProperty(c))return!1;return!0},N=function(a){if("object"==typeof a&&(a.$pxSections||a.$pxNonTemplates||a.$pxWhens||a.$pxLocalized))return!0},w=function(a,b,c,d,g){for(var f in b)if(b.hasOwnProperty(f)){var h=b[f];if(g||"$pxLocalized"==f)a[f]=h;if(-1!=f.indexOf("$pxPageSize$")&&0===h){var l=f.substring(12,f.length);f in a&&(a[f]=h);l&&a[l]&&delete a[l]}else if("object"!=typeof h)f in a&&!c||d&&"object"==typeof a[f]||
(a[f]=h);else if(!(f in a))if(d){var k="$pxPageSize$"+f;k in a&&0!==a[k]?a[f]=p(h):h instanceof Array?u(h)||(a[f]=p(h)):a instanceof Array?u(h)||(a[f]=p(h)):a[f]=p(h)}else a[f]=h;else if(f in a){var k="$pxPageSize$"+f,l="$partialListProperty$"+f,e=k in b,m=!1;if(h instanceof Array){m=!1;k in b&&(m=!1);if(K(h)&&(m=!0,a[f]instanceof Array&&"undefined"!=typeof b[k])){var r=Object.keys(a[f]).length,k=parseInt(b[k]);a[f].splice(k,r-k)}l in a&&(m=!0)}if(c&&b instanceof Array&&d&&u(h)&&!u(a[f])&&!L(h)&&
M(a[f],h)&&!N(a[f]))a.splice(f,1);else if(c&&a[f]&&(a[f]instanceof Array||a[f].constructor==Object&&e)&&!d&&pega.ui.TemplateEngine.__AJAXRendering&&!O(h)&&!m)a[f]=h;else if(h instanceof Array&&("string"==typeof h[0]||"number"==typeof h[0]))a[f]=h;else if("object"==typeof a[f])l=-1!=ka.indexOf(f),w(a[f],h,c,d,l);else if(!d||a[f]&&typeof a[f]==typeof h)a[f]=h}}},ka=["$pxSections"],u=function(a){for(var b in a)if(""!==a[b]&&null!==a[b]&&void 0!==a[b]&&("object"!=typeof a[b]||!1===u(a[b])))return!1;return!0},
O=function(a){for(var b in a)if(""!==a[b]&&null!==a[b]&&void 0!==a[b]&&"$pxNonTemplates"!=b&&"$pxWhens"!=b&&"$pxLocalized"!=b&&("object"!=typeof a[b]||!1===u(a[b])))return!1;return!0},C=function(a,b){if(!b||"pxSection"!=a.pyName)if(w(a,pega.ui.TEMPLATE_DEFAULTS[a.pyName]),a=a.pyTemplates)for(var c=a.length,d=0;d<c;d++)!a[d].pyName||b&&"pxSection"==a[d].pyName||C(a[d],b)},F=function(a,b){for(var c=a.pyTemplates,d=pega.ui.TemplateEngine.getCurrentContext(),g=c.length,f=0;f<g;f++)if(a.pyTemplates[f].objName=
".pyTemplates."+f,a.pyTemplates[f].parentObj=a,a.pyTemplates[f]=P(c[f],d,b),a.pyTemplates[f]){if("true"===a.pyTemplates[f][pega.ui.TEMPLATE_CONSTANTS.PYGENERATEPATH]){var h=a.pyTemplates[f],l;l="";for(var k=a.pyTemplates[f];l=(k.objName?k.objName:"")+l,!k.parentObj||"pxSection"!=k.parentObj.pyName;)if(k.parentObj)k=k.parentObj;else break;l=l?l.substr(1):"";h.path=l}delete a.pyTemplates[f].parentObj;delete a.pyTemplates[f].objName}return a},P=function(a,b,c,d){var g,f;f=-1!=v.REPEATING_COMPONENTS_MAP.indexOf(a.pyName)?
!0:void 0;a.pxReferencedId||w(a,pega.ui.TEMPLATE_DEFAULTS[a.pyName]);if(g=a.pxDatapages||a.pzPrimaryPage||a.pzPrimaryPageName)if(g.startsWith("$$")?a.pzPrimaryPage=g=n(b.getDataSource(g.substring(2))):a.isUsingPagePRef&&(a.pzPrimaryPage=g=b.getPropertyValue(g)),g){var h=b.getReferencedProperty(g,!0);h&&("pxSection"==a.pyName&&(a.originalReference=g),a.pzPrimaryPage=g=h);g.startsWith(".")&&(g=(h=b.getPropertyValue(g))&&"string"==typeof h?h:g);b.push(g)}Q(a);R(a);if(a=S(a))return T(a),U(a),V(a),"Dummy"!=
a.pyName&&a.pyTemplates&&(!c&&d||!f)&&F(a,c),W(a),g&&b.pop(),a;g&&b.pop()},la=[],G=[],ma=function(a,b,c){b||(b=la);c||(c=100);var d=b.indexOf(a);-1!=d&&b.splice(d,1);b.length>=c&&(c=b.shift(),G.push(c));b.push(a)},X=function(a){a=pega.ui.ClientDataProvider.getMetadataStoreByType(a);for(var b=0;b<G.length;b++)a[G[b]]=null},S=function(a){var b=a.pxReferencedId;if(b){var c=a.pyInstanceID;if("pxSection"==a.pyName){var d=pega.ui.TemplateEngine.getCurrentContext(),g=d.getSectionReadOnlyFlag(b),g=n(g),f=
d.getSectionUniqueID(b),f=n(f),h=d.getSectionGadgetInfo(b),h=n(h),l=d.getSectionParameters(b),l=n(l),k=d.getSectionInstanceId(b),k=n(k),e=d.getSectionParamDP(b),m,r;e&&(m=n(e.params),r=n(e.name));var q=d.getDynamicSectionId(b),b=q&&n(q)||b,e=d.getSectionInstanceId(b),e=n(e)||k||c,c=pega.ui.ClientDataProvider.getMetadataStoreByType("SECTION")[b];if(!c){q&&console.log("Section metadata with id' "+b+"' not found!");return}d.pushSectionReferenceId(b);b=a.pzPrimaryPage;d=a.ignoreBaseRef;k=a.originalReference;
q=a.secActionStringID;a=p(c);a.sectionBaseRef=k?!d&&k?k:"":!d&&b?b:"";q&&(a.secActionStringID=q);b&&(a.pzPrimaryPage=b);g&&(a.pxReadOnly=g);l&&(a.sectionParams=l);e&&!pega.u.d.ServerProxy.isDestinationLocal()&&(a.pyInstanceID=e);m&&(a[pega.ui.TEMPLATE_CONSTANTS.DECPARAMS]=m);r&&(a[pega.ui.TEMPLATE_CONSTANTS.DECPAGE]=r);f&&(a.UID=f);h&&(a.outerGadget=h)}}return a},Q=function(a){switch(a.pyName){case "pxTimeline":Y(a)}},Y=function(a){a=a.pyCell.pyModes[1];var b=pega.ui.TEMPLATE_CONSTANTS;a.startDateProperty=
a[b.PYTIMELINEEVENTSTARTDATE];delete a[b.PYTIMELINEEVENTSTARTDATE];a.endDateProperty=a[b.PYTIMELINEEVENTENDDATE];delete a[b.PYTIMELINEEVENTENDDATE];a.eventSection=a[b.PYTIMELINEEVENTSECTION];delete a[b.PYTIMELINEEVENTSECTION];a.dataSource=a[b.PYSOURCENAME];delete a[b.PYSOURCENAME];a.startTimeRange=a[b.PXTIMELINESTARTDATE];delete a[b.PXTIMELINESTARTDATE];a.endTimeRange=a[b.PXTIMELINEENDDATE];delete a[b.PXTIMELINEENDDATE];a.className=a[b.PYREADWRITESTYLE];delete a[b.PYREADWRITESTYLE];a.timeRange=a[b.PYTIMELINERANGE];
delete a[b.PYTIMELINERANGE]},R=function(a){var b=a.pyName;x(a,b);a.pyCell&&(x(a.pyCell,b),"Dummy"!=a.pyName&&a.pyCell.pyModes&&(a.pyCell.pyModes[0]&&x(a.pyCell.pyModes[0],b),a.pyCell.pyModes[1]&&x(a.pyCell.pyModes[1],b)))},W=function(a){var b=a.parampg;b&&(b=Z(b),b=n(b),a.parampg=b)},x=function(a,b){var c=pega.u.d.ServerProxy.isDestinationLocal(),d=a.pxWhenIdentifiers;if(d){for(var g=v.WHEN_LIST_MAP,f=Object.keys(g),h=0;h<f.length;h++){var l=f[h];if(d[l]){var e=g[l],p=v.COMPONENT_WHEN_PROPERTY_MAP[e][b]||
e;if("pyViewPrivilege"==e||"pyDisablePrivilege"==e)l=aa(d[l]);else{var m=d[l];if(c){var m=d,r=v.WHEN_RULE_PROPERTIES_MAP[l];if(void 0!==r){var q={};q.uniqueId=m[l];q.className=m[r["class"]];q.ruleName=m[r.name];m=q}else m=m[l]}l=ba(m)}l=ca(n(l));a[p]=l;m=(m=a.pyCell)&&("true"===m.pyLabelReserveSpace||"true"===m.pyReserveSpace);if("pyVisibility"==e||"pyViewPrivilege"==e)if("undefined"==a[p])delete a[p];else if(!l&&!m){a.pyName="Dummy";return}}}if(c=pega.ui.TemplateEngine.getCurrentContext().isSectionReadOnly())p=
v.COMPONENT_WHEN_PROPERTY_MAP.pyReadOnly[b]||"pyReadOnly",a[p]||(a[p]=c)}},ba=function(a){return pega.ui.TemplateEngine.getCurrentContext().getWhenResult(a)},Z=function(a){return pega.ui.TemplateEngine.getCurrentContext().getParamPage(a)},aa=function(a){return pega.ui.TemplateEngine.getCurrentContext().getPrivilegeResult(a)},n=function(a){return a instanceof Array?a.shift():a},ca=function(a){return a instanceof Array?a:!!a},U=function(a){var b=pega.ui.TEMPLATE_CONSTANTS;if(a[b.PXSUBSCRIPTIONIDENTIFIERS]){var c=
a[b.PXSUBSCRIPTIONIDENTIFIERS][b.PYWSSUBSCRIPTIONID];if(c){var b=a.primaryPage,d=pega.ui.TemplateEngine.getCurrentContext();if(b&&(b.startsWith("$$")&&(a.pzPrimaryPage=b=n(d.getDataSource(b.substring(2)))),b)){var g=d.getReferencedProperty(b,!0);d.push(g||b)}c=n(da(c));b&&d.pop();c&&(a.pyFinalSubscriptionId=c)}}},da=function(a){return pega.ui.TemplateEngine.getCurrentContext().getSubscriptionId(a)},V=function(a){a&&a.pyCell&&a.pyCell.pyModes&&(a.pyCell.pyModes[0]&&y(a.pyCell.pyModes[0]),a.pyCell.pyModes[1]&&
y(a.pyCell.pyModes[1]),a.pyCell.startDateConfig&&a.pyCell.endDateConfig&&(y(a.pyCell.startDateConfig),y(a.pyCell.endDateConfig)))},y=function(a){var b=pega.ui.TEMPLATE_CONSTANTS;if(b=a[b.PXERRORIDENTIFIERS]?a[b.PXERRORIDENTIFIERS][b.PYERRORID]:"")b=n(ea(b)),a.errMsgHTML=b},ea=function(a){return pega.ui.TemplateEngine.getCurrentContext().getErrorId(a)},T=function(a){var b=pega.ui.TEMPLATE_CONSTANTS,c=a[b.PXNONTEMPLATEREF];if(c){var d=a.primaryPage,g=pega.ui.TemplateEngine.getCurrentContext(),f=!0;
if(d&&(d.startsWith("$$")?a.pzPrimaryPage=d=n(g.getDataSource(d.substring(2))):a.isUsingPagePRef&&(a.pzPrimaryPage=d=g.getPropertyValue(d)),d)){var h=g.getReferencedProperty(d,!0);h||(f=!1);f&&g.push(h||d)}c=n(fa(c));f&&d&&g.pop();c&&(a[b.PYNONTEMPLATEID]=c)}},fa=function(a){return pega.ui.TemplateEngine.getCurrentContext().getNonTemplateId(a)},na=function(a){if(!a){var b=this.getMetadataTree().pyForceReloadTemplates;if(b&&(a=b,!a))return}pega.ui.logger.LogHelper.debug("Removing paths ",a);a=a.split(",");
for(var c in a)pega.ui.ClientCache.find(a[c]).remove()},ga=function(a,b){b&&(a.enableAttachOnLoad=b);if(E){if(b=pega.ctx.dom.getElementById(a.getUniqueId()))a.enableAttachOnLoad?pega.u.d.loadDOMObject(b,a.getStream(),null,{domAction:"replace",domElement:b}):b.outerHTML=a.getStream()}else A.push(a)},oa=function(){var a="template"+ja++,b;this.setStream=function(a){b=a};this.getStream=function(){return b};this.getUniqueId=function(){return a};this.getPlaceholderMarkup=function(){return"\x3cdiv id\x3d'"+
a+'\' class\x3d"field-item dataValueRead templateloading"\x3e\x3cspan\x3eLoading...\x3c/span\x3e\x3c/div\x3e'}},ha=function(a,b){var c=a,d=b;this.setStepPage=function(a){c=a};this.setIndex=function(a){d=a};this.getStepPage=function(){return c};this.getIndex=function(){return d}},ia=function(a,b){if(b&&a&&b[a])for(var c in b[a])c.startsWith("$")||"string"!=typeof b[a][c]?c.startsWith("$")||"object"!=typeof b[a][c]||ia(c,b[a]):delete b[a][c]},H=function(){if(!pega.u.d.ServerProxy.isDestinationLocal()){var a=
pega.ui.ChangeTrackerMap,b=pega.ui.ClientDataProvider;if(a&&a.getTracker()&&b&&b.getTracker()){var c=b.getTracker().threadName,b=b.getTrackerByThread(c),a=a.getTrackerByThread(c);if(b&&a&&b.trackedPropertiesList){var c={},d;for(d in a.trackedPropertiesList)a.trackedPropertiesList.hasOwnProperty(d)&&(d.startsWith("pyNavigation")||"pxRequestor"==d)&&(c[d]=p(a.trackedPropertiesList[d]));w(b.trackedPropertiesList,c,!0,!0);pega.ui.EventsEmitter.publishSync("AfterChangeTrackerDataMerged")}}}},z=function(a,
b){if(a)return/^'.*'$/.test(b)&&(b=b.substring(1,b.length-1)),a[b]},I=function(a){return a?a.replace(/\(([^)]+)\)/g,function(a,c){isNaN(c)||c--;return"."+c}):""};return{execute:function(a,b){var c=pega.ui.logger.LogHelper;if(!a)return c.error("templateName is null"),null;var d=Handlebars.templates[a];d||(d=Handlebars.partials[a]);return d?d(b):(c.error("Template not found ",a),null)},registerHelper:function(a,b,c){if(!b)return pega.ui.logger.LogHelper.error("Helper name cannot be empty"),!1;if(1==
c&&!Handlebars.helpers[a])return!1;Handlebars.registerHelper(a,b)},getHelper:function(a){return Handlebars.helpers[a]},register:function(a,b,c){var d=Handlebars.template,g=Handlebars.templates=Handlebars.templates||{};c?Handlebars.partials[a]=d(b):g[a]=d(b)},cloneMetadata:function(a){return p(a)},renderChildren:function(a,b){pega.ui.logger.LogHelper.debug("Rendering template location : ",a._ref);b=b||pega.ui.template.RenderingEngine.getCurrentDocument();var c="";if(a=pega.ui.TemplateEngine.getTemplates(a))for(var d=
0;d<a.length;d++){var g=a[d];if(!g)return;var f=g.pyName;""!=f&&(f=pega.ui.template.RenderingEngine.getRenderer(f)(g),g.pyInstanceID?(pega.ui.logger.LogHelper.debug("Replacing template markup at instanceid : ",g.pyInstanceID),(g=b.querySelector("[data-template-instance-id\x3d'"+g.pyInstanceID+"']"))&&g.outerHTML&&(g.outerHTML=f)):c+=f)}return c},getRefreshWhenAttributes:function(a,b){var c="",d=a;"pxLayoutContainer"!=a.pyName&&(d=b);a=d.pyRefreshWhen;b=d.pyRefreshWhenProperty;var g=d.pyRefreshWhenDTransform,
d=d.pyRefreshWhenActivity;b&&""!=b&&(c+=' rwp\x3d"'+b+'" ');a&&""!=a&&(c+='rw\x3d"'+a+'" ');d&&""!=d&&(c+='rwa\x3d"'+d+'" ');g&&""!=g&&(c+='pdt\x3d"'+g+'" ');return c},removeForceReloadTemplates:e?na:void 0,getTemplates:function(a){a||(a=this.getMetadataTree());return a.pyTemplates},getMetadataTree:function(){return pega.ctx.D_UITemplateMeta},setMetadataTree:function(a){if("object"==typeof a)pega.ctx.D_UITemplateMeta=a;else try{pega.ctx.D_UITemplateMeta=JSON.parse(a)}catch(b){console.log("An error occurred parsing the metadata tree: "+
b)}},addMetadataTree:function(a){if("object"==typeof a){pega.ctx.D_UITemplateMeta||(pega.ctx.D_UITemplateMeta={});pega.ctx.D_UITemplateMeta.pyTemplates||(pega.ctx.D_UITemplateMeta.pyTemplates=[]);if(B&&pega.u.d.ServerProxy.isDestinationLocal()){var b=B;if(a instanceof Array)for(var c in a)a[c].pzPrimaryPage&&(a[c].pzPrimaryPage=b);else a.pzPrimaryPage=b;B=null}a instanceof Array?pega.ctx.D_UITemplateMeta.pyTemplates=pega.ctx.D_UITemplateMeta.pyTemplates.concat(a):pega.ctx.D_UITemplateMeta.pyTemplates.push(a);
pega.ctx.isUITemplatized=!0;pega.isUITemplatized=!0}},purgeMetadataTree:function(a){delete pega.ctx.D_UITemplateMeta;if(pega.u.d.purgeSectionMetaAfterUse){if(a&&1==a.nodeType){var b=document.getElementById("PEGA_HARNESS"),c="";b&&(c=b.getAttribute("node_name"));if(a=a.querySelector("[id\x3d'PEGA_HARNESS']")||a.querySelector("[node_name]"))if(a=a.getAttribute("node_name"),b=pega.u.d.SectionMetaPurgeBlacklist,b instanceof Array&&(-1!=b.indexOf(a)||-1!=b.indexOf(c)))return}pega.ui.ClientDataProvider.cleanMetadataStore("SECTION")}},
renderUI:function(a,b,c){function d(){pega.ctxmgr.setContext(g);H();var a=f||pega.ui.TemplateEngine.getMetadataTree();if(a){var d=pega.ui.ClientDataProvider.getMetadataStoreByType("SECTION");if(d)for(var e in d){var k=d[e];k?C(k):console.log("Can't find section: "+e+" in section store.")}C(a,!0);a=F(a,!0);c&&c.partialMetadataPath&&(d=a.pyTemplates[0].pyInstanceID,e=c.partialMetadataPath.split(".").reduce(z,a.pyTemplates[0]),e.pyInstanceID=d,a={pyTemplates:[]},a.pyTemplates.push(e),c.generateMetadataFn&&
"function"===typeof c.generateMetadataFn&&(c.generateMetadataFn(e),pega.ui.TemplateEngine.setMetadataTree(a)))}pega.ui.template.RenderingEngine.beginRendering(h,function(){pega.ui.template.DataBinder.bindData(h);pega.ui.TemplateEngine.__UIRenderCount--;pega.ui.TemplateEngine.__UIRenderCount||pega.ui.TemplateEngine.purgeMetadataTree(h);pega.ui.TemplateEngine.__RDLROWIntercepted&&(pega.ui.TemplateEngine.__RDLROWIntercepted=!1,pega.clientTools.putParamValue("bRDLShowDetails",!1),pega.ui.TemplateEngine.__originalThread&&
(pega.u.d.switchThread(pega.ui.TemplateEngine.__originalThread),pega.ui.TemplateEngine.__originalThread=null));b?(pega.clientTools.reset(),b(h.innerHTML,!0)):pega.ui.ClientCache.clearChangedPagesList();pega.ui.EventsEmitter.publish("TemplateUIRendered");pega.ui.template.RenderingEngine.setCurrentDocument(null)},a);X("SECTION");pega.ctxmgr.resetContext()}var g=pega.ctx;this.__AJAXRendering=!!b;if(this.__UIRenderCount)setTimeout(function(){pega.ui.TemplateEngine.renderUI(a,b,c)},0);else{this.__UIRenderCount=
0;this.__UIRenderCount++;var f=pega.u.d.parseAndGetMetaDataTree(a);E=!1;"function"==typeof pega.ui.property&&(pega.u.property=new pega.ui.property);var h=document,e;if("string"==typeof a){if(e=a,-1!=a.indexOf("RDLROWMARKUP_BEGIN")){this.__RDLROWIntercepted=!0;pega.clientTools.putParamValue("bRDLShowDetails",!0);var k=pega.u.d.getThreadName(),n=pega.u.d.baseThreadName;k==n+"/"+pega.ui.rdlMasterDetails.RDL_MD_THREAD&&(pega.u.d.switchThread(n),this.__originalThread=k)}}else if(a&&1==a.nodeType)e=a.innerHTML;
else{pega.u.d.initChangeTracker();pega.ui.ClientDataProvider.initChangeTracker();d();return}1!=a.nodeType&&(a=document.createElement("div"),a.innerHTML=e);if(pega.ctx.isUITemplatized&&-1==e.lastIndexOf("{EndReloadCell}")&&a.querySelector("[data-template-instance-id]")){var h=a,m;h&&(e=h.querySelector("div[id^\x3d'AJAXCT']"))&&(m=e.getAttribute("CTTHREAD"),e.hasAttribute("data-json")&&m==pega.u.d.getThreadName()+"/$WorkProcessing"&&this.__AJAXRendering&&!pega.u.d.ServerProxy.isHybridClient()&&(m=pega.u.d.initChangeTracker(a)));
e=pega.u.d.getThreadName();(k=m)&&k!=e&&(pega.clientTools.init(k),pega.ui.ClientDataProvider.initChangeTracker(k));!k&&e&&(pega.clientTools.init(e),pega.ui.ClientDataProvider.initChangeTracker(e));pega.ui.EventsEmitter.publishSync("BeforeTemplateScriptExtraction");pega.u.d.extractTemplateScripts(a,d);pega.control&&pega.control.Actions&&pega.control.Actions.prototype.hideSkeleton&&pega.control.Actions.prototype.hideSkeleton()}else{if(pega.ui.ExpressionEvaluator&&!pega.ui.ExpressionEvaluator.getNTExpressionStatus())for(m=
['id\x3d"CT"',"id\x3d'CT'","data-refresh","data-required","layout-active-when"],k=m.length-1;0<=k;k--)if(-1<e.indexOf(m[k])){pega.ui.ExpressionEvaluator.setNTExpressionStatus(!0);break}H();-1!=e.lastIndexOf("{EndReloadCell}")&&-1!=e.indexOf("data-template-instance-id")?b&&b(e,!0):b&&b(e);this.__UIRenderCount--}}},renderAsyncStreams:function(){var a=A.length;E=!0;for(var b=0;b<a;b++)ga(A[b]);A=[]},renderAsyncStream:ga,newAsyncStream:function(){return new oa},getDefaults:function(){return pega.ui.TEMPLATE_DEFAULTS},
addRepeatingCompCTProps:function(a){},createRepeatingDepth:function(a,b){return new ha(a,b)},pushRepeatingDepth:function(a){if(!(a&&a instanceof ha&&a.getStepPage()&&a.getIndex()))return null;t.push(a)},popRepeatingDepth:function(){return t.pop()},peekRepeatingDepth:function(){return 0==t.length?null:t[t.length-1]},getRepeatingDepthForExpression:function(){for(var a="",b=0;b<t.length;b++)a+="_"+t[b].getIndex();return a},mergeBigData:function(a,b){b||(b=pega.ui.ClientDataProvider.getBaseThread());
for(var c in a){D&&!c.startsWith("$")&&ia(c,a);var d=c,e=a[c],f=pega.ui.ClientDataProvider.getTrackerByThread(b).trackedPropertiesList;!f[d]||"object"!=typeof e||e instanceof Array&&pega.ui.TemplateEngine.__AJAXRendering?f[d]=e:w(f[d],e,!0)}},mergeSectionStore:function(a){var b=pega.ui.ClientDataProvider.getMetadataStoreByType("SECTION"),c;for(c in a)b[c]=a[c]},processMetadata:F,getClientDataProvider:function(a){var b=pega.u.d.ServerProxy.isDestinationRemote();if(b=pega.ctx.isUITemplatized&&b?pega.ui.ClientDataProvider:
pega.ui.ChangeTrackerMap)return a=a?b.getTrackerByThread(a):b.getTracker()},buildTemplateTree:C,getCurrentContext:function(){return pega.ui.TemplateEngine.ContextObject},processMetadataPerComponent:P,resolveDataTokens:function(a){return a=a.replace(/\$NT\$(.*?)\$NT\$/g,function(a,c){return pega.ui.TemplateEngine.getCurrentContext().getPropertyValue(c)})},invalidateDataSource:function(a){var b=pega.u.d.ServerProxy.isDestinationLocal(),c=pega.ui.ClientDataProvider.getTracker();if(!b&&a&&c){a=I(a);var b=
-1==a.indexOf("."),d=a.lastIndexOf("."),e=a.substr(d+1,a.length-1),f=a.substr(0,a.lastIndexOf(".")),c=c.trackedPropertiesList;(f=f.split(".").reduce(z,c))&&!b?delete f[e]:-1==d&&delete c[a]}},getValueFromContextTree:function(a){var b=pega.ui.ClientDataProvider.getTracker();if(b)return b=b.trackedPropertiesList,a.split(".").reduce(z,b)},getValueFromChangeTracker:function(a,b){a=I(a);if(b=b?pega.ui.ChangeTrackerMap.getTrackerByThread(b):pega.ui.ChangeTrackerMap.getTracker())return b=b.trackedPropertiesList,
a.split(".").reduce(z,b)},hasNonTemplates:function(a){for(var b=0;b<a.length;b++){var c=a[b],d;for(d in c)if("$pxNonTemplates"==d)return!0}},mergeObjects:w,CONSTANTS:v,isAllEmpty:e?u:void 0,isAllEmptyWithMeta:e?O:void 0,isSparseArray:e?K:void 0,isObjectEmpty:e?J:void 0,isSingleProperty:e?L:void 0,isSubset:e?M:void 0,isMetaObject:e?N:void 0,pushtoArray:e?ma:void 0,updateMetadataCache:e?X:void 0,cloneReferencedSection:e?S:void 0,processConstantsForTimeline:e?Y:void 0,lookupWhen:e?ba:void 0,lookupParamPage:e?
Z:void 0,lookupPrivilege:e?aa:void 0,getTruthValue:e?ca:void 0,lookupSubscriptionId:e?da:void 0,lookupErrorId:e?ea:void 0,lookupNonTemplate:e?fa:void 0,index:e?z:void 0,convertToDotNotation:e?I:void 0,processConstants:e?Q:void 0,processParamPage:e?W:void 0,callProcessWhens:e?x:void 0,processNonTemplates:e?T:void 0,processSubscriptionIds:e?U:void 0,processErrors:e?V:void 0,processWhens:e?R:void 0,callProcessErrors:e?y:void 0,mergeChangeTrackerOnToContextTree:e?H:void 0,cloneObject:e?p:void 0,getIndexedReference:e?
n:void 0,setPrimaryContext:function(a){B=a},enableDataUpdate:function(){D=!0},disableDataUpdate:function(){D=!1}}}();pega.ui.TemplateEngine.mergeDefaults=function(e){return e};pega.ui.TemplateEngine.addServerWhenTable=function(e){};pega.ui.TemplateEngine.addRepeatingCompCTProps=function(e){};
pega.namespace("pega.ui.TemplateEngine");
pega.ui.TemplateEngine.ContextObject=function(){var n=pega.isUnitTesting,h=[],p={},q,x,l,C,D,m=!1,y=function(a){var b="pxThread pxRequestor OperatorID AccessGroup Application Org OrgDivision pxProcess".split(" ").some(function(b){return a.startsWith(b)});return a&&(a.startsWith("D_")||b)},w=function(a){if(pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()){var b=pega.mobile.support.getPortalWindow();b&&b.pega.ctx.isMDC&&
pega.mobile.isMultiWebViewOfflinePegaMobileClient&&y(a)&&(l&&(C=l),q&&(x=q),q=b.pega.ui.TemplateEngine.getClientDataProvider("STANDARD"),l=b.pega.ui.TemplateEngine.getClientDataProvider("STANDARD").trackedPropertiesList)}},z=function(a){if(pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()){var b=pega.mobile.support.getPortalWindow();b&&b.pega.ctx.isMDC&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&y(a)&&x&&(q=x,l=
C)}},e=function(){return m?D:p},t=function(a,b){if(a)return"'\x3cFIRST\x3e'"===b?b=0:"'\x3cLAST\x3e'"===b?b=a.length?a.length-1:0:/^'.*'$/.test(b)&&(b=b.substring(1,b.length-1)),a[b]},v=function(a){return a?a.replace(/\(([^)]+)\)/g,function(a,d){isNaN(d)?/^\(.*\)$/.test(a)&&(d="'"+d+"'"):d--;return"."+d}):""},E=function(a){if(!a)return"";a=a.split(".");for(var b="",d=0;d<a.length;d++){var c=a[d];isNaN(parseInt(c,10))?/^'.*'$/.test(c)?(b=b.substring(0,b.length-1),b+="("+c.substring(1,c.length-1)+")."):
b+=c+".":(b=b.substring(0,b.length-1),c++,b+="("+c+").")}b.lastIndexOf(".")===b.length-1&&(b=b.substring(0,b.length-1));return b},F=function(a,b){b||(w(a),b=l,z(a));return a.split(".").reduce(t,b)},u=function(a,b,d,c){if(pega.c&&pega.c.actionSequencer&&pega.c.actionSequencer.getValueFromPendingEventValues&&!c&&(c=pega.c.actionSequencer.getValueFromPendingEventValues(pega.ui.TemplateEngine.getCurrentContext().getEntryHandle(a)),null!=c))return c;if(b||!a)return a||"";b=a;if(!d||!d.isFieldNameLiteral){c=
a;var f=c.lastIndexOf(".");a=c.substring(0,f);c=c.substring(f);c=c.replace(/\(/,"[").replace(/\)/,"]");c=a=v(a+c);f=c.lastIndexOf(".");a=c.substring(0,f);c=c.substring(f);c=c.replace(/\[/,"(").replace(/\]/,")");a+=c}-1===a.indexOf(".")&&(a="."+a);c=a;if(a.startsWith("top."))a=a.replace(/^top./,""),f=h[0]?h[0].contextObject:{};else if(a.startsWith("parent.")){a=a.split("parent.");f=a.length-1;a=a[f];var g=h[h.length-1];g?(g=g.fullPropertyReference.split("."),f=g.slice(0,g.length-f),f=pega.ui&&pega.ui.hasAjaxContainer&&
(_isMultiWebViewOfflinePIMC()||_isSingleWebViewOfflinePIMC())&&y(handle)?f.reduce(t,pega.ui.ClientDataProvider.getTrackerByThread("STANDARD").trackedPropertiesList):f.reduce(t,pega.ui.ClientDataProvider.getTracker().trackedPropertiesList)):f={}}else a.startsWith(".")?(c=r()+a,w(c),f=p,a=a.replace(/^\./,"")):(w(c),f=l),z(c);if(m){c=E(c);pega.offline.declareexpressions&&pega.offline.declareexpressions.fireExpression(c);w(c);if((g=pega.ui.AutopopulateSupport.resolveReference(c,q))&&g!=c)return u(g);
z(c)}if(-1!==a.indexOf("$pxLocalized")&&d.isFieldNameLiteral){var e=a.split("$pxLocalized")[1];a=a.replace(e,"");e=e.substr(1)}a=a.split(".").reduce(t,f);e&&a&&(a=a[e]);a&&"object"==typeof a&&(null===a.$value||""===a.$value?a="":void 0!==a.$value&&(a=a.$value));if(d||m&&-1!==b.indexOf(".")&&-1===b.indexOf("/"))b="";return null===a||""===a?"":void 0===a?b:a},H=function(a,b){if(a.$pxWhens)return G(a.$pxWhens[b.uniqueId?b.uniqueId:b])},I=function(a){var b,d,c,f;a&&(b=new RegExp(/(\$CTX\$)|(\$PRIMARY\$)|(\$PARENT\d*\$)|(\$TOP\$)/gi),
d=pega.ui.TemplateEngine.getCurrentContext(),c=d.getEntryHandle(),f=pega.u.d.primaryPageName,a=a.replace(b,function(a,b,d,e,h,k,l){a=b||d||e||h;var g;switch(!0){case /\$PRIMARY\$/.test(a):g=f;break;case /\$CTX\$/.test(a):g=c;break;case /\$TOP\$/.test(a):g=c&&-1!==c.indexOf(".")?c.substring(0,c.indexOf(".")):c;break;case /\$PARENT\d*\$/.test(a):if(c&&-1!==c.lastIndexOf("."))for(g=c,a=parseInt(a.replace("$PARENT","").replace("$",""),10),b=0;b<a;b++)if(-1!==g.lastIndexOf("."))g=g.substring(0,g.lastIndexOf("."));
else break;else g=c}return g}));return a},J=function(a,b){if(b=b?e().$pxReferencedPropertiesList:l.$pxReferencedPropertiesList)return b[a]},K=function(a){if(!a)return r();a.startsWith(".")&&(a=r()+a);var b=J(a);return pega.u.property.toHandle(A(b?b:a))},A=function(a){var b=v(a),d=b.indexOf("'\x3cFIRST\x3e'"),c=b.indexOf("'\x3cLAST\x3e'"),d=-1!==c?c:-1!==d?d:-1;-1!==d&&(b=b.substring(0,d-1),d=l,b=(b=b.split(".").reduce(t,d))&&b.length||0,a=a.replace("\x3cFIRST\x3e",1),a=a.replace("\x3cLAST\x3e",b));
b=v(a);return-1!==b.indexOf("'\x3cFIRST\x3e'")||-1!==b.indexOf("'\x3cLAST\x3e'")?A(a):a},r=function(){var a=k().fullPropertyReference;return E(a)},L=function(a){if(m&&"string"===typeof a&&pega.ui.ParametrizedDPUtils.isParametrizedDataPage(a)){var b=a.indexOf("."),d;-1!==b&&(d=a.substring(b),a=a.substring(0,b));a=pega.ui.ClientCache.find(a).getName();d&&(a+=d)}return a},k=function(){return h[h.length-1]||{}},B=function(){return 0===M()},M=function(){return h.length},G=function(a){return a instanceof
Array?a:!!a};return{push:function(a,b,d){var c;a=L(a);!a&&b&&(a=k().fullPropertyReference);!a&&isNaN(parseInt(a,10))||b||(b=k().pxReadOnly);a=isNaN(parseInt(a,10))?v(a):"."+a;if(a.startsWith(".")){if(B())throw"InvalidReference: QueueEmpty";c=F(a.substring(1),k().contextObject);a=k().fullPropertyReference+a}else c=F(a);d||(d=k().extraInfo);h.push({fullPropertyReference:a,contextObject:c||{},pxReadOnly:b,extraInfo:d});p=c||{}},pop:function(){h.pop();p=B()?{}:k().contextObject},isEmpty:B,getSize:M,getPropertyValue:u,
getLocalizedValue:function(a,b,d){if(!a)return"";if(m){var c=!0;isNaN(a)&&-1!==a.indexOf(".")&&-1===a.indexOf(" ")&&-1===a.indexOf("..")&&(c=!1);!c&&a.startsWith(".")&&(a=r()+a);c=u(a,c);"string"!=typeof c&&(c=a);-1!==c.indexOf("\t")&&-1===c.indexOf("[")&&(c=c.replace("\t","\\t"),c="\\t["+b+"]"+c);return pega.clientTools.getLocalizedTextForString(b,c)}var c=a,f;-1===a.indexOf(" ")&&-1===a.indexOf("\t")&&isNaN(parseFloat(a))||(f=!0);var e=a.lastIndexOf(".");0<e&&a.substr(e+1)&&!f?a=a.substr(0,e)+".$pxLocalized.$"+
a.substr(e+1):0===e?a=".$pxLocalized.$"+a.substr(1):(a=".$pxLocalized."+a,f=!0);a+="$"+b;d&&(a+="$"+d);a=u(a,null,{isFieldNameLiteral:f})||u(c);"string"!=typeof a&&(a=c);return a},getWhenResult:function(a){var b=e();if(m&&a.className&&a.ruleName){var d=a.className,c=a.ruleName;if(!pega.ui.When.isServerRule(c))try{return pega.ui.When.evaluate(c,d)}catch(f){if(pega.ui.When.canUseFallbackAfterError(f))return a=H(b,a),d="Evaluation of the When rule '"+d+"!"+c+"' is not supported on the client. Using precalculated server value '"+
a+"'. ["+f+"]",pega.ui.When.isMissingRuleError(f)?console.info(d):console.warn(d),a;throw f;}}return H(b,a)},getPrivilegeResult:function(a){var b=e();if(b.$pxPrivileges)return G(b.$pxPrivileges[a])},getSubscriptionId:function(a){var b=e();if(b.$pxSubscriptionId)return b.$pxSubscriptionId[a]},getErrorId:function(a){var b=e();if(b.$pxErrors)return b.$pxErrors[a]},getNonTemplateId:function(a){var b=e();if(b.$pxNonTemplates)return b.$pxNonTemplates[a]},getDynamicSectionId:function(a){var b=e().$pxSections;
if(b&&b[a])return b[a].pxReferencedId},getSectionReadOnlyFlag:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].pxReadOnly},getSectionUniqueID:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].sectionUniqueID},getSectionGadgetInfo:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].outerGadget},getSectionParameters:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].secParams},getSectionInstanceId:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].instanceId},isSectionReadOnly:function(){return"true"==
k().pxReadOnly},getDataSource:function(a){var b=e();if(b.$pxDataSource)return b.$pxDataSource[a]},getActionString:function(a){var b=e();if(!b.$pxActionString)return"";a=b.$pxActionString[a];a instanceof Array&&(a=a.shift());m&&(a=I(a));return a||""},getFieldValParam:function(a){var b=e();return b.$pxLocalized?b.$pxLocalized[a+"$pyCaption"]||"":""},getDynamicValue:function(a){var b=e().$pxDynamicValues;return b&&b[a]?b[a]:a},initTracker:function(){m=pega.u.d.ServerProxy.isDestinationLocal();q=pega.ui.TemplateEngine.getClientDataProvider();
l=q.trackedPropertiesList;D=pega.ui.ClientDataProvider.getTracker().trackedPropertiesList;var a;a=p?"object"==typeof p?0===Object.keys(p).length:void 0:void 0;a&&(p=l)},getEntryHandle:K,getID:function(a,b,d){if((d||"true"!==bEnableUniqueId&&!0!==bEnableUniqueId)&&"pxCheckbox"!==b&&"pxRadioButtons"!==b){if(!b)return K(a);a="pxMultiSelect"===b?a.replace(/[^\w]/gi,""):a.substring(a.lastIndexOf(".")+1);b=this.getRepeatingParentInfo();"RepeatingDynamicLayout"===b.component&&(a+="_rdi_"+b.index);return a}b=
"";d=pega.u.d.getThreadName();0<d.indexOf("/")&&(b=d.substring(d.indexOf("/")+1));a||(a=r());a.startsWith(".")&&(a=r()+a);a=CRC32.str(b+a);return pega.u.d.getCRC32LpadHash((a>>>0).toString(16),8,"0")},getReference:r,replaceActionStringTokens:I,pushSectionReferenceId:function(a){k().pxReferencedId=a},isSecuredProperty:function(a){if(!a)return!1;-1===a.indexOf(".")&&(a="."+a);a=a.split(".");a[a.length-1]="$pxMasked."+a[a.length-1];a=a.join(".");return 1==u(a)?!0:!1},getReferencedProperty:J,getRepeatingParentInfo:function(){var a=
(k().fullPropertyReference||"").match(/(\.[\d+]+)/g),b="";if(a)for(var d=0;d<a.length;d++)b=b+"_"+(parseInt(a[d].substr(1),10)+1);b=b.substr(1);return(a=k().extraInfo)?(a.index=b,a):{}},_stack:h,getParamPage:function(a){var b=e();if(b.$pxParamPage)return b.$pxParamPage[a]},getSectionParamDP:function(a){var b=e().$pxSections;if(b&&b[a])return b[a].paramDP},pushAdhocContext:function(a){var b=pega.ui.TemplateEngine.getCurrentContext();if(a&&1===a.nodeType&&a.hasAttribute("data-deferinvoke")){var d=$(a).closest("div[node_name]")[0];
if(d&&"true"===d.getAttribute("readonly"))return b.push(void 0,"true"),!0}if($(a).closest(".vis-item")[0])return b.push(void 0,"true"),!0;var c;(a=$(a).closest("[data-repeat-source] \x3e [base_ref]")[0])&&(c=pega.u.d.getBaseRef(a)||a.getAttribute("base_ref"));if(c)return c=v(c),b.push(c,void 0,{component:"RepeatingDynamicLayout"}),!0},resolvePredicates:A,getStepObject:n?e:void 0,resolvePage:n?L:void 0,setHCOffline:n?function(){m=!0}:void 0,index:n?t:void 0}}();
String.prototype.startsWith||(String.prototype.startsWith=function(n,h){return"undefined"===typeof n?!1:this.substr(h||0,n.length)===n});
var $pNamespace=pega.namespace;$pNamespace("pega.ui");
pega.ui.composer=function(){function L(a){m.addClass("fade-final-state");m.addClass("slide-final-state");T(!0);setTimeout(a,1E3)}function da(a){m.addClass("slide-transition");m.addClass("fade-final-state");m.removeClass("slide-final-state");T(!1);k.hide();g.hide();t.hide();setTimeout(a,1E3)}function ea(){fa();ga();n=new pega.ui.components.panels.ClassLoader("expressPropertyPanel",{preHide:function(){U(!1);pega.u.d.clearReloadedStatus()},preShow:function(){var a=n.getElement().querySelector(".content-layout-group");
if(a){for(var b=LayoutGroupModule.getActiveTabElement(a)[0],c,h,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];!h&&e.classList.contains("layout")&&(h=e);e.querySelector(".header")===b&&(c=e)}h!==c&&(LayoutGroupModule.setLayoutActive(h),LayoutGroupModule.setLayoutInactive(c))}}});g.addChild(n);w=new pega.ui.components.panels.ClassLoader("expressAddPanel",{preHide:function(){M(f,{clearUndoRedo:!1});w.getElement().removeEventListener("scroll",G,!0);w.getElement().removeEventListener("click",G,
!0);d.sendEvent("LayoutEditor.widgetListClose")}});w.getElement().classList.add("layout-editor-add");g.addChild(w);x=new pega.ui.components.panels.ClassLoader("expressGridPropertyPanel",null);k.addChild(x);H=new pega.ui.components.panels.ClassLoader("expressGridAddPanel",null);k.addChild(H);C=new pega.ui.components.panels.ClassLoader("expressThemePropertyPanel",null);n.addChild(C);w.getElement().addEventListener("scroll",G,!0);w.getElement().addEventListener("click",G,!0);t=new pega.ui.components.panels.ClassLoader("uiDesignTopPanel",
{});pega.ui.panelManager.registerPanel(t,pega.ui.panelConstants.DOCK_LOCATION.TOP);ha()}function E(){e&&e.destroy();e=new pega.ui.designtemplate.RuntimeEditor({contentWindow:pega.ui.composer.getComposerPreviewWindow(),containerClass:"ignore-suppression",selectCellCallback:function(a){$(f).removeClass("ignore-suppression");var b;null!==a?(a=pega.ui.inspector.utilities.getTempInspectorObject($(a)),b=a.get("pgRef"),f=pega.ui.inspector.utilities.elementToHighlight(a.get("element")[0])):(b=l,f=a);V(b)},
selectTemplateCallback:function(a){var b=e.getParentSection(),c=pega.ui.inspector.utilities.getTempInspectorObject($(a)),h=!1,f=c.get("pgRef");b&&b!==a&&c.get("clipboardPath")!==b.getAttribute("node_name")&&(h=!0);"Layout"===c.get("type")&&"REPEATGRID"===c.get("subType")?(d.isTemplateRuntimeEditorEnabled=!1,d.loadGridLayoutEditor(null,a),d.isTemplateRuntimeEditorEnabled=!0):M(a,{clearUndoRedo:h,usingPageClassRef:f})},beforeDropCallback:function(){u()},dropCallback:function(a){if(null==a||null==a.detail)F();
else{var b=pega.u.d.getSectionByName("pzLayoutEditor","",document),c=pega.u.d.getBaseRef(b),h=new SafeURL;h.put("sourcePath",a.detail.sourcePath);h.put("destinationRegionName",a.detail.destinationRegionName);h.put("destinationPath",a.detail.destinationPath);h.put("parentPagePath",c);h.put("targetPosition",a.detail.targetPosition);pega.u.d.reloadSection(b,"pzEditTemplatesFromClient",h.toQueryString(),!1,!1,-1,!1,null,null,null,F)}}})}function fa(){g=new pega.ui.components.panels.ClassLoader("expressRightPanel",
{preShow:function(){y(!1);m.scrollTop(0);m.scrollLeft(0)},showCallback:function(){N(!1);N(!0);y(!1);pega.ui.composer.registerEventListener("LiveComposer.stateChange",g.hide)},preHide:function(){$(f).removeClass("ignore-suppression");N(!1);k.isShowing()||(f=null,d.isInUIMode()?(E(),e.showHighlightForEditableContent(),y(!1)):(y(!0),e.destroy(),e=null))},hideCallback:function(){pega.ui.composer.sendEvent("LiveComposer.rightPanelHidden");pega.ui.composer.cancelEventListener("LiveComposer.stateChange",
g.hide)}});g.getElement().classList.add("layout-editor-express");pega.ui.panelManager.registerPanel(g,pega.ui.panelConstants.DOCK_LOCATION.RIGHT)}function ha(){var a={},b=g,c=k;a.preShow=function(){b.hide();c.hide()};a.hideCallback=function(){for(var a=pega.util.Dom.getFrames(window),b=0;b<a.length;b++){var c=a[b];null!=c.document.body&&c.document.body.removeEventListener("click",O)}};a.pushesContent=!1;p=new pega.ui.components.panels.ClassLoader("pagesPanel",a);pega.ui.panelManager.registerPanel(p,
pega.ui.panelConstants.DOCK_LOCATION.LEFT)}function ga(){k=new pega.ui.components.panels.ClassLoader("expressGridRightPanel",{preShow:function(){m.scrollTop(0);m.scrollLeft(0)},showCallback:function(){P(!1);P(!0);y(!1);pega.ui.composer.registerEventListener("LiveComposer.stateChange",k.hide)},preHide:function(){$(f).removeClass("ignore-suppression");f=null;P(!1);g.isShowing()||(d.isInUIMode()?(E(),e.showHighlightForEditableContent(),y(!1)):(y(!0),e.destroy(),e=null))},hideCallback:function(){pega.ui.composer.sendEvent("LiveComposer.rightPanelHidden");
pega.ui.composer.cancelEventListener("LiveComposer.stateChange",k.hide)}});k.getElement().classList.add("layout-editor-express");pega.ui.panelManager.registerPanel(k,pega.ui.panelConstants.DOCK_LOCATION.RIGHT)}function W(a){a&&a.panelRefresh&&1==a.panelRefresh&&M(e.getFocusedTemplate(),{clearUndoRedo:!0});F(a)}function T(a){if(q.contentWindow.pega)if(1!=a&&0!=a||Q)Q=!1;else{var b=new q.contentWindow.SafeURL("Embed-Pega-PortalPage.pzLiveComposer_SaveSettings");b.put("isEditingOn",a);q.contentWindow.pega.util.Connect.asyncRequest("POST",
b.toURL())}}function F(a,b){a&&1==a.skipCollaboration&&n.isShowing()&&(f=e.getFocusedTemplate(),n.hide());var c=pega.ui.inspector.utilities.getTempInspectorObject($(f)),d=c.get("ruleName"),g=f,d=pega.u.d.getSectionsByName(d,c.ownerWindow.document);if(null!=d){u();for(var k=function(){null!=e&&(e.clearAllHighlights(),e.focusTemplate(g,!0));var c=pega.ui.inspector.utilities.getTempInspectorObject($(g));c.get("templated")?$(f).addClass("ignore-suppression"):$(f).removeClass("ignore-suppression");D.hide();
null!=b&&b();!pega.collaboration||!pega.collaboration.actions||a&&!0===a.skipCollaboration||pega.collaboration.actions.updateCollaboration(c.get("insKey"),"save")},l=0;l<d.length;l++){var m=$(d[l]).closest("[data-harness-id]").attr("data-harness-id");c.ownerWindow.pega.ctxmgr.setCurrentHarnessContext(m);c.ownerWindow.pega.u.d.reloadSection(d[l],"","",!1,!1,-1,!1,null,null,null,k)}}}function X(){var a=pega.ui.inspector.utilities.getTempInspectorObject($(f)),b=pega.ui.inspector.parser.getNearestParent(a,
[{type:"Section"}]).get("element")[0],c=f.dataset.uiMeta,d=l;l=a.get("pgRef");f=b;F(null,function(){l=d;f=b.querySelector('[data-ui-meta\x3d"'+c+'"]');e.focusTemplate(f,!0)})}function I(a){"string"===typeof a&&(a="true"==a);var b=document.querySelectorAll('[data-node-id\x3d"pzRuleCallParamsInner"] .iconErrorDiv+input');if(null!=b){var c;"function"===typeof Event?c=new Event("blur"):(c=document.createEvent("Event"),c.initEvent("blur",!0,!0));for(var h=0;h<b.length;h++)validation_ValidateFieldOnEvent(b[h],
"onblur",null,c)}a||(e.turnAllListenersOff(),a=e.getFocusedElement(),f=$(a).closest("[data-ui-meta*\x3dtemplated]")[0],a===e.getFocusedTemplate()?(a=pega.ui.inspector.utilities.getTempInspectorObject($(a)),a=pega.ui.inspector.parser.getNearestParent(a,[{templated:!0}]),f=a.get("element")[0]):null==f&&(f=e.getParentSection()),F(null,function(){d.focusRuntimeEditorCell(l)}),pega.u.d.clearReloadedStatus())}function u(){pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide();D.show(!1,!0)}function G(a){pega.u.d.getPopOver().close(void 0,
void 0,"true",void 0);R=a.target.closest("div.layout-editor-row")}function Y(a){for(var b=pega.ui.inspector.utilities.getFrameList(pega.ui.composer.getComposerPreviewWindow()),c=0;c<b.length;c++){var h=b[c].document.body;h&&(a&&!h.classList.contains("runtime-tree-default-cursor")?(h.classList.add("runtime-tree-default-cursor"),b[c].addEventListener("click",d.handleSuppression,!0),b[c].addEventListener("mousedown",d.handleSuppression,!0),b[c].addEventListener("dragover",d.handleSuppression,!0),b[c].addEventListener("drop",
d.handleSuppression,!0)):!a&&h.classList.contains("runtime-tree-default-cursor")&&(h.classList.remove("runtime-tree-default-cursor"),b[c].removeEventListener("click",d.handleSuppression,!0),b[c].removeEventListener("mousedown",d.handleSuppression,!0),b[c].removeEventListener("dragover",d.handleSuppression,!0),b[c].removeEventListener("drop",d.handleSuppression,!0)))}}function V(a){var b=e.getFocusedTemplate(),b=pega.ui.inspector.utilities.getTempInspectorObject($(b)).get("insKey");l=a;var c={};c.cellPath=
a;c.key=b;c.hidefooter=!0;c.pyIsRegionHeaderVisible=-1<a.indexOf("pyHeaderCells");n.loadByClass("Pega-UI-PanelContent-PropertyPanel",function(){n.show()},c);pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0);pega.c.menu.killMenus()}function Z(a){var b=e.getFocusedTemplate(),b=pega.ui.inspector.utilities.getTempInspectorObject($(b)).get("insKey");if(void 0==a||""==a)a=e.getFocusedElement(),a=pega.ui.inspector.utilities.getTempInspectorObject($(a).closest("[data-ui-meta*\x3dpyRegions]")).get("pgRef");
l=a;var c={};c.cellPath=a;c.key=b;C.loadByClass("Pega-UI-PanelContent-ThemePanel",function(){C.show()},c)}function aa(){var a=d.getComposerPreviewWindow().document,a=$(a).find("iframe");if(appSkin_with_savedFormat)for(var b=0;b<a.length;b++){var c=a[b].contentDocument,h=c.createElement("link");h.rel="stylesheet";h.type="text/css";h.href=appSkin_with_savedFormat;c.head.appendChild(h)}}function U(a){var b=e.getFocusedElement();null==b&&(b=e.getParentSection());var c=pega.ui.inspector.utilities.getTempInspectorObject($(b)),
d="Section"===c.get("type"),c="Layout"===c.get("type")&&"REPEATGRID"===c.get("subType");f=d||c?b:e.getFocusedTemplate();e.clearAllHighlights();e.focusTemplate(f,a)}function B(a){clearTimeout(ba);ba=setTimeout(function(){null!=e.getFocusedTemplate()&&e.getFocusedTemplate().contains(a)&&U(!0)},100)}function y(a){for(var b=pega.ui.inspector.utilities.getFrameList(pega.ui.composer.getComposerPreviewWindow()),c=0;c<b.length;c++)b[c].document&&b[c].document.body&&(a?b[c].document.body.classList.remove("hideConfigureLink"):
b[c].document.body.classList.add("hideConfigureLink"))}function S(a,b){var c={clearUndoRedo:!0};c.isConfigureFormEnabled="FlowAction"==a.get("type");c.hidefooter=!1;var d=b.get("element")[0],e=$(d).closest(".mdc-fieldset")[0];e&&(e=e.dataset.action,""!=e&&(c.threadName=pega.u.d.getThreadName({url:e}),-1<c.threadName.indexOf("/ACTERTIARY")&&(c.isConfigureFormEnabled=!1)));var e=null===pega.ui.inspector.parser.getNearestParent(b,[{templated:!0}]),f="Harness"===a.get("type"),g="workareaWidget"===a.get("sectionType");
a="FlowAction"===a.get("type");var k="workarea"===b.get("sectionType"),d=$(d).hasClass("express-configure-highlight");c.isSettingsLinkDisabled=e||f||g||a||k||d;void 0===b.get("insKey")&&(d=b.get("clipboardPath"),void 0!==d&&(c.sectionName=d),b=b.get("className"),void 0!==b&&(c.sectionClassName=b));return c}function N(a){!0===a?(pega.ui.composer.registerEventListener("LayoutEditor.save",W),pega.ui.composer.registerEventListener("LayoutEditor.move",u),pega.ui.composer.registerEventListener("LayoutEditor.switchTemplate",
u),pega.ui.composer.registerEventListener("LayoutEditor.addWidget",e.disableInteraction),pega.ui.composer.registerEventListener("LayoutEditor.widgetListClose",e.enableInteraction),pega.ui.composer.registerEventListener("PropertyPanel.apply",I),pega.ui.composer.registerEventListener("PropertyPanel.hide",n.hide),pega.ui.composer.registerEventListener("ThemePanel.apply",aa),pega.ui.composer.registerEventListener("ThemePanel.hide",C.hide),pega.ui.composer.registerEventListener("ThemePanel.show",Z),pega.ui.composer.getComposerPreviewWindow().pega.u.d.attachOnload(B,
!0),Y(!0)):(pega.ui.composer.cancelEventListener("LayoutEditor.save",W),pega.ui.composer.cancelEventListener("LayoutEditor.move",u),pega.ui.composer.cancelEventListener("LayoutEditor.switchTemplate",u),pega.ui.composer.cancelEventListener("LayoutEditor.addWidget",e.disableInteraction),pega.ui.composer.cancelEventListener("LayoutEditor.widgetListClose",e.enableInteraction),pega.ui.composer.cancelEventListener("PropertyPanel.apply",I),pega.ui.composer.cancelEventListener("PropertyPanel.hide",n.hide),
pega.ui.composer.cancelEventListener("ThemePanel.apply",aa),pega.ui.composer.cancelEventListener("ThemePanel.hide",C.hide),pega.ui.composer.cancelEventListener("ThemePanel.show",Z),pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0),Y(!1))}function P(a){!0===a?(pega.ui.composer.registerEventListener("GridLayoutEditor.save",X),pega.ui.composer.registerEventListener("GridPropertyPanel.apply",I),pega.ui.composer.registerEventListener("GridPropertyPanel.hide",x.hide),pega.ui.composer.getComposerPreviewWindow().pega.u.d.attachOnload(B,
!0)):(pega.ui.composer.cancelEventListener("GridLayoutEditor.save",X),pega.ui.composer.cancelEventListener("GridPropertyPanel.apply",I),pega.ui.composer.cancelEventListener("GridPropertyPanel.hide",x.hide),pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0))}function M(a,b){u();var c=pega.ui.inspector.utilities.getTempInspectorObject($(a)),e=c.get("insKey");if(g.isShowing()){u();$(f).removeClass("ignore-suppression");$(a).addClass("ignore-suppression");f=a;a=pega.ui.inspector.parser.getNearestParent(c);
c=S(a,c);c.key=e;if(null==e||"undefined"==e)c.usingPageClass=!0;for(e in b)c[e]=b[e];g.loadByClass("Pega-UI-PanelContent-LayoutEditor",function(){D.hide()},c)}else d.loadLayoutEditor(e,a)}function O(a){pega.control.menu.killMenus();var b=$(".pages-title a.Header_nav")[0];p.isShowing()&&a.target.parentElement!==b&&a.target!==b&&0===$(a.target).closest("#pagesPanel").length&&p.hide()}var Q=!1,v,z,q,J,m,f=null,e=null,D,l,A=!1,ba,g,k,n,x,w,H,t,p,R,C,K=null,d={},r="inactive";d.isTemplateRuntimeEditorEnabled=
!1;d.initialize=function(){m=$(".screen-layout");z=$(".deviceOutline")[0];"undefined"!==typeof z&&(v=d.getCurrentComposerWindow(),pega.ui.composer.formfactor.init(),v==window&&(D=new pega.ui.busyIndicator("",!0,document.body,250),q=document.getElementById("FormFactoriFrame"),$(q).on("load",pega.ui.composer.loadPreviewWindow),null!=pega.ui.designtemplate&&ea()))};d.showPropertyPanel=function(){var a=e.getFocusedElement(),b=pega.ui.inspector.utilities.getTempInspectorObject($(a)),b=pega.ui.inspector.parser.getNearestParent(b,
[{templated:!0}]),b=b.get("insKey");l=pega.ui.inspector.utilities.getTempInspectorObject($(a).closest("[data-ui-meta*\x3dpyRegions]")).get("pgRef");a={};a.cellPath=l;a.key=b;a.hidefooter=!0;n.loadByClass("Pega-UI-PanelContent-PropertyPanel",function(){n.show()},a);pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0)};d.showAddPanel=function(a,b){if("undefined"===typeof b||"true"!=b)b="false";var c=pega.u.d.getBaseRef(a),c=c.substring(0,c.indexOf(".pyContext"));""===c?(c=pega.u.d.getBaseRef(a),
H.loadByDynamic("pzWidgetList",c,function(){H.show()},{panelLabel:"Add columns",isFromGridLayout:!0})):w.loadByDynamic("pzWidgetList",c,function(){w.show();d.sendEvent("LayoutEditor.addWidget")},{panelLabel:"Add...",isHeaderEditing:b})};d.showUIDesignTopPanel=function(a){t.isShowing()||((a=document.getElementById("uiDesignTopPanel"))&&a.hasChildNodes()?t.show():t.loadSectionInPanel({sectionName:"pzUIDesignTopPanel",sectionClass:"@baseclass",disableHeader:!0,callback:function(){t.show()}}))};d.hideUIDesignTopPanel=
function(){t.isShowing()&&t.hide()};d.showPagesPanel=function(a){if(!p.isShowing()){p.loadSectionInPanel({sectionName:"pzPagesPanelContent",sectionClass:"Rule-HTML-Harness",pageContext:"D_pzCreateNewPage",preActivityName:"pzSetupPagesPanel",headerSectionName:"pzPagesPanelHeader",headerSectionClass:"Rule-HTML-Harness",callback:function(){p.show()}});a=pega.util.Dom.getFrames(window);for(var b=0;b<a.length;b++){var c=a[b];c.document.body.removeEventListener("click",O);c.document.body.addEventListener("click",
O)}}};d.hidePagesPanel=function(){p.isShowing()&&p.hide()};d.focusRuntimeEditorCell=function(a){l=a;a=[{pgRef:l}];var b=pega.ui.inspector.parser.buildModel(e.getFocusedTemplate(),a,[{type:"Section"}]),c;for(c in b.lookupByID)if(a=b.lookupByID[c],a.get("element")[0]!==e.getFocusedTemplate()){c=a.get("element")[0];"Section"===a.get("type")?(n.isShowing()&&V(l),e.focusTemplate(c)):e.focusCell(c);return}f=null;e.focusCell(null)};d.turnOffEditingEvents=function(){e&&e.turnAllListenersOff()};d.replaceWindowURL=
function(a,b){a.location.replace(encodeURIComponent(b))};d.toggle=function(a){if(v!=window)return v.pega.ui.composer.toggle(a);if("transitioning"!=r&&d.isActive())if("suspended"==r){r="transitioning";var b=function(){r="ready"};pega.ui.composer.formfactor.load(function(){L(b)})}else r="transitioning",da(function(){r="suspended"});else return!1;return!0};d.getCurrentComposerWindow=function(){if("workspace"===pega.desktop.portalCategory&&window.name===pega.desktop.portalName)return window;var a=window,
b;try{for(;null!=a.parent&&a!=b&&a.parent.pega&&a.parent.pega.ui&&a.parent.pega.ui.composer;)if(b=a,a=a.parent,"workspace"===a.pega.desktop.portalCategory&&a.name===a.pega.desktop.portalName)return a}catch(c){}return a};d.isComposerPreviewFrame=function(){return"FormFactoriFrame"==window.name};d.getComposerPreviewWindow=function(){var a=pega.ui.composer.getCurrentComposerWindow();return a!=window?a.pega.ui.composer.getComposerPreviewWindow():q.contentWindow};d.isActive=function(){var a=pega.ui.composer.getCurrentComposerWindow();
return a!=window?a.pega.ui.composer.isActive():"inactive"!=r};d.isComposerOn=function(){return pega.ui.composer.getCurrentComposerWindow()!=window?pega.ui.composer.getCurrentComposerWindow().pega.ui.composer.isComposerOn():"inactive"!=r&&"suspended"!=r};d.loadComposerMode=function(a,b,c,e){v!=window?v.pega.ui.composer.loadComposerMode(a,b,c,e):d.isActive()||(pega.ui.statetracking.setBusy("loadComposerMode"),J=b,$("body \x3e .screen-layout \x3e .screen-layout-region-header").addClass("composerbar"),
r=c?"loading":"suspended",z&&(z.style.visibility="hidden",z.style.width="100%",z.style.height="100%"),b=new SafeURL("Embed-PortalLayout.RedirectAndRun"),b.put("ThreadName","OpenPortal_InnerLive"),b.put("bPurgeTargetThread",!0),b.put("bEncodeLocation",!0),c=new SafeURL("Data-Portal.pzShowSelectedPortalForComposer"),c.put("ThreadName","OpenPortal_InnerLive"),c.put("portal",a),c.put("Name",a),c.put("isLaunchedByLiveComposer",!0),c.put("developer",!1),b.put("Location",c.toQueryString()),$(q.contentWindow)[0].location.replace(b.toURL()),
e?(m.addClass("slide-final-state"),m.addClass("fade-transition"),m.addClass("fade-final-state"),Q=e):(m.addClass("fade-final-state"),m.addClass("slide-transition")))};d.loadPreviewWindow=function(){v!=window?v.pega.ui.composer.loadPreviewWindow():"loading"==r?(r="ready",L(null==J||""==J?function(){document.title=q.contentDocument.title;$(z).css("visibility","visible").hide().fadeIn(500,function(){pega.ui.statetracking.setDone();$(document.body).removeClass("show-background-mask");pega.ui.composer.formfactor.load(function(){})});
$(q).off("load",pega.ui.composer.loadPreviewWindow)}:function(){document.title=q.contentDocument.title;$(q.contentWindow)[0].location.replace(J)})):"hidden"==$(z).css("visibility")&&($(z).css("visibility","visible").hide().fadeIn(500,function(){pega.ui.statetracking.setDone();$(document.body).removeClass("show-background-mask");m.hasClass("slide-transition")||pega.ui.edit.config.toggle()}),$(q).off("load",pega.ui.composer.loadPreviewWindow))};d.loadLayoutEditor=function(a,b){ExpressExtSlider.closeSlider();
u();f=b;b=pega.ui.inspector.utilities.getTempInspectorObject($(f));var c=pega.ui.inspector.parser.getNearestParent(b);b.get("templated")?$(f).addClass("ignore-suppression"):$(f).removeClass("ignore-suppression");b=S(c,b);b.key=a;E();g.loadByClass("Pega-UI-PanelContent-LayoutEditor",function(){g.show();D.hide()},b);d.isTemplateRuntimeEditorEnabled&&(e.clearAllHighlights(),e.focusTemplate(f,!0))};d.loadGridLayoutEditor=function(a,b){ExpressExtSlider.closeSlider();u();f=b;a=pega.ui.inspector.utilities.getTempInspectorObject($(f));
var c=pega.ui.inspector.parser.getNearestParent(a);a.get("templated")?$(f).addClass("ignore-suppression"):$(f).removeClass("ignore-suppression");var c=S(c,a),h=pega.ui.inspector.parser.getNearestParent(a,[{type:"Section"}]);l=a.get("pgRef");c.cellPath=a.get("pgRef");c.key=h.get("insKey");c.hidefooter=!0;k.getElement().classList.add("grid-layout-panel");k.loadByClass("Pega-UI-PanelContent-Grid",function(){k.show();D.hide()},c);null!=e&&d.isTemplateRuntimeEditorEnabled&&(e.clearAllHighlights(),e.focusTemplate(b,
!0))};d.openPropertyPanelForGridLayout=function(a,b){f=e.getFocusedElement();var c=pega.ui.inspector.utilities.getTempInspectorObject($(f));l=0<a.indexOf(".pyTable.pyRows(2)")?c.get("pgRef"):c.get("pgRef")+".pySectionBody(2).pyTable.pyRows(2).pyCells("+a+")";a={};a.cellPath=l;a.key=b;a.isTableGrid=!0;x.loadByClass("Pega-UI-PanelContent-PropertyPanel",function(){var a=x.getElement(),b=a.querySelector(".table-col-page [value\x3d'Custom']:checked"),a=a.querySelector(".table-col-page [value\x3d'Custom']:not(:checked)");
null!==a?a.disabled=!0:null!==b&&(b.disabled=!0);x.show()},a);pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0)};d.openPropertyPanelForGridColumn=function(a){var b=e.getFocusedElement(),b=pega.ui.inspector.utilities.getTempInspectorObject($(b));l=b.get("pgRef");var b=pega.ui.inspector.parser.getNearestParent(b,[{type:"Section"}]),b=b.get("insKey"),c={};c.cellPath=l;c.key=b;c.isTableGrid=!0;c.isTableGridColumn=!0;c.cellIndex=a;x.loadByClass("Pega-UI-PanelContent-PropertyPanel",
function(){x.show()},c);pega.ui.composer.getComposerPreviewWindow().pega.u.d.detachOnload(B,!0)};d.switchDevice=function(a,b,c,d,e){g&&g.hide();k&&k.hide();pega.ui.composer.sendEvent("LiveComposer.stateChange");pega.ui.composer.formfactor.switchDevice(a,b,c,d,e)};d.registerEventListener=function(a,b,c,e){d.getCurrentComposerWindow().pega.desktop.registerEventListener(a,b,c,e)};d.cancelEventListener=function(a,b){d.getCurrentComposerWindow().pega.desktop.cancelEventListener(a,b)};d.sendEvent=function(a,
b,c,e){d.getCurrentComposerWindow().pega.desktop.sendEvent(a,b,c,e)};d.handleSuppression=function(a){if(0>=$(a.target).closest(".ignore-suppression").length)return a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),!1};d.openPageInPreview=function(a,b,c,e,f){d.getComposerPreviewWindow().showPortalPage(a,b,c,e);formFactorIframe.showFormFactorIframe();f&&d.toggleUIMode(!0)};d.selectPageItem=function(a){a=a.target;if(0<$(a).closest(".page-info-row").length){a=
$(a).closest(".page-info-row")[0];var b=$(a).closest(".page-info-list")[0];$(b).find(".selected").removeClass("selected");$(a).addClass("selected")}};d.toggleUIDesignTopPanel=function(){"undefined"!==typeof t&&(A?d.showUIDesignTopPanel():d.hideUIDesignTopPanel())};d.toggleUIMode=function(a){if("undefined"===typeof g&&"undefined"===typeof k||!g.isShowing()&&!k.isShowing()||"undefined"!==typeof g&&g.isShowing()||"undefined"!==typeof k&&k.isShowing())A="undefined"===typeof a||""===a?!A:a,y(!A),a=d.getCurrentComposerWindow(),
A?($(".ui-edit-mode-button").addClass("in-edit-mode"),a.document.querySelector("aside").classList.add("hide-left-nav"),a.document.querySelector("main").classList.add("slide-left")):($(".ui-edit-mode-button").removeClass("in-edit-mode"),a.document.querySelector("aside").classList.remove("hide-left-nav"),a.document.querySelector("main").classList.remove("slide-left"),"undefined"!==typeof p&&p.isShowing()&&p.hide(),"undefined"!==typeof g&&g.isShowing()&&g.hide(),"undefined"!==typeof k&&k.isShowing()&&
k.hide(),d.toggleUIDesignTopPanel()),window===a&&(A&&null===e?(E(),e.showHighlightForEditableContent()):!A&&e&&(e.destroy(),e=null))};d.isInUIMode=function(){return v!=window?d.getCurrentComposerWindow().pega.ui.composer.isInUIMode():A?A:!1};d.toggleSectionTreeOverlay=function(){if(null===K){var a={hoverCallback:function(a){e.hoverElement(a)},dehoverCallback:function(){e.dehoverElement()},focusCallback:function(a){e.focusTemplate(a)}};a.contextWindow=pega.ui.composer.getComposerPreviewWindow();K=
new pega.ui.designtemplate.SectionTreeOverlay(g.getElement(),a)}a=null;g&&g.isShowing()?a=g.getElement():k&&k.isShowing()&&(a=k.getElement());K.setTreeLocation(a);K.toggle(e.getFocusedElement())};var ca;d.updateUIModeHighlighting=function(){if(pega.ui.composer.isActive()){var a=pega.ui.composer.getComposerPreviewWindow();a.pega&&a.pega.web&&a.pega.web.isWebMashup&&0<a.frames.length&&a.frames[0].document.body.classList.add("mashup-preview-body");pega.ui.composer.isInUIMode()&&(v!=window?d.getCurrentComposerWindow().pega.ui.composer.updateUIModeHighlighting():
e.getFocusedTemplate()||(clearTimeout(ca),ca=setTimeout(function(){!g.isShowing()&&!k.isShowing()&&pega.ui.composer.getComposerPreviewWindow()&&pega.ui.composer.getComposerPreviewWindow().pega&&(E(),e.showHighlightForEditableContent(),y(!1))},100)))}};d.submitChangesForPanel=function(a,b,c,d,e){""!==b?(a=pega.u.d.getSectionByName(a,"",document),pega.u.d.reloadSection(a,"","",!1,!1,-1,!1,null,null,null,null)):(pega.u.d.submitModalDlgParam&&pega.u.d.bModalDialogOpen&&doModalAction(pega.u.d.submitModalDlgParam,
c),null!=d&&pega.ui.composer.sendEvent("LayoutEditor.save"),e&&pega.ui.composer.formfactor.reloadPreview(e))};d.positionAddViewOverlayArrow=function(){pega.ui.composer.removeAddViewOverlayArrow();var a=pega.u.d.getPopOver().getActivePopOverElement(),b=a.querySelector(".po-arrow-hide"),c=Math.round($(R).offset().top-$(R).offsetParent().offset().top)+30;b.classList.contains("add-arrow")||b.classList.add("add-arrow");a.offsetTop>c?b.classList.add("to-right"):b.classList.add("to-left")};d.removeAddViewOverlayArrow=
function(){var a=pega.u.d.getPopOver().getActivePopOverElement();null!==a&&(a=a.querySelector(".overlayPO .to-right"),null!=a&&a.classList.remove("to-right"),a=document.querySelector(".overlayPO .to-left"),null!=a&&a.classList.remove("to-left"))};d.getSelectedRuntimeEditorTemplate=function(){return e?e.getFocusedTemplate():null};return d}();try{"FormFactoriFrame"==window.name?pega.desktop.support.setDesktopWindow(window):"FormFactoriFrame"==parent.name&&pega.desktop.support.setDesktopWindow(parent)}catch(L){}
window.addEventListener("load",function(){pega.ui.composer.initialize()});pega.u.d.attachOnload(function(){pega.ui.composer.getCurrentComposerWindow()!=window&&pega.ui.composer.updateUIModeHighlighting()},!0);
var $pNamespace=pega.namespace;$pNamespace("pega.ui.composer");
pega.ui.composer.formfactor=function(){function v(a){var b=null;a||(a=window.event);a&&a.target?b=a.target:a&&a.srcElement&&(b=a.srcElement);return b}function p(a,b,e){$(k).css("overflow","hidden");var c=b,f=e;"100%"==b&&"100%"==e&&(c=$(k).innerWidth(),f=$(k).innerHeight());$(q).html(c+"x"+f);g.style.display="block";_toggleMashupOptionsAndSetMargin("deviceResolution","show");c=Math.floor(($(window).height()-$(".composerbar").height()-f)/6);0>c&&(c=0);a.style.width=0<b.indexOf("%")?b:b+"px";a.style.height=
0<e.indexOf("%")?e:e+"px";a.style.top=c+"px";setTimeout(function(){k.style.removeProperty("overflow")},500)}function r(a){(a=v(a))&&a.removeEventListener("mouseout",r);$(c).is(":animated")||$(q).html(t+"x"+u);$(m).css({display:"none","z-index":"2"})}function w(a){var b=function(){w(a)};$(f.contentWindow).unbind("load",b);n=window.navigator.userAgent;a&&(n=a);x!=n&&(null==f.contentWindow.document.body?$(f.contentWindow).bind("load",b):(b=f.contentWindow.document.createElement("div"),$(b).css({position:"fixed",
top:"0",left:"0",bottom:"0",right:"0","z-index":"1000"}),f.contentWindow.document.body.appendChild(b),x=n,b=new SafeURL("pzFormFactorSetUserAgent"),b.put("UserAgentOverride",n),f.contentWindow.pega&&f.contentWindow.pega.util?f.contentWindow.pega.util.Connect.asyncRequest("POST",b.toURL(),{success:function(a){f.contentWindow.pega.u.d.ignoreDirty="true";d.reloadPreview()}}):f.contentWindow.location.reload(!0)))}function y(){0<$(".icon-laptop.formfactor-active").length?c&&(c.style.width="100%",c.style.height=
"100%"):p(c,t,u)}function z(a){pega.ui.composer.isActive()&&n!=window.navigator.userAgent&&(a=new SafeURL("pzFormFactorWindowUnload"),a.put("UserAgentOverride",window.navigator.userAgent),f.contentWindow.pega.util.Connect.asyncRequest("POST",a.toURL(),{success:function(a){window.opener&&window.opener.location.reload(!0)}}))}var d={},l,k,c,f,m,q,g,x=window.navigator.userAgent,n=window.navigator.userAgent,t,u;d.init=function(){l=d.getCurrentPreviewWindow();l==window&&(k=$(".app-studio main.screen-layout-region-main")[0],
f=document.getElementById("FormFactoriFrame"),c=$(".deviceOutline")[0],$(c).addClass("laptop-margin"),_toggleMashupOptionsAndSetMargin("deviceOutline","show"),null!=f&&(m=document.getElementById("FormFactorPeviewMask"),q=document.getElementById("FormFactorPreviewResolutionText"),g=document.getElementById("FormFactorPreviewResolution"),window.addEventListener("resize",y,!0),window.addEventListener("beforeunload",z,!0)))};d.getCurrentPreviewWindow=function(){if("pxExpress"==window.pega.d.pzUnitTestPKey)return window;
var a=window,b;try{for(;null!=a.parent&&a!=b&&a.parent.pega&&a.parent.pega.ui&&a.parent.pega.ui.composer&&a.parent.pega.ui.composer.formfactor;)if(b=a,a=a.parent,"pxExpress"==a.pega.d.pzUnitTestPKey)return a}catch(e){}return a};d.load=function(a){if(l!=window)l.pega.ui.composer.formfactor.load(a);else{var b=new SafeURL("Data-Portal.pzDevicePreview_GetSettings");pega&&!pega.offline&&pega.util.Connect.asyncRequest("POST",b.toURL(),{success:function(b){b=eval("("+b.responseText+")");"phone"==b.pySelectedDevice?
d.switchDevice("icon-mobile-phone",b.pySelectedPhone.pyWidth,b.pySelectedPhone.pyHeight,b.pySelectedPhone.pyUserAgent,b.pyPhoneOrientation):"tablet"==b.pySelectedDevice&&d.switchDevice("icon-tablet",b.pySelectedTablet.pyWidth,b.pySelectedTablet.pyHeight,b.pySelectedTablet.pyUserAgent,b.pyTabletOrientation);a()},failure:function(b){a()}});pega&&pega.ui&&pega.ui.ChangeTrackerMap&&(b=pega.ui.ChangeTrackerMap.getTracker().trackedPropertiesList.D_pzAppViewSettings)&&"Pega-Landing-AppView-Mashup"==b.pySelectedChannelClass&&
_toggleMashupOptionsAndSetMargin("mashupOptions","show")}};d.toggleMashupOptionsAndSetMargin=function(a,b){_toggleMashupOptionsAndSetMargin(a,b)};_toggleMashupOptionsAndSetMargin=function(a,b){var e=document.getElementsByClassName("mashupOptDiv")[0],h=document.getElementsByClassName("deviceOutline");if("mashupOptions"==a&&"show"==b)e&&(e.classList.remove("hidden"),e.classList.remove("hide"),e.classList.add("show")),c&&e&&(g.style.marginTop="55px",-1!=h[0].className.indexOf("landscape")||-1!=h[0].className.indexOf("portrait")?
h[0].style.marginTop="110px":h[0].style.marginTop="80px");else if("mashupOptions"==a&&"hide"==b)e&&(e.classList.remove("show"),e.classList.add("hide")),c&&e&&(c.style.marginTop="",-1===h[0].className.indexOf("landscape")&&-1===h[0].className.indexOf("portrait")&&(c.style.height="100%"),g.style.marginTop="");else if("deviceOutline"==a||"deviceResolution"==a)e&&-1!==e.className.indexOf("show")?c&&g&&(g.style.marginTop="55px",-1!==c.className.indexOf("landscape")||-1!==h[0].className.indexOf("portrait")?
c.style.marginTop="110px":c.style.marginTop="80px"):c&&g&&(c.style.marginTop="",-1===h[0].className.indexOf("landscape")&&-1===h[0].className.indexOf("portrait")&&(c.style.height="100%"),g.style.marginTop="");e&&-1!==e.className.indexOf("show")&&(g=document.getElementById("FormFactorPreviewResolution"),g.style.display="none",-1!==c.className.indexOf("landscape")||-1!==h[0].className.indexOf("portrait")?c.style.marginTop="135px":(c.style.marginTop="80px",-1===c.className.indexOf("landscape")&&-1===
h[0].className.indexOf("portrait")&&(c.style.height="calc(100% - 80px)")))};d.switchDevice=function(a,b,e,h,f){if(l!=window)l.pega.ui.composer.formfactor.switchDevice(a,b,e,h,f);else{w(h);var d=$("."+a),g=function(){d.removeClass("temp-no-rotate");d.off("mouseout",g)};0<$(".formfactor-horizontal").length&&!d.hasClass("formfactor-horizontal")&&$(".formfactor-horizontal").removeClass("formfactor-horizontal");d.hasClass("formfactor-active")&&d.hasClass("no-rotate")||(d.hasClass("no-rotate")||d.hasClass("temp-no-rotate")||
(d.addClass("temp-no-rotate"),d.on("mouseout",g)),$(c).removeClass("portrait"),$(c).removeClass("landscape"),$(c).addClass("addMargin"),$(c).removeClass("laptop-margin"),"landscape"==f?(h=e,e=b,b=h,d.addClass("formfactor-horizontal"),$(c).addClass("landscape"),_toggleMashupOptionsAndSetMargin("deviceOutline","show")):"portrait"==f?(d.removeClass("formfactor-horizontal"),$(c).addClass("portrait"),_toggleMashupOptionsAndSetMargin("deviceOutline","show")):$(c).removeClass("addMargin"),t="100%"==b?$(k).innerWidth()-
28:b,u="100%"==e?$(k).innerHeight()-28:e,$(".formfactor-active").removeClass("formfactor-active"),d.addClass("formfactor-active"),r(),p(c,b,e),"icon-laptop"===a&&($(c).addClass("laptop-margin"),_toggleMashupOptionsAndSetMargin("deviceOutline","show")))}};d.preview=function(a,b,e,d,g,k){if(l!=window)l.pega.ui.composer.formfactor.preview(a,b,e,d,g,k);else if(a=v(a),!$(a).hasClass("no-rotate")||!$(a).hasClass("formfactor-active")){a&&a.addEventListener("mouseout",r);if(g==k&&"portrait"==d||g!=k&&"landscape"==
d)d=e,e=b,b=d;"100%"==e?$(m).removeClass("addMargin"):$(m).addClass("addMargin");$(m).css({width:$(f).width(),height:$(f).height(),top:$(c).css("top"),display:"inline","z-index":"3"});p(m,b,e)}};d.reloadPreview=function(a,b){if(null==a||1==a)a=b||f.contentWindow,a.pega&&a.pega.ui.NavigateTopHandler&&!a.pega.u.d.isNew()&&!a.pega.u.d.bIsDCSPA&&("ACTION"==a.strHarnessMode||a.pega.u.d.isConfirm()||a.pega.u.d.isReview())?a.pega.c.Actions.prototype.refresh("currentharness","","RefreshOnConflicts","\x26\x3d",
"",",",a.document,"1","pyWorkPage"):a.location.reload(!0)};d.getDeviceWindow=function(){if(l!=window)l.pega.ui.composer.formfactor.getDeviceWindow();else return f.contentWindow};d.changePortal=function(a){if(null!=a){var b=new SafeURL("Data-Portal.pzShowSelectedPortalForComposer");b.put("portal",a);b.put("Name",a);b.put("ThreadName","OpenPortal_InnerLive");b.put("developer",!1);b.put("isLaunchedByLiveComposer",!0);b.put("isLiveComposerEditingOn",!0);b.put("isPreviewFrame",!0);a=new SafeURL("Embed-PortalLayout.RedirectAndRun");
a.put("ThreadName","OpenPortal_InnerLive");a.put("bPurgeTargetThread",!0);a.put("bEncodeLocation",!0);a.put("Location",b.toQueryString());f.contentWindow.location=a.toURL();pega.ui.composer.sendEvent("LiveComposer.stateChange");pega.ui.composer.sendEvent("LiveComposer.startLoading")}};d.copyToClipBoard=function(a,b){document.querySelector("[data-test-id\x3d"+b+"]").select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy due to error "+e)}};d.previewChannel=function(a,
b,c,d){"Pega-Landing-AppView-Mashup"===b?(_toggleMashupOptionsAndSetMargin("mashupOptions","show"),c?(a=new SafeURL,a.put("hostPath",c),"true"==d?(a.put("pyActivity","@baseclass.pzProcessURLInWindow"),a.put("pyPreActivity","@baseclass.pzInvokeExternalURLLoader"),openUrlInWindow(a.toURL())):(a.put("pyActivity","@baseclass.pzInvokeExternalURLLoader"),f.contentWindow.location=a.toURL(),pega.ui.composer.sendEvent("LiveComposer.stateChange"),pega.ui.composer.sendEvent("LiveComposer.startLoading"))):pega.ui.composer.formfactor.changePortal("pzMashupComposerPreviewTemplate")):
(_toggleMashupOptionsAndSetMargin("mashupOptions","hide"),pega.ui.composer.formfactor.changePortal(a))};return d}();
pega.namespace("pega.tools");if("undefined"==typeof pega.tools.useWgx&&(pega.tools.useWgx=!1,"ActiveXObject"in window))try{new ActiveXObject("Microsoft.XMLDOM")}catch(a){pega.tools.useWgx=!0,$.ajax({url:"webwb/pzWickedGoodXpath.js",dataType:"script",success:function(b,c,d){wgxpath.install()},async:!1})}pega.tools.normalizeXpath=function(a){return!pega.tools.XMLDocumentUseZeroBasedIndex||"ActiveXObject"in window?a:a.replace(/(\[)(\d+)(\])/g,function(a,c,d,e){return c+(parseInt(d,10)+1)+e})};
pega.tools.XMLDocumentUseZeroBasedIndex=!1;
pega.tools.XMLDocument={get:function(a){if("ActiveXObject"in window&&!pega.tools.useWgx){if(null==a||""==a){a=pega.tools.XMLDocumentUseZeroBasedIndex?["Microsoft.XmlDom","MSXML2.DOMDocument.3.0"]:["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.3.0"];for(var b=0;b<a.length;b++)try{var c=new ActiveXObject(a[b]);pega.tools.XMLDocumentUseZeroBasedIndex||"MSXML2.DOMDocument.3.0"!=a[b]||c.setProperty("SelectionLanguage","XPath");return c}catch(d){}throw Error("MSXML is not installed on your system.");}try{return c=
new ActiveXObject(a)}catch(d){}throw Error("MSXML is not installed on your system.");}if(document.implementation&&document.implementation.createDocument)return c=document.implementation.createDocument("","pagedata",null),c.parseError={valueOf:function(){return this.errorCode},toString:function(){return this.errorCode.toString()}},c._initError(),c.addEventListener("load",function(){this._checkForErrors();this._changeReadyState(4)},!1),c;throw Error("Your browser doesn't support an XML DOM object.");
},defineGetter:function(a,b,c){if(Object.defineProperty)return Object.defineProperty(a,b,this.accessorDescriptor("get",c));if(Object.prototype.__defineGetter__)return a.__defineGetter__(b,c);throw Error("browser does not support getters");},accessorDescriptor:function(a,b){var c={enumerable:!0,configurable:!0};c[a]=b;return c},removeTextNodes:function(a){if(a&&(!a.tagName||"html"!=a.ownerDocument.documentElement.tagName.toLowerCase())){var b=a.childNodes;if(b)for(var c,d=b.length,e=0,f=/^\s*$/;e<
d;e++)c=b[e],3==c.nodeType?f.test(c.nodeValue)&&(a.removeChild(c),e--,d--):1==c.nodeType&&this.removeTextNodes(c)}},isWhitespace:function(a){var b=/^\s*$/;return 3==a.nodeType&&b.test(a.nodeValue)?!0:!1}};var oMozDocument=null;"undefined"!=typeof XMLDocument?oMozDocument=XMLDocument:"undefined"!=typeof Document&&(oMozDocument=Document);
if(oMozDocument&&!window.opera){try{oMozDocument.prototype.readyState=0,pega.env.ua.webkit&&/Macintosh/.test(navigator.userAgent)||(oMozDocument.prototype.onreadystatechange=null)}catch(a){}oMozDocument.prototype._changeReadyState=function(a){try{this.readyState=a}catch(b){}if("function"==typeof this.onreadystatechange)this.onreadystatechange()};oMozDocument.prototype._initError=function(){this.parseError.errorCode=0;this.parseError.filepos=-1;this.parseError.line=-1;this.parseError.linepos=-1;this.parseError.reason=
null;this.parseError.srcText=null;this.parseError.url=null};oMozDocument.prototype._checkForErrors=function(){var a=this.documentElement,b=a.firstElementChild||a.firstChild;if("parsererror"==a.tagName||b&&"parsererror"==b.tagName||b&&b.firstChild&&"parsererror"==b.firstChild.tagName)/>([\s\S]*?)Location:([\s\S]*?)Line Number (\d+), Column (\d+):<sourcetext>([\s\S]*?)(?:\-*\^)/.test(this.getXmlOrSerialize()),this.parseError.errorCode=-999999,this.parseError.reason=RegExp.$1,this.parseError.url=RegExp.$2,
this.parseError.line=parseInt(RegExp.$3),this.parseError.linepos=parseInt(RegExp.$4),this.parseError.srcText=RegExp.$5};oMozDocument.prototype.loadXML=function(a){this._initError();this._changeReadyState(1);for(a=(new DOMParser).parseFromString(a,"text/xml");this.firstChild;)this.removeChild(this.firstChild);for(var b=0;b<a.childNodes.length;b++)if(a.childNodes&&0<a.childNodes.length){var c=this.importNode(a.childNodes[b],!0);this.appendChild(c)}this._checkForErrors();this._changeReadyState(4);return 0==
this.parseError.errorCode?!0:!1};oMozDocument.prototype._load=oMozDocument.prototype.load;oMozDocument.prototype.load=function(a){this._initError();this._changeReadyState(1);this._load(a);return 0==this.parseError.errorCode?!0:!1};Node.prototype.__defineGetter__&&Node.prototype.__defineSetter__?(Node.prototype.__defineGetter__("xml",function(){return(new XMLSerializer).serializeToString(this,"text/xml")}),Node.prototype.__defineGetter__("text",function(){for(var a="",b=0;b<this.childNodes.length;b++)a=
this.childNodes[b].hasChildNodes()?a+this.childNodes[b].text:a+this.childNodes[b].nodeValue;return a}),Node.prototype.__defineSetter__("text",function(a){this.textContent=a})):(pega.tools.XMLDocument.defineGetter(Node,"xml",function(){return(new XMLSerializer).serializeToString(this,"text/xml")}),pega.tools.XMLDocument.defineGetter(Node,"text",function(){for(var a="",b=0;b<this.childNodes.length;b++)a=this.childNodes[b].hasChildNodes()?a+this.childNodes[b].text:a+this.childNodes[b].nodeValue;return a}));
Element.prototype.selectNodes=function(a){if("undefined"!=typeof XPathEvaluator){a=pega.tools.normalizeXpath(a);a=(new XPathEvaluator).evaluate(a,this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);var b=[];if(null!=a)for(var c=a.iterateNext();c;)b.push(c),c=a.iterateNext();b.item=function(a){return this[a]};return 0==b.length?null:b}if(document.evaluate){a=document.evaluate(a,this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);b=[];if(null!=a)for(c=a.iterateNext();c;)b.push(c),c=a.iterateNext();
b.item=function(a){return this[a]};return 0==b.length?null:b}b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(this.getXmlOrSerialize());b.setProperty("SelectionNamespaces","xmlns:xsl\x3d'http://www.w3.org/1999/XSL/Transform'");b.setProperty("SelectionLanguage","XPath");return null==b.documentElement?null:b.documentElement.selectNodes(a)};Element.prototype.selectSingleNode=function(a){if("undefined"!=typeof XPathEvaluator){a=pega.tools.normalizeXpath(a);if(-1!=navigator.userAgent.indexOf("Edge")&&
/^(\.\.\/)*(\.\.)/.test(a)){a=a.split("/");for(var b=this,c=0;c<a.length;c++)if(b.parentNode)b=b.parentNode,a[c]&&".."!=a[c]&&(b=b.getElementsByTagName(a[c])[0]);else return null;return b}a=(new XPathEvaluator).evaluate(a,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return null!=a?a.singleNodeValue:null}if(document.evaluate)return(a=document.evaluate(a,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null))?a.singleNodeValue:null;b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(this.getXmlOrSerialize());
b.setProperty("SelectionNamespaces","xmlns:xsl\x3d'http://www.w3.org/1999/XSL/Transform'");b.setProperty("SelectionLanguage","XPath");return null==b.documentElement?null:b.documentElement.selectSingleNode(a)};Element.prototype.getXmlOrSerialize=function(){return this.xml?this.xml:(new XMLSerializer).serializeToString(this)};oMozDocument.prototype.getUniqueId=function(){return Element.prototype.getUniqueId()};oMozDocument.prototype.selectNodes=function(a){if("undefined"!=typeof XPathEvaluator){a=pega.tools.normalizeXpath(a);
a=(new XPathEvaluator).evaluate(a,this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);var b=[];if(null!=a)for(var c=a.iterateNext();c;)b.push(c),c=a.iterateNext();b.item=function(a){return this[a]};return 0==b.length?null:b}if(document.evaluate){a=document.evaluate(a,this,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);b=[];if(null!=a)for(c=a.iterateNext();c;)b.push(c),c=a.iterateNext();b.item=function(a){return this[a]};return 0==b.length?null:b}b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(this.getXmlOrSerialize());
b.setProperty("SelectionNamespaces","xmlns:xsl\x3d'http://www.w3.org/1999/XSL/Transform'");b.setProperty("SelectionLanguage","XPath");return null==b.documentElement?null:b.documentElement.selectNodes(a)};oMozDocument.prototype.selectSingleNode=function(a){if("undefined"!=typeof XPathEvaluator)return a=pega.tools.normalizeXpath(a),a=(new XPathEvaluator).evaluate(a,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null),null!=a?a.singleNodeValue:null;if(document.evaluate)return(a=document.evaluate(a,this,
null,XPathResult.FIRST_ORDERED_NODE_TYPE,null))?a.singleNodeValue:null;var b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(this.getXmlOrSerialize());b.setProperty("SelectionNamespaces","xmlns:xsl\x3d'http://www.w3.org/1999/XSL/Transform'");b.setProperty("SelectionLanguage","XPath");return null==b.documentElement?null:b.documentElement.selectSingleNode(a)};oMozDocument.prototype.getXmlOrSerialize=function(){return this.xml?this.xml:(new XMLSerializer).serializeToString(this)}};
var errorDB=function(){var a={};return{setError:function(b){b&&(a[b]=!0)},clearError:function(b){b&&(a[b]=!1)},isHavingError:function(b){return a[b]}}};function getErrorDB(){"undefined"==typeof pega.ctx.errorDB&&(pega.ctx.errorDB=window.errorDB());return pega.ctx.errorDB}if("undefined"==typeof validation_ValidationTypes)var validation_ValidationTypes={};"undefined"==typeof pega.ctx.rule_obj_validate_ValidationTypes&&(pega.ctx.rule_obj_validate_ValidationTypes={});
"undefined"!=typeof pega&&"undefined"!=typeof pega.u&&"undefined"!=typeof pega.u.d?pega.u.d.attachOnload(validation_init,!0):"undefined"!=typeof harness?harness.attachOnload(validation_init,!0):pega.util.Event.addListener(window,"load",validation_init);var validation_displayErrors,validation_displayFieldError,validation_elTypesToValidate=["input","select","textarea"];function validation_init(a){setTimeout(_validation_init,10,a)}
function _validation_init(a){pega.ui.statetracking.setBusy("csvalid._validation_init");if(null==a||"load"==a.type)"function"==typeof configure_rule_declareExpressions&&configure_rule_declareExpressions(),"function"==typeof pega.ctx.configure_rule_obj_validate&&pega.ctx.configure_rule_obj_validate(),validation_attachValidation();else{var b=a.getAttribute("class");("MAIN"==a.nodeName||"DIV"==a.nodeName&&b&&0<=b.indexOf("screen-layout-region-content"))&&pega.u&&pega.u.d&&pega.ctx.bIsDCSPA?("function"==
typeof configure_rule_declareExpressions&&configure_rule_declareExpressions(),"function"==typeof pega.ctx.configure_rule_obj_validate&&pega.ctx.configure_rule_obj_validate()):pega.ctx&&pega.ctx.isMDC&&"DIV"==a.nodeName&&""!=a.getAttribute("data-mdc-recordid")&&b&&0<=b.indexOf("show")&&("function"==typeof configure_rule_declareExpressions&&configure_rule_declareExpressions(),"function"==typeof pega.ctx.configure_rule_obj_validate&&pega.ctx.configure_rule_obj_validate());validation_attachValidation(a)}pega.ui.statetracking.setDone()}
var validation_attributesThatImply=[];function validation_AttributeImplies(a,b){this.attributeName=a;this.validationType=b}function validation_EventFunction(a,b){this.eventName=a;this.functionPointer=b}function validation_Error(a,b){this.element=a;this.errorMessage=b}
function validation_ValidationType(a,b){this.defaultFunction=b;this.eventValidationList=[];this.addEventFunction=function(a,b){this.eventValidationList[a]=b};this.addAttributeThatImplies=function(b){validation_attributesThatImply.push(new validation_AttributeImplies(b,a))};"undefined"==typeof validation_ValidationTypes&&(validation_ValidationTypes={});validation_ValidationTypes[a.toLowerCase()]=this}function validation_getFunctionForValType(a,b){return a.eventValidationList[b]}
function validation_validate(a,b){var c=pega.ctx.dom.getElementById("PEGA_HARNESS");null==a&&(a=c,validationElements=[],validation_attachValidation());var d=[],e=[];if(a==c)validaton_validateCollection(validationElements,d,e);else for(c=0;c<validation_elTypesToValidate.length;c++){var f=pega.ctx.dom.getElementsByTagName(validation_elTypesToValidate[c],a);validaton_validateCollection(f,d,e)}"function"==typeof validation_displayErrors&&validation_displayErrors(d,e,b);return 0==d.length?!0:!1}
function validaton_validateCollection(a,b,c){for(var d=a.length,e=validation_validateField,f,g,k=0;k<d;k++){var h=a[k];f=h.readOnly&&h.hasAttribute("data-editable");if(h&&(h.parentNode||h.parentElement)&&("hidden"===h.type&&pega.util.Dom.getNextSibling(h)&&"select"===pega.util.Dom.getNextSibling(h).tagName.toLowerCase()||f||("hidden"!=h.type||h.getAttribute("data-calendar")||h.hasAttribute("data-datetype"))&&h.getAttribute("validationType")&&(!h.readOnly||h.className&&-1!=h.className.indexOf("TACOL")))){f=
e(h);g=f.length;for(var l=0;l<g;l++)b.push(f[l]);0==g&&c.push(h)}}}function validation_validateField(a){var b=[],c=a.getAttribute("validationType"),d=a.displayName;if(null!=c&&""!=c)for(var c=validation_removeSpaces(c).split(","),e=0;e<c.length;e++){var f=validation_ValidationTypes[c[e]];if(void 0!=f&&null!=f.defaultFunction){if(null==d||""==d)a.displayName=validation_getDisplayName(a);aPossibleError=f.defaultFunction(a);null!=aPossibleError&&b.push(aPossibleError)}}return b}
function validation_ValidateFieldOnEvent(a,b,c,d){var e=[],f;if(a.getAttribute){var g=pega.ctx;pega.ctxmgr.setContext(pega.ctxmgr.getContextByTarget(a));if(null!=a.getAttribute("validationType")){for(var k=validation_removeSpaces(a.getAttribute("validationType")).split(","),h=0;h<k.length;h++){f=!1;var l=validation_ValidationTypes[k[h].toLowerCase()];if("undefined"!=typeof l&&(l=validation_getFunctionForValType(l,b),null!=l)){if(null==a.displayName||""==a.displayName)a.displayName=validation_getDisplayName(a);
"calculateexpression"==k[h].toLowerCase()?(0==e.length&&(aPossibleError=l(a,b)),aPossibleError||(f=!0)):"auto_format"==k[h].toLowerCase()?0==e.length&&(aPossibleError=l(a,b)):aPossibleError=l(a,b);null!=aPossibleError&&e.push(aPossibleError);if("terminate"==aPossibleError||"onkeyup"==b&&"alphanumericspacevalidation"!=k[h].toLowerCase()){pega.ctxmgr.setContext(g);return}if("required"==k[h].toLowerCase()&&"onblur"==b&&0==e.length&&a.name&&window.getErrorDB&&window.getErrorDB().isHavingError(a.name)){pega.ctxmgr.setContext(g);
return}}}if("onblur"==b&&getErrorDB().isHavingError(a.getAttribute("name"))&&null!=a.onchange&&!a.getAttribute("data-change")&&0==e.length&&("undefined"==typeof aPossibleError||!aPossibleError)&&'["DateRange"]'!=a.getAttribute("data-ctl")){pega.ctxmgr.setContext(g);return}}b=[];k=a&&a.getAttribute("name");0==e.length?(b.push(a),getErrorDB().clearError(k)):getErrorDB().setError(k);"function"==typeof validation_displayFieldError&&validation_displayFieldError(e,b,d,f);0==e.length&null!=c&&c.call(a,d);
pega.ctxmgr.setContext(g)}}function validation_attachValidation(a){null==a&&(a="undefined"!=typeof pega.ctx.bPortalUser&&pega.ctx.bPortalUser?pega.ctx.dom.getElementById("PEGA_HARNESS"):document.querySelector("main"));for(var b=0;b<validation_elTypesToValidate.length;b++){var c=pega.ctx.dom.getElementsByTagName(validation_elTypesToValidate[b],a);validation_attachValidationToCollection(c)}}
function validation_attachValidationToCollection(a){for(var b=a.length,c="function"==typeof window.init_expression_calculation,d=validation_attachValidationToElement,e=0;e<b;e++){var f=a[e],g=f.readOnly&&f.hasAttribute("data-editable");("hidden"===f.type&&pega.util.Dom.getNextSibling(f)&&"select"===pega.util.Dom.getNextSibling(f).tagName.toLowerCase()||g||("hidden"!=f.type||f.getAttribute("data-calendar")||f.hasAttribute("data-datetype"))&&(!0!==f.readOnly||f.className&&-1!=f.className.indexOf("TACOL")))&&
d(f,c)}}var removeDuplicateValidations=function(a){var b=[],c=0,d=a.length;a:for(;c<d;c++)if(a[c]){var e=a[c];if(""!=e){for(var f=0,g=b.length;f<g;f++)if(b[f]==e)continue a;b[b.length]=e}}return b},validationElements=[],localVal_ValTypes={};
function validation_attachValidationToElement(a,b){var c=validation_addImpliedTypes(a),d=a.name,e=a.getAttribute("validationType");!0===b&&(b=rule_declare_expressions_ValidationTypes[d],"object"!=typeof b&&(b=rule_declare_expressions_ValidationTypes[validation_getEntryHandleForPageProperties(d)]),"object"==typeof b&&(c+=",calculateexpression"));b=pega.ctx.rule_obj_validate_ValidationTypes&&pega.ctx.rule_obj_validate_ValidationTypes[d];"object"!=typeof b&&(b=pega.ctx.rule_obj_validate_ValidationTypes&&
pega.ctx.rule_obj_validate_ValidationTypes[validation_getEntryHandleForPageProperties(d)]);"object"==typeof b&&("true"==b.bRequired.toLowerCase()&&(c+=",required"),b.validate&&(c+=","+b.validate,""!=b.errorMessage&&a.setAttribute("errMessage",b.errorMessage)));e||(e="");c=(e+","+c).toLowerCase().replace(/ /g,"").split(",");c=removeDuplicateValidations(c);if(0!=c.length)for(a.setAttribute("validationType",c.join(",")),validationElements.push(a),d=0;d<c.length;d++)if(localVal_ValTypes[c[d]]||(localVal_ValTypes[c[d]]=
validation_ValidationTypes[c[d]]),e=localVal_ValTypes[c[d]])e=e.eventValidationList,e.onload&&(b=a.onload,validation_ValidateFieldOnEvent(a,"onload",b)),e.onmouseover&&(b=a.onmouseover,a.onmouseover=new Function("event","validation_ValidateFieldOnEvent(this,'onmouseover',"+b+", event);")),e.onmouseout&&(b=a.onmouseout,a.onmouseout=new Function("event","validation_ValidateFieldOnEvent(this,'onmouseout',"+b+", event);")),e.onmousedown&&(b=a.onmousedown,a.onmousedown=new Function("event","validation_ValidateFieldOnEvent(this,'onmousedown',"+
b+", event);"))}
function validate_attachRuleObjValidate(a){if(!a.readOnly){var b=pega.ctx.rule_obj_validate_ValidationTypes&&pega.ctx.rule_obj_validate_ValidationTypes[a.name];null==b&&(b=pega.ctx.rule_obj_validate_ValidationTypes&&pega.ctx.rule_obj_validate_ValidationTypes[validation_getEntryHandleForPageProperties(a.name)]);var c=!1;if(null!=b){var d=validation_removeSpaces(a.getAttribute("validationType")).split(",");if(null!=b.validate){for(var e=0;e<d.length;e++)d[e].toLowerCase()==b.validate.toLowerCase()&&(c=
!0);0==c&&(""==a.getAttribute("validationType")?a.setAttribute("validationType",b.validate):a.setAttribute("validationType",a.getAttribute("validationType")+","+b.validate));""!=b.errorMessage&&a.setAttribute("errMessage",b.errorMessage)}if("true"==b.bRequired.toLowerCase()){for(e=0;e<d.length;e++)if("required"==d[e])return;""==a.validationType?a.setAttribute("validationType","required"):a.setAttribute("validationType",a.getAttribute("validationType")+",required");return!0}}}}
function validation_getEntryHandleForPageProperties(a){for(var b=["$l","$g"],c=0;c<b.length;c++){for(var d=a.split(b[c]),e=1;e<d.length;e++){var f=d[e].indexOf("$");d[e]=d[e].substring(f)}if(d[0]!=a)for(a=d[0],e=1;e<d.length;e++)-1!=d[e].indexOf("$")?(d[e]=b[c]+d[e],a+=d[e]):a+=b[c]}return a}
function validation_addImpliedTypes(a){for(var b="",c=validation_attributesThatImply.length,d=0;d<c;d++)a[validation_attributesThatImply[d].attributeName]&&(b=""==b?validation_attributesThatImply[d].validationType:","+validation_attributesThatImply[d].validationType);return b}function validation_removeSpaces(a){return a.replace(/ /g,"")}function validation_getDisplayName(a){return null==a.id||""==a.id?a.name:a.id}
function rule_obj_validate_Object(a,b,c,d){this.validate=b;this.bRequired=c;this.errorMessage=d}function rule_obj_validate(a,b,c,d){bConfigure=!1;b=new rule_obj_validate_Object(a,b,c,d);pega.ctx.rule_obj_validate_ValidationTypes||(pega.ctx.rule_obj_validate_ValidationTypes={});pega.ctx.rule_obj_validate_ValidationTypes[a]=b}var PERIOD_KEYCODE=46,COMMA_KEYCODE=44,MINUS_KEYCODE=45,ZERO_KEYCODE=48,NINE_KEYCODE=57;function valutility_cancelKeyPress(){window.event.returnValue=!1;return null}
function valutility_isNumeric(){return window.event.keyCode>=ZERO_KEYCODE&&window.event.keyCode<=NINE_KEYCODE?!0:!1}function valutility_isAlphabetic(){return 65<=window.event.keyCode&&90>=window.event.keyCode||97<=window.event.keyCode&&122>=window.event.keyCode?!0:!1}function valutility_isTimeSuffix(){return 65==window.event.keyCode||77==window.event.keyCode||80==window.event.keyCode||97==window.event.keyCode||109==window.event.keyCode||112==window.event.keyCode?!0:!1}
function valutility_isCharacter(a){return window.event.keyCode==a?!0:!1}var date_beforeDate=new validation_ValidationType("beforedate",date_isBeforeDate);date_beforeDate.addAttributeThatImplies("dateBefore");var date_afterDate=new validation_ValidationType("afterdate",date_isAfterDate);date_afterDate.addAttributeThatImplies("dateAfter");function date_ValDate(a,b,c){this.date=a;this.month=b;this.year=c}
function date_isBeforeDate(a){var b=pega.ctx.dom.getElementById(a.getAttribute("dateBefore"));if(null!=b){var c=date_toStdFormat(pega.control.PlaceHolder.getValue(a)),d=date_toStdFormat(pega.control.PlaceHolder.getValue(b));if(null!=c&&null!=d&&!date_isBeforeOtherDate(c,d))return c=date_beforeDateMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function date_isAfterDate(a){var b=pega.ctx.dom.getElementById(a.getAttribute("dateAfter"));if(null!=b){var c=date_toStdFormat(pega.control.PlaceHolder.getValue(a)),d=date_toStdFormat(pega.control.PlaceHolder.getValue(b));if(null!=c&&null!=d&&!date_isBeforeOtherDate(d,c))return c=date_afterDateMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function date_isBeforeOtherDate(a,b){return a.year<b.year||a.year==b.year&&a.month<b.month||a.year==b.year&&a.month==b.month&&a.date<b.date}
function date_toStdFormat(a){re=/\D*(\d*)\D*(\d*)\D*(\d*)\D*/;var b=re.exec(a);if(null==b)return null;var c=date_parseDatePart(b[date_datePos]),d=date_parseDatePart(b[date_monthPos]),b=date_parseYearPart(b[date_yearPos]);if(date_isDateValid(c,d,b))return new date_ValDate(c,d,b);c=pega.u.d.CalendarUtil.javaDateTimeFormatToJSDateTimeFormat(pega.u.d.CalendarUtil.localeFormats.dateTime);a=moment(a,c);return a.isValid()?a.toDate():null}
function date_filterKeyPress(){valutility_isAlphabetic()&&valutility_cancelKeyPress();return null}function time_filterKeyPress(){var a=valutility_isTimeSuffix();if(a)return null;(a=!valutility_isAlphabetic())||valutility_cancelKeyPress();return null}function date_formatDate(a,b,c){var d;d=""+(date_selectDatePart(1,a,b,c)+date_separator);d+=date_selectDatePart(2,a,b,c)+date_separator;return d+=date_selectDatePart(3,a,b,c)}
function date_selectDatePart(a,b,c,d){if(a==date_datePos)return date_formatDatePart(b);if(a==date_monthPos)return date_formatDatePart(c);if(a==date_yearPos)return d}function date_formatDatePart(a){return 10>a?"0"+a:a}function date_parseDatePart(a){return parseInt(date_stripPrecedingZeros(a))}function date_stripPrecedingZeros(a){for(var b=0;"0"==a.charAt(b);)b++;return a.substring(b,a.length)}function date_parseYearPart(a){a=parseInt(date_stripPrecedingZeros(a));100>a&&(a+=2E3);return a}
function date_isDateValid(a,b,c){if(isNaN(a)||isNaN(b)||isNaN(c)||1>b||12<b)return!1;b=date_getDaysInMonth(b,c);return a>b?!1:!0}function date_getDaysInMonth(a,b){var c=[31,-1,31,30,31,30,31,31,30,31,30,31];return 2==a?date_isLeapYear(b)?29:28:c[a-1]}function date_isLeapYear(a){return 0==a%4&&0!=a%100||0==a%400?!0:!1}length_length=new validation_ValidationType("lengthtype",length_isCorrectLength);length_length.addAttributeThatImplies("requiredLength");length_length.addEventFunction("onblur",length_isCorrectLength);
function length_isCorrectLength(a){var b=pega.control.PlaceHolder.getValue(a),c=parseInt(a.getAttribute("requiredLength"));if(null!=b&&""!=b&&!isNaN(c)&&b.length!=c)return b=length_lengthMsgStrFull,b=resolveParams(b,[c]),new validation_Error(a,b)}var numeric_min=new validation_ValidationType("min",numeric_isAboveMin);numeric_min.addEventFunction("onblur",numeric_isAboveMin);numeric_min.addAttributeThatImplies("min");var numeric_max=new validation_ValidationType("max",numeric_isAboveMax);
numeric_max.addEventFunction("onblur",numeric_isAboveMax);numeric_max.addAttributeThatImplies("max");var numeric_lessThan=new validation_ValidationType("lessthan",numeric_isLessThan);numeric_lessThan.addAttributeThatImplies("lessThan");var numeric_lessThanEqual=new validation_ValidationType("lessthanequal",numeric_isLessThanOrEqual);numeric_lessThanEqual.addAttributeThatImplies("lessThanEqual");var numeric_greaterThan=new validation_ValidationType("greaterthan",numeric_isGreaterThan);numeric_greaterThan.addAttributeThatImplies("greaterThan");
var numeric_greaterThanEqual=new validation_ValidationType("greaterthanequal",numeric_isGreaterThanOrEqual);numeric_greaterThanEqual.addAttributeThatImplies("greaterThanEqual");function numeric_isAboveMin(a){if(null!=a.min){var b=numeric_parseNumber(pega.control.PlaceHolder.getValue(a)),c=numeric_parseNumber(a.getAttribute("min"));if(!isNaN(b)&&!isNaN(c)&&b<c)return b=numeric_minMsgStrFull,b=resolveParams(b,[a.getAttribute("min")]),new validation_Error(a,b)}}
function numeric_isAboveMax(a){if(null!=a.max){var b=pega.control.PlaceHolder.getValue(a);if("range"===a.type){var c=pega&&pega.u&&pega.u.d&&pega.u.d.Locale.replace("_","-");c&&-1!==b.indexOf(".")&&(b=Number(b).toLocaleString(c))}b=numeric_parseNumber(b);c=numeric_parseNumber(a.getAttribute("max"));if(!isNaN(b)&&!isNaN(c)&&b>c)return b=numeric_maxMsgStrFull,b=resolveParams(b,[a.getAttribute("max")]),new validation_Error(a,b)}}
function numeric_isLessThan(a){var b=pega.ctx.dom.getElementById(a.getAttribute("lessThan"));if(null!=b){var c=numeric_parseNumber(pega.control.PlaceHolder.getValue(a)),d=numeric_parseNumber(pega.control.PlaceHolder.getValue(b));if(!isNaN(c)&&!isNaN(d)&&c>=d)return c=numeric_lessThanMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function numeric_isLessThanOrEqual(a){var b=pega.ctx.dom.getElementById(a.getAttribute("lessThanEqual"));if(null!=b){var c=numeric_parseNumber(pega.control.PlaceHolder.getValue(a)),d=numeric_parseNumber(pega.control.PlaceHolder.getValue(b));if(!isNaN(c)&&!isNaN(d)&&c>d)return c=numeric_lessThanEqualMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function numeric_isGreaterThan(a){var b=pega.ctx.dom.getElementById(a.getAttribute("greaterThan"));if(null!=b){var c=numeric_parseNumber(pega.control.PlaceHolder.getValue(a)),d=numeric_parseNumber(pega.control.PlaceHolder.getValue(b));if(!isNaN(c)&&!isNaN(d)&&c<=d)return c=numeric_greaterThanMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function numeric_isGreaterThanOrEqual(a){var b=pega.ctx.dom.getElementById(a.getAttribute("greaterThanEqual"));if(null!=b){var c=numeric_parseNumber(pega.control.PlaceHolder.getValue(a)),d=numeric_parseNumber(pega.control.PlaceHolder.getValue(b));if(!isNaN(c)&&!isNaN(d)&&c<d)return c=numeric_greaterThanEqualMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function numeric_filterKeyPress(){valutility_isNumeric()||valutility_isCharacter(PERIOD_KEYCODE)||valutility_isCharacter(COMMA_KEYCODE)||valutility_isCharacter(MINUS_KEYCODE)||valutility_cancelKeyPress();return null}function convertToUniversalFormat(a){a=a.replace(/\s/g,"");var b=new RegExp("\\"+grouping_separator,"g");a=a.replace(b,"");b=new RegExp("\\"+decimal_separator,"g");return a.replace(b,".")}
function numeric_ensureDecimalPlaces(a,b){if(null!=a&&""!=a){var c=(new RegExp("(\\-?)([^\\"+decimal_separator+"]*)\\"+decimal_separator+"?(\\d*)")).exec(a);a=c[1];for(var d=c[2],e=c[3],f=c=0;f<d.length;f++){var g=parseInt(d.charAt(f));isNaN(g)||(c=10*c+g)}if(0==b)return b=parseFloat(c+"."+e),Math.round(b);d=e.length;e=numeric_removePrecedingZeros(e);e=parseInt(e);e=isNaN(e)?0:e;c=c*Math.pow(10,d)+e;if(0==c)return numeric_addTrailingZeros("0"+decimal_separator,b);null!=a&&""!=a&&(c*=-1);c=Math.round(c/
Math.pow(10,d-b));a=""+c/Math.pow(10,b);c=(""+c).length+1;a.length==c-1-b?(a+=decimal_separator,a=numeric_addTrailingZeros(a,b)):a=c==a.length?a:numeric_addTrailingZeros(a,c-a.length);return a}}function numeric_removePrecedingZeros(a){for(var b=0;b<a.length&&"0"==a.charAt(b);)b++;return a.substring(b,a.length)}function numeric_addTrailingZeros(a,b){for(var c=0;c<b;c++)a+="0";return a}
function numeric_reformat(a){if(null!=a&&""!=a){re=/(\-?)([^\.]*)\.?(\d*)/;var b=re.exec(a);a=b[1];for(var c=b[2],b=b[3],d="",e=0,f=c.length-1;0<=f;f--)isNaN(parseInt(c.charAt(f)))||(d=c.charAt(f)+d,e++,3==e&&0!=f&&(d=","+d,e=0));decimal=""==b?"":".";return a+d+decimal+b}}function numeric_occurence(a,b){for(var c=0,d=0;d<a.length;d++)b==a.charAt(d)&&c++;return c}
function numeric_parseNumber(a){if(""==a||null==a)return NaN;var b=a.match(new RegExp("[0-9-"+decimal_separator+"]","g"));if(null==b)return NaN;for(var c="",d=0;d<b.length;d++)c+=b[d];c=convertToUniversalFormat(a);return parseFloat(c)}rangeshow_rangeShow=new validation_ValidationType("rangeshow",null);rangeshow_rangeShow.addEventFunction("onblur",rangeshow_isInRange);rangeshow_rangeShow.addEventFunction("onload",rangeshow_isInRange);
function rangeshow_isInRange(a){if(null!=a.elementIdToShow){var b=pega.ctx.dom.getElementById(a.elementIdToShow),c=parseFloat(a.lowerBound),d=parseFloat(a.upperBound);isNaN(c)&&(c=Number.NEGATIVE_INFINITY);isNaN(d)&&(d=Number.POSITIVE_INFINITY);b.style.display="none";a=parseFloat(pega.control.PlaceHolder.getValue(a));!isNaN(a)&&a>=c&&a<=d&&(b.style.display="")}}var select_requiredselections=new validation_ValidationType("requiredselections",select_hasReqSelections);select_requiredselections.addAttributeThatImplies("requiredselections");
var select_minselections=new validation_ValidationType("minselections",select_hasMinSelections);select_minselections.addAttributeThatImplies("minselections");var select_maxselections=new validation_ValidationType("maxselections",select_hasMaxSelections);select_maxselections.addAttributeThatImplies("maxselections");
function select_hasReqSelections(a){var b=parseInt(a.getAttribute("requiredselections")),c=select_countSelections(a);if(b!=c)return b=select_reqSelMsgStrFull,b=resolveParams(b,[a.getAttribute("requiredselections")]),new validation_Error(a,b)}function select_hasMinSelections(a){var b=parseInt(a.getAttribute("minselections")),c=select_countSelections(a);if(b>c)return b=select_minSelMsgStrFull,b=resolveParams(b,[a.getAttribute("minselections")]),new validation_Error(a,b)}
function select_hasMaxSelections(a){var b=parseInt(a.getAttribute("maxselections")),c=select_countSelections(a);if(b<c)return b=select_maxSelMsgStrFull,b=resolveParams(b,[a.getAttribute("maxselections")]),new validation_Error(a,b)}function select_countSelections(a){for(var b=0,c=0;c<a.childNodes.length;c++)a.childNodes[c].selected&&b++;return b}var time_time=new validation_ValidationType("time",time_isTime);time_time.addEventFunction("onblur",time_isTime);
var time_timeBefore=new validation_ValidationType("timebefore",time_isBefore);time_timeBefore.addAttributeThatImplies("timeBefore");var time_timeAfter=new validation_ValidationType("timeafter",time_isAfter);time_timeAfter.addAttributeThatImplies("timeAfter");
function time_isTime(a){var b=pega.control.PlaceHolder.getValue(a);if(null!=b&&""!=b){b=time_stringToOffset(b);if(-1==b)return b=time_timeMsgStrFull,b=resolveParams(b,[a.displayName]),new validation_Error(a,b);pega.control.PlaceHolder.setValue(a,time_use24HourFormat?time_offsetTo24Hr(b):time_offsetTo12Hr(b))}}
function time_isAfter(a){var b=pega.ctx.dom.getElementById(a.getAttribute("timeAfter"));if(null!=b){var c=time_stringToOffset(pega.control.PlaceHolder.getValue(a)),d=time_stringToOffset(pega.control.PlaceHolder.getValue(b));if(-1!=c&&-1!=d&&c<=d)return c=time_afterTimeMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function time_isBefore(a){var b=pega.ctx.dom.getElementById(a.getAttribute("timeBefore"));if(null!=b){var c=time_stringToOffset(pega.control.PlaceHolder.getValue(a)),d=time_stringToOffset(pega.control.PlaceHolder.getValue(b));if(-1!=c&&-1!=d&&c>=d)return c=time_beforeTimeMsgStrFull,c=resolveParams(c,[b.displayName]),new validation_Error(a,c)}}
function time_stringToOffset(a){re=/(\d\d*)(:?)(\d*)\s*([ap]?)/g;var b=re.exec(a.toLowerCase());if(null==b)return-1;var c;if(""==b[2])if(3==b[1].length)a=parseInt(b[1].charAt(0)),c=parseInt(b[1].charAt(1)+b[1].charAt(2));else if(4==b[1].length)a=parseInt(b[1].charAt(0)+b[1].charAt(1)),c=parseInt(b[1].charAt(2)+b[1].charAt(3));else return-1;else a=parseInt(b[1]),c=parseInt(b[3]);if(0>c||59<c||isNaN(c)||isNaN(a))return-1;if(time_use24HourFormat){if(0>a||23<a)return-1;a=time_24HrToOffset(a,c)}else{if(1>
a||12<a)return-1;b="p"==b[4]?!0:!1;a=time_12HrToOffset(a,c,b)}return a}function time_offsetTo12Hr(a){if(0<=a&&60>a)return"12:"+time_ensureTwoDigits(a)+"AM";if(60<=a&&720>a){var b=Math.floor(a/60);return b+":"+time_ensureTwoDigits(a%60)+"AM"}if(720<=a&&780>a)return"12:"+time_ensureTwoDigits(a%60)+"PM";if(780<=a&&1440>a)return a-=720,b=Math.floor(a/60),b+":"+time_ensureTwoDigits(a%60)+"PM"}
function time_offsetTo24Hr(a){var b=a%60;return time_ensureTwoDigits(Math.floor(a/60))+":"+time_ensureTwoDigits(b)}function time_ensureTwoDigits(a){return 10>a?"0"+a:a}function time_12HrToOffset(a,b,c){b=60*a+b;c&&(b+=720);12==a&&(b-=720);return b}function time_24HrToOffset(a,b){return 60*a+b}length_mincharlength=new validation_ValidationType("minchars",length_hasMinChars);length_mincharlength.addAttributeThatImplies("minchars");length_mincharlength.addEventFunction("onblur",length_hasMinChars);
length_mincharlength.addEventFunction("onchange",length_hasMinChars);function resolveParams(a,b){if(b)for(var c=1;c<=b.length;c++)a=a.replace("{"+c+"}",b[c-1]);return a}function length_hasMinChars(a){var b=pega.control.PlaceHolder.getValue(a),c=parseInt(a.getAttribute("minchars"));if(null!=b&&""!=b&&!isNaN(c)&&b.length<c)return b=length_minCharsMsgFull,b=resolveParams(b,[c]),new validation_Error(a,b)}
function validation_validateFromUIEvent(a,b){if(null!=b&&"undefined"!=typeof b.nodeName){var c=b.nodeName.toUpperCase();if(("INPUT"==c||"SELECT"==c||"TEXTAREA"==c)&&1!=b.validationsAdded&&(c=b.getAttribute("validationType"),null!=c))for(var c=c.split(","),d=0;d<c.length;d++)if("true"===pega.ctx.bClientValidation||"calculateexpression"===c[d].toLowerCase()){var e=validation_ValidationTypes[c[d].toLowerCase()];if(e){var f=e.eventValidationList,e=[],g;for(g in f)"onload"==g||"onmouseover"==g||"onmousedown"==
g||"onmouseout"==g||e[g]||(f=b[g],b[g]=new Function("event","validation_ValidateFieldOnEvent(this,'"+g+"',"+f+", event);"),!a||"focusin"!=a.type&&"focus"!=a.type||"onfocus"!=g||validation_ValidateFieldOnEvent(b[j],g,f),e[g]=!0,b.validationsAdded=!0)}}}};
Handlebars.registerHelper("partial",function(a,c){Handlebars.templates[a]=Handlebars.templates[a]||c.fn});Handlebars.tmplCache={};Handlebars.registerHelper("includePartial",function(a,c){var b=c.hash,d=this.params,e=Handlebars.tmplCache,f=this.pyUniqueId,g=b.cache;"GET"==g?b=e[f]:"PLUCK"==g?(b=e[f],delete e[f]):(this.params=b,(b=Handlebars.templates[a])?b=new Handlebars.SafeString(b(this)):(b=arguments[arguments.length-1],b=b.fn(this)),"SAVE"==g&&(e[f]=b),d?this.params=d:delete this.params);return b});
Handlebars.registerHelper("for",function(a,c,b,d){for(var e="";a<=c;a+=b)e+=d.fn(a);return e});Handlebars.registerHelper("if_in",function(a,c,b){var d=!1,e=arguments.length,f;c instanceof Array&&3===e?(d=-1<c.indexOf(a),f=b):3<=e?(d=searchArgs(a,arguments,1,e-1),f=arguments[e-1]):console.error("insufficient number of arguments for helper:if_in");return d?f.fn(this):f.inverse(this)});function searchArgs(a,c,b,d){for(var e=!1;b<d;b++)if(c[b]===a){e=!0;break}return e}
Handlebars.registerHelper("printAttributeIfNotEmpty",function(a,c){return c?new Handlebars.SafeString(a+"\x3d"+c):""});Handlebars.registerHelper("printAttributeIfNotEmptyWithPrefixAndSuffix",function(a,c,b,d){return c?new Handlebars.SafeString(a+"\x3d"+((b?b:"")+c+(d?d:""))):""});Handlebars.registerHelper("getMenuDepth",function(a){if(a)return a=a.substring(a.indexOf("$",1)),a=a.replace(/\$ppyElements\$l/g,"")});
Handlebars.registerHelper("getActiveWhenNav",function(a,c,b){a="";c==b&&(a="data-active-menu");return a});Handlebars.registerHelper("JSONToStringInMenu",function(a,c){a=JSON.stringify(a);c&&(a=a.replace("\x26#39;","'").replace("\x26amp;","\x26").replace("\x26lt;","\x3c").replace("\x26gt;","\x3e"));return a});
Handlebars.registerHelper("JSONToString",function(a,c){a=JSON.stringify(a);c&&(a=a.replace("\x26#39;","'").replace("\x26amp;","\x26").replace("\x26lt;","\x3c").replace("\x26gt;","\x3e").replace("\x26quot;",'"'));return a});Handlebars.registerHelper("appendProperty",function(a,c,b){a[c]=b});Handlebars.registerHelper("if_eq",function(a,c,b){return a===c?b.fn(this):b.inverse(this)});Handlebars.registerHelper("if_not_eq",function(a,c,b){return a!==c?b.fn(this):b.inverse(this)});
Handlebars.registerHelper("ifCond",function(a,c,b,d){switch(c){case "!\x3d":return a!=b?d.fn(this):d.inverse(this);case "\x3d\x3d":return a==b?d.fn(this):d.inverse(this);case "\x3d\x3d\x3d":return a===b?d.fn(this):d.inverse(this);case "\x3c":return a<b?d.fn(this):d.inverse(this);case "\x3c\x3d":return a<=b?d.fn(this):d.inverse(this);case "\x3e":return a>b?d.fn(this):d.inverse(this);case "\x3e\x3d":return a>=b?d.fn(this):d.inverse(this);case "\x26\x26":return a&&b?d.fn(this):d.inverse(this);case "||":return a||
b?d.fn(this):d.inverse(this);case "and":return a&&b;case "eq":return a==b;case "or":return a||b;case "neq":return a!=b;default:return d.inverse(this)}});Handlebars.registerHelper("obfuscateText",function(a){for(var c=0;c<a.length;c++)a=a.substr(0,c)+"\u25cf"+a.substr(c+1);return a});Handlebars.registerHelper("addEllipsis",function(a,c){return a.length>c?a.substring(0,c)+"...":a});Handlebars.registerHelper("setParam",function(a,c){pega.clientTools.putParamValue(a,c)});
Handlebars.registerHelper("math",function(a,c,b,d){a=parseFloat(a);b=parseFloat(b);d=0;switch(c){case "+":d=a+b;break;case "-":d=a-b;break;case "*":d=a*b;break;case "/":d=a/b;break;case "%":d=a%b}return d});Handlebars.registerHelper("renderChildren",function(a){if(a){var c=a.pyName,b=pega.ui.template.RenderingEngine.getRenderer(c);if("function"==typeof b)return pega.ui.logger.LogHelper.debug("Rendering component: "+c),b(a);pega.ui.logger.LogHelper.error("Renderer component: "+c+" not found")}});
Handlebars.registerHelper("getTemplateMarker",function(a){return"data-template"});
var pega=pega||{};pega.ui=pega.ui||{};pega.namespace("pega.ui.DetermineDataProvider");$.extend(pega.ui.DetermineDataProvider,function(){return{getClientDataProvider:function(b){var a=pega.u.d.ServerProxy.isDestinationRemote();if(a=pega.ui.HarnessContextMgr.get("isUITemplatized")&&a?pega.ui.ClientDataProvider:pega.ui.ChangeTrackerMap)return b=b?a.getTrackerByThread(b):a.getTracker()}}}());
var pega=pega||{};pega.ui=pega.ui||{};
pega.ui.ClientCache=function(){var F="pxThread pxRequestor OperatorID AccessGroup Application Org OrgDivision pxProcess".split(" "),u,q={},w={},f={},y={},G=function(a){return a&&(a.startsWith("D_")||F.some(function(b){return a.startsWith(b)}))},x=function(a){u=pega.ui.DetermineDataProvider.getClientDataProvider(a)},m=function(a){u||x();return pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&G(a)&&(a=pega.mobile.support.getPortalWindow())&&
a.pega.ctx.isMDC?a.pega.ui.DetermineDataProvider.getClientDataProvider("STANDARD"):u},D=!0,z=pega.ui.debug,n=function(a){(z||pega.ui.debug)&&window.console&&console.log(a)},H=function(){q={};w={}},I=function(a,b){if(void 0===b)return!1;var d=Object.keys(a).length,c=Object.keys(b).length;if(d!==c)return!1;for(var e in a)if(a[e]!==b[e])return!1;return!0},J=function(a){if(a&&(a=m(a).getPropertyValue(a,!0)))return a.pxRDHandler},L=function(a,b,d,c,e){var l=function(a,b){n("pega.ui.ClientCache: "+b);c(a,
b)};if(void 0===b||null==b)b={};var h=q[a];if(h){var g=v(a);if(g)if(I(b,h.lastParams))d(g);else{var f=function(a){if(e&&"append"===e.action){var c=g.get("pxResults");g.put("pxResults",c.pxResults.concat(a))}else g.put("pxResults",a);h.lastParams=b;d(g)},K=function(a,b){c(a,b)},k=pega.desktop.support.getDesktopWindow();try{h.customFunction(b,k.launchbox.PRPC.ClientStore,f,K)}catch(N){l(1002,"Custom function to populate large datapage "+a+" is corrupted.")}}else l(1001,"Large data page "+a+" is registered, but can't be found in ClientCache.")}else l(1001,
"Large data page "+a+" is not registered.")},v=function(a,b){if(a){u&&!u.isDummy()||x();var d=m(a);if(!(b&&1==b.doNotTrack||A)){var c;(c=-1!==a.indexOf(".")?a.substring(0,a.indexOf(".")):a)&&!y[c]&&(y[c]=!0)}c=a;-1!==c.indexOf("$")&&(c=pega.ui.property.toReference(a));c=pega.ui.ParametrizedDPUtils.createDPInstance(c,d);pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&(c=pega.ui.AutopopulateSupport.resolveReference(c,d));a=d.getPropertyValue(c,!0);var e=null;null==a||Array.isArray(a)?
e=d.getPropertyValue(c+"(1)",!0)||d.getPropertyValue(c+"(0)",!0)?new r(c,b):null:"string"==typeof a||"number"==typeof a||"boolean"==typeof a?e=new t(c,null):"object"==typeof a&&(e=new k(c,null));return e}n("pega.ui.ClientCache.find: Passed argument is not valid");return null},B=function(a,b,d){null==a[b]&&(a[b]="group"===d?{}:[])},C=function(a,b){a=a.split(".");for(var d=b.trackedPropertiesList,c=0;c<a.length-1;c++){var e=b.returnListOrGroupProp(a[c]),l=e.key,h=e.index;e.type?(B(d,l,e.type),d=d[l][h]):
d=d[a[c]]}return d},A=!1,p=function(a){this._ref=a};p.prototype.getName=function(){return this._ref.substring(this._ref.lastIndexOf(".")+1)};p.prototype.getReference=function(){return this._ref};p.prototype.getEntryHandle=function(){return pega.ui.property.toHandle(this._ref)};p.prototype.getParent=function(){var a=this._ref.substring(0,this._ref.lastIndexOf("."));return a?v(a):null};p.prototype.getTopLevelPage=function(){var a=this._ref.substring(0,this._ref.indexOf("."));return a?v(a):this};p.prototype.hasMessages=
function(){var a=this.getTopLevelPage()._ref;if(!f[a])return!1;for(var b in f[a])if(f[a].hasOwnProperty(b)){var d=b,c=this._ref,e=d.substr(c.length,1);if(d===c||0===d.indexOf(c)&&("."===e||"("===e)){var d=f[a][b],l;for(l in d)if("error"==d[l].type||"added"==d[l].state)return!0}}return!1};p.prototype.setMessagePresentationState=function(a){var b=this.getTopLevelPage()._ref;if(f[b])for(var d in f[b])if(f[b].hasOwnProperty(d)){var c=f[b][d],e;for(e in c)c[e].hasOwnProperty("state")&&(c[e].state=a)}};
p.prototype.getMessages=function(a,b){b=b||void 0;var d=[],c=this.getTopLevelPage()._ref;if(!f[c])return d;a=a?this._ref+"."+a:this._ref;for(var e in f[c])if(f[c].hasOwnProperty(e)){var l=null;if(e===a)l=e;else{var h=e,g=a,E=h.substr(g.length,1);if(h===g||0===h.indexOf(g)&&("."===E||"("===E))l=e}if(l)if(void 0===b||"error"!==b&&"info"!==b&&"warning"!==b)d=d.concat(f[c][l]);else for(e in f[c][l])f[c][l][e].type===b&&(d=d.concat(f[c][l][e]))}return d};p.prototype.getMessagesWithHandle=function(){var a=
this._getMessagesWithKeys(),b=[],d={},c;for(c in a)d.handle=pega.ui.property.toHandle(c),d.message=a[c],b.push(d),d={};return b};p.prototype.addMessage=function(a,b,d){var c=this.getTopLevelPage()._ref,e={};e.text=a;e.type=d||"error";e.state="added";d=this._ref;if(!a||"string"!==typeof a||""===a)return!1;"undefined"===typeof b||this instanceof t||(d+="."+b);f[c]||(f[c]={});f[c][d]||(f[c][d]=[]);b=f[c][d];for(c=0;c<b.length;c++)if(a===b[c].text)return!1;b.push(e);return!0};p.prototype.clearMessages=
function(a){var b=this.getTopLevelPage()._ref;if(f[b]){a=a?this._ref+"."+a:this._ref;for(var d in f[b])if(f[b].hasOwnProperty(d)){var c=null;if(d===a)c=d;else{var e=d,l=a,h=e.substr(l.length,1);if(e===l||0===e.indexOf(l)&&("."===h||"("===h))c=d}if(c){var e=f[b][c],g;for(g in e)"error"!==e[g].type&&"submitted"!==e[g].state||e.splice(g,1);0===f[b][c].length&&delete f[b][c]}}}};var t=function(a){this.type="property";this._ref=a};t.DIRTY_FLAG_TRUE=!0;t.DIRTY_FLAG_FALSE=!1;t.prototype=new p;t.prototype.constructor=
t;t.prototype.getValue=function(){pega.offline&&pega.offline.declareexpressions&&pega.offline.declareexpressions.fireExpression&&pega.offline.declareexpressions.fireExpression(this);return m(this._ref).getPropertyValue(this._ref,!0)};t.prototype.setValue=function(a){var b=m(this._ref);if(null!==a&&"object"==typeof a||void 0===a)n("ClientCacheProperty.setValue: Passed argument is not valid");else{var d=this.getName();d.type?C(this._ref,b)[d.key][d.index]=a:C(this._ref,b)[d]=a}};t.prototype.getMessageCount=
function(){var a=this.getTopLevelPage()._ref;if(!f[a])return 0;for(var b in f[a])if(b==this._ref&&f[a].hasOwnProperty(b))return f[a][b].length;return 0};var k=function(a){this.type="page";this._ref=a};k.prototype=new p;k.prototype.constructor=k;k.prototype.get=function(a){0===a.indexOf(".")&&(a=a.substring(1,a.length));return v(this._ref+"."+a)};k.prototype.getPropertyNames=function(){var a=m(this._ref).getPropertyValue(this._ref,!0);return pega.u.d.getObjectKeys(a)};k.prototype.getMessagesCountAll=
function(){var a=this.getTopLevelPage()._ref,b=0;if(f[a])for(var d in f[a]){var c=d.substr(this._ref.length,1);!f[a].hasOwnProperty(d)||0!==d.indexOf(this._ref)||"."!==c&&"("!==c||(b+=f[a][d].length)}return b};k.prototype.getMessagesAll=function(){return this.getMessages()};k.prototype.adoptPage=function(a){var b=function(a,b,c,d){a[b]||(b=d.returnListOrGroupProp(b),b.type&&(B(a,b.key,b.type),a=a[b.key],b=b.index));c(a,b,d)},d=function(a,b){l=a[b]},c=this._ref.split(".");if(c&&0!==c.length){for(var e=
m(this._ref),l=e.trackedPropertiesList,h=0;h<c.length-1;h++)b(l,c[h],d,e);b(l,c[h],function(b,c,d){b[c]=JSON.parse(JSON.stringify(d.getPropertyValue(a._ref)))},m(a._ref))}};k.prototype.adoptJSON=function(a,b){try{var d;d=b?a:JSON.parse(a)}catch(c){if(z||pega.ui.debug)throw c;return}Array.isArray(d)?n("ClientCachePage.adoptJSON: Passed JSON doesn't correspond to a page"):(b=m(this._ref),a=C(this._ref,b),b=b.returnListOrGroupProp(this.getName()),b.type?(B(a,b.key,b.type),a[b.key][b.index]=d):a[b]=d,
this.clearMessages())};k.prototype.adoptServerJSON=function(a){if(!a||"object"!=typeof a)return"{}";var b=/\([0-9]+\)$/;a=function c(a){var e={},h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if("object"==typeof g&&null!=g){var f=h.match(b);if(f){var k=h.replace(f[0],"");e[k]||(e[k]=[]);f=f[0].substring(1,f[0].length-1);1<f&&(e[k][f-2]||n("Pagelist supplied is a partial one! "));e[k][f-1]=c(g)}else g&&g.pxSubscript&&isNaN(g.pxSubscript)?(k=h.substring(0,h.lastIndexOf("(")),e[k]||(e[k]={}),e[k][g.pxSubscript]=
c(g)):e[h]=c(g)}else e[h]=g}return e}(a);this.adoptJSON(a,!0)};k.prototype.getJSON=function(){var a=m(this._ref),b=a.getPropertyValue(this._ref,!0);if(!b||"object"!=typeof b)return"{}";if("undefined"==typeof pega.offline||pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationRemote())return JSON.stringify(b);b=function c(b,l){var e={};Array.isArray(b)&&(e=[]);for(var g in b)if(b.hasOwnProperty(g)){var f=g,k=g,m;if(b[g]&&Array.isArray(b[g]))e[g]=c(b[g],f);else{if(b[g]&&"object"==typeof b[g]&&0<Object.keys(b[g]).length){var n=
Object.keys(b[g])[0];if(b[g][n]&&b[g][n].pxSubscript==n){e[g]=c(b[g],f);continue}}(g===parseInt(g,10)||b[g]&&b[g].pxSubscript==g)&&l&&(k=l+"("+g+")",m=g===parseInt(g,10)?"list":"group");"group"!=m&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&(g=pega.ui.AutopopulateSupport.resolveReference(k,a,b,!0));k=g==k?b[f]:b[g];e[g]="object"==typeof k&&null!=k?c(k,f):k}}return e}(b);return JSON.stringify(b)};k.prototype.getJSONObject=function(){var a=m(this._ref).getPropertyValue(this._ref,
!0);return a?JSON.parse(JSON.stringify(a)):{}};k.prototype.put=function(a,b){var d=m(this._ref).getPropertyValue(this._ref,!0);if(!d)return console.warn("Attempt to write "+a+" to a dangling node - Model not found!"),null;if("string"!=typeof a)return n("ClientCachePage.put propName : Passed argument is not valid"),null;this.remove(a);this.clearMessages(a);if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)d[a]=b;else if(Array.isArray(b)){for(var c=0;c<b.length;c++){var e=new k(this._ref+
"."+a+"("+(c+1)+")");e.adoptJSON(JSON.stringify(b[c]))}0==b.length&&(d[a]=[])}else if("object"==typeof b)e=new k(this._ref+"."+a),e.adoptJSON(JSON.stringify(b));else return n("ClientCachePage.put value : Passed argument is not valid"),null;return this.get(a)};k.prototype._addMessages=function(a){if(a&&0!=Object.keys(a).length){var b=this.getTopLevelPage()._ref;f[b]||(f[b]={});for(var d in a)f[b][d]=a[d]}};k.prototype._getMessagesWithKeys=function(){var a={},b=this.getTopLevelPage()._ref;if(!f[b])return a;
for(var d in f[b])if(f[b].hasOwnProperty(d)){var c=d,e=this._ref,l=c.substr(e.length,1);if(c==e||0==c.indexOf(e)&&("."==l||"("==l))a[d]=f[b][d]}return a};k.prototype.remove=function(a){var b=m(this._ref),d=b.getPropertyValue(this._ref,!0);if(!d)return console.warn("Attempt to remove "+a+" from a dangling node - Model not found!"),null;var c;if(a&&"string"==typeof a){c=b.returnListOrGroupProp(a);c.type?d[c.key]&&delete d[c.key][c.index]:delete d[a];if((b=v(this._ref+"."+a))&&"list"==b.type)for(b=b.iterator();;)if(d=
b.next())d.getParent().remove(d.getName());else break;this.clearMessages(a)}else void 0===a?((a=this.getParent())?a.remove(this.getName()):(c=b.returnListOrGroupProp(this.getName()),c.type?delete b.trackedPropertiesList[c.key][c.index]:delete b.trackedPropertiesList[c]),this.clearMessages()):n("ClientCachePage.remove propName : Passed argument is not valid")};var r=function(a,b){this.type="list";this._ref=a;b&&(this.startIndex=b.startIndex,this.endIndex=b.endIndex);a=this._ref.substring(0,this._ref.lastIndexOf("."));
this._parent=m(a).getPropertyValue(a,!0);null==this._parent&&(this._parent=changetracker.getPropertyValue(this.getParent()._ref,!0));this.pxResults=this._parent[this.getName()];if(this.startIndex||0==this.startIndex)this.pxResults=this.pxResults.slice(this.startIndex,this.endIndex);this._parent&&(this._get=function(a){return 0!=a&&this.pxResults[a-1]?new k(this._ref+"("+a+")"):null})};r.prototype=new p;r.prototype.constructor=r;r.prototype.get=function(a){return this._get(a)};r.prototype.size=function(a){return this.getName().type?
this._parent[this.getName().key].length:a?this._parent[this.getName()]?this._parent[this.getName()].length:0:this.pxResults?this.pxResults.length:0};r.prototype.add=function(a){var b=this.size(!0);if(void 0==a||"number"==typeof a&&a==b+1)return this._parent[this.getName()][b]={},v(this._ref+"("+(b+1)+")");if("number"==typeof a&&a<=b&&a===parseInt(a,10)&&0<a&&a<=b){var b=m(this.getParent()._ref),d=b.getPropertyValue(this.getParent()._ref,!0),c=this.getParent()._getMessagesWithKeys();var e=this._ref,
f={};if(c&&0!=Object.keys(c).length){var e=e+"(",h;for(h in c)if(c.hasOwnProperty(h)&&0==h.indexOf(e)){var g=parseInt(h.substr(e.length).substr(0,h.substr(e.length).indexOf(")")),10);g<a?f[h]=c[h]:(g=h.replace(e+g+")",e+(g+1)+")"),f[g]=c[h])}}c=f;d[this.getName()].splice(a-1,0,{});this.getParent()._addMessages(c);this._parent=b.getPropertyValue(this.getParent()._ref,!0);return v(this._ref+"("+a+")")}};r.prototype.remove=function(a){var b=this.size(!0);if(a&&"number"==typeof a&&a===parseInt(a,10)&&
0<a&&a<=b){b=m(this.getParent()._ref);b.getPropertyValue(this.getParent()._ref,!0)[this.getName()].splice(a-1,1);var d=this.getParent()._getMessagesWithKeys();var c=this._ref,e={};if(d&&0!=Object.keys(d).length){var c=c+"(",f;for(f in d)if(d.hasOwnProperty(f)&&0==f.indexOf(c)){var h=parseInt(f.substr(c.length).substr(0,f.substr(c.length).indexOf(")")),10);h<a?e[f]=d[f]:h>a&&(h=f.replace(c+h+")",c+(h-1)+")"),e[h]=d[f])}}d=e;this.getParent()._addMessages(d);this._parent=b.getPropertyValue(this.getParent()._ref,
!0);return!0}return!1};r.prototype.iterator=function(a){function b(a){f!==a&&(e=c._get(a),f=a);return e}var d=1;a&&(d=a);var c=this,e,f;return{hasNext:function(){return null!=b(d)},next:function(){return b(d++)}}};r.prototype.each=function(a){for(var b=!0,d=this.iterator(),c=1;!1!==b&&d.hasNext();)b=a(d.next(),c++)};return{OBJECT_TYPE_PROPERTY:"property",OBJECT_TYPE_PAGE:"page",OBJECT_TYPE_LIST:"list",isLargeDatapage:function(a){var b=!1;a&&(u&&!u.isDummy()||x(),(a=m(a).getPropertyValue(a,!0))&&(b=
"true"===a.pxIsLarge));return b},registerLargeDatapage:function(a,b,d){if("string"!==typeof a)n("pega.ui.ClientCache: Can't register large datapage. Provide valid datapage name.");else if("function"!==typeof b)n("pega.ui.ClientCache: Can't register large datapage "+a+" due to invalid custom function reference.");else if(void 0===d||Array.isArray(d))if(q[a])n("pega.ui.ClientCache: Custom function for large datapage "+a+" is already registered.");else{q[a]={customFunction:b,sourceDatapages:d||[],lastParams:void 0,
executionQueue:[]};if(d)for(b=0;b<d.length;b++){var c=w[d[b]];c?c.push(a):w[d[b]]=[a]}n("pega.ui.ClientCache: Registered large datapage "+a+".")}else n("pega.ui.ClientCache: Can't register large datapage "+a+" due to invalid source datapages format.")},invalidateLargeDatapages:function(a,b){if(a)for(var d in q)q[d].lastParams=void 0;else for(a=0;a<b.length;a++)if(d=b[a],q[d]&&(q[d].lastParams=void 0),w[d])for(var c=0;c<w[d].length;c++)q[w[d][c]].lastParams=void 0},findPageAsync:function(a,b,d,c,e){if(pega.offline){var f=
q[a],h=function(b){c(1001,"Large data page "+a+" is not registered and it doesn't contain report definition")},g=function(a,b,e,f){a.executionQueue.shift();try{e?c(e,f):d(b)}catch(M){console.error("FindPageAsync callback failed. The original exception follows."),console.error(M)}if(0<a.executionQueue.length)(0,a.executionQueue[0])(a)},k=function(c){L(a,b,function(a){g(c,a)},function(a,b){g(c,void 0,a,b)},e)},m=function(){0===f.executionQueue.length?(f.executionQueue.push(k),k(f)):f.executionQueue.push(k)},
n=function(b){var c=pega.ui.ReportDefinition.Interpreter.buildCustomFunction(a,b.pyData);b=pega.ui.ReportDefinition.Interpreter.getSourceDatapages(b.pyData);pega.ui.ClientCache.registerLargeDatapage(a,c,b);f=q[a];m()};if(f)m();else{var p=J(a);void 0!==p?pega.offline.clientstorehelper.getReportDefinition(p,n,h):h()}}else c(1004,"findPageAsync is not supported in online")},find:v,createPage:function(a){if(!a||"string"!==typeof a)return n("pega.ui.ClientCache.createPage: Passed argument is not valid"),
null;u&&!u.isDummy()||x();var b=m(a);pega.ui.ParametrizedDPUtils.isParametrizedDataPage(a,b)||(b.trackedPropertiesList[a]={});return v(a)},setDebugMode:function(a){if(!0===a||!1===a)z=a;return{resetDatapageRegistry:H}},DEBUG_MODE_ON:!0,DEBUG_MODE_OFF:!1,init:x,reset:x,log:n,_getChangeTracker:m,getChangedPagesList:function(){return Object.keys(y)},clearChangedPagesList:function(){y={}},pauseChangedPagesList:function(){A=!0},resumeChangedPagesList:function(){A=!1},setAutorefreshParametrizedDatapages:function(a){D=
!!a},get autoRefreshParamDP(){return D}}}();
(function(){pega.clientTools=new function(){var c={},a;(function(b){b.thread&&(b=b.thread,c[b]||(c[b]={}),a=c[b])})({thread:"baseThread"});a=c.baseThread;var d=function(b,e){if(0==arguments.length)return pega.ui.ClientCache.log("2 arguments required, but 0 present"),-1;if(1==arguments.length)return pega.ui.ClientCache.log("2 arguments required, but only 1 present"),-1;if("string"!=typeof b)return pega.ui.ClientCache.log("Non String value passed for key"),-1;a[b]=e},g=function(b){0==arguments.length&&
pega.ui.ClientCache.log("1 argument required, but only 0 present");"string"!=typeof b&&pega.ui.ClientCache.log("Non String value passed for key");return a[b]},k=function(){for(var b in a)a.hasOwnProperty(b)&&delete a[b]},f=function(){return pega.getPrimaryPage()},h={getPrimaryPage:f,getParamValue:g,putParamValue:d,getParamPage:function(){return{clear:k,get:g,put:d}},objOpenByHandle:function(b,a,c,l,d){pega.offline.clientstorehelper.getWorkItem(b,function(b){var e=pega.ui.ClientCache.createPage(a);
e.adoptJSON(b.content);c(e)},l,{priority:d&&d.priority?d.priority:"server",dataOnly:!0})},getLocalizedTextForString:function(b,a){var c=f();0==b.indexOf(".")&&(b=b.substr(1));var e=a;"string"==typeof e&&(e=e.trim());return pega.offline&&pega.offline.localization.getText(b,e,c)||a},getLocalizedMessage:function(b,a){a="\\t["+a+".PYMESSAGELABEL]"+b;var c=pega.clientTools.getLocalizedTextForString("PYMESSAGELABEL",a);c===a&&(c=b);return c},switchLocale:function(a,c,d){pega.offline.localizationUtils.setLocale(a,
c,d)},getLocalizedParagraph:function(a,c){var b=f();pega.offline.localization.getLocalizedParagraph(a,b,c)}};jQuery.extend(h,pega.ui.ClientCache);return h}})();(function(){var c={};pega.pushStackFrame=function(a,d){c[a]||(c[a]=[]);c[a].push(d)};pega.popStackFrame=function(a){if(c[a])return c[a].pop()};pega.peekStackFrame=function(a){if(a=c[a])return a[a.length-1]};pega.getPrimaryPage=function(){var a=c.PrimaryPage;if(a)return a[a.length-1]}})();
var pega=pega||{};pega.ui=pega.ui||{};
pega.ui.ParametrizedDPUtils=function(){function d(a){return 0==a.indexOf("D_")||0==a.indexOf("Declare_")}function e(a,b){b||(b=pega.ui.ClientCache._getChangeTracker(a));return d(a)?(a=b.getPropertyValue(c(a)))&&a.pyParameters&&0<a.pyParameters.length?!0:!1:!1}function c(a){var b=a;0<a.indexOf(".")&&(b=a.substring(0,a.indexOf(".")));return b}return{createDPInstance:function(a,b){return e(a,b)?(new this.ParametrizedDPProxy(a,b)).getPropRef():a},isParametrizedDataPage:e,isParametrizedDataPageInstance:function(a,
b){b||(b=pega.ui.ClientCache._getChangeTracker(a));return d(a)?(a=b.getPropertyValue(c(a)))&&a.pxDPParameters?!0:!1:!1},getDPNameFromRef:c}}();
/* Param DP utils contains the uitility methods mainly used by client cache */
var ParametrizedDPUtilsOffline = (function(){

	function _getParamsFromMetadata(metadata) {
		var paramCount = -1,
			params = {}; // store param name along with default values if any

		while (metadata["pyParameters"][++paramCount]) {
			var param = metadata["pyParameters"][paramCount];
			params[param.pyParametersParamName] = param.pyParametersParamDefaultValue;
		}

		return params;
	}
	var _ParametrizedDPProxy = function(reference, changetracker) {
		this.reference = reference;
		this.dpName = pega.ui.ParametrizedDPUtils.getDPNameFromRef(reference);
		this.metadata = changetracker.getPropertyValue(this.dpName);
		this.createIfRequired();
	};

	_ParametrizedDPProxy.prototype = {
		DP_HASH_PREFIX : "_pa",/* Prefix for generated hash. It is inline with server naming conversion */
		DP_HASH_SUFFIX : "pz", /* Suffix for generated hash. It is inline with server naming conversion */
		DP_CLASS_NAME : "",
		getPropRef : function() {
			return this.reference;
		},
		/**
		*	Based on the type(parametrized or non parametrized) of the DP decision is taken to invoke custom populater function.
		*	And reference is updated with appropriate value. 
		*	 Ex: If "D_ABC.pyName" is passed then in case of parametrized DP reference is modified to "D_ABC_hash.pyName".
		*		 For non parametrized DP no change is made to reference
		*/
		createIfRequired : function() {
			var newRef = this.metadata.pxHashedDPRef;
			var hashedPage;
			if(this.isInitializeRequired()){
				this.deleteHashedPage();
				hashedPage = this.createHashInstance();
				this.metadata.pxHashedDPRef = hashedPage.getReference();
				this.invokeCustomDataPopulator(hashedPage);
				newRef = hashedPage.getReference();
			} else if (pega.ui.ClientCache.autoRefreshParamDP) {
				hashedPage = this.getHashedPage();
				newRef = hashedPage.getReference();
				this.invokeCustomDataPopulator(hashedPage);
			}
			this.reference = this.reference.replace(this.dpName, newRef);
		},
		invokeCustomDataPopulator: function(hashedPage) {
			var paramsMap = _getParamsFromMetadata(this.metadata),
				paramsNames = pega.u.d.getObjectKeys(paramsMap),
				populatorFunction = window[this.dpName];

			/* Populating data page parameters with current values*/
			for (var paramName in paramsNames) {
				if (paramsNames.hasOwnProperty(paramName)) {
					var paramValue = pega.clientTools.getParamValue(paramsNames[paramName]);
					paramsMap[paramsNames[paramName]] = typeof paramValue != "undefined" ? paramValue : null;
				}
			}
			hashedPage.put("pxDPParameters", paramsMap);
            hashedPage.put("pzPageNameBase", this.dpName);
			if (populatorFunction && typeof populatorFunction == 'function') {
				try {
					/* Populate the page by calling user provided method along with page ref and map of all params */
					populatorFunction(hashedPage, paramsMap);
					/* Override pxObjClass with DP class */
					hashedPage.put("pxObjClass", this.metadata.pyClassName); 
				} catch(e) {
					pega.ui.logger.LogHelper.error("Error encountered while invoking populator function: " + this.dpName + "(). " + "Error: " + e.message);
					hashedPage.put("pxObjClass", this.DP_CLASS_NAME); // Setting the default class
				}
			} else {
				pega.clientTools.log("Populator function '" + this.dpName + "()' is not found.");
				hashedPage.put("pxObjClass", this.DP_CLASS_NAME); // Setting the default class
			}
		},
		/**
		*	Deletes the existing hashed DP from memory.
		*/
		deleteHashedPage : function() {
			var dp = this.getHashedPage();
			if (dp) {
				dp.remove();
			}
		},
		/**
		*	Creates a new hashed DP. EX: D_ABC_pa12345768pz
		*/
		createHashInstance : function() {
			return pega.clientTools.createPage(this.dpName + this.DP_HASH_PREFIX + this.generateDataPageHash() + this.DP_HASH_SUFFIX);
		},
		/**
		*	Checks whether params have changed in param page and returns boolean value.
		*/
		isInitializeRequired : function() {
			var toBeCreated = false;
			var hashedPage = this.getHashedPage();

			if (hashedPage) {
				toBeCreated = this.areParametersModified(hashedPage);
			} else {
				toBeCreated = true;
			}

			return toBeCreated;
		},
		
		areParametersModified: function(hashedPage) {
			var pxDPParamsPage = hashedPage.get("pxDPParameters");
			if(!pxDPParamsPage){
				return true;
			}
			var pxDPParameters = JSON.parse(pxDPParamsPage.getJSON());
          	var paramsNames = pega.u.d.getObjectKeys(pxDPParameters);
			for (var paramName in paramsNames) {
				if (paramsNames.hasOwnProperty(paramName)) {
					/* Check for parameter value changes */
					var globalParam = pega.clientTools.getParamValue(paramsNames[paramName]);
					var localParam = pxDPParameters[paramsNames[paramName]];
					var cond;
					if(!globalParam)
						cond = (!!globalParam !== !!localParam);	// bool check
					else
						cond = (globalParam !== localParam);
				
					if(cond)
						return true;
				}
			}
		},
		
		/**
		*	Returns the hashed data page based on the "pxHashedDPRef" value in metadata.
		*/
		getHashedPage : function() {
			if (this.metadata.pxHashedDPRef) {
				return pega.clientTools.find(this.metadata.pxHashedDPRef);
			}
			return null;
		},
		/**
		 *  Generates hash based on time. This is same as server side implementation.
		 *  At server only Node scoped Data pages has MD5 hash based on name-value pair of params.
		 *  Example of server side MD5 hash :
		 *  		new MD5("DP_pzinsKey_param1=param1value,param2=param2value,")
		 *  Hash for Data page scoped as Thread or Requester is system time (System.nanoTime())
		 *
		 *  At server com.pega.pegarules.exec.internal.declare.infengine.pages.DeclarativePageUtilsImpl.buildDPIName() method has the logic for hash generation.
		 */
		generateDataPageHash : function() {
			return new Date().getTime(); /* TASK-304696: Generate hash for DP based on time stamp */
		}
	};
	_ParametrizedDPProxy.prototype.constructor = _ParametrizedDPProxy;

	return {
		ParametrizedDPProxy : _ParametrizedDPProxy
	}
})();


pega.lang.augmentObject(pega.ui.ParametrizedDPUtils, ParametrizedDPUtilsOffline);
ParametrizedDPUtilsOffline = null;
//static-content-hash-trigger-NON
pega.ui.DataRepeaterUtils={TEMPLATE_GRID:"template-root-marker",TEMPLATE_GRID_ROW:"cellCont",SIMPLE_LAYOUT:"bsimplelayout",NONTEMPLATE_GRID:"bGrid",SECTION_INCLUDE:"section",SECTION_DIV_CLASS:"sectionDivStyle",executeListActionHook:function(a,b,c,d){var e;b=b._ref.replace(".","$");switch(a){case "PRE":e=b+"_preListAction";break;case "POST":e=b+"_postListAction"}if("function"==typeof window[e])window[e](c,d)},getAbsoluteDataSourceFromEvent:function(a,b){var c=pega.util.Event.getTarget(a),d=b?pega.ctx.dom.$(c).closest("[data-lg-child-id]"):
pega.ui.rdlMasterDetails.getEnclosingRL(c);a=pega.u.d.getBaseRef(c);if(d&&a){for(var e=pega.ctx.dom.$(d).children(),f,g=0;g<e.length;g++)if(pega.util.Dom.isAncestor(e[g],c)){f=g;break}b?d.attr("data-lg-repeatsource"):d.getAttribute("data-repeat-source");b=a.lastIndexOf("(");c=a.lastIndexOf(")");c=parseInt(a.substring(b+1,c),10);return{dataSource:a.substring(0,b),rowIndex:c,domIndex:f}}},getAbsoluteDataSourceFromDataSource:function(a){if(0==a.indexOf(".")){var b=pega.ctx.dom.querySelector('[data-repeat-source$\x3d"'+
a+'"]').getAttribute("data-repeat-source");b.substring(b.lastIndexOf("."),b.length)==a&&(a=b)}return{dataSource:a}},getSourcePageList:function(){if(0==arguments.length)return null;var a=arguments[0],b,c="",d;1<arguments.length&&(b=arguments[1])&&(c=pega.u.d.getBaseRef(null,b));0===a.indexOf("D_",0)||0===a.indexOf("Declare_",0)?(b="pxResults",d=a,a=a+"."+b):0==a.indexOf(".")?(b=a.substring(1),""===c&&(c=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName")),c&&""!=c&&(a=c+a),d=c):(d=a.substring(0,
a.lastIndexOf(".")),b=a.substring(a.lastIndexOf(".")+1));if(pega.u.d.ServerProxy.isDestinationLocal()){if(c=pega.ui.ClientCache.find(a),!c){c=pega.ui.ClientCache.find(d);if(!c)return;c.put(b,[]);c=pega.ui.ClientCache.find(a)}}else c=a;return c},updateEntryHandles:function(a,b,c){var d;pega.ctx.dom.$("div[data-repeat-source\x3d'"+a+"']").each(function(e,f){f&&f.classList.contains("rdlHasNoRows")||(e=pega.ctx.dom.$(f).children(),"DELETE"==b&&(f=pega.ctx.dom.$(e[c]),pega.ctx.dom.$(f).find("[name]").each(function(a,
b){b.removeAttribute("name");b.removeAttribute("value");delete b.value}),c++),e.each(function(e,f){f=pega.ctx.dom.$(f);if(!f.hasClass("rdl-nomoredatasection")){var g=0,l=f.attr("base_ref").match(/\(\d+\)/g),h=parseInt(l[l.length-1].replace("(","").replace(")","")),l=h;if(e>=c){d=pega.ui.property.toHandle(a+"("+h+")");"DELETE"==b?(h--,g=-1):"INSERT"==b&&(h++,g=1);var n=pega.ui.property.toHandle(a+"("+h+")");pega.ctx.dom.$(f).find("[name^\x3d'"+d+"']").each(function(a,b){a=b.getAttribute("name").replace(d,
n);b.setAttribute("name",a)});e=pega.ctx.dom.$(f).find("#EXPAND-INDICATOR");f=e.length;for(h=0;h<f;h++){var m=e[h],k=m.getAttribute("name"),k=k.substring(0,k.indexOf(l.toString())),k=k+(l+g);m.setAttribute("name",k)}}}}))})},getLayoutType:function(a){var b=pega.util.Event.getTarget(a);a=b&&b.parentNode;for(b=pega.ctx.dom.getContextRoot(b);a&&a!=b;){if("TABLE"===a.tagName&&a.hasAttribute("uniqueid"))return"template-grid";if(a.hasAttribute("datasource")||a.getAttribute("bgrid")||a.getAttribute("btree")||
a.getAttribute("btreegrid"))return"grid";if(a.hasAttribute("data-repeat-source"))return"repeat-layout";if(a.hasAttribute("data-lg-repeatsource"))return"dlgrepeat-layout";a=a.parentNode}},getRepeatLayoutSectionContext:function(a){a=pega.ui.rdlMasterDetails.getEnclosingRL(pega.util.Event.getTarget(a)).parentNode;(a=pega.u.d.getBaseRef(a))||(a=SafeURL_createFromURL(pega.u.d.url).get("pzPrimaryPageName"));return a},mergePage:function(a,b){var c=pega.ui.ClientCache.find(a),d=pega.ui.ClientCache.find(b);
if(c&&d)for(var e=c.getPropertyNames(),f=0;f<e.length;f++){var g=d.get(e[f]);g&&!this.isStandardProperty(e[f])&&("page"==g.type?this.mergePage(a+"."+e[f],b+"."+e[f]):c.put(e[f],g.getValue()))}},isStandardProperty:function(a){return-1<"pxCreateDateTime pxObjClass pxRefObjectClass pxRefObjectInsName pxRefObjectKey pzInsKey".split(" ").indexOf(a)},getPackagedPageName:function(){return"PackagedPage1709121363"},hashCode:function(a){var b=0,c,d,e;if(0==a.length)return b;c=0;for(e=a.length;c<e;c++)d=a.charCodeAt(c),
b=(b<<5)-b+d,b|=0;return b},updateDataPageRecordByInsKey:function(a,b,c){var d=pega.ui.ClientCache;if(a&&b&&c&&(0==a.indexOf("D_")||0==a.indexOf("Declare_"))&&(a=(a=d.find(a))&&a.iterator()))for(;a.hasNext();)d=a.next(),d.get("pzInsKey").getValue()===b&&d.adoptJSON(c.getJSON())},saveDataPage:function(a,b){var c=pega.ui.ClientCache.find(a);!c||0!=a.indexOf("D_")&&0!=a.indexOf("Declare_")||pega.ui.ParametrizedDPUtils.isParametrizedDataPageInstance(c.getReference())||pega.offline.clientstorehelper.saveDataPage(a,
c.getJSON(),b.success,b.failure)},getLayoutInfo:function(a,b){a=pega.util.Event.getTarget(a);for(var c=null;;){if(a&&a.getAttribute&&null!=a.getAttribute(b)&&0!=a.getAttribute(b).indexOf(".")){if(null!=a.getAttribute("bsimplelayout"))return{type:this.SIMPLE_LAYOUT,domNode:a};if(pega.ctx.dom.$(a).hasClass(this.TEMPLATE_GRID))return b=null,c&&(b=pega.u.d.getBaseRef(pega.ctx.dom.$(c).children().get(0))),{type:this.TEMPLATE_GRID,domNode:a,rowNode:c,rowRef:b,nodeType:"repeatObject"};if(null!=a.getAttribute("bGrid"))return{type:this.NONTEMPLATE_GRID,
domNode:a};if(pega.ctx.dom.$(a).hasClass(this.SECTION_DIV_CLASS))return{type:this.SECTION_INCLUDE,domNode:a};break}a=a.parentNode;if(null==a||a.tagName&&"HTML"==a.tagName.toUpperCase())break;if(null!=a&&a.tagName&&"A"==a.tagName.toUpperCase()&&null!=a.getAttribute("href")&&(/^mailto:/i.test(a.getAttribute("href"))||/^tel:/i.test(a.getAttribute("href"))))break;a.tagName&&"TR"==a.tagName.toUpperCase()&&pega.ctx.dom.$(a).hasClass(this.TEMPLATE_GRID_ROW)&&0==pega.ctx.dom.$(a).children("th").length&&(c=
a)}},getClosestRepeatLayoutInfo:function(a,b){a=pega.util.Event.getTarget(a);for(var c=null,d;;){if(pega.ctx.dom.$(a).hasClass(this.TEMPLATE_GRID))return d={type:this.TEMPLATE_GRID},b&&(d.domNode=a,d.rowNode=c),c&&(d.rowRef=pega.u.d.getBaseRef(pega.ctx.dom.$(c).children().get(0))),d;b&&"TR"==a.tagName.toUpperCase()&&pega.ctx.dom.$(a).hasClass(this.TEMPLATE_GRID_ROW)&&0==pega.ctx.dom.$(a).children("th").length&&(c=a);a=a.parentNode;if(null==a||a.tagName&&"HTML"==a.tagName.toUpperCase())break}}};
pega.ui.template.DataRepeater={add:function(a,d){if(a&&d&&(a=pega.ui.DataRepeaterUtils.getAbsoluteDataSourceFromDataSource(a).dataSource)){var b=pega.ui.ClientCache.find(a);if(!b)var b=pega.ui.ClientCache.find(a.substring(0,a.lastIndexOf("."))),c=a.substring(a.lastIndexOf(".")+1,a.length),b=b.put(c,[]);b&&(b.add().adoptJSON(d),pega.u.d.ServerProxy.isDestinationLocal()?(pega.ui.DCUtil&&pega.ui.DCUtil.refresh(),pega.u.d&&"function"==typeof pega.u.d.evaluateRefreshWhensOSCO&&pega.u.d.evaluateRefreshWhensOSCO(!1,
!0)):(a=pega.ctx.dom.querySelector("[data-repeat-source\x3d'"+a+"']"),pega.u.d.reloadSection&&pega.u.d.reloadSection(a,"","",!1,!1,"",!1)))}},addToRepeatSourceUsingLA:function(a,d,b,c,e,g,k){var f=pega.ui.DataRepeaterUtils.getSourcePageList(d,a),h,l;if(f){pega.ui.DataRepeaterUtils.executeListActionHook("PRE",f,b,f.getParent());switch(b){case "INSERTLAST":h=f.add();l=f.size();break;case "INSERTFIRST":h=f.add(1),l=1}h.put("pxObjClass",g);pega.ui.DataRepeaterUtils.executeListActionHook("POST",f,b,h);
var m=pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+d+".pxResults']");0<m.length&&LayoutGroupModule.setLayoutActiveIndex(m,"ADD"+b);g={mTObjClass:g,fAObjClass:g,isCenterOverlay:"false",isLocalAction:"true",doNotRefresh:!0,doNotSubmit:!0,animObj:{animIn:"anim-bottom",animOut:"anim-bottom"},contextParams:{packagedContext:k,runtimeContext:h.getReference()}};k=new SafeURL;k.put("BaseReference",h.getReference());pega.u.d.processAction(c,"","Rule-Obj-FlowAction","","",!0,a,e,k,null,null,"",{submit:function(){var a=
f.getReference();"INSERTFIRST"===b&&pega.ui.DataRepeaterUtils.updateEntryHandles(f.getReference(),"INSERT",1);if(0<pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+d+".pxResults']").length){var c=[];pega.ctx.dom.$("[data-lg-repeatsource~\x3d'"+a+"']").each(function(a,b){(a=pega.u.d.getSectionDiv(b))&&-1==c.indexOf(a)&&c.push(a)});for(var g=0;g<c.length;g++)pega.u.d.reloadSection(c[g],"","",!1,!1,"",!1)}pega.ui.rdlMasterDetails.refreshRDLSections(a,l)},cancel:function(){f.remove(l);var a=f.getReference();
pega.ui.rdlMasterDetails.refreshRDLSections(a)}},g,!1)}},remove:function(a){var d=pega.util.Event.getTarget(a),d=pega.ui.rdlMasterDetails.getEnclosingRL(d),b=pega.ui.DataRepeaterUtils.getAbsoluteDataSourceFromEvent(a);a=b.dataSource;b=b.rowIndex;if(a&&b){var c=pega.ui.ClientCache.find(a);if(c)if(c.remove(b),c=pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+a+".pxResults']"),0<c.length&&LayoutGroupModule.setLayoutActiveIndex(c,"DEL"+b),pega.u.d.ServerProxy.isDestinationLocal()){pega.ui.DCUtil&&pega.ui.DCUtil.refresh();
c=pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+a+"']");if(0<c.length){var e=[];pega.ctx.dom.$("[data-lg-repeatsource~\x3d'"+a+"']").each(function(a,b){(a=pega.u.d.getSectionDiv(b))&&-1==e.indexOf(a)&&e.push(a)});for(d=0;d<e.length;d++)pega.u.d.reloadSection(e[d],"","",!1,!1,"",!1)}pega.u.d&&"function"==typeof pega.u.d.evaluateRefreshWhensOSCO&&pega.u.d.evaluateRefreshWhensOSCO(!1,!0)}else pega.u.d.reloadSection&&pega.u.d.reloadSection(d,"","",!1,!1,"",!1)}},removeFromRepeatSource:function(a){var d=
a.dataSource,b=a.rowIndex;a=a.domIndex;if(d&&b){var c=pega.ui.ClientCache.find(d);if(c){pega.ui.DataRepeaterUtils.executeListActionHook("PRE",c,"DELETE",c.get(b));c.remove(b);pega.ui.DataRepeaterUtils.executeListActionHook("POST",c,"DELETE",c.getParent());pega.ui.DataRepeaterUtils.updateEntryHandles(d,"DELETE",a);a=pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+d+"']");0<a.length&&LayoutGroupModule.setLayoutActiveIndex(a,"DEL"+b);pega.u.d&&"function"==typeof pega.u.d.evaluateRefreshWhensOSCO&&pega.u.d.evaluateRefreshWhensOSCO(!1,
!0);a=pega.ctx.dom.$("[data-lg-repeatsource\x3d'"+d+"']");if(0<a.length){var e=[];pega.ctx.dom.$("[data-lg-repeatsource~\x3d'"+d+"']").each(function(a,b){(a=pega.u.d.getSectionDiv(b))&&-1==e.indexOf(a)&&e.push(a)});for(a=0;a<e.length;a++)pega.u.d.reloadSection(e[a],"","",!1,!1,"",!1)}pega.ui.rdlMasterDetails.refreshRDLSections(d,b)}}}};
pega.namespace("pega.ui.logger");
pega.ui.logger.LogHelper=function(){var a,d;a=function(){};d=function(a){var b="",c;for(c in arguments)b+=" "+arguments[c];console.error("ERROR:"+b)};var e=function(){pega.ui.logger.LogHelper.debug=a;pega.ui.logger.LogHelper.error=d};return{setLogLevel:function(a){},LoggingLevel:{DEBUG:1,ERROR:2},debug:a,error:d,enableDebug:function(){a=function(a){var b="",c;for(c in arguments)b+=" "+arguments[c];console.log("DEBUG:"+b)};e()},disableDebug:function(){a=function(){};e()}}}();
var pega;
(function(d){(function(g){(function(a){var e=d.ui.logger.LogHelper,c={};a.EQ_COMPLETED="EventQueueComplete";a.EQ_PAUSED_FOR_MODAL="EventQueuePausedForModal";a.WS_ON_OPEN="WebSocketsOnOpen";a.WS_ON_CLOSE="WebSocketsOnClose";a.WS_ON_ERROR="WebSocketsOnError";a.WS_ON_REOPEN="WebSocketsOnReOpen";a.TMPLT_RENDERING_DONE="TmpltRenderDone";a.subscribe=function(b,a){c[b]||(c[b]=[]);c[b].push(a);e.debug("subscribed for event -"+b+"- with callback -"+a)};a.unsubscribe=function(b,a){var f;c[b]&&(f=c[b].indexOf(a),-1!=
f&&(c[b].splice(f,1),e.debug("unsubscribed for event -"+b+"- with callback -"+a)))};a.publish=function(a,h){var b,d;try{if(c[a])for(e.debug("publishing message -"+h+"- for event -"+a),b=0;b<c[a].length;b+=1)(d=c[a][b])&&"function"===typeof d&&d(h)}catch(k){e.error("error while publishing "+k)}};a.publishAsync=function(b,c){setTimeout(function(){a.publish(b,c)},0)}})(g.clientEvents||(g.clientEvents={}))})(d.u||(d.u={}))})(pega||(pega={}));pega.u.ce=pega.u.clientEvents;
var utilities={prevParentOfSec:null,pagesToRemoveMap:{},addPageToRemoveList:function(b,a){var c=pega.u.template.utility.pagesToRemoveMap;c[b]=c[b]||[];c[b].push(a)},childsOfASection:{},addSectionAsChild:function(b,a){var c=pega.u.template.utility.childsOfASection;c[a]=c[a]||[];c[a].push(b)},getChildsOfSection:function(b,a){var c=pega.u.template.utility;a=a||[];var d=c.childsOfASection[b];if(d)for(var e=d.length,f=0;f<e;f++)d[f]!==b&&-1===a.indexOf(d[f])&&(a.push(d[f]),c.getChildsOfSection(d[f],a));
return a},getParentOfASec:function(b){var a=pega.u.template.utility.childsOfASection,c;for(c in a)if(-1!==a[c].indexOf(b))return c},getHarnessCleanUpPages:function(b){var a=pega.u.template.utility;b=a.pagesToRemoveMap[b]?a.pagesToRemoveMap[b].toString():"";a.pagesToRemoveMap={};a.childsOfASection={};return b},removeRefsOfSection:function(b){var a=pega.u.template.utility.childsOfASection,c;for(c in a)if(c===b)delete a[c];else for(var d=a[c],e=0;e<d.length;e++)d[e]===b?d.splice(d.indexOf(e),1):""},
removePageRefs:function(b,a){if(a=pega.u.template.utility.pagesToRemoveMap[a]){b=b.split(",");for(var c=b.length,d=0;d<c;d++)-1!=a.indexOf(b[d])&&a.splice(a.indexOf(b[d]),1)}},addSectionInfo:function(b){var a=pega.u.template.utility;"push"==b.action?(a.addSectionAsChild(b.uniqueID,pega.peekStackFrame("secID")||a.prevParentOfSec||"Top"),pega.pushStackFrame("secID",b.uniqueID)):"pop"==b.action&&pega.popStackFrame("secID")}};pega.ui.template.utility=utilities;
var ajaxengine={gIsScriptsLoading:!1,activeAsyncRequests:0,preReloadEle:null,AJAXStatus:null,ajaxParams:new Hashtable,ajaxFailureCount:1,BEFORE_SECTIONS_REFRESH:"BeforeSectionsRefresh",AFTER_SECTIONS_REFRESH:"AfterSectionsRefresh",BEFORE_COMPONENT_REFRESH:"BeforeComponentRefresh",AFTER_COMPONENT_REFRESH:"AfterComponentRefresh",ignoreCachingSectionList:!1,ajaxFailureSecondaryCount:-1,checkExceptions:function(a,b){if(0<=a.indexOf("PegaServErr")){var c=document.createDocumentFragment(),d=document.createElement("div");
d.innerHTML=a;c.appendChild(d);var e=pega.util.Dom.getElementsById("PegaServErr",d,"div");if(e&&0<e.length)return c.removeChild(d),b.innerHTML=a,!0;c.removeChild(d)}return!1},incrementAsyncRequestCount:function(){pega.u.d.activeAsyncRequests++;1==pega.u.d.activeAsyncRequests&&this.AJAXStatus&&this.AJAXStatus.start();pega.ui.statetracking.setAjaxBusy()},decrementAsyncRequestCount:function(){0<pega.u.d.activeAsyncRequests&&(pega.u.d.activeAsyncRequests--,pega.ui.statetracking.setAjaxDone());0==pega.u.d.activeAsyncRequests&&
(this.AJAXStatus&&this.AJAXStatus.complete(),pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide())},isAjaxInProgress:function(){return 0<pega.u.d.activeAsyncRequests},pauseAjaxSequencer:function(){pega.u.d.incrementAsyncRequestCount();pega.c&&pega.c.actionSequencer&&pega.c.actionSequencer.pause()},resumeAjaxSequencer:function(){pega.u.d.decrementAsyncRequestCount();pega.c&&pega.c.actionSequencer&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume()},PostData:function(a){var b=a instanceof FormData;
a=a||new SafeURL;this.getInfoToSend=function(){return a};b?this.append=function(b,d){a.append(b,d)}:a instanceof SafeURL?(this.append=function(b,d){a.put(b,d)},this.getInfoToSend=function(){return a.toEncodedPostBody()}):this.append=function(b,d){a+="\x26";a+=b;a+="\x3d";a+=encodeURIComponent(d)};this.addOnlyOnceInfo=function(){if(pega.ui.onlyOnce){var a=pega.ui.onlyOnce.getAllNamesObject(),b;for(b in a)this.append("$O"+b,"")}};this.isFormData=function(){return b}},asyncRequest:function(a,b,c,d,e){if(pega.u.d.isHarnessInitialized()){var f=
new this.PostData(d);pega.ctx.isUITemplatized&&(b.get("UITemplatingStatus")||b.get("StreamList")||b.put("UITemplatingStatus","N"));if(pega.u.d.ServerProxy.isDestinationLocal()){if("undefined"!=typeof b.get("pyActivity"))if("ReloadSection"==b.get("pyActivity"))if("undefined"!=typeof b.get("StreamName"))alert("Configuration for Ajax request to reload "+b.get("StreamName")||b.get("StreamList")+" section is not supported in offline");else if("undefined"!=typeof b.get("StreamList")){b=b.get("StreamList").split(":");
a="Configuration for Ajax request to reload ";for(f=0;f<b.length;f++)if(""!=b[f]){var g=b[f].split("|");a=a+g[0]+" "}alert(a+" sections is not supported in offline")}else alert("Configuration for Ajax request to call ReloadSection activity is not supported in offline");else"pzRunActionWrapper"==b.get("pyActivity")?(a=pega.u.d.fieldValuesList.get("Configurationisnotsupportedinoffline"),a=a.replace("$*~ActivityName~*$",b.get("pzActivity")),alert(a)):alert("Configuration for Ajax request to call "+b.get("pyActivity")+
" activity is not supported in offline ");else alert("Configuration for Ajax request is not supported in offline");pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide();pega.control&&pega.control.Actions&&pega.control.Actions.prototype.hideSkeleton&&pega.control.Actions.prototype.hideSkeleton()}else{pega.ui.statetracking.setAjaxPreBusy("asyncRequest");try{var h=pega.desktop.support.getDesktopWindow()?pega.desktop.support.getDesktopWindow().pega.ui.DCUtil:null;if("POST"==a.toUpperCase()&&h&&"@baseclass.doUIAction"!==
b.get("pyActivity")){var n=pega.u.property.toHandle("Declare_pyDisplay.pyDCDisplayState.pyActiveDocumentType"),t=h.getActiveDocumentType();t&&""!=t&&f.append(n,t)}}catch(E){}b.put("inStandardsMode",pega.u.d.inStandardsMode);h=b.get("isRemoteCase");pega.ui.ChangeTrackerMap.getTracker().id&&"true"!=h&&"true"!=b.get("isMDC")&&("string"===typeof d||!d||d&&d.get&&"true"!==d.get("isDCSPA"))&&b.put("AJAXTrackID",pega.ui.ChangeTrackerMap.getTracker().id);pega.u.d.ServerProxy.isDestinationRemote()&&(pega.offline||
pega.mobile.isMultiWebViewOfflinePegaMobileClient)&&b.put("isRemoteCase","true");(d=pega.ctx.pzHarnessID)&&b.put("pzHarnessID",d);(d=pega.ctx.dom.querySelectorAll("input#HeaderButtonSectionIndicator"))&&d[0]&&b.put("HeaderButtonSectionName",d[0].value);f.addOnlyOnceInfo();0==b.get("pzPrimaryPageName")&&"pyDeleteDocumentPg"!=b.get("pyActivity")&&b.put("pzPrimaryPageName",pega.ctx.primaryPageName);"true"!=b.get("pzKeepPageMessages")&&this.clearErrorTables();this.checkAndUpdateTargetParam(b);c=this.wrapCallback(c,
b,e);if("undefined"!=typeof bRecordEvent&&bRecordEvent)if(c.customevents||(c.customevents={}),c.customevents.onComplete){var k=c.customevents.onComplete;c.customevents.onComplete=function(a,b){pega.u.d.decrementAsyncRequestCount();k()}}else c.customevents.onComplete=function(a,b){pega.u.d.decrementAsyncRequestCount()};pega.u.d.pauseAjaxSequencer();pega.u.d.fixBaseThreadTxnId&&pega.u.d.fixBaseThreadTxnId(b);pega.ctx.ignoreCachingSectionList||pega.u.d.cacheSectionNamesInRefresh(b);"true"==b.get("isSecuredURL")&&
(b.remove("isSecuredURL"),null!=b.get("pyActivity")&&"string"===typeof b.get("pyActivity")&&b.remove("pyActivity"));pega.u.d.ajaxParams.method=a;pega.u.d.ajaxParams.safeUrl=b.toURL();pega.u.d.ajaxParams.callback=c;f.isFormData()||(pega.u.d.ajaxParams.postData=f.getInfoToSend());0>pega.u.d.ajaxFailureSecondaryCount&&0!=pega.u.d.ajaxFailureCount&&(pega.u.d.ajaxFailureSecondaryCount=pega.u.d.ajaxFailureCount);pega.u.d.ajaxTimeout&&0<pega.u.d.ajaxTimeout&&(c.timeout=pega.u.d.ajaxTimeout);d=pega.util.Dom.getElementsById("pxRequestorPyLatitude",
document.forms[0],"INPUT");h=pega.util.Dom.getElementsById("pxRequestorPyLongitude",document.forms[0],"INPUT");if("POST"==a&&d&&1==d.length&&""!=d[0].value&&h&&1==h.length&&""!=h[0].value&&"pzGetTrackerChanges"!=b.get("pyActivity"))try{var l=pega.util.Dom.getElementsById("pxRequestorPyLatitude",document.forms[0],"INPUT")[0],r=pega.util.Dom.getElementsById("pxRequestorPyLongitude",document.forms[0],"INPUT")[0];f.append(l.getAttribute("name"),l.value);f.append(r.getAttribute("name"),r.value)}catch(E){}f.isFormData()?
(g=new XMLHttpRequest,g.onreadystatechange=function(){var a={},b;for(b in this)a[b]=this[b];4==this.readyState&&(c.argument&&(a.argument=c.argument),200==this.status?c.success.call(c.scope,a):c.failure.call(c.scope,a))},e=pega.ctxmgr.getRootDocumentContext(),pega.u.d&&(pega.u.d.isFlowinModalProgress||pega.u.d.bIsFlowInModal||pega.u.d.bIsDCSPA)||pega.ctx.isMDC?(e=pega.ctxmgr.getRootDocumentContext())&&f.append("pzCTkn",e.activeCSRFToken):f.append("pzCTkn",pega.ctx.activeCSRFToken),f.append("pzBFP",
pega.d.browserFingerprint),pega.u.d.convertToRunActivityAction(b),g.open(a,b.toURL()),g.send(f.getInfoToSend()),b=g):(e&&(g=e.bAsync),e=b,pega.u.d.convertToRunActivityAction(b),"POST"==a&&(e=pega.u.d.moveParamsFromURLToPostData(b,f)),b=pega.util.Connect.asyncRequest(a,e.toURL(),c,f.getInfoToSend(),g));pega.ui.statetracking.setAjaxPreDone();return b}}else pega.u.d.deferAsyncRequest(this,[a,b,c,d,e])},convertToRunActivityAction:function(a){var b=a.get("pyActivity");b&&pega&&"function"==typeof pega.isSecuredFeature&&
!pega.isSecuredFeature(b)&&(a.put("pzActivity",b),a.put("pyActivity","pzRunActionWrapper"),a.put("skipReturnResponse","true"),a.put("pySubAction","runAct"))},moveParamsFromURLToPostData:function(a,b){a=SafeURL_clone(a);var c={pzTransactionId:!0,pzPrimaryPageName:!0,pzFromFrame:!0,AJAXTrackID:!0,pxReqURI:!0},d=a.hashtable,e;for(e in d)if(!c[e]){var f;try{f=decodeURIComponent(d[e])}catch(g){f=d[e]}b.append(e,f);delete d[e]}return a},fetchAndAttachSkeleton:function(a){if(a&&a.responseText){var b=document.createElement("div");
b.innerHTML=a.responseText;a=$(b).find("[data-skeleton]");for(b=0;b<=a.length;b++)0==$("body").find("#"+a.attr("id")).length&&$("body").append(a[b])}},wrapCallback:function(a,b,c){var d=pega.ctx,e=a;a||(a={});var f;f=a.scope?a.scope:this;var g=a.isJSONTypeResponse;pega.u.d.isAppOfflineEnabled()&&pega.u.d.ServerProxy.isDestinationLocal()&&(g=!1);var h=a.success,n=a.failure,t=a.upload;a.success=function(k){try{pega.ctxmgr.setContext(d);pega.u.d.ajaxParams.method=null;pega.u.d.ajaxParams.safeUrl=null;
pega.u.d.ajaxParams.callback=null;pega.u.d.ajaxParams.postData=null;pega.u.MessagingManager&&pega.u.MessagingManager.tryReconnect();pega.ui.statetracking.setAjaxPostBusy("ajaxEngine.callback.success");pega.u.d.ajaxFailureSecondaryCount=-1;pega.u.d.decrementAsyncRequestCount();var l=navigator.userAgent,r=l.match(/Android/i)||l.match(/BlackBerry/i)||l.match(/iPhone|iPad|iPod/i)||l.match(/Opera Mini/i)||l.match(/IEMobile/i),n=l.match(/Tablet|iPad|iPod/i);(-1!=l.toLowerCase().indexOf("pegamobilesdk")||
-1!=l.toLowerCase().indexOf("ampwebcontrol")||-1!=l.toLowerCase().indexOf("pegaelectroncontainer")||r&&!n||k&&k.responseText&&0<k.responseText.indexOf('class\x3d"skeleton"'))&&pega.u.d.fetchAndAttachSkeleton(k);var q=k.responseText,t=new RegExp(/pega.u.d.pyStreamNameForGadget\s*=\s*\"ActivityStatusError\"/g);if(-1<q.indexOf("\x3chtml")&&-1<q.indexOf("ActivityStatusError")&&t.test(q)&&-1==q.indexOf('retHTML.indexOf(\\"ActivityStatusError\\")')){if(e)if(top.launchbox&&top.launchbox.Browser){var A=pega.desktop.support.getDesktopWindow(),
Q=A.$('\x3cdiv\x3e\x3ciframe name\x3d"pzErrorDetailWindow" id\x3d"pzErrorDetailWindow" frameborder\x3d"0" src\x3d"" style\x3d"width:100%; height:100%"/\x3e\x3c/div\x3e'),F=Q.dialog({autoOpen:!0,modal:!0,draggable:!1,closeOnEscape:!1,resizable:!1,width:"100%",height:$(A).height(),left:"0px",top:"0px",open:function(){$(this).children()[0].contentWindow.document.write(q)},close:function(){F.dialog("destroy");Q.remove();F.remove()}}).resize(),na=A.$("#pzErrorDetailWindow").contents(),Ca=na.find("title").html();
F.dialog("option","title",Ca);na.find("#EXPAND-INNERDIV").css("display","block");A.$("html").hasClass("iOS")?(F.css("overflow","auto"),F.css("-webkit-overflow-scrolling","touch")):F.css("overflow","hidden");F.css("padding","0")}else{var I=window.open("","errorDetailWindow","toolbar\x3dno,scrollbars\x3dyes");I&&(I.document.write(k.responseText),I.document.getElementById("EXPAND-INNERDIV")&&(I.document.getElementById("EXPAND-INNERDIV").style.display="block"),I.focus())}pega.u.d.gBusyInd.hide()}else{l=
function(a,c){pega.ctxmgr.setContext(d);null!=a&&(k.responseText=a);"function"==typeof h&&h.call(f,k);if("undefined"!=typeof pega){pega.c&&pega.c.actionSequencer&&(pega.c.actionSequencer.isQueueEmpty()||1==pega.c.actionSequencer.getEventsQueueLength()&&pega.c.actionSequencer.getActionInQueue("publishEndOfQueue"))&&(pega.u.d.evaluateClientConditionsOnChangeList(!0,!0),pega.u.d.ct_sectionsList=[],pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_SECTIONS_REFRESH,b));pega.u.d.initChangeTracker();pega.u.d.preReloadEle=
null;pega.c&&pega.c.actionSequencer&&!pega.u.d.gIsScriptsLoading&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume();b&&"pyDeleteDocumentPg"!=b.get("pyActivity")&&pega.u.d.bModalDialogOpen&&pega.u.d.resizeModalDialog();pega.ui.statetracking.setAjaxPostDone();pega.ctxmgr.resetContext();d=null;a=document.querySelectorAll("script[data-to-remove]");for(c=0;c<a.length;c++)a[c].parentNode&&a[c].parentNode.removeChild(a[c]);ga&&(pega.ui.TemplateEngine.getCurrentContext().pop(),ga=!1)}};pega.u.d.showURLTamperFailures(k,
b);var ga=!1;if(!g){if(pega.u.d.showLoginScreen(k.responseText))return;if(pega.u.d.ServerProxy.isDestinationRemote()||pega.u.d.bIsDCSPA){var V=document.createElement("div"),ha=c&&c.isFromDatapage;ha||(V.innerHTML=q);var B=V.querySelector("#pega_scripts");if(B){B=B.innerHTML;try{if(B=B.replace(/&amp;/g,"\x26"),eval(B),delete pega.u.ChangeTrackerMap.getTrackers().NONOSCOThread,pega.u.d.ServerProxy.isDestinationRemote()){pega.u.d.initChangeTracker(V);if(pega.u.d.ServerProxy.isDestinationRemote()&&pega.offline&&
pega.offline.NetworkStatus){var p=pega.u.ChangeTrackerMap.getTracker().trackedPropertiesList;p.pxRequestor=p.pxRequestor||{};p.pxRequestor.pzIsPegaServerAvailable=pega.offline.NetworkStatus.STATE_ONLINE?"true":"false"}pega.ui.ClientDataProvider.initChangeTracker()}}catch(ca){console.log("exception while evaluating pega script")}}}else{var w=k.argument?k.argument[11]:void 0;if(w&&w instanceof Array&&0<w.length&&","!==w[0]){var ia=pega.u.d.getBaseRef(k.argument[0])||void 0,M=$(k.argument[0]).attr("data-offline-classkey")||
$(k.argument[0]).attr("pyclassname"),N;for(N in w){var da=w[N]?w[N].split(","):"";da&&pega.offline.runDataTransform(da[0],M,ia)}}}var O=pega.ui.ChangeTrackerMap.getTrackers(),m;for(m in O){var R=O[m];R.parseForChangeTrackerDiv(k.responseText,!1);pega.u.d.notifyDCForCTChanges(R);R.handleXThreadChanges()}var C=pega.namespace("pega.ui.maps.addressmap");if(C&&"function"==typeof C.notifyMapsOnCT){var S=pega.ui.ChangeTrackerMap.getTracker();C.notifyMapsOnCT(S)}var y=pega.namespace("pega.ui.trackingmaps");
if(y&&"function"==typeof y.notifyMapsOnCT){var J=pega.ui.ChangeTrackerMap.getTracker();y.notifyMapsOnCT(J)}pega.u.d.parseLazyLoadSpan(k.responseText);if("function"==typeof a.preRenderer&&!1===a.preRenderer.call(f,k))return}if(!g&&pega.ctx.isUITemplatized){var v=pega.ui.TemplateEngine.getCurrentContext(),X;k.argument&&0<k.argument.length&&(pega.ui.EventsEmitter.publishSync("BeforeTemplateUIRendered",{targets:k.argument[3]||k.argument[0]}),k.argument instanceof Array&&(ga=v.pushAdhocContext(k.argument[0]),
8<=k.argument.length&&k.argument[7]&&k.argument[7].bOSCOPartialRefresh&&(X=k.argument[7])));var Y=this.gFocusElement?this.gFocusElement:this.focusElement?this.focusElement:null;if("firstuse"==this.loadBehaviour&&Y&&!Y.getAttribute("data-fetched")){var T=document.createElement("div");T.innerHTML=k.responseText;$(T).find('div[id^\x3d"AJAXCT"]').remove();$(T).find("#PegaOnlyOnce").remove();$(T).find("script[src]").remove();pega.ui.ClientDataProvider.getMetadataStoreByType("LOCALACTION")[this.uniqueId]=
$(T).html();Y.setAttribute("data-fetched",!0);this.uniqueId=this.loadBehaviour=""}ha?l&&l(k.responseText):pega.ui.TemplateEngine.renderUI(k.responseText,l,X)}else l(k.responseText)}pega.ctxmgr.resetContext()}catch(ca){throw pega.ctxmgr.resetContext(),d=null,ca;}};a.failure=function(a){try{pega.ctxmgr.setContext(d);pega&&pega.u&&pega.u.d&&pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide();pega&&pega.offline&&pega.offline.NetworkStatus&&(pega.u.d.ajaxFailureSecondaryCount=-1);pega.u.d.decrementAsyncRequestCount();
try{pega.u.d.parseLazyLoadSpan(a.responseText)}catch(r){}for("function"==typeof n&&n.call(f,a);0<=pega.u.d.ajaxFailureSecondaryCount;)if(pega.u.d.ajaxFailureSecondaryCount--,0<=pega.u.d.ajaxFailureSecondaryCount)return pega.util.Connect.asyncRequest(pega.u.d.ajaxParams.method,pega.u.d.ajaxParams.safeUrl,pega.u.d.ajaxParams.callback,pega.u.d.ajaxParams.postData);if(window.ajaxRequestFail)try{ajaxRequestFail(a)}catch(r){}else if(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()&&0<
pega.u.d.activeAsyncRequests){var b=!1;(b=0===a.status&&"object"===typeof c&&c.skipAlert)||alert("AJAX request failed. Reason: "+a.statusText)}pega.u.d.preReloadEle=null;pega.c&&pega.c.actionSequencer&&!pega.u.d.gIsScriptsLoading&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume();pega.ctxmgr.resetContext();d=null}catch(r){throw pega.ctxmgr.resetContext(),d=null,r;}};a.upload=function(b){try{pega.ctxmgr.setContext(d);pega.ui.statetracking.setAjaxPostBusy("ajaxEngine.callback.upload");pega.u.d.ajaxFailureSecondaryCount=
-1;pega.u.d.decrementAsyncRequestCount();var c=pega.ui.ChangeTrackerMap.getTrackers(),e;for(e in c){var g=c[e];g.parseForChangeTrackerDiv(b.responseText,!1);pega.u.d.notifyDCForCTChanges(g);g.handleXThreadChanges()}var h=pega.namespace("pega.ui.maps.addressmap");if(h&&"function"==typeof h.notifyMapsOnCT){var k=pega.ui.ChangeTrackerMap.getTracker();h.notifyMapsOnCT(k)}pega.u.d.parseLazyLoadSpan(b.responseText);if("function"!=typeof a.preRenderer||!1!==a.preRenderer.call(f,b))c=function(a,c){pega.ctxmgr.setContext(d);
a&&(b.responseText=a);"function"==typeof t&&t.call(f,b);pega.c&&pega.c.actionSequencer&&pega.c.actionSequencer.isQueueEmpty()&&pega.u.d.evaluateClientConditionsOnChangeList(!0,!0);pega.u.d.initChangeTracker();pega.u.d.preReloadEle=null;pega.c&&pega.c.actionSequencer&&!pega.u.d.gIsScriptsLoading&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume();pega.ui.statetracking.setAjaxPostDone();pega.ctxmgr.resetContext();d=null},pega.ctx.isUITemplatized?pega.ui.TemplateEngine.renderUI(b.responseText,
c):c(b.responseText),pega.ctxmgr.resetContext()}catch(A){throw pega.ctxmgr.resetContext(),d=null,A;}};return a},checkAndUpdateTargetParam:function(a){},postPage:function(a,b,c){var d=this;b&&b.scope&&(d=b.scope);pega.u.d.pauseAjaxSequencer();return pega.util.Connect.asyncRequest("POST",a.toURL(),{success:function(a){if(b&&"function"==typeof b.success)try{b.success.call(d,a)}catch(f){}pega.u.d.resumeAjaxSequencer()},failure:function(a){if(b&&"function"==typeof b.failure)try{b.failure.call(d,a)}catch(f){}pega.u.d.resumeAjaxSequencer()}},
c)},cacheSectionNamesInRefresh:function(a){if(a.get("pyActivity")&&"ReloadSection"==a.get("pyActivity")&&(!a.get("partialRefresh")||"true"!=a.get("partialRefresh"))&&!a.get("RenderSingle")){var b=a.get("StreamName"),c=a.get("BaseReference");c||(c="");if(b&&null!=b)pega.u.d.ct_sectionsList.push(b+"~"+c);else if(null!=a.get("StreamList"))for(var b=a.get("StreamList").split(":"),d=0;d<b.length;d++)""!=b[d]&&pega.u.d.ct_sectionsList.push(b[d].split("|")[0]+"~"+c)}a.get("pyActivity")&&"ReloadCell"==a.get("pyActivity")&&
(pega.u.d.ct_postedProp=a.get("pyPropertyTarget"))},decodeCrossScriptingFilter:function(a,b){var c={"\x26#61;":"\x3d","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'","\x26#37;":"%","\x26#59;":";","\x26#40;":"(","\x26#41;":")","\x26#43;":"+","\x26amp;":"\x26"};"undefined"!=typeof b&&null!=b&&(c["\x26quot;"]='\\"');for(var d in c)a=a.replace(new RegExp(d,"ig"),c[d]);return a},clearErrorTables:function(){var a=pega.ctx.dom.querySelectorAll("#ERRORTABLE");if(a)for(var b=a.length,c=0;c<
b;c++)if("NONE"==pega.u.d.formErrorType)for(var d=pega.util.Dom.getElementsById("ERRORMESSAGES_ALL",a[c]);d&&d.lastChild;)d.removeChild(d.lastChild);else{var d=!0,e=$(a[c].parentNode).attr("id");pega.u.d.bModalDialogOpen&&pega.util.Dom.isAncestor(pega.u.d.modalDialog.body,a[c])&&!pega.util.Dom.isAncestor(pega.u.d.modalDialog.body,pega.u.d.preReloadEle)&&(d=!1);d&&a[c].parentNode.removeChild(a[c]);"FormErrorMarker_Div"==e&&pega.u.d.canErrorDivAbsolute()&&pega.u.d.toggleHarnessPadding()}if(a=pega.ctx.dom.querySelectorAll("#ErrorTableSpacer"))for(b=
a.length,c=0;c<b;c++)a[c].style.display="none"},showLoginScreen:function(a){if(0==a.indexOf('{"invalidSessionAction"',0)){var b=pega.desktop.support.getDesktopWindow();b||(b=window);a=eval("("+a+")");if(a.invalidSessionAction&&a.pxReqContextPath)return pega.u.d.redirectingToLoginScreen=!0,b.pega&&(b.pega.u.d.redirectingToLoginScreen=!0),pega.u.d.isPortal(),!b.pega||b.pega.u.d.isPortal()?b.location.href=a.pxReqContextPath+(a.pxReqServletNameReal?"/"+a.pxReqServletNameReal:""):b.location.reload(),!0}return!1},
loadSectionIntoDom:function(a,b,c,d,e,f,g){f||(f="");g||(g="");c.className="sectionDivStyle";c.id="RULE_KEY";c.setAttribute("node_type","MAIN_RULE");c.setAttribute("version","1");c.setAttribute("objclass","Rule-HTML-Section");!0===pega.ctx.isUITemplatized&&(c.dataset.template=!0);c.setAttribute("node_name",a);c.setAttribute("pyclassname",b);c.dataset.nodeId=a;e&&""!=e&&c.setAttribute("BASE_REF",e);a=pega.ctx.KeepPageMessages;pega.ctx.KeepPageMessages=!0;pega.u.d.reloadSection(c,f,g,!1,!1,-1,!1,null,
null,null,d);pega.ctx.KeepPageMessages=a;return c},refreshSection:function(a,b,c){"undefined"==typeof c&&(c=document);(a=this.getSectionByName(a,b,c))&&this.reloadSection(a,"","",!1,!0,"-1",!1)},reloadSections:function(a,b,c,d,e,f,g,h,n,t){f=void 0==f?window.event:f;this.reload({reloadElement:b,preActivity:c,preActivityParams:d,bFormSubmit:!1,bSectionSubmit:!0,pageListIndex:e,bDoNotSetAll:!0,event:f,strReloadType:"MultipleSections",sourceString:a,isPreActivityParamsEncoded:!0,rwPreActivities:g,oDataTransform:h,
declarePageParams:n,layouts2refresh:t})},sectionRefreshCallback:function(a){var b=document.createElement("div");b.innerHTML=a.responseText;var c=pega.util.Dom.getElementsById("SECGRP",b,"DIV");pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&!c&&(c=[],c.push(b));var d=a.argument[0],e=a.argument[2];if(void 0!==e&&pega.u.d.focusElement&&pega.u.d.focusElement.tagName&&"IFRAME"!==pega.u.d.focusElement.tagName.toUpperCase())var f=pega.u.d.getCaretPosition(pega.u.d.focusElement);var g=pega.u.d.focusElement&&
pega.u.d.focusElement.name,h=pega.u.d.focusElement&&pega.u.d.focusElement.tagName,n=!1;4==a.argument.length&&a.argument[3]&&a.argument[3].length&&0<a.argument[3].length?n=a.argument[3]:this.cleanUpHarnessElements(null,d);if(null!=c){pega.ctx.returnedDivsCount=0;var t=function(){pega.ctx.returnedDivsCount--;if(0<pega.ctx.returnedDivsCount)return!1;setTimeout(function(){pega.u.d.lazyLoadManager.detachBeforeLoad(t)},0);delete pega.ctx.returnedDivsCount;return!0};pega.u.d.lazyLoadManager.attachBeforeLoad(t);
for(var k=0;k<c.length;k++)if(n){var l=pega.util.Dom.getElementsByAttribute("data-refresh","true","DIV",c[k]);if(l&&0<l.length){var l=l[0],r;r=1==n.length?n[0]:n.shift();pega.ctx.returnedDivsCount++;if("true"==l.getAttribute("bsimplelayout")&&(l.getAttribute("data-methodname")||l.setAttribute("data-methodname",r.getAttribute("data-methodname")||r.parentElement.getAttribute("data-methodname")),l.getAttribute("data-expr-id")))try{var E=r.getAttribute("data-expr-id")||r.parentElement.getAttribute("data-expr-id");
E&&0<E.indexOf("_")&&l.setAttribute("data-expr-id",E)}catch(F){console.log("exception while setting data-expr-id on layout divs")}pega.u.d.loadDOMObject(r,l.innerHTML)}}else if((l=pega.util.Dom.getElementsById("RULE_KEY",c[k],"DIV"))&&0<l.length){l=l[0];if(d.length&&1<d.length&&pega.u.d.isAppOfflineEnabled()&&pega.u.d.ServerProxy.isDestinationLocal())try{for(var q=0;q<d.length;q++){var H=d[q].getAttribute("node_name");if(a.handle&&"string"==typeof a.handle&&H&&"string"==typeof H&&-1<a.handle.toLowerCase().indexOf(d[q].getAttribute("node_name").toLowerCase())){r=
d[q];d.splice(q,1);break}}}catch(F){r=d.shift()}else r=d.shift();if(pega.u.d.checkExceptions(l.innerHTML,r)){pega.u.d.gBusyInd.hide();return}(q=pega.u.d.getSectionId(l))&&""!=q&&""!=pega.u.d.getSectionId(r)&&r.setAttribute("uniqueID",q);if((q=pega.util.Dom.getElementsById("BASE_REF",c[k],"DIV"))&&0<q.length&&(q=q[0].getAttribute("BASE_REF"),"undefined"!=typeof q&&null!=q)){var A=r.getAttribute("BASE_REF");A&&A!=q&&(r.setAttribute("BASE_REF",q),r.removeAttribute("FULL_BASE_REF"),(A=r.parentNode)&&
A.tagName&&"div"==A.tagName.toLowerCase()&&"CT"==A.id&&A.getAttribute("sec_baseRef")&&A.setAttribute("sec_baseRef",q))}pega.ctx.returnedDivsCount++;pega.u.d.loadDOMObject(r,l.innerHTML)}}(a=pega.util.Dom.getElementsById("PegaOnlyOnce",b))&&a[0]&&pega.u.d.handleOnlyOnce(a[0]);if(void 0!==e&&g&&h&&"IFRAME"!==h.toUpperCase()){g=!0;try{var Q=pega.c.actionSequencer.getActionInQueue("runScript");Q&&-1!=Q.indexOf("AutoCompleteAG.setFocusToInput")&&(g=!1)}catch(F){console.log("exception while checking runScript action in action json")}!g||
pega.cl&&pega.cl.isTouchAble()&&pega.u.d.isMobile()||this.focusNextElement(e,b,f)}pega.u.d.handleFormErrors(b);pega.u.d.gBusyInd.hide()},cleanUpHarnessElements:function(a,b){a&&a instanceof Array||(a=[]);for(var c=0;c<b.length;c++){var d=b[c];if(d){var e=pega.ctx.dom.querySelectorAll("DIV[node_type\x3d'MAIN_RULE']",d),f=e.length,g=d.getAttribute("uniqueID");"string"===typeof g&&a.push(g);for(g=0;g<f;g++){var h=e[g],n=h.getAttribute("uniqueID");"RULE_KEY"==h.id&&n&&""!=n&&a.push(n)}this.removeSmartInfoListeners&&
this.removeSmartInfoListeners(d)}for(d=0;d<a.length;d++)this.removeFromMemory(a[d])}},reload:function(a){var b=pega.ui.HarnessContextMgr;pega.ui.statetracking.setAjaxPreBusy("reload");var c="repeatProperty"in a?a.repeatProperty:null,d=a.reloadElement,e="preActivity"in a?a.preActivity:"",f="preActivityParams"in a?a.preActivityParams:"",g="bFormSubmit"in a?a.bFormSubmit:this.submitForm(),h="bSectionSubmit"in a?a.bSectionSubmit:!0,n=a.pageListIndex,t="bDoNotSetAll"in a?a.bDoNotSetAll:!1,k=a.event,l=
a.strReloadType,r=a.sourceString,E=a.declarePageParams,q=a.forceAJAX,H=!1,A=null,Q=null,F=null;a.appendExtraQueryString&&"object"===typeof a.appendExtraQueryString&&3==a.appendExtraQueryString.length&&"string"===typeof a.appendExtraQueryString[0]&&0===a.appendExtraQueryString[0].indexOf("pzuiactionzzz")&&(A=a.appendExtraQueryString[1],Q=a.appendExtraQueryString[2],a.appendExtraQueryString=SafeURL_createFromURL(a.appendExtraQueryString[0]),F=f,H=!0);var na=b.get("KeepPageMessages")?b.get("KeepPageMessages"):
"false",Ca=pega.ctx.dom.getElementById("PEGA_HARNESS"),I=d;d&&0<d.length&&(I=d[0]);pega.u.NavigateTopHandler&&I&&!pega.util.Dom.isAncestor(Ca,I)&&(na="true");if(I){var ga=I.parentNode;$(ga).hasClass("rdl-scrolllistener")&&(ga.scrollTop=0)}var V=I&&I.getAttribute("data-params")||"",ha="isPreActivityParamsEncoded"in a?a.isPreActivityParamsEncoded:!1,B=a.rwPreActivities,p=a.oDataTransform,w=new SafeURL;if(void 0==q||null==q)q=pega.u.d.forceAJAX;var ia=!1;""!=e&&"RepeatLayout"!=l&&(g=!1);if(!g||0!=this.processOnBeforeSubmit()){if(!g){null==
d&&(d=pega.util.Event.getTarget(k));if("MultipleSections"!=l&&"ShowSection"!=l){for(var M=this.getRepeatObject(d,!0),N=this.getBaseRef(d);("RULE_KEY"!=d.id||"MAIN_RULE"!=d.getAttribute("node_type"))&&"PEGA_HARNESS"!=d.id;)if(d=d.parentNode,null==d){ia=!0;break}if(d&&"PEGA_HARNESS"!=d.id&&!d.getAttribute("node_name")){pega.ui.statetracking.setAjaxPreDone("reload");return}}if("PartialSection"!=l&&"Queued"!=l&&"partial-refresh"!=l&&0==this.processOnBeforeSubmit(!1,d,a.layouts2refresh)){pega.ui.statetracking.setAjaxPreDone("reload");
return}if(!this.isSafeToReload(d))return pega.ui.statetracking.setAjaxPreDone("reload"),"unsafeToReload";var da=!1,O="",m=SafeURL_createFromURL(b.get("url")),R="";if(H){if(p&&1<=p.length){var C=p[0];-1!=C.indexOf("\x3c||\x3e")&&(C=C.substring(0,C.indexOf("\x3c||\x3e")));if(-1!=C.indexOf(",")){var S=C.substring(0,C.indexOf(",")),y=C.substring(C.indexOf(",")+1);if(""!=S&&y){pega.c.eventParser.hasTokens(y)&&(y=pega.c.eventParser.replaceTokensWrapper(y,"",void 0,!0));var J=y.split("\x26");if(J&&J.length)for(var v=
1;v<=J.length;v++)if(""!=J[v-1]){var X=J[v-1].split("\x3d");""!=R&&(R+="\x26");R+=X[0]+"\x3d"+X[1]}}}}if(p&&0<p.length&&(1!=p.length||","!=p[0])||B&&0<B.length){var Y="",T=!0,ca=!1;if(p)for(var x=1;x<=p.length;x++){if(-1!=p[x-1].indexOf("\x3c||\x3e")){var K=p[x-1].substring(p[x-1].indexOf("\x3c||\x3e")+4);""==K&&ca||(Y+=(T?"":"|:")+(""==K?"$NULL$":K),T=!1,""==K&&(ca=!0))}}else if(B&&""!=B)for(var Z=0;Z<B.length;Z++){var pa=B[Z];if(-1!=pa.indexOf("\x3c||\x3e")){var oa=pa.split("\x3c||\x3e"),K=oa[1];
""==K&&ca||(Y+=(T?"":"|:")+K,T=!1,""==K&&(ca=!0))}}""!=Y&&m.put("PreActivityContextPageList",Y)}}m.put("pyActivity","ReloadSection");ha&&m.put("pyEncodedParameters","true");m.put("pzKeepPageMessages",na);var lb=pega.ctx.strHarnessPurpose||"";m.put("strPHarnessClass",pega.ctx.strHarnessClass||"");m.put("strPHarnessPurpose",lb);var u="";if(!H&&(p&&0<p.length&&(1!=p.length||","!=p[0])||B&&0<B.length)){u="\x3cpagedata\x3e";if(p){u+='\x3cdataTransforms REPEATINGTYPE\x3d"PageList"\x3e';for(x=1;x<=p.length;x++){var Da=
p[x-1].indexOf(","),S=p[x-1];-1!=Da&&(S=p[x-1].substring(0,Da),y=p[x-1].substring(p[x-1].indexOf(",")+1));var Ea=p[x-1].indexOf("\x3c||\x3e"),K="";-1!=Ea&&(-1!=Da?y=p[x-1].substring(p[x-1].indexOf(",")+1,p[x-1].indexOf("\x3c||\x3e")):S=p[x-1].substring(0,Ea),K=p[x-1].substring(Ea+4));var Fa=!1,u=u+('\x3crowdata REPEATINGINDEX\x3d"'+x+'"\x3e\x3cdataTransform\x3e'+S+"\x3c/dataTransform\x3e");if(y&&(pega.c.eventParser.hasTokens(y)&&(y=pega.c.eventParser.replaceTokensWrapper(y,"",void 0,!0)),(J=y.split("\x26"))&&
J.length)){for(v=1;v<=J.length;v++)""!=J[v-1]&&(Fa||(u+='\x3cparams REPEATINGTYPE\x3d"PageList"\x3e',Fa=!0),X=J[v-1].split("\x3d"),u+='\x3crowdata REPEATINGINDEX\x3d"'+v+'"\x3e',u+="\x3cname\x3e"+X[0]+"\x3c/name\x3e\x3cvalue\x3e"+X[1]+"\x3c/value\x3e",u+="\x3c/rowdata\x3e");Fa&&(u+="\x3c/params\x3e")}""!=trim(K)&&(u+="\x3cactivityPage\x3e"+K+"\x3c/activityPage\x3e");u+="\x3c/rowdata\x3e"}u+="\x3c/dataTransforms\x3e"}if(B&&""!=B){u+='\x3cpreActivities REPEATINGTYPE\x3d"PageList"\x3e';for(Z=0;Z<B.length;Z++){var pa=
B[Z],oa=pa.split("\x3c||\x3e"),u=u+('\x3crowdata REPEATINGINDEX\x3d"'+(Z+1)+'"\x3e'),G=oa[0].split(","),u=u+("\x3cactivity\x3e"+G[0]+"\x3c/activity\x3e");""!=oa[1]&&(u+="\x3cactivityPage\x3e"+oa[1]+"\x3c/activityPage\x3e");if(3==G.length||2==G.length&&-1<G[1].indexOf("\x3d")){var u=u+'\x3cparams REPEATINGTYPE\x3d"PageList"\x3e',qa;G[1]&&""!=G[1]&&(pega.c.eventParser.hasTokens(G[1])&&(G[1]=pega.c.eventParser.replaceTokensWrapper(G[1],"",void 0,ha)),qa=G[1].split("\x26"));G[2]&&""!=G[2]&&(pega.c.eventParser.hasTokens(G[2])&&
(G[2]=pega.c.eventParser.replaceTokensWrapper(G[2],"",void 0,ha)),qa=G[2].split("\x26"));for(var ra=0;ra<qa.length;ra++)var u=u+('\x3crowdata REPEATINGINDEX\x3d"'+(ra+1)+'"\x3e'),Za=qa[ra].split("\x3d"),u=u+("\x3cname\x3e"+Za[0]+"\x3c/name\x3e\x3cvalue\x3e"+Za[1]+"\x3c/value\x3e"),u=u+"\x3c/rowdata\x3e";u+="\x3c/params\x3e"}u+="\x3c/rowdata\x3e"}u+="\x3c/preActivities\x3e"}u+="\x3c/pagedata\x3e"}if("MultipleSections"==l){for(var mb=d.length,$a="",ja="",Ga=!1,v=0;v<mb;v++){var D=d[v];a.layouts2refresh?
w.copy(pega.u.d.getQueryString(a.layouts2refresh[v])):w.copy(pega.u.d.getQueryString(D));var M=this.getRepeatObject(D,!0),N=this.getBaseRef(D),sa=D.getAttribute("data-declarepage");pega.u.d.useHashDP||"undefined"==typeof sa||null==sa||""==sa||(N=sa,Ga=!0);var ab=N,Ha=D.getAttribute("uniqueid");if(Ga&&E){var Ga=!1,bb={};bb.params=E[Ha];ab=N+"$$"+JSON.stringify(bb).replace(/:/g,"~~")}m.put("BaseReference",N);var Ia=pega.u.d.getRowAndEntryHandle(D),Ja="";Ia&&Ia.row&&(Ja="|"+Ia.row.getAttribute("PL_INDEX"));
var cb="";a.layouts2refresh&&(cb="~!"+a.layouts2refresh[v].getAttribute("data-methodName"));var db="",ta=null,ta=a.layouts2refresh?a.layouts2refresh[v]:D;if("undefined"!=typeof ta&&null!=ta)var nb=ta.hasAttribute("data-template")?"Y":"N",db=(""==Ja?"||":"|")+"|"+nb;var ea=D.getAttribute("data-params")||"";pega.c.eventParser.hasTokens(ea)&&(ea=pega.c.eventParser.replaceTokensWrapper(ea));null!=ea&&(ea=ea.replace(/:/g,"~#"));var eb="";pega.u.d.isAppOfflineEnabled()&&pega.u.d.ServerProxy.isDestinationLocal()&&
(eb="|"+Ha);$a+=D.getAttribute("node_name")+cb+"|"+D.getAttribute("objclass")+"|"+ab+Ja+db+eb+"|"+Ha+"|"+ea+":";if("true"!=D.getAttribute("readOnly")){var ua=pega.u.d.isContainerDirty(D);ua&&!pega.u.d.bModalDialogOpen&&(pega.ctx.gSectionReloaded=ua)}var Ka=D.getAttribute("isAdvParamSection"),va=D.getAttribute("outerGadget");if(va){var La=pega.ctx.pzHarnessID;m.put("pzHarnessID",La);m.put("newSectionID",va)}if(Ka)O+=D.getAttribute("node_name")+"|"+D.getAttribute("containedSectionID")+"|"+N+":";else{var ka=
pega.util.Dom.getElementsByAttribute("containedSectionID","*","DIV",D);if(ka)for(x=0;x<ka.length;x++)var Ma=ka[x].getAttribute("containedSectionID"),ja=ja+(Ma+":");O+=ja}}w.copy(r);m.put("StreamList",$a)}else if("ShowSection"==l){H||m.put("StreamClass","Rule-HTML-Section");m.put("StreamName",a.streamName);m.put("BaseReference",a.pageName);m.put("UsingPage","true");a.includedStreamName&&m.put("includedStreamName",a.includedStreamName);!1===a.sectionOnly?m.put("WithSubmitButton","true"):m.put("WithSubmitButton",
"false");"undefined"!=typeof a.sectionOnly&&null!=a.sectionOnly&&m.put("sectionOnly",a.sectionOnly);var fb=a.sectionParams,Na;for(Na in fb)m.put(Na,fb[Na]);var Oa=a.specialButtons;if(Oa){for(var ob=Oa.length,gb="",Pa="",v=0;v<ob;v++)(Pa=Oa[v].caption)&&""!=Pa&&(gb+=Pa+",");m.put("specialButtons",gb)}}else{if(null==d)return!1;d.getAttribute("readOnly")&&"true"==d.getAttribute("readOnly")||"true"===a.isADP||(ua=pega.u.d.isContainerDirty(d))&&!pega.u.d.bModalDialogOpen&&(pega.ctx.gSectionReloaded=ua);
Ka=d.getAttribute("isAdvParamSection");if(va=d.getAttribute("outerGadget"))La=pega.ctx.pzHarnessID,m.put("pzHarnessID",La),m.put("newSectionID",va);var hb=d.getAttribute("expandRL");hb&&m.put("expandRL",hb);var ib=d.getAttribute("INDEX");ib&&m.put("index",ib);if(!ia&&"Rule-HTML-Harness"==d.getAttribute("objclass"))g=!0;else if(!ia){var wa=d.getElementsByTagName("*")[0],xa="";wa&&null!=wa.getAttribute("SHOW_WHEN")&&""!=wa.getAttribute("SHOW_WHEN")&&null!=d.children[0].id&&"DIV"==d.children[0].tagName&&
(da=!0,xa=wa.style.display);if(Ka)O=d.getAttribute("node_name")+"|"+d.getAttribute("containedSectionID")+":";else{ja="";if(ka=pega.util.Dom.getElementsByAttribute("containedSectionID","*","DIV",d))for(v=0;v<ka.length;v++)Ma=ka[v].getAttribute("containedSectionID"),ja+=Ma+":";O=ja}var Qa=d.hasAttribute("data-template");a.isNonTemplate&&(Qa=!1);if("Queued"==l){var Ra=a.queueParams.domElement;Ra&&Ra.children[0]&&(Qa=Ra.children[0].hasAttribute("data-template"))}m.put("UITemplatingStatus",Qa?"Y":"N");
var Sa=d.getAttribute("node_name");pega.u.d.isAppOfflineEnabled()&&pega.u.d.ServerProxy.isDestinationLocal()&&(Sa=Sa+"|"+d.getAttribute("uniqueid"));m.put("StreamName",Sa);m.put("BaseReference",N);t&&m.put("bDoNotSetAll","true");if(null!=M&&(null!=M.getAttribute("PL_PROP")&&"undefined"!=typeof M.getAttribute("PL_PROP")&&"undefined"!=typeof n||null!=M.getAttribute("PG_PROP")&&"undefined"!=typeof M.getAttribute("PG_PROP")&&"undefined"!=typeof n)){null!=M.getAttribute("PL_PROP")?m.put("PageList",M.getAttribute("PL_PROP")):
m.put("PageList",M.getAttribute("PG_PROP"));if("undefined"!=typeof Grids&&Grids&&(k||window.event)){var aa=Grids.getActiveGrid(k);if(aa){var Ta=pega.util.Event.getTarget(k),ya="";if(Ta&&(pega.util.Dom.isAncestor(aa.rightBodyTbl,Ta)?ya=aa.rightBodyTbl:pega.util.Dom.isAncestor(aa.leftBodyUL,Ta)&&(ya=aa.leftBodyUL),ya&&(aa.selectPage(k,ya),aa.getLeftRow()))){var pb=pega.ui.property.toReference(aa.getLeftRow().id);m.put("PageList",pb);m.put("isGridAction","true")}}}m.put("PageListIndex",n)}H||m.put("StreamClass",
d.getAttribute("objclass"))}if("PartialSection"==l){var Ua=a.partialParams;m.put("partialRefresh","true");m.put("partialTrigger",Ua.partialTrigger);m.put("ReadOnly",a.isResponseRO?a.isResponseRO:this.getReadOnlyValue(k))}if("Queued"==l){var W=a.queueParams;"layoutId"in W&&(m.put("lazyLoadId",W.layoutId),m.put("RenderSingle",W.layoutId),m.put("lazySection",m.get("StreamName")),m.put("pzKeepPageMessages","true"));var za;pega.u.d.gBusyInd?(za=pega.u.d.gBusyInd.busyIndInterval,pega.u.d.gBusyInd.busyIndInterval=
12E5):(za=pega.u.d.busyIndInterval,pega.u.d.busyIndInterval=12E5)}}"undefined"!=typeof bClientValidation&&m.put("bClientValidation",bClientValidation);b.get("fieldErrorType")&&m.put("FieldError",b.get("fieldErrorType"));b.get("formErrorType")&&m.put("FormError",b.get("formErrorType"));b.get("pyCustomError")&&m.put("pyCustomError",b.get("pyCustomError"));null!=e&&(H||m.put("PreActivity",e),"ProcessAction"===e&&m.put("pxTemplateForceReload","true"));d&&d.getAttribute&&d.getAttribute("BASE_REF")&&m.put("UsingPage",
"true");var Va="function"==typeof pega.u.d.getRepeatTable?0<d.length?pega.u.d.getRepeatTable(d[0]):pega.u.d.getRepeatTable(d):null;null==Va||null==Va.getAttribute("PL_PROP")&&null==Va.getAttribute("PG_PROP")||m.put("bIsGridLayout","true");busyIndText="";"ShowSection"!=l?0<d.length?this.setBusyIndicator(d[0],a.ignoreBusyIndInterval,a.showOnlyMask):this.setBusyIndicator(d,a.ignoreBusyIndInterval,a.showOnlyMask):this.setBusyIndicator(null,a.ignoreBusyIndInterval,a.showOnlyMask);var la=b.get("strDisplayHarnessParms");
"undefined"==typeof la&&(la="",b.set("strDisplayHarnessParms",""));var ma="",ma=0<d.length?d[0].getAttribute("uniqueID"):d.getAttribute("uniqueID");switch(l){case "Section":var z,ba="",jb,kb;null!=k&&"unknown"!=typeof k.type&&(ba=(z=pega.util.Event.getTarget(k))&&z.getAttribute?z.getAttribute("name"):"");null!=k&&"unknown"!=typeof k.type&&0<=k.type.indexOf("key")&&(jb=pega.u.d.getCaretPosition(z),kb=pega.control.PlaceHolder.getValue(z));if(H){if(A)for(paramName in A)""!=F&&(F+="\x26"),F+=paramName+
"\x3d"+A[paramName];if(Q&&p&&1==p.length&&(C=p[0],-1!=C.indexOf(",")&&(S=C.substring(0,C.indexOf(",")),y=C.substring(C.indexOf(",")+1),""!=S&&y))){for(paramName in Q)""!=y&&(y+="\x26"),y+=paramName+"\x3d"+Q[paramName];p[0]=S+","+y}}var P=[d,da,e,H?F:f,la,ba,xa,ma,[ba,kb,jb],!1,a.successCallback,p],U;pega.util.Event.addListener(d,"keydown",pega.u.d.preventKeyAction);U={success:this.handleReloadSuccess,failure:this.handleReloadFail,scope:this,argument:P};break;case "RepeatLayout":P=[d,da,e,f,la,a.focusParams,
xa,ma,c];U={success:this.handleReloadRepeatSuccess,failure:this.handleReloadFail,scope:this,argument:P};break;case "ErrorSection":null!=k&&"unknown"!=typeof k.type&&(ba=pega.util.Event.getTarget(k).name);P=[d,da,e,f,la,ba,xa,ma];U={success:this.handleReloadErrorSuccess,failure:this.handleReloadFail,scope:this,argument:P};break;case "MultipleSections":ba="";if(null!=k&&"unknown"!=typeof k.type){if((z=pega.util.Event.getTarget(k))&&"BUTTON"!=z.nodeName&&(-1<pega.util.Dom.hasClass(z,"pzbtn-rnd")||-1<
pega.util.Dom.hasClass(z,"pzbtn-lft")||-1<pega.util.Dom.hasClass(z,"pzbtn-rgt")||-1<pega.util.Dom.hasClass(z,"pzbtn-mid")))for(;"BUTTON"!=z.nodeName;)if(z=z.parentNode,null==z||"undefined"==typeof z){z=pega.util.Event.getTarget(k);break}ba=z?z.name||z instanceof Element&&z.getAttribute("name"):""}U={success:this.sectionRefreshCallback,failure:this.handleFailure,argument:[d,ma,ba,a.layouts2refresh]};break;case "ShowSection":U={success:this.handleShowSectionSuccess,failure:this.handleShowSectionFail,
scope:this,argument:[d,a.onAfterSubmit,a.onAfterCancel,a.bShowAsModal,a.streamName,a.sectionOnly,ma,a.pageName,a.specialButtons,a.displayAtClick,a.includedStreamName,a.sectionParams]};break;case "PartialSection":Ua.property=c;P=[d,"","","",a.focusParams,"",Ua];U={success:this.handlePartialSuccess,failure:this.handleLoadFail,scope:this,argument:P};h||(q=!0);break;case "Queued":P=[d,"","","","","",W];U={success:this.handlePartialSuccess,failure:this.handleLoadFail,scope:this,argument:P};pega.u.d.gBusyInd.busyIndInterval=
za;za=0;q=!0;break;case "partial-refresh":P=[a.reloadElement,"","","","","",W,{bOSCOPartialRefresh:pega.u.d.ServerProxy.isDestinationLocal(),generateMetadataFn:a.generateMetadataFn,partialMetadataPath:a.partialMetadataPath}],U={success:a.callback.success,failure:a.callback.failure,scope:this,argument:P},h||(q=!0)}"MultipleSections"!=l&&(w=this.getQueryString(d,!1,q,!0));a.appendExtraQueryString&&w.copy(a.appendExtraQueryString);""!=O&&"password"!=w&&w.put("SectionIDList",O);if("password"==w&&0==q)g=
!0,"Section"==l&&pega.util.Event.removeListener(d,"keydown",pega.u.d.preventKeyAction);else if(!g){"MultipleSections"==l&&0<d.length&&(d=d[0]);var Wa=pega.util.Dom.getElementsBy(function(a){return"HeaderButtonSectionIndicator"==a.id},"input",d);Wa&&Wa[0]?m.put("HeaderButtonSectionName",Wa[0].value):m.put("HeaderButtonSectionName","-1");h||(w=pega.u.d.getHiddenEltsAsSafeURL(d),""!=O&&w.put("SectionIDList",O));a.appendExtraQueryString&&w.copy(a.appendExtraQueryString);"Queued"===l&&W.qParamsSafeURL&&
w.copy(W.qParamsSafeURL);w.put("PreActivitiesList",u);null!=V&&"MultipleSections"!=l&&(pega.c.eventParser.hasTokens(V)&&(V=pega.c.eventParser.replaceTokensWrapper(V)),w.put("sectionParam",V));"MultipleSections"!=l&&E&&m.put("declarePageParams",JSON.stringify(E));d&&"true"==d.getAttribute("readOnly")&&m.put("ReadOnly","-1");this.preReloadEle=d;null!=e&&w.put("ActivityParams",f);H&&R&&""!=R&&w.put("preDTParams",R);if("Queued"===l&&"undefined"!=typeof W.adpReload&&"ADPLoad"==W.adpReload)return this.preReloadEle=
null,pega.ui.statetracking.setAjaxPreDone("reload"),{strURLSF:m,callback:U,queryString:w};var qb={scope:this,offline:function(a,b,c){b=a.get("StreamName");var d=[];if(b)d.push(b);else for(var e=a.hashtable.StreamList.split(":"),f=0;f<e.length;f++){var g=e[f].substring(0,e[f].indexOf("|")),h=e[f].split("|")[6];g&&d.push(g+"|"+h)}for(e=0;e<d.length;e++)g=d[e].split("|"),f=pega.ctx.dom.$("div[node_name\x3d'"+g[0]+"'][uniqueid\x3d'"+g[1]+"']"),0<f.length?(f=f[0],(h=f.getAttribute("data-offline-classkey"))||
(h=f.getAttribute("pyclassname")),g=h.toUpperCase()+"!"+g[0].toUpperCase(),(f=f.getAttribute("data-param-hash"))&&(g=g+"!"+f),a.hashtable.BaseReference&&pega.ui.TemplateEngine.setPrimaryContext(a.hashtable.BaseReference),pega.offline.clientstorehelper.getSectionStream(null,g,c.success,c.failure)):(f="pzpega_ui_doc_ajaxengine reloadSectionOSCOHandler: Failed to reload section "+b+" div "+d[e],console.error(f),c.failure(f))}};if(!a.layouts2refresh&&pega.u.template&&pega.u.template.utility&&pega.u.template.utility.pagesToRemoveMap){var L=
pega.u.template.utility,Aa=[],fa;if(d){(fa=d.getAttribute("uniqueid"))&&L.pagesToRemoveMap[fa]&&(Aa.push(L.pagesToRemoveMap[fa]),delete L.pagesToRemoveMap[fa]);for(var Xa=L.getChildsOfSection(fa),rb=Xa?Xa.length:0,Ya=0;Ya<rb;Ya++){var Ba=Xa[Ya];L.pagesToRemoveMap[Ba]&&(Aa.push(L.pagesToRemoveMap[Ba]),delete L.pagesToRemoveMap[Ba],L.removeRefsOfSection(Ba))}L.prevParentOfSec=L.getParentOfASec(fa);L.removeRefsOfSection(fa);L.removePageRefs(Aa.toString(),pega.ctx.dom.$("#pzHarnessID").attr("value"));
m.put("PagesToRemove",Aa.toString())}}pega.ui.EventsEmitter.publishSync(pega.u.d.BEFORE_SECTIONS_REFRESH,m);H&&m.put("isSecuredURL","true");this.ServerProxy.doAction(m,w,qb,U,a.options)}}(g||ia)&&this.submitWhenFail(e,f,la)}pega.ui.statetracking.setAjaxPreDone("reload")},preventKeyAction:function(a){pega.util.Event.preventDefault(a||window.event)},reloadSectionEncoded:function(a,b,c,d,e,f,g,h,n,t){h=void 0==h?window.event:h;this.reload({reloadElement:a,preActivity:b,isPreActivityParamsEncoded:!0,
preActivityParams:c,bFormSubmit:d,bSectionSubmit:e,pageListIndex:f,bDoNotSetAll:g,event:h,strReloadType:"Section",oDataTransform:n,appendExtraQueryString:t})},reloadSection:function(a,b,c,d,e,f,g,h,n,t,k,l){h=void 0==h?window.event:h;this.reload({reloadElement:a,preActivity:b,preActivityParams:c,bFormSubmit:d,bSectionSubmit:e,pageListIndex:f,bDoNotSetAll:g,event:h,strReloadType:"Section",oDataTransform:n,appendExtraQueryString:t,successCallback:k,options:l})},handlePartialSuccess:function(a){var b=
a.responseText;0>b.indexOf("ERRORTABLE")&&"function"==typeof fireExpression&&fireExpression();var c=a.argument[0],d=a.argument[6];if(0<=b.indexOf("\x3chtml\x3e")||d.beforeDomActionContext&&0<b.indexOf("PegaServErr"))pega.u.d.gBusyInd.hide(),pega.u.d.inCall=!1,pega.u.d.changeInEventsArray&&pega.u.d.changeInEventsArray.fire();else{var e;"undefined"==typeof c.getAttribute("uniqueID")&&(e=pega.util.Dom.generateId(),c.setAttribute("uniqueID",e));if(pega.u.d.checkExceptions(b,c))pega.u.d.inCall=!1,pega.u.d.changeInEventsArray&&
pega.u.d.changeInEventsArray.fire(),pega.u.d.gBusyInd.hide();else{if(this.handleErrorAfterPartialSuccess(a)&&pega.ui.grid&&(d.beforeDomActionContext&&d.beforeDomActionContext instanceof pega.ui.grid||d.beforeDomActionContext instanceof pega.ui.gridRowDD||d.afterDomActionContext&&d.afterDomActionContext instanceof pega.ui.grid||d.afterDomActionContext instanceof pega.ui.gridRowDD)&&d.domAction&&("append"===d.domAction||"insert"===d.domAction||"remove"===d.domAction||"dragdrop"===d.domAction||"replace"===
d.domAction)&&0>b.indexOf("Row cellCont")&&0>b.indexOf("editMode cellCont")&&0>b.indexOf("PL_INDEX"))pega.util.Event.isIE&&"dragdrop"===d.domAction&&d.beforeDomActionContext.gridObj&&d.beforeDomActionContext.gridObj.DDProcessing&&(d.beforeDomActionContext.gridObj.DDProcessing=!1);else{e=document.createDocumentFragment();var f=document.createElement("DIV");f.style.display="none";e.appendChild(f);f.innerHTML=b;var g=pega.util.Dom.getElementsById("PegaOnlyOnce",f);g&&g[0]&&(pega.u.d.handleOnlyOnce(g[0]),
g[0].parentNode.removeChild(g[0]));f.innerHTML=null;e.removeChild(f);e=!0;f=d.beforeDomAction;g=d.beforeDomActionContext;f&&"function"==typeof f&&(e=d.beforeParams,e=g?e?f.call(g,e,a):f.call(g,a):e?f.call(this,e,a):f.call(this,a));!1!==e&&this.loadDOMObject(c,b,null,d);b=d.afterDomAction;c=d.afterDomActionContext;b&&"function"==typeof b&&(e=d.afterParams,c?e?b.call(c,e,a):b.call(c,a):e?b.call(this,e,a):b.call(this,a))}pega.u.d.gBusyInd.hide();pega.u.d.inCall=!1;pega.u.d.preReloadEle=null;pega.u.d.changeInEventsArray&&
pega.u.d.changeInEventsArray.fire()}}},triggerAddDeleteRefreshSections:function(a){if(a){pega.u.d.temp_currentCT=pega.ui.ChangeTrackerMap.getTracker();a=pega.u.d.getRefreshableTargets("adddelete",a);var b=null,c=null,d=null;a&&(b=a.sections,c=a.preActivities,d=a.dataTransforms);b&&0<b.length&&pega.u.d.reloadSections("",b,null,null,null,null,c,d)}},handleErrorAfterPartialSuccess:function(a){var b=a.responseText;a=document.createDocumentFragment();var c=document.createElement("DIV");c.style.display=
"none";a.appendChild(c);a=-1!=b.indexOf("PEGA_GRID_DELETE||DELETE_SUCCESS||")?!1:!0;c.innerHTML=b;if((b=pega.util.Dom.getElementsById("ERRORTABLE",c))&&"true"==pega.u.d.alwaysShowFormLevelErrors)return this.displayFormErrors(pega.util.Dom.getOuterHTML(b[0]),c),a;this.handleFormErrors(c);return(c=pega.util.Dom.getElementsById("pyCustomError",c))&&c[0]&&(c=pega.util.Dom.getElementsById("customErrorMsg",c[0]))&&c[0]?a:!1},handleSuccess:function(a){var b=a.argument[0],c=a.argument[1],d=a.argument[2],
e=a.argument[3],f=a.argument[4],g=a.responseText;a=a.argument[6];if(!b||pega.util.Dom.inDocument(b)){var h;if(!(h=-1!=g.indexOf("MAIN_RULE")||-1!=g.indexOf("RULE_KEY")||-1!=g.indexOf("data-template-instance-id")))a:{for(h=b;h&&h.tagName&&"body"!=h.tagName.toLowerCase()&&"PEGA_HARNESS"!=h.id;){if("header"==h.tagName.toLowerCase()){h=!0;break a}h=h.parentNode}h=!1}h?pega.u.d.checkExceptions(g,b)?pega.u.d.gBusyInd.hide():(d=document.createDocumentFragment(),e=document.createElement("DIV"),e.style.display=
"none",d.appendChild(e),e.innerHTML=g,(g=pega.util.Dom.getElementsById("RULE_KEY",e))&&0<g.length&&(g=g[0],(f=pega.u.d.getSectionId(g))&&""!=f&&""!=pega.u.d.getSectionId(b)&&b.setAttribute("uniqueID",f),$(b).attr("data-ui-meta")&&$(g).attr("data-ui-meta")&&$(b).attr("data-ui-meta")!=$(g).attr("data-ui-meta")&&$(b).attr("data-ui-meta",$(g).attr("data-ui-meta")),this.loadDOMObject(b,g.innerHTML),1==c&&(b.getElementsByTagName("*")[0].style.display=a),pega.util.Dom.getElementsById("PegaRULESErrorFlag",
document),this.handleFormErrors(e),pega.u.d.bModalDialogOpen&&(pega.u.d.bResizeModalDlg=!1),pega.u.d.resizeHarness(),pega.u.d.bModalDialogOpen&&(pega.u.d.bResizeModalDlg=!0),(b=pega.util.Dom.getElementsById("PegaOnlyOnce",e))&&b[0]&&(pega.util.Event.isIE?this.handleOnlyOnce(b[0].cloneNode(!0)):this.handleOnlyOnce(b[0])),d.removeChild(e),e.innerHTML="",pega.util.Event.purgeElement(e,!0),e.innerHTML="")):this.submitWhenFail(d,e,f)}},displayErrorsOnModal:function(a){var b=pega.util.Dom.getElementsById("modaldialog_con",
document);if(b&&0<b.length){var b=b[0],c=document.createDocumentFragment(),d=document.createElement("div"),e=null;d.style.display="none";c.appendChild(d);d.innerHTML=a;var f=pega.util.Dom.getElementsById("modalContent",document);f&&0<f.length&&(f=f[0],e=pega.util.Dom.getElementsById("ERRORTABLE",f));if(e&&0<e.length)e=e[0],b=pega.util.Dom.getElementsById("PegaRULESErrorFlag",b),f=0,b&&(f=b.length),0==f&&(pega.util.Dom.setStyle(e,"display","block"),e.setAttribute("aria-hidden","false")),(b=pega.util.Dom.getElementsById("ERRORMESSAGES_ALL",
e))&&0<b.length&&(e=pega.util.Dom.getElementsById("ERRORMESSAGES_ALL",d),b[0].innerHTML=e&&0<e.length?e[0].innerHTML:a);else if(a=$("#modaldialog_hd").siblings(),0==a.length&&(a=$("#modaldialog_con")),(e=pega.util.Dom.getElementsById("ERRORTABLE",d))&&0<e.length){b=pega.util.Dom.getElementsById("PegaRULESErrorFlag",b);f=0;b&&(f=b.length);if(0==f||"true"==pega.u.d.alwaysShowFormLevelErrors)pega.util.Dom.setStyle(e[0],"display","block"),e[0].setAttribute("aria-hidden","false");a[0].insertBefore(e[0],
a[0].firstChild)}d.innerHTML=null;c.removeChild(d);c=document.getElementById("modalOverlay");d=c.querySelectorAll("table");a=!1;for(b=0;b<d.length;b++)if("ERRORTABLE"===d[b].getAttribute("id")){a=!0;break}a&&(c=c.querySelector("input"))&&c.focus()}},handleFormErrors:function(a){"NONE"==this.formErrorType&&this.updateErrorSection(a);var b=pega.ctx.dom.querySelectorAll("#PegaRULESErrorFlag"),c=0;b&&(c=b.length);a=pega.util.Dom.getElementsById("ERRORTABLE",a);if(1==pega.u.d.bModalDialogOpen&&a)(b=$(a[0]).find("#ERRORMESSAGES_ALL")[0])&&
b.children&&0<b.children.length&&(0==c||"true"==pega.u.d.alwaysShowFormLevelErrors)&&pega.u.d.displayErrorsOnModal(pega.util.Dom.getOuterHTML(a[0]));else if(a&&0==c||a&&"true"==pega.u.d.alwaysShowFormLevelErrors)this.displayFormErrors(pega.util.Dom.getOuterHTML(a[0]));else if(c=pega.ctx.dom.querySelectorAll("#ERRORTABLE"),null!=c&&!$(c).hasClass("offlineerror"))for(a=c.length,b=0;b<a;b++)pega.u.d.bModalDialogOpen&&pega.util.Dom.isAncestor(pega.u.d.modalDialog.body,c[b])&&!pega.util.Dom.isAncestor(pega.u.d.modalDialog.body,
pega.u.d.preReloadEle)||(c[b].style.display="none",c[b].setAttribute("aria-hidden","true"));window.LayoutGroupModule&&LayoutGroupModule.checkForErrors()},handleOnlyOnce:function(a){try{if(a){var b=a.getAttribute("data-json");if(b&&0<b.length){var c=JSON.parse(b);c&&null!=c&&(pega.ui.onlyOnce||(pega.ui.onlyOnce=new OnlyOnceMgr),pega.ui.onlyOnce.mergeNewNames(c))}}}catch(d){}},removeFromMemory:function(a){var b=this.harnessElements.slice(),c=b.length,d=[],e=pega.ctx.dom.querySelector('div[uniqueid\x3d"'+
a+'"]');if(e){pega.u.d.focusElement instanceof Node&&e.contains(pega.u.d.focusElement)&&(pega.u.d.focusElement={});var f=e.querySelectorAll("[validationtype]");(f=Array.prototype.slice.call(f))&&0<f.length&&(validationElements=validationElements.filter(function(a){return 0>f.indexOf(a)}))}for(var e=pega.ctx,g=0;g<c;g++){var h=b[g];if(h.sectionID==a){var n=pega.ctxmgr.getContextByTarget(document.querySelector('div[uniqueid\x3d"'+a+'"]'));pega.ctxmgr.setContext(n);h.element&&h.element.nullify&&h.element.nullify(pega.ctx.bIsDCSPA?
!0:!1);d.push(g);if(h.element)for(pega.u.d.detachOnload(h.element.onLoad),n=0;n<pega.u.d.onSubmits.length;n++)pega.u.d.onSubmits[n]==h.element.onBeforeSubmit&&h.element==pega.u.d.contextObjects[n]&&(pega.u.d.onSubmits.splice(n,1),pega.u.d.contextObjects.splice(n,1),pega.u.d.gSubmitIdx--);h=h.element=null}pega.ctxmgr.resetContext(e)}for(g=d.length-1;0<=g;g--)this.harnessElements.splice(d[g],1);b=null},handleReloadSuccess:function(a){a&&a.argument&&a.argument[0]&&pega.util.Event.removeListener(a.argument[0],
"keydown",pega.u.d.preventKeyAction);if("CancelReloadSection"!=a.responseText){var b=a.argument[0];this.cleanUpHarnessElements([a.argument[7]],[b]);var c,d,e;a.argument[8]&&(c=a.argument[8][0],d=a.argument[8][1],e=a.argument[8][2]);var b=a.argument[0],f=a.argument[5],g=a.argument[10];"string"!==typeof d?(this.handleSuccess(a),pega.cl&&pega.cl.isTouchAble()&&pega.u.d.isMobile()||this.focusNextElement(f,b)):(c!==pega.u.d.focusElement.name&&(c=pega.u.d.focusElement.name,e=void 0),this.handleSuccess(a),
pega.cl&&pega.cl.isTouchAble()&&pega.u.d.isMobile()||((d=c&&pega.ctx.dom.getElementsByName(c))&&d[0]?pega.util.Dom.isAncestor(b,d[0])&&this.focusNextElement(c,b,e):this.focusNextElement(f,b)));a.argument[9]&&pega.control.PlaceHolder.addPlaceHolderValues(document.forms[0]);"function"==typeof checkContainersExpanded&&checkContainersExpanded();null!=g&&g()}pega.u.d.gBusyInd.hide();if((c=pega.u.d.ClientEventAPI)&&c.src&&c.src.name&&c.isClientEvent&&(a=pega.ctx.dom.getElementsByName(c.src.name),b=0,a)){for(e=
a.length;b<e;){if("radio"==c.src.type){if(a[b].id==c.src.id&&(a[b].CHECKED||a[b].checked))break}else if(a[b].getAttribute("PN"))break;b++}b<e&&(c=null,a[b]&&a[b].name&&(c=pega.u.property.toReference(a[b].name)),pega.u.d.evaluateClientConditions("ELEM",c,void 0,void 0,a[b]))}},handleReloadErrorSuccess:function(a){this.handleSuccess(a);pega.u.d.gBusyInd.hide()},handleReloadFail:function(a){a&&a.argument&&a.argument[0]?pega.util.Event.removeListener(a.argument[0],"keydown",pega.u.d.preventKeyAction):
pega.util.Event.removeListener(pega.u.d.getSectionDiv(pega.u.d.focusElement),"keydown",pega.u.d.preventKeyAction);void 0!=a.responseText&&this.submitWhenFail(a.argument[2],a.argument[3],a.argument[4]);pega.u.d.gBusyInd.hide()},handleReloadRepeatSuccess:function(a){this.handleSuccess(a);var b=a.argument[0];a.argument[5]&&this.getFocusOnNewRow(a.argument[5][0],a.argument[5][1],b);pega.u.d.gBusyInd.hide()},loadDOMObject:function(a,b,c,d){pega.ui.statetracking.setAjaxPostBusy("loadDOMObject");c||(c=pega.u.d.loadHTMLEleCallback);
if(1==pega.u.d.gIsScriptsLoading){pega.ui.statetracking.setCallbackPending("loadDOMObject200");pega.c&&pega.c.actionSequencer&&pega.c.actionSequencer.pause();var e={},f=0,g;for(g in d)e[g]=d[g],f++;f||(e=null);setTimeout(function(){pega.u.d.loadDOMObject(a,b,c,e);pega.ui.statetracking.setCallbackDone("loadDOMObject200")},200)}else f=new DOMScriptLoader,pega.u.d.gIsScriptsLoading=!0,f.loadHTMLElement(a,b,c,d);pega.ui.statetracking.setAjaxPostDone("loadDOMObject");pega.ctx.isUITemplatized&&"undefined"!=
typeof LayoutGroupModule&&b&&("string"==typeof b&&-1!=b.indexOf("content-layout-group")||"object"==typeof b&&0<b.querySelectorAll(".content-layout-group").length)&&(LayoutGroupModule.updateStretchTabWidths(),LayoutGroupModule.checkForErrors(!0))},loadHTMLEleCallback:function(a,b){pega.u.d.modalDialog&&pega.u.d.modalDialog.Header&&pega.u.d.modalDialog.setHeader(pega.u.d.modalDialog.Header);var c=$(a);"true"==c.children().eq(0).attr("bsimplelayout")&&c.find(".error-table").eq(0).remove();a&&"PegaOnlyOnce"!=
a.id&&(pega.u.d.callResizeHarness&&pega.u.d.HeavyOperations.registerOnceOnInit("resizeHarness"),pega.c&&pega.c.t&&pega.c.t.processControlTemplates(a),!0===b?(pega.u.d.processOnHarnessloads(a),pega.u.HarnessContextMgr.get("bIsDCSPA")&&!pega.ctx.isMDC&&pega.u.d.initFocusOnFirstInput()):pega.u.d.processOnloads(a));pega.tools.EvalDomUtils_globals.objDocFragElemDOM&&(pega.tools.EvalDomUtils_globals.objDocFragElemDOM=null);pega.tools.EvalDomUtils_globals.objDocFragDOM&&(pega.tools.EvalDomUtils_globals.objDocFragDOM=
null);pega.tools.EvalDomUtils_globals.orgDomObj&&(pega.tools.EvalDomUtils_globals.orgDomObj=null);pega.u.d.gIsScriptsLoading=!1;pega.c&&pega.c.actionSequencer&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume();"undefined"!=typeof LayoutGroupModule&&(a=$(a).closest("[data-lg-id]"),0!=a.length&&a.hasClass("tab-overflow")&&LayoutGroupModule.updateLayoutHeight(a,1))},getElementFromCell:function(a){for(var b=null,c=["input","select"],d=0;d<c.length;d++){for(var e=a.getElementsByTagName(c[d]),
f=0;f<e.length;f++)if(e[f].name){b=e[f];break}if(null!=b)break}return b},getTemplateElemFromCell:function(a){for(var b={},c=["input","select"],d=0;d<c.length;d++){for(var e=a.getElementsByTagName(c[d]),f=0;f<e.length;f++)if(e[f].type&&"radio"==e[f].type.toLowerCase()){b.elem=a.children[0];b.elemName=e[f].name;break}else if(e[f].name){b.elem=e[f];b.elemName=e[f].name;break}if(b.elem&&b.elemName)break}return b},reloadCellsOSCO:function(a){if(a=a.cells2refresh)for(var b=0,c=a.length;b<c;b++)try{var d=
pega.u.d.getTemplateElemFromCell(a[b]),e=function(){return function(a){$(d.elem).replaceWith(a)}}(),f=pega.ui.controlMetadataMapper.getTemplatePage(d.elemName);f.pxCurrentContext&&pega.ui.TemplateEngine.getCurrentContext().push(f.pxCurrentContext);var g=pega.ui.template.RenderingEngine.getRenderer(f.pyName)(f,!0,e);"$asyncRendered$WithLoadingMessage"!=g&&$(d.elem).replaceWith(g);f.pxCurrentContext&&pega.ui.TemplateEngine.getCurrentContext().pop()}catch(h){console&&console.log("Error encountered while refreshing cell : "+
h.message)}},reloadCells:function(a){if(pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal())pega.u.d.reloadCellsOSCO(a);else{var b=a.cells2refresh;a=a.sections;var c=SafeURL_createFromURL(pega.ui.HarnessContextMgr.getCurrentHarnessContext().getProperty("url"));c.put("pyActivity","pzReloadCells");bClientValidation&&c.put("PVClientVal",!0);if(b&&a){for(var d={cells:[],values:[]},e={},f={},g={},h=0,n=b.length;h<n;h++){var t=pega.u.d.getElementFromCell(b[h]),k=t.name,l=pega.u.d.getProperty(k),
r=pega.u.d.getBaseRef(t),E=a[h].getAttribute("node_name"),t=pega.u.d.getRowAndEntryHandle(t).rowEntryHandle;null==t&&(t="");g[k]=b[h];var q=b[h].getAttribute("cellid"),H=b[h].querySelector("[data-template]");d.cells.push({pyPropertyTarget:k,StreamName:E,BaseReference:r,ContextPage:pega.u.property.toReference(t),UITemplatingStatus:H?"Y":"N",CellId:q});d.values.push({entryHandle:k,value:l});e[k]=l;f[k]=1;if(k=b[h].getAttribute("FULLPROPS"))for(k=k.split(","),l=0;l<k.length;l++)r=pega.u.property.toHandle(k[l]),
r in f||(E=pega.u.d.getProperty(r),void 0===E&&(E=pega.u.d.temp_currentCT.getPropertyValue(pega.u.property.toReference(r))),d.values.push({entryHandle:r,value:E}),f[r]=1)}c.put("reloadCells",JSON.stringify(d));f=void 0;pega.u.d.asyncRequest("POST",c,{success:function(a){a=a.responseText;a=a.substring(0,a.lastIndexOf("{EndReloadCell}"));a=JSON.parse(a);for(var b in a){var c=a[b],d=g[b];if(pega.util.Dom.inDocument(d))d=d.parentNode,pega.ui.TemplateEngine.renderUI(c,function(a){return function(b){pega.u.d.loadDOMObject(a,
b)}}(d));else break;e[b]!=pega.u.d.getProperty(b)&&pega.control&&pega.control.actionSequencer&&(c=pega.u.d.getElementFromCell(d),pega.env.ua.ie?pega.util.Event.fireEvent(c,"onfocusin"):pega.util.Event.fireEvent(c,"onfocus"),pega.control.actionSequencer.fireTopPriorityEvent(c,"change"),pega.util.Event.fireEvent(c,"onblur"),pega.env.ua.ie&&pega.util.Event.fireEvent(c,"onfocusout"))}},failure:function(a){}})}}},refreshPartial:function(a,b){a.strReloadType="PartialSection";a.partialParams=b;a.bSectionSubmit=
"true"===b.sendSectionData;b.appendExtraQueryString&&(a.appendExtraQueryString=b.appendExtraQueryString);this.reload(a)},getFormData:function(){var a=new FormData;a.put=FormData.prototype.append;a.copy=SafeURL.prototype.copy;a.get=a.get||function(){};return a},getQueryString:function(a,b,c,d){if(a){a=this.stripOutMDCFieldSets(a);var e=(d=(d||pega.u.d.bModalDialogOpen)&&pega.ctx.hasFile())?this.getFormData():new SafeURL,f=null;"undefined"==typeof c&&(c=!1);for(c=0;c<a.length;c++)if(b=a[c].name,"radio"==
a[c].type)a[c].checked&&e.put(b,a[c].value);else if("checkbox"==a[c].type)e.put(b,a[c].checked.toString());else if("select-one"==a[c].type){if(0<a[c].length&&-1!=a[c].selectedIndex){var g=a[c].options[a[c].selectedIndex],h=pega.util.Dom.getInnerText(g),f=a[c].options[a[c].selectedIndex].getAttributeNode("value");null!=f&&f.specified&&(h=g.value);e.put(b,h)}}else if("text"!=a[c].type&&"hidden"!=a[c].type||'["DatePicker"]'!=a[c].getAttribute("data-ctl")&&'["DateRange"]'!=a[c].getAttribute("data-ctl"))if("range"===
a[c].type&&'["Slider"]'==a[c].getAttribute("data-ctl"))f=pega&&pega.u&&pega.u.d&&pega.u.d.Locale.replace("_","-"),f=Number(pega.control.PlaceHolder.getValue(a[c])).toLocaleString(f),e.put(b,f);else if(d&&"file"==a[c].type){b=a[c].files;var n=a[c].name;1<b.length&&(n+="[]");Array.prototype.forEach.call(b,function(a){e.put(n,a)});e.put("hasFile","true");e.put("HarnessPurpose",pega.ctx.strHarnessPurpose)}else"password"==a[c].type?e.put(b,pega.control.PlaceHolder.getValue(a[c])):(""!=b||"hidden"!=a[c].type||
void 0!=a[c].getAttribute("data-ctl")&&null!=a[c].getAttribute("data-ctl"))&&e.put(b,pega.control.PlaceHolder.getValue(a[c]));else{if((h=a[c].value)&&pega.u.d.isAppOfflineEnabled()&&pega.u.d.ServerProxy.isDestinationLocal()&&isNaN(h)&&-1==h.indexOf("GMT")){for(f=a[c];f&&f.tagName&&"span"!=f.tagName.toLowerCase();)f=f.parentNode;f!=a[c]&&("hidden"==a[c].type?a[c].hasAttribute("data-value")&&(h=a[c].getAttribute("data-value")):h=a[c].value,h=pega.DateTimeUtil.convertDateTimeToGMT(h,f))}else try{var t=
a[c].getAttribute("data-value")||a[c].value,k=a[c].getAttribute("data-custom-timezone");"yes"===a[c].getAttribute("data-formatting")||"done"===a[c].getAttribute("data-formatting")?"undefined"!=typeof t&&null!=t&&(h=k?"hidden"==a[c].type?a[c].value:pega.u.d.CalendarUtil.convertDateTimeBtwnTimezones(t,k,pega.u.d.TimeZone):t):k&&(h="hidden"==a[c].type?a[c].value:pega.u.d.CalendarUtil.convertDateTimeBtwnTimezones(t,k,pega.u.d.TimeZone))}catch(l){}e.put(b,h)}return e}},stripOutMDCFieldSets:function(a){var b=
[];["input","select","textarea"].forEach(function(c){b=b.concat(Array.prototype.slice.call(a.getElementsByTagName(c)))});for(var c=a.querySelectorAll("fieldset.mdc-fieldset"),d=0;d<c.length;++d)var e=Array.prototype.slice.call(c[d].querySelectorAll("input, select, textarea")),b=b.filter(function(a){return 0>e.indexOf(a)});return b},disableMDCFieldSets:function(a){a=a.querySelectorAll("fieldset.mdc-fieldset");for(var b=0;b<a.length;++b)a[b].disabled=!0},getHiddenEltsAsSafeURL:function(a,b){var c=new SafeURL;
if(null==a)return c;a=a.getElementsByTagName("input");var d,e,f=a.length;for(d=0;d<f;d++)e=a[d],"HIDDEN"==e.type.toUpperCase()&&0>e.name.indexOf("$")&&(!b||null==pega.u.d.findParentNamed(e,"BASE_REF"))&&(""!=e.name||"hidden"!=e.type||void 0!=e.getAttribute("data-ctl")&&null!=e.getAttribute("data-ctl"))&&c.put(e.name,e.value);b=c.get("HarnessPurpose");if(!b||null==b||""==b)try{if(null!=window.frameElement&&window.frameElement.name&&"actionIFrame"==window.frameElement.name){var g=window.parent.pega.ctx.dom.getElementById("HarnessPurpose");
g&&c.put("HarnessPurpose",g.value)}}catch(h){}return c},postData:function(a,b){if(!a||1!=a.nodeType)return!1;var c=pega.u.d;a=c.getQueryString(a);var d=new SafeURL,e;b&&("function"==typeof b&&(e={},e.success=b),"object"==typeof b&&"function"==typeof b.success&&(e=b));d.put("pyActivity","pzEmptyActivity");c.asyncRequest("POST",d,e,a);return!0},setFormActionTxnId:function(a){if(a&&document&&document.forms[0]&&"main"==document.forms[0].name){var b=document.forms[0].action,b=SafeURL_createFromURL(b);
b.get("pzTransactionId")!==a&&(b.put("pzTransactionId",a),document.forms[0].action=b.toURL())}},fixBaseThreadTxnId:function(a){if(!a||a instanceof SafeURL){var b=a&&a.toURL?a.toURL():null;if(b){var c=b.indexOf("/!@");if(-1<c)var d=b.substring(c+3),e=d.indexOf("!"),c=d.indexOf("?"),c=d.substring(e+1,c);else d=b.indexOf("!")+1,c=b.indexOf("?"),c=b.substring(d,c);if(!(pega.ctx.isMDC||pega.u.d.baseThreadName===c||1==pega.u.d.bModalDialogOpen&&c.startsWith(pega.u.d.baseThreadName)))return}c=pega.ui.ChangeTrackerMap.getTracker().getPropertyValue("pxThread.pxClientExchange");
c=null==c?"":c;b&&a instanceof SafeURL?(b=a.get("pzTransactionId"),""!=c&&b!==c&&a.put("pzTransactionId",c)):pega.u.d.setFormActionTxnId(c)}},getAjaxTrackerID:function(){var a;if(pega&&pega.ui&&pega.ui.ChangeTrackerMap){var b=pega.ui.ChangeTrackerMap.getTracker();b&&(a=b.id)}return a}};pega.lang.augmentObject(pega.ui.Doc.prototype,ajaxengine);ajaxengine=null;
(function(m){var p=m.u.d,t=null;p.ServerProxy=function(){var E=function(){var a={};a.error=a.log=a.warn=function(){};return a},z="",h=window.console,u=function(a){h=h||E();h.warn(a);try{throw Error("Stack Trace for - "+a+" :");}catch(c){c.stack&&h.log(c.stack)}},A=function(){return w===r.REMOTE},B=function(){return w===r.LOCAL},C=function(){return pega&&pega.offline},r={LOCAL:"local",REMOTE:"remote"},w=p.isAppOfflineEnabled&&p.isAppOfflineEnabled()?r.LOCAL:r.REMOTE,y=null,F=function(a,c,b,d,f){if(p.isAppOfflineEnabled()&&
B()){b||u("ServerProxy: doAction: Required OSCOHandler param Missing");var e=null;if(c)if(c instanceof SafeURL){e=c.hashtable;c={};for(var g in e)if(g.match(/\$P[a-zA-Z0-9_]+\$p/)){var v=pega.ui.property.toReference(g);c=pega.ui.property.toObject(v,e[g],c)}var e=null,q;for(q in c)if(e=q,(g=pega.ui.ClientCache.find(e))||(g=pega.ui.ClientCache.createPage(e)),g){var v=pega.ui.ParametrizedDPUtils.isParametrizedDataPage(e),k=g.getReference();v&&e!==k&&(e=k);g.adoptJSON(JSON.stringify($.extend(!0,{},JSON.parse(g.getJSON()),
c[e])))}e=JSON.stringify(c)}else{u("ServerProxy: PostData should be of type SafeURL");return}var l=pega.u.d.wrapCallback(d);d&&pega.u.d.pauseAjaxSequencer();b.offline.call(b.scope,a,e,{success:function(a){if(0<a.length)a=a[0],a.responseText=a.content;else if(!a.responseText){l.failure(a);return}a.argument=l.argument;f&&f.contextParams&&(a=D(a,f.contextParams.packagedContext,f.contextParams.runtimeContext));a=x(a);l.success(a)},failure:function(a){l.failure(a)}})}else p.isAppOfflineEnabled()&&A()?
b&&b.remote?b.remote.call(b.scope,a,c,d):b&&b.online?b.online.call(b.scope,a,c,d):pega.u.d.asyncRequest("POST",a,d,c):b&&b.online?b.online.call(b.scope,a,c,d):(pega.ctx.isMDC&&!a.get("UITemplatingStatus")&&a.put("UITemplatingStatus",pega.ctx.isUITemplatized?"Y":"N"),pega.u.d.asyncRequest("POST",a,d,c))},x=function(a){try{var c=a.responseText,b=document.createElement("div");b.innerHTML=c;if(a.faStream&&""!==a.faStream){var d=$(b).find("#FlowActionHTML");d&&d.html(a.faStream)}var f=d=c=null;(c=$(b).find("div[id^\x3d'AJAXCT']"))&&
1<=c.length&&(f=JSON.parse(c[0].getAttribute("data-json")),c[0].parentNode.removeChild(c[0]));(d=(d=b.getElementsByClassName("modal-overlay"))&&0<d.length?d[0]:null)&&d.parentNode.removeChild(d);a.responseText=b.innerHTML;if(f&&f.Initial&&f.Values)for(var e in f.Initial)0===e.indexOf("pyNavigation")&&pega.ui.ClientCache.createPage(e).adoptServerJSON(f.Initial[e]);return a}catch(g){u("Exception while parsing template data")}},D=function(a,c,b){var d=a.responseText;c&&b&&-1!==d.indexOf(c)&&c!==b&&(d=
d.replace(new RegExp("{{"+c,"g"),"{{"+b),d=d.replace(new RegExp("\\$P"+c,"g"),pega.u.property.toHandle(b)),a.responseText=d.replace(new RegExp(c,"g"),b));return a},G=function(a,c,b){function d(){var a,b=pega.ctxmgr.getHarnessContextMap();if(!b[pega.ctx.pzHarnessID]){a=pega.ctx;var c=Object.keys(b)[0];pega.ctxmgr.setContext(b[c])}return a}function f(a){var b=document.querySelector("head link[rel\x3d'canonical']");b&&b.remove();(b=a.querySelector("link[rel\x3d'canonical']"))&&document.head.appendChild(b)}
var e="undefined"!==typeof pmcRuntimeFeatures,g=e&&"true"===pmcRuntimeFeatures.pxUsesOffline,v=e&&"true"===pmcRuntimeFeatures.pxUsesMultiWebView,e=function(a){var b=document.createElement("div");b.innerHTML=a.responseText;var c=b.querySelector("script#harnessvars");if(c){var d;(d=pega.u.d.bIsDCSPA&&pega.u.d.replaceWorkArea?document.querySelector("#workarea"):document.querySelector("main"))&&pega.u.d.cleanUpHarnessElements(null,[d]);pega.ui.HarnessContextMgr.unloadHarnessContext(pega.ctx.pzHarnessID);
d=document.createElement("script");d.innerHTML=c.innerHTML;c.parentNode.removeChild(c);document.head.appendChild(d);c=pega.ctx.url;evaluateJSONVariables(!0);deferredFieldValues();c=0<c.indexOf("?")?c.split("?")[1]:"";pega.ctx.url=window.location.pathname+"?"+c;pega.ctx.baseThreadName||(pega.ctx.baseThreadName=pega.u.d.getThreadName());pega.ctx.basePrimaryPageName||(pega.ctx.basePrimaryPageName=pega.ctx.primaryPageName);a.responseText=b.innerHTML}b.innerHTML=null},q=function(a){var b=document.createElement("div");
b.innerHTML=a;(a=$(b).find("main.screen-layout-region-main-middle a#appview-nav-toggle-one.nav-toggle-one").get(0))&&a.remove();(a=$(b).find("main.screen-layout-region-main-middle a#appview-nav-toggle-two.nav-toggle-two").get(0))&&a.remove();return b},k=function(a){var e=q(a.responseText);d();f(e);(a=pega.util.Dom.getElementsById("PegaOnlyOnce",e,"div"))&&a[0]&&(pega.u.d.handleOnlyOnce(a[0]),a[0].parentNode.removeChild(a[0]));if((a=pega.util.Dom.getElementsById("PEGA_HARNESS",e,"div"))&&0<a.length){a=
a[0];for(var k=e.querySelectorAll("script"),l=e.querySelectorAll("link[rel\x3d'stylesheet']"),e=e.querySelectorAll("style"),h=k.length,n=0;n<h;n++)a.appendChild(k[n]);h=l.length;for(n=0;n<h;n++)a.appendChild(l[n]);h=e.length;for(n=0;n<h;n++)a.appendChild(e[n]);k=e=l=null;e=document.createElement("div");e.appendChild(a);k=document.createElement("div");k.setAttribute("id","hook");l=document.getElementById("PEGA_HARNESS");document.getElementById("PEGA_HARNESS").parentNode.insertBefore(k,document.getElementById("PEGA_HARNESS"));
l.parentNode.removeChild(l);pega.u.d.loadDOMObject(k,a.parentNode,function(a){document.body.setAttribute("data-harness-id",pega.ctx.pzHarnessID);pega.ctx.baseFrameName=SafeURL_createFromURL(pega.u.d.url).get("pzFromFrame");if(b&&"function"===typeof b.success){var e=d(),k=pega.ui.HarnessContextMgr;pega.u.d.loadHTMLEleCallback(a,!0);pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide();pega.u.d.resetBusyState();c&&"finishAssignment"===c.action&&pega.ui.HarnessContextMap.set("SubmitInProgress",!1);pega.ctx.baseFrameName=
SafeURL_createFromURL(k.get("url")).get("pzFromFrame");pega.u.d.modalDialog&&pega.u.d.modalDialogInit&&pega.u.d.modalDialogInit();pega.ui.HarnessContextMap.set("ignoreDirtyState",null);pega.ui.HarnessContextMap.set("gSectionReloaded",null);pega.ui.HarnessContextMap.set("gDirtyOverride",null);pega.u.d.gIsScriptsLoading=!1;e&&pega.ctxmgr.setContext(e);b.success(a)}else pega.u.d.loadHTMLEleCallback(a);g&&v&&pega.u.d.evaluateAllVisibleWhens();a=document.getElementById("PEGA_HARNESS");if(e=document.getElementById("hook"))e.parentNode.insertBefore(a,
e),e.parentNode.removeChild(e)});delete document.actionForm}};this.metadata=c;g&&(e.call(this,a),k.call(this,a))};return{doAction:function(a,c,b,d,f){a?y=a.toQueryString():u("ServerProxy: doAction: safeURL - Required Param Missing");F(a,c,b,d,f)},displaySection:function(a,c){x(a);var b=document.createElement("div");b.innerHTML=a.responseText;pega.ui.TemplateEngine.renderUI(b,function(b){a.responseText=b;c(a)})},displayHarness:function(a,c,b,d,f,e){var g=!e;pega.u.EventsEmitter&&pega.u.EventsEmitter.publishSync("BeforeHarnessStream");
t=b;d=y;pega.offline&&pega.offline.NetworkStatus&&pega.ui.updatePegaServerAvailability(pega.offline.NetworkStatus.getServerAvailabilityStatus());pega.ui.statetracking.setDocumentBusy();e=function(){return function(d){var e=pega.u.d.wrapCallback({success:function(a){pega.u.d.ServerProxy.displayHarnessStream(a.responseText,g);"function"==typeof b&&(pega.u.EventsEmitter&&pega.u.EventsEmitter.publishSync("AfterHarnessStream"),f&&"webview"===f.source?G(a,f,{success:b,failure:function(){h.error("Failed to render harness using PMC Renderer")}}):
(b.call(this,a),b=t=null));m&&m.c&&m.c.Actions&&m.c.Actions.prototype.hideSkeleton()},failure:function(a){pega.ui.statetracking.setDocumentDone();g&&pega.u.d.resetBusyState();var b=a.split("!"),c;1<b.length&&(c=b[1].substring(0,b[1].length-1));u(a);alert("Failed to load stream: "+c);m&&m.c&&m.c.Actions&&m.c.Actions.prototype.hideSkeleton()}});pega.offline.clientstorehelper.getHarnessStream(c,a,function(a){a=x({responseText:a.responseText,faStream:d});e.success(a);g&&pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide()},
function(a){e.failure(a);g&&pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide()})}}();pega.process.flowactionstream.getFlowActionStream?pega.process.flowactionstream.getFlowActionStream(e,function(){}):e(null);this.onActionComplete(d)},displayHarnessStream:function(a,c){pega.ui.DCUtil&&pega.ui.DCUtil.replace&&pega.ui.DCUtil.replace(a);pega.ui.statetracking.setDocumentDone();(a=pega.ui.ClientCache.find("pyWorkPage"))&&(a.hasMessages()?pega.ui.ErrorHandler.showErrors(a.getMessagesWithHandle()):a.setMessagePresentationState("submitted"));
c?(pega.u.d.resetBusyState(),pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide()):!1===c&&pega.u.d.setBusyState()},displayHarnessInAjaxContainer:function(a,c,b,d){if(b.mdcTarget&&"dynamicContainer"!==b.mdcTarget)if(a&&c){var f=Object.assign({},b);f.className=a;f.harnessName=c;f.callback=d;switch(b.action){case "createNewWork":case "openAssignment":case "openWorkByHandle":a=pega.redux.Utils.getAjaxContainerState(b.mdcTarget);a.tempUrl&&(pega.ctx.url=a.tempUrl,delete a.tempUrl);a=pega.mobile.support&&pega.mobile.support.getPortalWindow();
pmcRuntimeFeatures&&"true"===pmcRuntimeFeatures.pxUsesMultiWebView&&a?a.pega.redux.store.dispatch(a.pega.redux.actions(a.pega.redux.actionTypes.ADD,f)):pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.ADD,f));break;default:f=new SafeURL,f.put("className",a),f.put("harnessName",c),f.put("callback",d),f.put("mdcTarget",b.mdcTarget),pega.ui.MDCUtil.microDCRenderer(f,new SafeURL,!0)}}else throw"Passed invalid class name or harness name parameters";},displayFlowAction:function(a,c,b,
d,f){pega.ui.statetracking.setDocumentBusy();var e,g;d&&(e=d.packagedContext,g=d.runtimeContext);var h=pega.u.d.wrapCallback(b),q={success:function(a){a=D(a,e,g);a=x(a);h.success(a);pega.ui.statetracking.setDocumentDone()},failure:function(a){h.failure(a);pega.ui.statetracking.setDocumentDone()}};b=pega.process.flow.generateFlowInsName(c,a);b=pega.offline.clientstorehelper.getFlowActionRuleFromCache(b);(d=pega.ui.ClientCache.find("pyWorkPage"))&&b&&(b.pySubmitLabel?d.put("pySubmitLabel",b.pySubmitLabel):
void 0,b.pyPreviousLabel?d.put("pyPreviousLabel",b.pyPreviousLabel):void 0,b.pyNextLabel?d.put("pyNextLabel",b.pyNextLabel):void 0,b.pyCancelLabel?d.put("pyCancelLabel",b.pyCancelLabel):void 0,b.pyShowFAButtons?d.put("pyShowFAButtons",b.pyShowFAButtons):void 0);pega.offline.clientstorehelper.getFlowActionStream(c,a,function(a){var b=$("\x3cspan\x3e"+a.responseText+"\x3c/span\x3e"),c=b.find("#section-placeholder");a=function(a){c.replaceWith(a.responseText);a.responseText=b.html();q.success(a)};var d=
function(a){q.failure(a)};if(c.length){var e=c.attr("data-class").toUpperCase(),g=c.attr("data-section").toUpperCase();pega.offline.clientstorehelper.getSectionStream(e,f?g+"!"+f:g,a,d)}},function(a){q.failure(a)})},executeBreakoutCall:function(a,c,b,d){if(p.isAppOfflineEnabled()){var f=pega.desktop.pxReqURI.split("*/");d=pega.u.d.url.split("*/");f=f[0].substring(0,f[0].lastIndexOf("/"));d=d[0].substring(0,d[0].lastIndexOf("/"));pega.u.d.url=pega.u.d.url.replace(d,f);var e=SafeURL_createFromURL(pega.u.d.url.trim().substring(0,
pega.u.d.url.trim().indexOf("?")));d=e.get("pxReqURI");d=d.replace(d.substring(d.indexOf("!")+1),"NONOSCOThread");e.put("UITemplatingStatus","Y");e.put("pxReqURI",d);e.put("pyActivity","pzOSCOBreakoutWrapper");e.put("pzActivity",a);var g=new SafeURL,g=g.toQueryString();if(-1===a.indexOf("."))if(a=pega.ui.ClientCache.find("pyWorkPage"))g+="\x26WorkPageJSON\x3d"+encodeURIComponent(a.getJSON());else{h.log("OSCO Breakout : Failed, due to non-existance of pyWorkPage in ClientCache");b.failure&&b.failure.call(b.scope);
return}c&&(g+="\x26pzActivityParams\x3d"+encodeURIComponent(c.toQueryString()));var m={success:function(a){a=a.responseText;var c=a.substring(0,1);a=a.substring(2);if("0"!==c)b.success&&b.success.call(b.scope,a);else if(h.log("OSCO Breakout : Activity execution got failed"),b.failure)try{b.failure.call(b.scope)}catch(l){}},failure:function(){h.log("OSCO Breakout : Failure");b.failure&&b.failure.call(b.scope)}};launchbox.PRPC.ClientStore.keepAliveSessionTimeout(function(){p.postPage(e,m,g)})}},setDestination:function(a){if(a&&
r.hasOwnProperty(a.toUpperCase()))return w=a},isDestinationRemote:A,isDestinationLocal:B,isHybridClient:C,isBrowserClient:function(){return!C()},onActionComplete:function(a){pega.u.d.onViewUpdate&&a&&(pega.u.d.onViewUpdate(SafeURL_createFromURL(a)),y=null)},DESTINATION:r,onRenderComplete:function(){"function"==typeof t&&(t.call(null),t=null)},resetDestination:function(){this.setDestination(z)},forceDestinationIfOSCOProcessing:function(){z=w;p.isAppOfflineEnabled()?(this.setDestination(this.DESTINATION.LOCAL),
pega.u.d.switchThread("STANDARD"),pega.ui.ClientCache.init("STANDARD")):this.setDestination(this.DESTINATION.REMOTE)},validate:function(a,c){if(a&&c){a=pega.process.flow.generateFlowInsName(c,a);c=pega.offline.clientstorehelper.getFlowActionRuleFromCache(a);if(!c)return h.error("Failed to get flow action rule: "+a+" from cache."),!1;if(c.pxValidateName&&c.pxValidateClassName)try{return pega.offline.runValidate(c.pxValidateName,c.pxValidateClassName)}catch(b){return h.error(b.message),!1}}return!0}}}()})(pega);
(function(){pega.ui.Doc.prototype.getRepeatRow=function(a,e){for(;a&&!a.getElementById&&(!a.getAttribute||null==a.getAttribute("PL_PROP")&&null==a.getAttribute("PG_PROP"));){if(a.getAttribute&&null!=a.getAttribute("PL_INDEX"))return e?a:a.getAttribute("PL_INDEX");if(a.getAttribute&&null!=a.getAttribute("PG_SUBSCRIPT"))return e?a:a.getAttribute("PG_SUBSCRIPT");a=a.parentNode}return null};pega.ui.Doc.prototype.getRepeatTable=function(a){for(a=this.findParentTable(a);null!=a&&null==a.getAttribute("PL_PROP")&&
null==a.getAttribute("PG_PROP");)a=this.findParentTable(a);return a};pega.ui.Doc.prototype.getNumberingElement=function(a){var e=null;(a=pega.util.Dom.getElementsBy(function(a){return pega.util.Dom.hasClass(a,"pageIndex")?!0:!1},"span",a))&&a[0]&&(e=a[0]);return e};pega.ui.Doc.prototype.setLeftTableValues=function(a,e){if(a=this.getNumberingElement(a))a.innerText=e,a.innerHTML=e};pega.ui.Doc.prototype.updateHandlesAfterDelete=function(a){if(a&&a.length&&!(2>a.length)){var e=a[0],h=a[1];if(h&&h.length&&
0!=h.length){a=a[2];e++;var d=!1;2==h.length&&a&&(d=!0);for(var f=0;f<h.length;f++){if(0!=f||!a||a.bTreegrid||a.fixedCol){var c=h[f];if(1==d&&0==f)var c=pega.util.Dom.getChildren(c),l=c.length;else c=c.rows,l=c.length;var m,g,b,k,n,p,q="",u=l;a&&a.editConfig==a.EDIT_EXPANDPANE&&(e=a.getIndex(e),e=parseInt(e),!c[e+1]||null!=c[e+1].id&&""!=c[e+1].id||(e+=1));for(var w=parseInt(e)+1;w<u;w++){var v=c[w],l=v.getAttribute("hPref")||v.id;if(!a||a.editConfig!=a.EDIT_EXPANDPANE||l)if(b=v.getAttribute("PL_INDEX")){g=
m;m=l;n=k;k=b;p=q;q=v.id;w==parseInt(e)+1&&(a&&a.editConfig==a.EDIT_EXPANDPANE&&!d&&1<w&&(null==c[w-1].id||""==c[w-1].id)?(g=c[w-2].id,n=c[w-2].getAttribute("PL_INDEX"),p=c[w-2].id):(g=c[w-1].getAttribute("hPref")||c[w-1].id,n=c[w-1].getAttribute("PL_INDEX"),p=c[w-1].id));if(d||a&&!a.bTreegrid&&!a.bFixedCol){var z=n;(a.bReportDefinition||a.pyPaginateActivity)&&("Progressive Load"!=a.pageMode&&"None"!=a.pageMode||a.bCBOptimize)&&null!=a.currentPageIndex&&(z=a.getFirstLoadedRowIndex()+parseInt(n)-1);
a.bNumberedSkin&&this.setLeftTableValues(v,z)}a&&a.editConfig==a.EDIT_EXPANDPANE&&!d&&(z=pega.ctx.dom.querySelector("[id\x3d'rowDetail"+l+"']"))&&pega.u.d.updatePropertyRef(z,m,g);var l=l.replace(/\$/g,"\\$"),C,r;"undefined"!==typeof Grids&&Grids&&(r=Grids.getElementsGrid(v));r&&(C=r.dataSourceRef);pega.u.d.updateHandles(v,l,g,b,n,p,C)}}}d=!1}}}};pega.ui.Doc.prototype.updatePropertyRef=function(a,e,h){var d=a.parentNode.parentNode,f=a.innerHTML,c=pega.ui.property.toReference(e),c=c.replace(/\(/g,
"\\(").replace(/\)/g,"\\)"),l=pega.ui.property.toReference(h),c=new RegExp(c,"g");f.match(c)&&(f=f.replace(c,l),a.innerHTML="\x26nbsp"+f,a.removeChild(a.firstChild));pega.u.d.updateInnerHTML(d,e,h)};pega.ui.Doc.prototype.focusNewRow=function(a){!a||!a.length||3>a.length||this.getFocusOnNewRow(a[0],a[1],a[2])};pega.ui.Doc.prototype.updateHandlesAfterInsert=function(a){if(a&&a.length&&!(2>a.length)){var e=a[0],h=a[1];a=a[2];if(h&&h.length&&0!=h.length){var d=!1;2==h.length&&a&&(d=!0);a&&a.editConfig==
a.EDIT_EXPANDPANE&&(e=a.getIndex(e));for(var f=0;f<h.length;f++){if(0!=f||!a||a.bTreegrid||a.fixedCol){var c=h[f];if(d)var c=pega.util.Dom.getChildren(c),l=c.length;else c=c.rows,l=c.length;a&&1==a.bGrid?(--l,a.editConfig!=a.EDIT_EXPANDPANE||null!=c[l].id&&""!=c[l].id||--l):l-=2;for(var m,g,b,k,n,p,q,u="",w=l;w>parseInt(e);w--){var v=c[w];m=v.getAttribute("hPref")||v.id;if(!a||a.editConfig!=a.EDIT_EXPANDPANE||m){b=g;g=m;k=v.getAttribute("PL_INDEX");p=n;n=k;q=u;u=v.id;if(w==l)if(b=m.search(/[0-9]*$/),
(q=m.substring(b))&&!isNaN(q))q=parseInt(q)+1,b=m.substring(0,b)+q,p=q,q=v.id.replace(new RegExp(k+"$"),q);else continue;if(d||a&&!a.bTreegrid&&!a.bFixedCol){var z=p;(a.bReportDefinition||a.pyPaginateActivity)&&("Progressive Load"!=a.pageMode&&"None"!=a.pageMode||a.bCBOptimize)&&null!=a.currentPageIndex&&(z=a.getFirstLoadedRowIndex()+parseInt(p)-1);a.bNumberedSkin&&this.setLeftTableValues(v,z)}a&&a.editConfig==a.EDIT_EXPANDPANE&&!d&&(z=pega.ctx.dom.querySelector("[id\x3d'rowDetail"+m+"']"))&&pega.u.d.updatePropertyRef(z,
g,b);m=m.replace(/\$/g,"\\$");var C,r;"undefined"!==typeof Grids&&Grids&&(r=Grids.getElementsGrid(v));r&&(C=r.dataSourceRef);pega.u.d.updateHandles(v,m,b,k,p,q,C)}}0<pega.ui.ChangeTrackerMap.getTracker().changedPropertiesList.length&&pega.u.d.evaluateClientConditions("OGRI",null,!0,!0)}d=!1}}}};pega.ui.Doc.prototype.isEmptyJSON=function(a){var e=!0,h;for(h in a){e=!1;break}return e};pega.ui.Doc.prototype.updateDeleteIconTitle=function(a,e,h){for(var d=0;d<a.length;d++)if(a[d]){var f=a[d];"I"==f.tagName&&
(f=f.parentNode);var c=f.getAttribute("title")||f.getAttribute("alt");c&&(c=c.replace(e,h),f.setAttribute("alt",c),f.setAttribute("title",c))}};pega.ui.Doc.prototype.updateHandles=function(a,e,h,d,f,c,l){if(!a.getAttribute("hPref"))var m=!0;a.setAttribute("PL_INDEX",f);if(m){if(e=a.id,a.id=c,l&&a.getAttribute("data-test-id")){var g=pega.ui.property.toHandle(l),b=a.getAttribute("id");l=a.getAttribute("data-test-id").split("-")[0];for(var b=b.replace(g,""),b=b.replace(/\$l/g,"_test_ID"),b=b.replace(/\$/g,
"_test_ID"),g=b.split("_test_ID"),k=b=0;k<g.length;k++)g[k].match(/\d+/)&&(l=0<b?l+("-L"+b+"R"+g[k]):l+("-R"+g[k]),b++);a.setAttribute("data-test-id",l)}}else e=a.getAttribute("hPref"),a.setAttribute("hPref",h);l=pega.util.Dom;g=l.getElementsByClassName("iconDelete","I",a);0<g.length&&this.updateDeleteIconTitle(g,d,f);g=l.getElementsByClassName("iconDelete","A",a);0<g.length&&this.updateDeleteIconTitle(g,d,f);g=a.querySelectorAll("a[title\x3d'Delete item "+d+"'],a[title\x3d'Delete item "+d+" ']");
0<g.length&&this.updateDeleteIconTitle(g,d,f);(g=l.getElementsById("RLDel",a,"BUTTON"))&&this.updateDeleteIconTitle(g,d,f);"LI"==a.tagName?(g=l.getChildren(a)[0],g=l.getChildren(g)):g=a.cells;m&&(m="LI"==a.tagName?g[g.length-1]:a,0==f%2?l.hasClass(m,"oddRow")&&l.replaceClass(m,"oddRow","evenRow"):l.hasClass(m,"evenRow")&&l.replaceClass(m,"evenRow","oddRow"));for(m=0;m<g.length;m++){b=g[m];k=b.getAttribute("BASE_REF");if(null!==k){k=pega.ui.property.toReference(h);b.setAttribute("BASE_REF",k);for(var n=
b.getElementsByTagName("DIV"),k=0;k<n.length;k++){var p=n[k];c=p.getAttribute("INDEX");null!=c&&(c=c.replace(d,f),p.setAttribute("INDEX",c))}}k=b.getElementsByTagName("INPUT");n=b.getElementsByTagName("SELECT");p=b.getElementsByTagName("TEXTAREA");c=b.getElementsByTagName("SPAN");n=[k,n,p,c];k=b.getElementsByTagName("LABEL");for(p=0;p<n.length;p++){c=n[p];for(var q=0;q<c.length;q++){var u=n[p][q].getAttribute("name");u&&(u=u.replace(new RegExp(e.replace(/\$/g,"\\$"),"g"),h),n[p][q].setAttribute("name",
u),n[p][q].setAttribute("id",pega.u.d.getCRC32HashId(u)))}}$(b).find("input[type\x3d'radio']").each(function(){var a=$(this).parents("div[data-ctl\x3d'RadioGroup']").attr("radvalue");$(this).attr("id",$(this).attr("id")+$(this).val());var b=$(this).next();b&&b.prop("tagName")&&"label"==b.prop("tagName").toLowerCase()&&b.attr("for",$(this).attr("id"));a==$(this).val()&&$(this).prop("checked",!0)});for(b=0;b<k.length;b++)if(c=k[b].attributes.getNamedItem("for"))if(n=q=c.value)if(p=l.getElementsById(n,
a))u=q.replace(d,f),-1!=q.indexOf("_ri_")&&(u=q.substring(0,q.indexOf("_ri_")+4)+f),c.value=u,c=n.replace(d,f),-1!=n.indexOf("_ri_")&&(c=n.substring(0,n.indexOf("_ri_")+4)+f),p[0].setAttribute("id",c)}pega.u.d.updateInnerHTML(a,e,h)};pega.ui.Doc.prototype.getFocusOnPaginatorElement=function(a,e){a=pega.ctx.dom.querySelectorAll("div."+e,a);pega.util.Dom.getElementsBy(function(a){return"RULE_KEY"===a.id&&"MAIN_RULE"===a.getAttribute("node_type")&&"Rule-HTML-Section"===a.getAttribute("objclass")&&"pyGridPaginator"===
a.getAttribute("node_name")},"div",a[0],function(a){a=pega.util.Dom.getElementsById("pyGridActivePage",a);a instanceof Array&&0<a.length&&(a[0].focus(),a[0].focus())})};pega.ui.Doc.prototype.getFocusOnNewRow=function(a,e,h){if(pega.u.d.isAccessible&&!pega.u.d.bFocused)window.setTimeout(function(){pega.u.d.getFocusOnNewRow(a,e,h)},100),pega.u.d.bFocused=!0;else{var d=-1,f,c,l=!1,m;"string"==typeof a&&(m=a);var g=pega.ctx.indexInList;"undefined"!=typeof e&&(""===e&&(l=!0,e=0),-1==e&&(e=0),g=e,pega.ctx.indexInList=
e);try{var b=parseInt(g)+1,k="",k=isNaN(b)?trim(m)+g:trim(m)+b,n=pega.util.Dom.getElementsById(k,h);(g=n)&&(n=n[0]);if(l&&1==b&&n){for(l=n;null!=l;)l=pega.util.Dom.getElementsById(trim(m)+b,h),b++;b-=2;(g=n=pega.util.Dom.getElementsById(trim(m)+b,h))&&(n=n[0])}if(g&&g.length)for(m=0;m<g.length;m++)if(n=g[m]){b=["input","select","textarea","button","a"];for(l=0;l<b.length;l++)for(var p=n.getElementsByTagName(b[l]),k=0;k<p.length;k++){var q;q=p[k].sourceIndex?p[k].sourceIndex:pega.u.d.getSourceIndex(p[k],
h);-1==d&&"hidden"!=p[k].type&&"none"!=p[k].style.display&&(d=q);d>=q&&"hidden"!=p[k].type&&"none"!=p[k].style.display&&(null==f?(f=q,c=p[k]):f>q&&(f=q,c=p[k]))}if(c&&1==c.disabled&&c.getAttribute("DSSource")){var u=0,w=function(){try{1==c.disabled&&5>u?(u++,window.setTimeout(w,500)):(c.focus(),document.activeElement!=c&&c.focus())}catch(v){}};window.setTimeout(w,500);return}if(c){c.focus();document.activeElement!=c&&c.focus();return}}"undefined"!=typeof e&&0!=e&&null==n&&pega.u.d.getFocusOnNewRow(a,
e-1,h)}catch(v){}}};pega.ui.Doc.prototype.getLayoutIndex=function(a){for(;a&&"BODY"!=a.tagName;){if(a.getAttribute("section_index"))return a.getAttribute("section_index");a=a.parentNode}return null};pega.ui.Doc.prototype.append=function(a){var e=a.repeatProperty,h=a.className,d=a.indexElt,f=a.pageName,c=a.customActivity,l=a.eventOrTarget,m=a.partialRefresh,g=a.repeatType,b=a.grid,k,n="insert";if("string"!=typeof d&&"number"!=typeof d)k="TR"==d.nodeName?d.getAttribute("PL_INDEX"):"BUTTON"==d.nodeName?
"":this.getRepeatRow(d);else if(a.grid&&""!=d){if(d=b.rightBodyTbl.rows[b.getIndex(d)],k=d.getAttribute("PL_INDEX"),b.currentPageIndex&&""!=b.currentPageIndex&&""==b.pyPaginateActivity&&"Progressive Load"!=b.pageMode){var p=!0;if(b.bTree||b.bTreegrid){var q=d.getAttribute("id"),q=pega.ui.property.toReference(q),u=q.split(".").length,w=b.dataSourceRef.split(".").length;q.startsWith(b.dataSourceRef)&&w!==u&&(p=!1)}p&&(k-=(b.currentPageIndex-1)*b.rangeSize)}}else k=d;var p=!1,v=pega.util.Event.getTarget(l);
v?(p=!0,pega.util.Event.stopEvent(l)):(a.grid&&""!=d&&(l=d),v=l);var z="PageGroupProperty",C="Subscript",q="AppendToPageGroup",w=k,u=v,r=pega.util.Dom;"list"!=g&&(b=pega.ctx.gridObj,pega.ctx.gridObj=null);if(m&&"true"===m){var t,D=null,A=null;if(b){var x=[b.leftBodyUL,b.rightBodyTbl];t=[];1!=b.bGrid?(t.push(null),t.push(x[1].rows[x[1].rows.length-1])):(t.push(x[0]),t.push(r.getFirstChild(x[1])),n="append");D=b.loadGridRows;A=[k,x,g]}else{t=r.getAncestorByTagName(v,"tr");var F=r.getAncestorByTagName(t,
"table");"list"==g?null==F.getAttribute("PL_PROP")&&(t=r.getAncestorByTagName(F,"tr")):null==F.getAttribute("PG_PROP")&&(t=r.getAncestorByTagName(F,"tr"));F=this.focusNewRow}var y=this.getRepeatTable(d);if(p&&"keypress"==l.type&&13==l.keyCode){var E=this.getRepeatTable(v);if(y!=E)return}E=[e,k,y]}var I=this.getBaseRef(v);if("list"==g){z="PageListProperty";C="IndexInList";q="AppendToPageList";w="ADD";if(m&&"true"===m){if(""!==k)if(!b)t=r.getNextSibling(d),D=this.updateHandlesAfterInsert,A=[k,[y]];
else if(b.getIndex(k)<=x[1].rows.length-2||"INSERTBEFORE"==b.action||"ADDCHILD"==b.action)if(n="insert",x&&2==x.length){t=[];y=d.rowIndex;if(b.bTreegrid||b.fixedCol)var B=r.getElementsById(d.id,x[0])[0],G=B.parentNode;if(b.action&&"INSERTBEFORE"==b.action)t.push(B),t.push(x[1].rows[y]),--k,b.editConfig==b.EDIT_EXPANDPANE?b.bPageGroup?A[0]=E[1]=b.getPGRowIndex(y):(B=0,b.currentPageIndex&&b.rangeSize&&(B=(b.currentPageIndex-1)*b.rangeSize),A[0]=E[1]=d.getAttribute("PL_INDEX")-B):A[0]=E[1]=y;else{if(a.appendChild)G=
r.getElementsById("gridNode",B,"UL")[0],t.push(G);else if(f)if(k<r.getChildren(G).length){var H=r.getChildren(G)[k],y=r.getElementsById(H.id,b.rightBodyTbl,"TR")[0].rowIndex-1;t.push(H)}else t.push(G);else G?t.push(r.getChildren(G)[parseInt(k,10)+1]):t.push(B);if(b.bTreegrid)if(x[1].rows.length-1<=y)t.push(r.getFirstChild(b.rightBodyTbl));else{B=r.getChildren(B);if(2==B.length)for(B=B[1];;){H=r.getLastChild(B);if(!H)break;if(H){y=r.getElementsById(H.id,b.rightBodyTbl,"TR")[0].rowIndex;if(1==r.getChildren(H).length)break;
B=r.getChildren(H)[1]}}t.push(x[1].rows[parseInt(y,10)+1])}else b.editConfig==b.EDIT_EXPANDPANE?(B=r.getElementsById("rowDetail"+d.id,x[1]))&&B[0]?t.push(x[1].rows[parseInt(y,10)+2]):t.push(x[1].rows[parseInt(y,10)+1]):t.push(x[1].rows[parseInt(y,10)+1]);b.editConfig==b.EDIT_EXPANDPANE?b.bPageGroup?A[0]=E[1]=b.getPGRowIndex(y):(B=0,y=!b.bReportDefinition&&""==b.pyPaginateActivity,b.currentPageIndex&&b.rangeSize&&y&&(B=(b.currentPageIndex-1)*b.rangeSize),A[0]=E[1]=d.getAttribute("PL_INDEX")-B):A[0]=
E[1]=y;!b.bTreegrid||f||r.getChildren(G)[parseInt(k,10)+1]||(t=[],t.push(x[0]),t.push(r.getFirstChild(x[1])),A[0]=E[1]=x[1].rows.length-1)}t[1]||(t[1]=r.getFirstChild(x[1]));t[0]||!b.bTreegrid&&!b.fixedCol||(t[0]=x[0])}}else m&&"false"===m&&b&&"INSERTBEFORE"==b.action&&--k;if(""!=I&&!pega.u.d.getRepeatObject(v,!0)){for(u=v;null!=u&&"BODY"!=u.tagName.toUpperCase()&&(!u.getAttribute("BASE_REF")||""==u.getAttribute("BASE_REF"));)u=u.parentNode;I=this.getBaseRef(u.parentNode);u=u.parentNode}m&&"true"===
m&&""!==k&&this.registerFocusIn(u)}d=this.submitForm();null!=c&&""!=c&&(q=c);c=new SafeURL;c.put("BaseReference",I);c.put(z,e);c.put("ClassName",h);b?(c.put("EditRow","true"),b.bRODetails&&c.put("bRODetails","true"),b.currentPageIndex&&""!=b.currentPageIndex&&""==b.pyPaginateActivity&&"Progressive Load"!=b.pageMode?""===k?c.put(C,(0==b.totalRecords%b.rangeSize?Math.floor(b.totalRecords/b.rangeSize):Math.ceil(b.totalRecords/b.rangeSize))==b.currentPageIndex||0==b.totalRecords?"":b.currentPageIndex*
b.rangeSize):c.put(C,k+(b.currentPageIndex-1)*b.rangeSize):(c.put(C,k),""!=b.currentPageIndex&&c.put("startIndex",(parseInt(b.currentPageIndex,10)-1)*parseInt(b.rangeSize,10)+1)),b.editConfig!=b.EDIT_READWRITE&&"true"!=m&&c.put("EditRow","false"),"true"!=m&&a.refreshLayout&&c.put("refreshLayout","true"),"INSERTAFTER"!=b.action&&"INSERTBEFORE"!=b.action||!b.bReportDefinition&&!b.pyPaginateActivity||c.put("startIndex",(b.currentPageIndex-1)*b.rangeSize+1),a.lastRowToRetrieve&&m&&"true"==m&&("INSERTAFTER"!=
b.action&&"INSERTBEFORE"!=b.action||c.put("lastRowToRetrieve",a.lastRowToRetrieve))):c.put(C,k);d?c.put("FinishingActivity","Show-Harness"):c.put("FinishingActivity","");f&&c.put("PageName",f);b&&b.bTreegrid&&a.pyPropRef&&c.put("pyPropRef",a.pyPropRef);b&&b.action&&(c.put("bTreegrid",b.bTreegrid),c.put("gridAction",b.action),b.gridPreActivity&&c.put("gridPreActivity",b.gridPreActivity),b.gridPostActivity&&c.put("gridPostActivity",b.gridPostActivity));h=[e,k];(k=this.getRepeatObject(v))&&"DIV"==k.tagName&&
(d=k.getAttribute("tabGroupId"),r.getElementsByName("EXPANDED"+d,k)[0].value=w);(g="list"!=g&&b?this.getLayoutIndex(b.gridDiv):this.getLayoutIndex(k))||(g="");if(m&&"true"==m){var J={partialTrigger:"appendTo"+e+g,listBaseRef:a.listBaseRef,listPrimaryPage:a.listPrimaryPage,property:e,index:g,domElement:t,domAction:n,beforeDomAction:D,beforeParams:A,afterDomAction:F,afterParams:E};b&&(J.beforeDomActionContext=b,b.bTreegrid&&(J.gridAddAction=a.gridAction),J.partialTrigger="appendTo"+b.property+g)}if(b){c.put("gridActivity",
q);b.editConfig==b.EDIT_EXPANDPANE&&c.put("showOkCancel","true");b.bFilteredGrid&&(c.put("pyGridFilterCriteriaPage",b.gridFilterPage),b.bReportDefinition&&c.put("isReportDef",b.bReportDefinition));if(b.refreshLayout||b.bFilteredGrid)if(b.currentPageIndex&&""!=b.currentPageIndex&&""==b.pyPaginateActivity||"Progressive Load"==b.pageMode)a="Progressive Load"==b.pageMode?"undefined"!=typeof b.activeRow?Math.ceil(b.activeRow/b.rangeSize):1:b.currentPageIndex,c.put("currentPageIndex",a),c.put("pyPageSize",
b.rangeSize),"Progressive Load"==b.pageMode?(c.put("startIndex",1),c.put("recordsInCurrentPage",(a+1)*b.rangeSize)):c.put("startIndex",(parseInt(a,10)-1)*parseInt(b.rangeSize,10)+1);c.put("KeepGridMessages",!0===pega.u.d.KEEP_GRID_MESSAGES?"true":"false");q="pzdoGridAction";if(b.bGetSafeUrlObj)return c}b&&(b.baseRef||b.primPage)?(a=b.baseRef,f=b.primPage):a=I;n=null;b&&(n=!0);this.reloadRepeatLayout(q,c.toQueryString(),p?l:null,h,u,"true"==m?J:null,n,{listName:e,listBaseRef:a,listPrimaryPage:f})};
pega.ui.Doc.prototype.remove=function(a){var e=a.repeatProperty,h=a.className,d=a.indexElt,f=a.pageName,c=a.customActivity,l=a.eventOrTarget,m=a.partialRefresh,g=a.repeatType,b=a.grid,k;k=d?"string"!=typeof d?this.getRepeatRow(d):d:this.getRepeatRow(pega.util.Event.getTarget(l));var d=!1,n=pega.util.Event.getTarget(l);n?(d=!0,pega.util.Event.stopEvent(l)):n=l;var p=this.getRepeatTable(n);if(p&&"true"==p.getAttribute("bReadOnly"))return!1;var q=this.getBaseRef(n),u="PageGroupProperty",w="Subscript",
v="RemoveFromPageGroup",z="",C=this.getRepeatRow(n,!0),r=k;"group"==g&&(r=pega.u.d.getNextRowSubscript(C));if(m&&"true"===m){var t,D=null,A=null;"group"==g&&(b=pega.ctx.gridObj,pega.ctx.gridObj=null);if(b){if(A=[b.leftBodyUL,b.rightBodyTbl],t=[],D=C.id,t.push(pega.util.Dom.getElementsById(D,A[0])[0]),t.push(pega.util.Dom.getElementsById(D,A[1])[0]),D=b.loadGridRows,A=[k,A,g],r)var x=b.callInitGridsAndFocusRow}else if(t=C,r)var x=this.focusNewRow,p=this.getRepeatTable(n),F=[e,r,p]}"list"==g&&(u="PageListProperty",
w="Index",v="RemoveFromPageList",k&&!isNaN(k)&&(k=parseInt(k),z=k-1,r=k-1),m&&"true"===m&&(b?A[0]=r:(D=this.updateHandlesAfterDelete,A=[r,[p]],F[1]=r),this.registerFocusIn(n)));null!=c&&""!=c&&(v=c);if(""!=q&&!pega.u.d.getRepeatObject(n,!0)){for(q=n;null!=q&&"BODY"!=q.tagName.toUpperCase()&&(!q.getAttribute("BASE_REF")||""==q.getAttribute("BASE_REF"));)q=q.parentNode;q=this.getBaseRef(q.parentNode)}c=new SafeURL;null!=h&&""!=h&&c.put("ClassName",h);c.put("BaseReference",q);c.put(u,e);c.put(w,k);b&&
(c.put("bTreegrid",b.bTreegrid),c.put("currPage",pega.ui.property.toReference(C.id)));this.submitForm()?c.put("FinishingActivity","Show-Harness"):c.put("FinishingActivity","");f&&c.put("PageName",f);h=[e,r];if(m&&"true"==m){var y={partialTrigger:"delete",listBaseRef:a.listBaseRef||"",listPrimaryPage:a.listPrimaryPage||"",property:e,index:k,domElement:t,domAction:"remove",beforeDomAction:D,beforeParams:A,afterDomAction:x,afterParams:F};b&&(y.beforeDomActionContext=b,y.afterDomActionContext=b)}(t=pega.u.d.getRepeatObject(n))&&
"DIV"==t.tagName&&(x=t.getAttribute("tabGroupId"),pega.util.Dom.getElementsByName("EXPANDED"+x,t)[0].value=z);!b&&"group"==g&&pega.ctx.gridObj&&pega.ctx.gridObj.bFilteredGrid&&c.put("pyGridFilterCriteriaPage",pega.ctx.gridObj.gridFilterPage);if(b){b.bFilteredGrid&&(c.put("pyGridFilterCriteriaPage",b.gridFilterPage),b.bReportDefinition&&c.put("isReportDef",b.bReportDefinition));if(b.bFilteredGrid||b.refreshLayout){if(b.currentPageIndex&&""!=b.currentPageIndex&&""==b.pyPaginateActivity||"Progressive Load"==
b.pageMode)g="Progressive Load"==b.pageMode?Math.ceil(b.activeRow/b.rangeSize):b.currentPageIndex,c.put("pyPageSize",b.rangeSize),"Progressive Load"==b.pageMode?b.bDiscardInvisibleRows?(c.put("bDiscardInvisibleRows","true"),g=b.getFirstLoadedRowIndex(),c.put("startIndex",g),c.put("currentPageIndex",b.currentPageIndex),g=3*b.rangeSize,1==b.currentPageIndex&&(g=2*b.rangeSize),c.put("recordsInCurrentPage",g)):(c.put("currentPageIndex",g),c.put("startIndex",1),c.put("recordsInCurrentPage",(g+1)*b.rangeSize)):
(c.put("currentPageIndex",g),c.put("startIndex",(parseInt(g,10)-1)*parseInt(b.rangeSize,10)+1));g=b.getActiveRowIndex();b.getTableLength(b.rightBodyTbl)!=g||b.currentPageIndex&&(""==b.currentPageIndex||Math.ceil(b.totalRecords/b.rangeSize)!=b.currentPageIndex)||(g=b.getIndex(g-1));0<g&&c.put("editRowIndex",b.getLeftRow(g).id)}c.put("KeepGridMessages",!0===pega.u.d.KEEP_GRID_MESSAGES?"true":"false");c.put("gridActivity",v);v="pzdoGridAction"}b&&b.action&&(c.put("gridAction",b.action),b.gridPreActivity&&
c.put("gridPreActivity",b.gridPreActivity),b.gridPostActivity&&c.put("gridPostActivity",b.gridPostActivity));g=null;b&&(g=!0);z={};z.listName=e;z.listBaseRef=a.listBaseRef||q;z.listPrimaryPage=a.listPrimaryPage;"true"!=m&&(pega.ctx.gSectionReloaded=!0);this.reloadRepeatLayout(v,c.toQueryString(),d?l:null,h,n,"true"==m?y:null,g,z,b)};pega.ui.Doc.prototype.AppendToList=function(a,e,h,d,f,c,l){c=void 0===c?window.event:c;if("keypress"==c.type){var m=pega.util.Event.getTarget(c);if(("BUTTON"==m.nodeName.toUpperCase()||
"A"==m.nodeName.toUpperCase())&&"RLAdd"==m.id)return!1}this.append({repeatProperty:a,className:e,indexElt:h,pageName:d,customActivity:f,eventOrTarget:void 0===c?window.event:c,partialRefresh:l,repeatType:"list"})};pega.ui.Doc.prototype.RemoveFromList=function(a,e,h,d,f,c){window.rowDeleted=!0;this.remove({repeatProperty:a,indexElt:e,pageName:h,customActivity:d,eventOrTarget:void 0===f?window.event:f,partialRefresh:c,repeatType:"list"})};pega.ui.Doc.prototype.getRefreshCallbackArgs=function(a){for(var e=
pega.util.Dom,h=a,d=h,f=!1;"EXPAND-OUTERFRAME"!=h.id;)if(h=h.parentNode,null==h)return{expandInnerDiv:d,expandElement:h,reloadElement:a,paramName:c,innerDivExists:f};var c=h.getAttribute("PARAM_NAME");for(a=h;("RULE_KEY"!=a.id||"MAIN_RULE"!=a.getAttribute("node_type"))&&(a=a.parentNode,null!=a););if("TABLE"==h.tagName.toUpperCase()){var l=!1,m=h.rows[0].cells[0],f=e.getFirstChild(m);"TABLE"==f.tagName.toUpperCase()&&"HEADER"===f.getAttribute("node_type")&&(l=!0);(d=e.getElementsById("EXPAND-INNERDIV",
h,"DIV"))&&l&&!e.isAncestor(f,d[0])?(d=d[0],f=!0):(d=(e=pega.util.Dom.getChildren(m))&&2==e.length?e[1]:m,f=!1)}else{f=e.getFirstChild(h);l=!1;"DIV"!=f.tagName.toUpperCase()||"HEADER"!==f.getAttribute("node_type")&&"EXPAND-PLUSMINUS"!=f.id||(l=!0);d=e.getElementsById("EXPAND-INNERDIV",h,"DIV");m=!1;if(1<h.children.length&&h.children[1]&&0<h.children[1].children.length){var g=h.children[1].children[0];g&&e.hasClass(g,"gridDefault")?m=!0:g&&0<g.children.length&&g.children[0]&&e.hasClass(g.children[0],
"gridDefault")&&(m=!0)}d&&l&&!e.isAncestor(f,d[0])&&!m?(d=d[0],f=!0):((e=pega.util.Dom.getChildren(h))&&2==e.length?d=e[1]:(e=$(h).children(".layout-body"),d=0<e.length?e[0]:f),f=!1)}return{expandInnerDiv:d,expandElement:h,reloadElement:a,paramName:c,innerDivExists:f}};pega.ui.Doc.prototype.refreshRepeatLayout=function(a){var e=pega.util.Dom,h=!0;a&&a.sendSectionData&&"false"===a.sendSectionData&&(h=!1);if(!h||0!=this.processOnBeforeSubmit(!1,a.reloadElement)){var d=this.getRefreshCallbackArgs(a.reloadElement),
f=d.reloadElement,c=d.expandElement,l=d.paramName,m=d.innerDivExists,g=d.expandInnerDiv;"DIV"==g.tagName.toUpperCase()&&pega.util.Dom.hasClass(g,"layout-noheader")&&(g=g.parentNode);var b=this.getBaseRef(f,a.event),d=SafeURL_createFromURL(pega.ctx.url),k=f.getAttribute("expandRL");k&&d.put("expandRL",k);(k=c.getAttribute("INDEX"))&&d.put("index",k);d.put("pyActivity","ReloadSection");if(f.getAttribute("isAdvParamSection"))e=f.getAttribute("node_name")+"|"+f.getAttribute("containedSectionID")+":";
else{k="";if(e=e.getElementsByAttribute("containedSectionID","*","DIV",f))for(var n=0;n<e.length;n++)var p=e[n].getAttribute("containedSectionID"),k=k+(p+":");e=k}d.put("StreamName",f.getAttribute("node_name"));d.put("RenderSingle",l);d.put("StreamClass",f.getAttribute("objclass"));k=f.getElementsByTagName("*")[0];null!=k.getAttribute("SHOW_WHEN")&&k.getAttribute("SHOW_WHEN");d.put("bClientValidation",pega.ctx.bClientValidation);null!=a.preActivity&&(d.put("PreActivity",a.preActivity),d.put("ActivityParams",
a.preActivityParams));f&&f.getAttribute&&f.getAttribute("BASE_REF")&&d.put("UsingPage","true");d.put("BaseReference",b);d.put("ReadOnly","0");b=pega.u.d.getPopOverLevel(f);0<=b&&(b=pega.u.d.getPopOver(b).getAssociatedElement())&&'["AutoCompleteAG"]'==b.getAttribute("data-ctl")&&(pega.control.AutoCompleteAG.updateParams(d,pega.c.PlaceHolder.getValue(b),b,!0),d.put("BaseReference",pega.u.d.getBaseRef(b)));b=new SafeURL;h&&(b=(h=SafeURL_createFromURL(a.preActivityParams))&&"PAGINATE"==h.get("gridAction")?
this.getQueryString(f,!0,!0):this.getQueryString(f,!0));""!=e&&b.put("SectionIDList",e);a.appendExtraQueryString&&b.copy(a.appendExtraQueryString);this.fieldErrorType&&d.put("FieldError",this.fieldErrorType);this.formErrorType&&d.put("FormError",this.formErrorType);this.pyCustomError&&d.put("pyCustomError",this.pyCustomError);d.put("Increment","true");a.ignoreBusyIndInterval||(a.ignoreBusyIndInterval=!1);a.showOnlyMask||(a.showOnlyMask=!1);this.setBusyIndicator(c,a.ignoreBusyIndInterval,a.showOnlyMask);
c=[g,c,l,m,a.focusParams,"reloadRepeat",a.repeatProperty,a.partialParams,a.oldGridObj];l={success:this.handleLoadSuccess,failure:this.handleLoadFail,scope:this,argument:c};a.gridAction&&"progressiveLoad"==a.gridAction&&(c=[f,"","","",a.focusParams,"",a.partialParams],l.success=this.handlePartialSuccess,l.argument=c);this.asyncRequest("POST",d,l,b)}};pega.ui.Doc.prototype.updateInnerHTML=function(a,e,h){this.reloadElement=a;var d=!1;if(h&&e&&h!==e){var f=pega.util.Dom.getChildren(a),c=pega.ui.property.toReference(e),
c=c.replace(/\(/g,"\\(").replace(/\)/g,"\\)"),l=pega.ui.property.toReference(h),c=new RegExp(c,"g");e=e.replace(/\$/g,"\\$");e=new RegExp(e,"g");for(var m=0;m<f.length;m++){var g=f[m];if(!g.tagName||"UL"!=g.tagName.toUpperCase()||!g.id||"gridNode"!=g.id){(!pega.util.Event.isIE||8<pega.env.ua.ie&&pega.u.d.inStandardsMode)&&pega.util.Dom.updateInnerHTMLForFields(g);var b=g.getElementsByTagName("TextArea"),k=!1;if(b&&0<b.length)for(var n=0;n<b.length;n++){var p=b[n],q=p.getAttribute("id");p.getAttribute("name");
if(q&&q.match(/PEGAEDITOR[\d]+/)&&(k=!0,(p=p.parentNode.getElementsByTagName("DIV")[0].getElementsByTagName("DIV"))&&0<p.length&&(p=p[0],1<p.childNodes.length)))for(p.removeChild(p.childNodes[0]),p=p.getElementsByTagName("DIV")[0];p.hasChildNodes();)p.removeChild(p.childNodes[0])}b=g.innerHTML;b.match(e)&&(b=b.replace(e,h),k&&(b=b.replace(/PEGAEDITOR[\d]+/g,"PEGAEDITOR")),b="\x26nbsp"+b,g.innerHTML=b,g.removeChild(g.firstChild),pega.u.d.resetGridDivs(g),d=!0);b.match(c)&&(b=b.replace(c,l),b="\x26nbsp"+
b,g.innerHTML=b,g.removeChild(g.firstChild),pega.u.d.resetGridDivs(g),d=!0);if(pega.util.Event.isIE&&6!=pega.env.ua.ie)for(g=g.getElementsByTagName("select"),b=0;b<g.length;b++)(k=g[b])&&k.getAttribute("DSSource")&&(n=k.selectedIndex)&&k.options[n]&&k.setAttribute("DSDefault",k.options[n].value)}}1==d?a.setAttribute("contentUpdated",!0):a.setAttribute("contentUpdated",!1)}(a=document.getElementById("Pega_Cal_Cont"))&&a.parentNode&&a.parentNode.tagName&&"BODY"==a.parentNode.tagName.toUpperCase()&&
document.body.removeChild(a)};pega.ui.Doc.prototype.resetGridDivs=function(a){var e=pega.util.Dom.getElementsById("PEGA_GRID_CONTENT",a);if(e&&0<e.length){for(var h=0;h<e.length;h++){var d=e[h].parentNode;"PEGA_GRID_SKIN"==d.id&&(d=d.parentNode);var f=pega.util.Dom.getElementsById("headTbl_right"+d.id.split("PEGA_GRID")[1],d);f&&f[0]&&(f[0].id="headTbl_right");d.id="PEGA_GRID";(d=pega.util.Dom.getElementsById("gridBody_left",d))&&d[0]&&(d=pega.util.Dom.getFirstChild(d[0]))&&pega.util.Dom.hasClass(d,
"gridNode")&&(d.id="gridNode")}content=a.innerHTML}};pega.ui.Doc.prototype.onfocusInListener=function(a){a=a.target||a.srcElement;if("RLDel"!==a.id){for(var e=a.parentNode;("TR"!==e.tagName||null===e.getAttribute("hPref")&&null===e.getAttribute("PL_INDEX"))&&(e=e.parentNode,null!==e););for(a=0;2>a&&e;){if(e&&(1==e.getAttribute("contentUpdated")||"true"==e.getAttribute("contentUpdated"))){var h;"undefined"!==typeof this.reloadElement.getAttribute("uniqueID")?h=this.reloadElement.uniqueID:(h=pega.util.Dom.generateId(),
this.reloadElement.setAttribute("uniqueID",h));var d=new DOMScriptLoader,f=pega.tools.EvalDomUtils_globals.callbackFunction;pega.tools.EvalDomUtils_globals.callbackFunction=pega.u.d.callbackForRepeat;d.processInlineScripts(this.reloadElement,e,h,!0);pega.tools.EvalDomUtils_globals.callbackFunction=f;e.setAttribute("contentUpdated",!1)}a++;e=pega.util.Dom.getPreviousSibling(e)}}};pega.ui.Doc.prototype.callbackForRepeat=function(a){a&&"PegaOnlyOnce"!=a.id&&pega.u.d.processOnloads(a);6==pega.env.ua.ie?
setTimeout(function(){pega.u.d.gIsScriptsLoading=!1},2E3):pega.u.d.gIsScriptsLoading=!1};pega.ui.Doc.prototype.registerFocusIn=function(a){for(var e=a;"RULE_KEY"!=e.id||"MAIN_RULE"!=e.getAttribute("node_type");)if(e=e.parentNode,null==e)return;for(;!pega.util.Dom.hasClass(a,"repeatReadWrite");)if(a=a.parentNode,null==a)return;var h,d=pega.util.Event;d.isIE?(h=d.getListeners(a,"focusin"),null===h&&d.addListener(a,"focusin",pega.u.d.onfocusInListener,a,{reloadElement:e})):(h=d.getListeners(a,"focus"),
null===h&&d.addListener(a,"focus",pega.u.d.onfocusInListener,a,{reloadElement:e}))};pega.ui.Doc.prototype.reloadRepeatLayout=function(a,e,h,d,f,c,l,m,g){e={reloadElement:f?f:pega.util.Event.getTarget(h),preActivity:a,preActivityParams:e,event:h,focusParams:d,strReloadType:"RepeatLayout",isResponseRO:"0",showOnlyMask:l,repeatProperty:m,oldGridObj:g};if(c)c.partialTrigger&&(c.property={listName:c.property,listBaseRef:c.listBaseRef,listPrimaryPage:c.listPrimaryPage},this.refreshPartial(e,c));else if("pzdogridaction"==
a.toLowerCase()||"removefrompagegroup"==a.toLowerCase()&&null!=pega.ctx.gridObj){a=e.reloadElement;for(c=!0;"EXPAND-OUTERFRAME"!=a.id;)if(a=a.parentNode,null==a){c=!1;break}1==c?a.getAttribute("PARAM_NAME")?pega.u.d.refreshRepeatLayout(e):pega.u.d.reload(e):pega.u.d.reload(e)}else this.reload(e)};pega.ui.Doc.prototype.ShowSubscriptPrompt=function(a,e,h,d,f,c,l){try{f=void 0==f?window.event:f,pega.util.Event.stopEvent(f),this.insertButton=pega.util.Event.getTarget(f)}catch(m){this.insertButton=f}this.insertButton||
(this.insertButton=f);this.PageGroupProperty=a;this.ClassName=e;this.pageName=h;this.customActivity=d;d=this.getBaseRef(this.insertButton);f=SafeURL_createFromURL(pega.ctx.url);f.put("pyActivity","ReloadSection");f.put("StreamName","SubScriptPrompt");f.put("baseref",d);f.put("pageName",h);f.put("PageGroupProperty",a);f.put("PageGroupClass",e);this.setBusyIndicator();this.asyncRequest("POST",f,{success:function(a){var d=a.responseText;a=document.createElement("DIV");a.innerHTML=d;(d=pega.util.Dom.getElementsById("PegaOnlyOnce",
a))&&d[0]&&(pega.u.d.handleOnlyOnce(d[0]),a.removeChild(d[0]));pega.u.d.bModalRendered||pega.u.d.renderModal();pega.u.d.modalDialog.show();pega.u.d.loadDOMObject(pega.u.d.modalDialog.body,a.innerHTML);pega.u.d.subscripts=document.getElementById("subscripts").value;pega.u.d.subArr=pega.u.d.subscripts.split(",");pega.u.d.focusFirstElement(pega.u.d.modalDialog.innerElement.id);a=document.getElementById("ModalButtonSubmit");d=document.getElementById("ModalButtonCancel");a||(a=document.getElementById("ModalButton"));
pega.util.Event.addListener(a,"click",pega.u.d.add,c,pega.u.d);d&&pega.util.Event.addListener(d,"click",pega.u.d.cancelSubscriptModal);a=pega.u.d.getFirstFocusableElement(pega.u.d.modalDialog.innerElement.id);d=pega.u.d.getLastFocusableElement(pega.u.d.modalDialog.innerElement.id);pega.util.Event.addListener(pega.u.d.modalDialog.innerElement,"keydown",pega.u.d.restrictFocus,[a,d]);pega.u.d.gBusyInd.hide()},failure:function(a){pega.u.d.gBusyInd.hide()}})};pega.ui.Doc.prototype.add=function(a,e){var h=
this.getFirstInputElement(pega.u.d.modalDialog.innerElement.id),d=h.value,d=null!=d&&""!=d?this.trim(d):d;if(this.validateSubScript(d)){pega.u.d.Subscript=d;d=pega.ctx.gridObj;pega.u.d.modalDialog.hide();try{h.blur()}catch(f){}pega.ctx.gridObj=d;pega.u.d.AppendToGroup(pega.u.d.PageGroupProperty,pega.u.d.ClassName,pega.u.d.Subscript,pega.u.d.pageName,pega.u.d.customActivity,pega.u.d.insertButton,e)}else""==d?alert(this.subscriptError):alert(d+" "+this.subscriptError);try{pega.util.Event.stopPropagation(a)}catch(f){}};
pega.ui.Doc.prototype.cancelSubscriptModal=function(){pega.u.d.inCall=!1};pega.ui.Doc.prototype.AppendToGroup=function(a,e,h,d,f,c,l){this.append({repeatProperty:a,className:e,indexElt:h,pageName:d,customActivity:f,eventOrTarget:c,partialRefresh:l,repeatType:"group"})};pega.ui.Doc.prototype.getNextRowSubscript=function(a){var e=pega.util.Dom,h=e.getNextSibling(a),d=a=null;h&&h.getAttribute("PG_SUBSCRIPT")?a=h:(h=e.getPreviousSibling(h))&&(a=e.getPreviousSibling(h));a&&(d=pega.u.d.getRepeatRow(a,!1));
return d};pega.ui.Doc.prototype.RemoveFromGroup=function(a,e,h,d,f,c){this.remove({repeatProperty:a,indexElt:e,pageName:h,customActivity:d,eventOrTarget:void 0===f?window.event:f,partialRefresh:c,repeatType:"group"})};pega.ui.Doc.prototype.findValue=function(){var a=this.parseChildNodes(pega.u.d.modalDialog.innerElement);if(null!=a)return a}})();
pega.ui.property||(pega.ui.property=function(){this.formJSON={}},pega.ui.property.prototype={toHandle:function(c,g){try{var a=c.split(".");if(1===a.length)return c;var k=""===a[0]?"$P"+g:"$P"+a[0];for(c=1;c<a.length;++c){var f=a[c],d=f.split("(");if(1===d.length)k+="$p"+f;else{var k=k+("$p"+d[0]),b=d[1].substring(0,d[1].length-1);g=!0;for(var e,h=0;h<b.length&&g;++h)e=b.charAt(h),-1==="0123456789".indexOf(e)&&(g=!1);k=g?k+("$l"+b):k+("$g"+b)}}return k}catch(l){}},toReference:function(c){try{if(null===
c||""===c)return"";var g="",a="",k=c.length,f=c.indexOf("$p");if(0>f)return"";var d=" ",b=".",e=!1,h=!1,a=a+(c.substring(2,f)+b);for(f++;!e;)if(f++,f<k)if(d=c.charAt(f),"$"===d)switch(f++,d=c.charAt(f),d){case "p":a+=g+b;h=")"===b;g="";b=".";break;case "g":case "l":a+=g+"(";g="";b=")";break;default:h&&(h=!1,a+="."),g+=d}else"["===d?g+="\x3c":"]"===d?g+="\x3e":(h&&(h=!1,a+="."),g+=d);else""!==g&&(a+=g,"."!==b&&(a+=b)),e=!0;return a}catch(l){return""}},toObject:function(c,g,a){c=c.split(".");for(var k=
c.length,f=a=a||{},d=0;d<k-1;d++){var b=c[d];if(-1!==b.indexOf("(")){var e=b.indexOf("("),h=b.indexOf(")"),h=b.substring(e+1,h),e=b.substring(0,e),b=parseInt(h);isNaN(b)?(e in a||(a[e]={}),a=a[e][h]=a[e][h]||{}):(e in a||(a[e]=[]),a=a[e][b-1]=a[e][b-1]||{})}else b in a||(a[b]={}),a=a[b]}d=c[k-1];-1==d.indexOf("(")?a[c[k-1]]=g:(e=d.indexOf("("),h=d.indexOf(")"),h=d.substring(e+1,h),e=d.substring(0,e),b=parseInt(h),isNaN(b)?(e in a||(a[e]={}),a[e][h]=g):(e in a||(a[e]=[]),a[e][b-1]=g));return f},getFormJSON:function(){var c;
if(pega.ctx&&pega.ctx.isMDC)if(c=pega.ctx.recordId)c=document.querySelector("[data-mdc-recordid\x3d"+c+"] form");else return console.error("Cannot get record Id of the ajax container to get the form object"),"";else c=document.forms[0];if(!c)return console.error("Couldn't find form object in the document"),"";c=c.elements;for(var g=c.length,a={},k=0;k<g;k++){var f=c[k],d=f.name;if(d&&"$"===d.charAt(0))if(d=this.toReference(d),"radio"===f.type)if(f.checked)this.toObject(d,f.value,a);else{var f=f?document.getElementsByName(f.name):
null,b=0;if(f){for(var e=0;e<f.length;e++)f[e].checked&&b++;0===b&&this.toObject(d,"",a)}}else b=f.value,"checkbox"===f.type&&(b=f.checked.toString()),this.toObject(d,b,a)}return JSON.stringify(a)}});
(function(){function r(a){g[a]||(g[a]="\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4));return g[a]}function z(a,b){var h=function(a,d){var e,q,k=a[d];if(k&&"object"===typeof k)for(e in k)l.hasOwnProperty(k,e)&&(q=h(k,e),void 0===q?delete k[e]:k[e]=q);return b.call(a,d,k)};return"function"===typeof b?h({"":a},""):a}function n(a){return l.isString(a)&&A.test(a.replace(B,"@").replace(C,"]").replace(D,""))}function E(a,b){a=a.replace(u,r);if(n(a))return z(eval("("+a+")"),b);throw new SyntaxError("JSON.parse");
}function v(a){var b=typeof a;return w[b]||w[p.call(a)]||("object"===b?a?"object":"null":"undefined")}function F(a,b,h){function d(a,f){var c=a[f],g=v(c),e=[],n=h?": ":":",m,p;G(c)&&t(c.toJSON)?c=c.toJSON(f):"date"===g&&(c=q(c));t(l)&&(c=l.call(a,f,c));c!==a[f]&&(g=v(c));switch(g){case "date":case "object":break;case "string":return'"'+c.replace(x,r)+'"';case "number":return isFinite(c)?c+"":"null";case "boolean":return c+"";case "null":return"null";default:return}for(f=k.length-1;0<=f;--f)if(k[f]===
c)throw Error("JSON.stringify. Cyclical reference");a=y(c);k.push(c);if(a)for(f=c.length-1;0<=f;--f)e[f]=d(c,f)||"null";else for(m in g=b||c,f=0,g)g.hasOwnProperty(m)&&(p=d(c,m))&&(e[f++]='"'+m.replace(x,r)+'"'+n+p);k.pop();return h&&e.length?a?"[\n"+e.join(",\n").replace(/^/gm,h)+"\n]":"{\n"+e.join(",\n").replace(/^/gm,h)+"\n}":a?"["+e.join(",")+"]":"{"+e.join(",")+"}"}if(void 0!==a){var l=t(b)?b:null,e=p.call(h).match(/String|Number/)||[],q=pega.lang.JSON.dateToString,k=[],g,m,n;if(l||!y(b))b=void 0;
if(b){g={};m=0;for(n=b.length;m<n;++m)g[b[m]]=!0;b=g}h="Number"===e[0]?Array(Math.min(Math.max(0,h),10)+1).join(" "):(h||"").slice(0,10);return d({"":a},"")}}var l=pega.lang,t=l.isFunction,G=l.isObject,y=l.isArray,p=Object.prototype.toString,d=(pega.env.ua.caja?window:this).JSON,u=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,B=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,C=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,D=/(?:^|:|,)(?:\s*\[)+/g,
A=/^[\],:{}\s]*$/,x=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w={undefined:"undefined",string:"string","[object String]":"string",number:"number","[object Number]":"number","boolean":"boolean","[object Boolean]":"boolean","[object Date]":"date","[object RegExp]":"object"},d="[object JSON]"===p.call(d)&&d;pega.lang.JSON={useNativeParse:!!d,
useNativeStringify:!!d,isSafe:function(a){return n(a.replace(u,r))},parse:function(a,b){return d&&pega.lang.JSON.useNativeParse?d.parse(a,b):E(a,b)},stringify:function(a,b,h){return d&&pega.lang.JSON.useNativeStringify?d.stringify(a,b,h):F(a,b,h)},dateToString:function(a){function b(a){return 10>a?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z"},stringToDate:function(a){var b=a.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?Z$/);
b&&(a=new Date,a.setUTCFullYear(b[1],b[2]-1,b[3]),a.setUTCHours(b[4],b[5],b[6],b[7]||0));return a}};pega.lang.JSON.isValid=pega.lang.JSON.isSafe})();pega.register("json",pega.lang.JSON,{version:"2.8.1",build:"19"});
if(typeof (pega)!="undefined"){(function(p){if(!p.control){p.c=p.namespace("pega.control")}else{p.c=pega.control}p.c.Actions=function(){};p.c.Actions.prototype={setMobileTransition:function(){var mobileTransitionType;if(arguments&&arguments[0]){mobileTransitionType=arguments[0]}if(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()&&pega.mobile.hybrid.getLaunchBox().NativePageSwitcher&&mobileTransitionType){if(!mobileTransitionType.startsWith("pega.SKELETON")){var transitionID=mobileTransitionType.replace("pega.mobile.transitions.","");var transitionObj=pega.mobile.transitions[transitionID];if(transitionObj){var typeName=transitionObj.transition.replace("launchbox.ui.transition.Type.","");var type=pega.mobile.hybrid.getLaunchBox().ui.transition.Type[typeName];if(transitionObj.direction){var directionKey=transitionObj.direction.replace("launchbox.ui.transition.Direction.","");var direction=pega.mobile.hybrid.getLaunchBox().ui.transition.Direction[directionKey];if(type){pega.mobile.hybrid.getLaunchBox().NativePageSwitcher.setNextTransition({type:type,duration:transitionObj.duration,delay:transitionObj.delay,direction:direction})}}}}}var isTargetOther=false;if(mobileTransitionType&&mobileTransitionType.startsWith("pega.SKELETON")){var argArray=mobileTransitionType.split("~$~");if(argArray&&argArray.length>2){isTargetOther=argArray[3]=="true"?true:false}}var navUserAgent=navigator.userAgent;var isMobile=navUserAgent.match(/Android/i)||navUserAgent.match(/BlackBerry/i)||navUserAgent.match(/iPhone|iPad|iPod/i)||navUserAgent.match(/Opera Mini/i)||navUserAgent.match(/IEMobile/i);var isTablet=navUserAgent.match(/Tablet|iPad|iPod/i);if(mobileTransitionType&&mobileTransitionType.startsWith("pega.SKELETON")&&((pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()&&pega.mobile.hybrid.getLaunchBox().NativePageSwitcher)||isTargetOther||(isMobile&&!isTablet))){pega.mobile.hybrid.showSkeleton=true;pega.mobile.hybrid.isTargetOther=isTargetOther;if(arguments&&arguments[0]){var argArray=arguments[0].split("~$~");if(argArray&&argArray.length>1){pega.mobile.hybrid.skeletonName=argArray[1];pega.mobile.hybrid.classForSkeleton=argArray[2].replace("@","");pega.mobile.hybrid.otherTargetName=argArray[4]}}}else{pega.mobile.hybrid.isTargetOther=false}},isVisible:function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0},nativeFadeOut:function(target,interval,callback){if(target&&target.length>=0){for(var i=0;i<target.length;i++){if(pega.control.Actions.prototype.isVisible(target[i])){pega.control.Actions.prototype.nativeFadeOut(target[i],interval,callback)}}}else{var fadeEffect=setInterval(function(){if(target&&!target.style.opacity){target.style.opacity=1}if(target&&target.style.opacity<0.1){clearInterval(fadeEffect);if(typeof callback=="function"){callback()}target.style.opacity="";target.style.display="none"}else{if(target){target.style.opacity-=0.2}}return },interval)}},showSkeleton:function(skeletonId,animDirection){var navUserAgent=navigator.userAgent;var isMobile=navUserAgent.match(/Android/i)||navUserAgent.match(/BlackBerry/i)||navUserAgent.match(/iPhone|iPad|iPod/i)||navUserAgent.match(/Opera Mini/i)||navUserAgent.match(/IEMobile/i);var isTablet=navUserAgent.match(/Tablet|iPad|iPod/i);var isHybrid=(navUserAgent.toLowerCase().indexOf("pegamobilesdk")!=-1)||(navUserAgent.toLowerCase().indexOf("ampwebcontrol")!=-1)||(navUserAgent.toLowerCase().indexOf("pegaelectroncontainer")!=-1)||(isMobile&&!isTablet);var isFrameBased=(window===window.parent)?false:true;if((!isHybrid&&pega.mobile.hybrid.isTargetOther!==true)||(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.showSkeleton!==true)||(!pega.mobile.hybrid.isTargetOther&&isFrameBased)){return }if(!animDirection){if(!pega.mobile.hybrid.isTargetOther||(isHybrid)){var nodeListMask=document.querySelectorAll("#pega_ui_mask");for(var i=0;i<nodeListMask.length;i++){if(nodeListMask[i]){nodeListMask[i].style.display="none"}}pega.ui.busyIndicator.prototype.hide();var nodeListFooter=document.querySelectorAll(".phone .screen-layout-footer > .screen-layout-region-footer");for(var i=0;i<nodeListFooter.length;i++){if(nodeListFooter[i]){nodeListFooter[i].className+=" modal-in-skeleton"}}}var showSkeletonId="#"+pega.mobile.hybrid.skeletonName+"-"+pega.mobile.hybrid.classForSkeleton;if(pega.mobile&&pega.mobile.hybrid&&document.querySelectorAll(showSkeletonId).length>0){if(pega.mobile.hybrid.isTargetOther){var otherTargetName=pega.mobile.hybrid.otherTargetName?pega.mobile.hybrid.otherTargetName:"acprimary";var microdcElem=document.getElementById(otherTargetName);if(!microdcElem){microdcElem=document.querySelector("[data-mdc-id='"+otherTargetName+"']")}if(microdcElem){var skeletonElem=document.querySelector(showSkeletonId);if(skeletonElem){skeletonElem=skeletonElem.cloneNode(true);if(microdcElem&&!microdcElem.querySelector(showSkeletonId)){microdcElem.appendChild(skeletonElem)}if(skeletonElem){microdcElem.style.position="relative"}skeletonElem.style.display="block";if(skeletonElem&&skeletonElem.offsetHeight>0){microdcElem.style.height=skeletonElem.offsetHeight+"px";microdcElem.style.overflow="hidden"}}}}else{var nodeListSkeleton=document.querySelectorAll(showSkeletonId);for(var i=0;i<nodeListSkeleton.length;i++){if(nodeListSkeleton[i]){nodeListSkeleton[i].style.display="block"}}}}}$("body").append('<div class="no-event-skeleton" />');setTimeout(function(){$(".no-event-skeleton").remove()},6000)},hideSkeleton:function(referer,customTimeout){var navUserAgent=navigator.userAgent;var isMobile=navUserAgent.match(/Android/i)||navUserAgent.match(/BlackBerry/i)||navUserAgent.match(/iPhone|iPod/i)||navUserAgent.match(/Opera Mini/i)||navUserAgent.match(/IEMobile/i);var isTablet=navUserAgent.match(/Tablet|iPad|iPod/i);var isHybrid=(navUserAgent.toLowerCase().indexOf("pegamobilesdk")!=-1)||(navUserAgent.toLowerCase().indexOf("ampwebcontrol")!=-1)||(navUserAgent.toLowerCase().indexOf("pegaelectroncontainer")!=-1)||(isMobile&&!isTablet);var isFrameBased=(window===window.parent)?false:true;if(!isHybrid&&pega.mobile.hybrid.isTargetOther!==true||(!pega.mobile.hybrid.isTargetOther&&isFrameBased)){return }if(!pega.mobile.hybrid.isTargetOther||(isHybrid)){var nodeListMask=document.querySelectorAll("#pega_ui_mask");for(var i=0;i<nodeListMask.length;i++){if(nodeListMask[i]){nodeListMask[i].style.display="none"}}pega.ui.busyIndicator.prototype.hide()}if(referer){if(pega.mobile&&pega.mobile.hybrid&&document.querySelectorAll("#"+pega.mobile.hybrid.skeletonName+"-"+pega.mobile.hybrid.classForSkeleton).length>0){pega.control.Actions.prototype.nativeFadeOut(document.querySelectorAll("#"+pega.mobile.hybrid.skeletonName+"-"+pega.mobile.hybrid.classForSkeleton),1)}var nodeListFooter=document.querySelectorAll(".phone .screen-layout-footer > .screen-layout-region-footer");for(var i=0;i<nodeListFooter.length;i++){if(nodeListFooter[i]){nodeListFooter[i].className.replace("modal-in-skeleton","")}}}else{setTimeout(function(){if(!pega.mobile.hybrid.isTargetOther){var nodeListMaskInner=document.querySelectorAll("#pega_ui_mask");for(var i=0;i<nodeListMaskInner.length;i++){if(nodeListMaskInner[i]){nodeListMaskInner[i].style.display="none"}}pega.ui.busyIndicator.prototype.hide()}var hideSkeletonId="#"+pega.mobile.hybrid.skeletonName+"-"+pega.mobile.hybrid.classForSkeleton;if(pega.mobile&&pega.mobile.hybrid&&document.querySelectorAll(hideSkeletonId).length>0){if(pega.mobile.hybrid.isTargetOther){var otherTargetName=pega.mobile.hybrid.otherTargetName?pega.mobile.hybrid.otherTargetName:"acprimary";var microdcElem=document.getElementById(otherTargetName);if(!microdcElem){microdcElem=document.querySelector("[data-mdc-id='"+otherTargetName+"']")}if(microdcElem){microdcElem.style.height="";var skeletonElem=microdcElem.querySelector(hideSkeletonId);if(skeletonElem){pega.control.Actions.prototype.nativeFadeOut(skeletonElem,50,function(){try{pega.mobile.hybrid.isTargetOther=false;microdcElem.removeChild(skeletonElem)}catch(e){}microdcElem.style.position="";microdcElem.style.overflow=""})}microdcElem.style.height=""}}else{pega.control.Actions.prototype.nativeFadeOut(document.querySelectorAll(hideSkeletonId),customTimeout?customTimeout:100)}}else{pega.mobile.hybrid.isTargetOther=false}},500);setTimeout(function(){$(".no-event-skeleton").remove();var nodeListFooterInner=document.querySelectorAll(".phone .screen-layout-footer > .screen-layout-region-footer");for(var i=0;i<nodeListFooterInner.length;i++){if(nodeListFooterInner[i]){nodeListFooterInner[i].className.replace("modal-in-skeleton","")}}},700)}if(pega.mobile&&pega.mobile.hybrid){pega.mobile.hybrid.showSkeleton=false}},addToRepeatSource:function(){window.addToRepeatSource.apply(null,arguments)},removeFromRepeatSource:function(){window.removeFromRepeatSource.apply(null,arguments)},editRepeatItem:function(){window.editRepeatItem.apply(null,arguments)},ShowSubscriptPrompt:function(){window.ShowSubscriptPrompt.apply(null,arguments)},AppendToList:function(){window.AppendToList.apply(null,arguments)},RemoveFromGroup:function(){window.RemoveFromGroup.apply(null,arguments)},RemoveFromList:function(){window.RemoveFromList.apply(null,arguments)},doFormSubmit:function(){pega.u.d.submit.apply(pega.u.d,arguments)},processAction:function(){if(arguments.length==1){alert(arguments[0]);return }var actionURL=new SafeURL();if(arguments[3]){actionURL.put("BaseReference",arguments[3])}actionURL.put("IgnoreSectionSubmit",true);actionURL.put("bInvokedFromControl",true);var bModalDialog=true;if(arguments[1]){if(arguments[1].toUpperCase()=="FALSE"){bModalDialog=false}else{if(arguments[1].toUpperCase()=="OVERLAY"){bModalDialog="overlay"}}}if(typeof (Grids)!="undefined"&&bModalDialog){var e=arguments[2];if(e){var temp_gridObj=Grids.getActiveGrid(e)||e.cachedGridObj;temp_gridObj&&(temp_gridObj.__fromLocalAction=true)}}var animObj,options={};if(arguments[7]){options.isLocalAction=true;try{animObj=JSON.parse(decodeURIComponent(arguments[7]))}catch(e){animObj={animIn:arguments[7],animOut:arguments[8]}}options.animObj=animObj}if(arguments[8]){options.isMobileFullScreen=arguments[8]}if(arguments[9]){options.fAObjClass=arguments[9]}if(arguments[10]){options.mTObjClass=arguments[10]}if(arguments[11]==null||typeof (arguments[11])=="undefined"){arguments[11]=false}if(arguments[12]==null||typeof (arguments[12])=="undefined"){options.isCenterOverlay=false}else{options.isCenterOverlay=arguments[12]}if(arguments[13]&&arguments[13]=="firstuse"&&arguments[14]){options.loadBehaviour=arguments[13];options.uniqueId=arguments[14]}pega.u.d.processAction(arguments[0],"",arguments[4],"","",bModalDialog,arguments[2],arguments[6]||"",actionURL,"","",arguments.length>5?arguments[5]:"","",options,arguments[11])},setUserStart:function(){window.setUserStart.apply(null,arguments)},showList:function(){pega.d.showList.apply(pega.d,arguments)},runScript:function(){try{var event=(arguments.caller||pega.control.Actions.prototype.runScript.caller.arguments)[0];var originalEvent=window.event;window.event=event;eval(arguments[0]);window.event=originalEvent}catch(e){}},fireACOnElem:function(e){var target=e.target;var nameAtr=target.getAttribute("name");if(!nameAtr){nameAtr=""}target.setAttribute("PN","."+nameAtr.substring(nameAtr.lastIndexOf("$p")+2));nameAtr=nameAtr.substring(0,nameAtr.lastIndexOf("$p"));var index=nameAtr.lastIndexOf("$l")==-1?(nameAtr.lastIndexOf("$g")==-1?-1:nameAtr.substring(nameAtr.lastIndexOf("$g")+2)):nameAtr.substring(nameAtr.lastIndexOf("$l")+2);handleClientEvent("CLIENT","","",index,e)},evaluateClientConditions:function(){pega.u.d.evaluateClientConditionsOnChangeList()},logOff:function(event){var parentWindow;pega.ui.EventsEmitter.publishSync("BeforeLogOff");if(pega.mobile&&typeof pega.mobile.getDesktopWindow()==="function"){parentWindow=pega.mobile.getDesktopWindow()}else{var tempWin=p.desktop.support.getDesktopWindow();parentWindow=tempWin?tempWin:window}if(pega.ui&&pega.ui.composer&&pega.ui.composer.isActive()){parentWindow=pega.ui.composer.getCurrentComposerWindow()}if(typeof parentWindow.prpcmobileapp!="undefined"){var strUrlSF=SafeURL_createFromURL(pega.u.d.url);strUrlSF.put("pyActivity","LogOff");strUrlSF.put("pzPrimaryPageName","pyDisplayHarness");var callback={success:function(responseObj){console.log("about to call plugin");parentWindow.prpcmobileapp.showAppList()},failure:function(oResponse){alert("Your session may not have ended properly.");parentWindow.prpcmobileapp.showAppList()}};try{parentWindow.navigator.splashscreen.show()}catch(e){}var response=pega.util.Connect.asyncRequest("GET",strUrlSF.toURL(),callback,null)}else{if(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()){var dirty=pega.u.d.isFormDirty(true);if(dirty){pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide();return }else{p.m.hybrid.logOut()}}else{event=event==undefined?window.event:event;if(event){pega.util.Event.stopEvent(event)}if(parentWindow!=null){parentWindow.logout=true}var oSafeURL=SafeURL_createFromURL("pyActivity=LogOff&pzPrimaryPageName=pyDisplayHarness");var queryString=oSafeURL.toQueryString();var bEncryptURLs=pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("bEncryptURLs");if(typeof bEncryptURLs!="undefined"&&bEncryptURLs&&(queryString.indexOf("pyActivity")>-1||queryString.indexOf("pyStream")>-1)){queryString=URLObfuscation.encrypt(queryString)}if(pega.u.MessagingManager&&typeof (pega.u.MessagingManager.disconnect)=="function"){pega.u.MessagingManager.disconnect()}var delim="?";var reqURI="";if(typeof parentWindow.safeUrlRequestURI!="undefined"){reqURI=parentWindow.safeUrlRequestURI;parentWindow.location.href=reqURI+delim+queryString}else{parentWindow.location.href=oSafeURL.toURL()}}}},switchPortalMode:function(){if(!navigator.onLine){alert("No network connection found.");return }var parentWindow=pega.desktop.support.getDesktopWindow();var strUrlSF=new SafeURL("Data-Portal.pzSwitchPortalMode"),response,callback;strUrlSF.put("PortalMode","mobile");callback={success:function(responseObj){var oShowDesktopUrl=new SafeURL("Data-Portal.ShowDesktop");var strUrlSF=new SafeURL("RedirectAndRun");strUrlSF.put("bPurgeTargetThread","true");strUrlSF.put("Location",oShowDesktopUrl.toQueryString());strUrlSF.put("ThreadName","");strUrlSF.put("AccessGroupName","");parentWindow.location=strUrlSF.toURL()},failure:function(oResponse){alert("Switch could not be completed successfully!! Please try later.")}};response=pega.util.Connect.asyncRequest("GET",strUrlSF.toURL(),callback,null)},doListAction:function(){pega.ui.template.DataRepeater.Actions.doListAction.apply(null,arguments)},publishEndOfQueue:function(e){pega.u.ce.publish(pega.u.ce.EQ_COMPLETED,e)},}})(pega)};
"undefined"!=typeof pega&&function(d){d.c=d.control?pega.control:d.namespace("pega.control");d.c.IUIElement=function(a){this.type=a;this.Actions=new d.c.Actions};d.c.IUIElement.prototype={click:null,dblclick:null,focusin:null,focusout:null,change:null,keypress:null,keyup:null};d.c.UIElement=new d.c.IUIElement("UIElement");d.c.isActionableElement=function(a){for(var b=a,c=0;b&&5>=c;){if(b.tagName&&"button"==b.tagName.toLowerCase())return!0;b=b.parentNode;c++}return a.tagName&&"img"==a.tagName.toLowerCase()&&
a.classList&&a.classList.contains("checkbox")&&a.classList.contains("chkBxCtl")?!1:a.tagName.match(/^(a||img)$/gi)||/navigation/.test(a.getAttribute("data-ctl"))};d.c.keyTypes={13:"enter",38:"up",40:"down",37:"left",39:"right"};d.c.hasKeyUpActions=function(a,b,c){if(c||!this.isActionableElement(a)&&a.getAttribute("data-ctl")&&""!=a.getAttribute("data-ctl")){c=a.getAttribute("data-keyup");a=!1;if(c&&0==c.indexOf("[")){c=pega.c.eventParser.parseJSON(c);for(var d=c.length,e=0;e<d;e++)if(this.keyTypes[b]==
c[e][c[e].length-1]){a=!0;break}}return a}};d.c.ImplicitKeyEvents={TEXTAREA:["enter","down","up"],AUTOCOMPLETE:["enter","down","up"]};d.c.hasImplicitKeyBehaviorsForAuto=function(a,b){var c="",f=!1;if(!this.isActionableElement(a)&&a.getAttribute("data-ctl")&&""!=a.getAttribute("data-ctl")){if("TEXTAREA"===a.tagName)c="TEXTAREA";else if("INPUT"===a.tagName&&-1!=a.getAttribute("data-ctl").toLowerCase().indexOf("autocomplete"))if(c="AUTOCOMPLETE",-1!=a.getAttribute("data-ctl").toLowerCase().indexOf("autocompleteag")){if(13===
b)return!1}else if(d.c.ACSingleton&&13===b)return d.c.ACSingleton.isResultsPopupOpened();if(""!=c&&(a=d.c.ImplicitKeyEvents[c],a instanceof Array))for(c=0;c<a.length;c++)if(this.keyTypes[b]===a[c]){f=!0;break}return f}};d.c.isNonAutoControlAllowed=function(a,b){return"SELECT"==a.tagName.toUpperCase()&&13==b||"INPUT"==a.tagName.toUpperCase()&&a.getAttribute("ISNS_PROPERTYEXTRAS")&&a.getAttribute("ISNS_CLASS")&&13==b?!0:!1};d.c.PlaceHolder={setFocus:function(a){setTimeout(function(){a.blur();setTimeout(function(){a.focus()},
1)},1)},focusHandler:function(a){if("true"===a.getAttribute("isplaceholder"))a.removeAttribute("isplaceholder"),d.c.PlaceHolder.removeClass(a),a.value="",a.defaultValue="";else if("true"===a.getAttribute("ispassword")){var b=pega.util.Dom.getPreviousSibling(a);b&&(a.style.display="none",b.style.display="block",this.setFocus(b))}},blurHandler:function(a){var b=a.getAttribute("ph");if(b&&""===a.value&&document.activeElement!=a)if("password"===a.type){if(b=pega.util.Dom.getNextSibling(a))a.style.display=
"none",b.style.display="block"}else a.setAttribute("isplaceholder","true"),d.c.PlaceHolder.addClass(a),a.value=b,a.defaultValue=b},getValue:function(a){if("true"===a.getAttribute("isplaceholder"))return"";var b=a.value;if(a.tagName&&a.tagName.match(/^(input)$/gi))try{if("done"===a.getAttribute("data-formatting")){var c=a.getAttribute("data-value");null!=c&&(b=c)}if(a.getAttribute("data-auto-formatting")&&"true"===a.getAttribute("data-auto-formatting")){var d=a.getAttribute("data-value");null!=d&&
(b=pega.u.d.formatNumberWithOutSeparators(d))}}catch(e){}return b},setValue:function(a,b){if(a.getAttribute("ph"))""===b&&document.activeElement!=a?(a.value=b,d.c.PlaceHolder.blurHandler(a)):(document.activeElement!=a&&d.c.PlaceHolder.focusHandler(a),a.value=b);else{a.value=b;var c=a.name;"hidden"!=a.type||"Calendar"!=a.getAttribute("data-calendar")&&!a.hasAttribute("data-datetype")||(a=a.nextSibling)&&a.tagName&&"span"===a.tagName.toLowerCase()&&a.getAttribute("name")===c&&(a.innerHTML=b)}},removePlaceHolderValues:function(a){for(var b=
pega.util.Dom.getElementsByAttribute("isplaceholder","true","INPUT",a),c=0,d=b.length;c<d;c++)this.focusHandler(b[c]);b=pega.util.Dom.getElementsByAttribute("isplaceholder","true","TEXTAREA",a);c=0;for(d=b.length;c<d;c++)this.focusHandler(b[c])},addPlaceHolderValues:function(a){for(var b=pega.util.Dom.getElementsByAttribute("ph",".+","INPUT",a),c=0,d=b.length;c<d;c++)this.blurHandler(b[c]);b=pega.util.Dom.getElementsByAttribute("ph",".+","TEXTAREA",a);c=0;for(d=b.length;c<d;c++)this.blurHandler(b[c])},
removeClass:function(a){pega.util.Dom.removeClass(a,"placeholder")},addClass:function(a){pega.util.Dom.addClass(a,"placeholder")}}}(pega);
pega.namespace("pega.ui.template");
pega.ui.template.DataBinder=function(){var h={getValueOf:function(a,b){var c=pega.ctx.dom.$(a);b=$.trim(b);return"checkbox"!=a.type&&"radio"!=a.type&&"SELECT"!=a.tagName.toUpperCase()||"value"!=b?"value"==b?c.val():a.hasOwnProperty&&a.hasAttribute?a.hasOwnProperty(b)||!a.hasAttribute(b)?a[b]:c.attr(b):c.attr(b)?c.attr(b):a[b]:(a=c.attr("name"),a=pega.ui.property.toReference(a),"{{"+a+"}}")},setValueOf:function(a,b,c){var d=pega.ctx.dom.$(a);b=$.trim(b);b=b.replace(/^\s*data\-cdb\-/,"");c&&""!=c||
"boolean"==typeof c||(c=d.attr("data-bindDefaultValue")||"");if("checkbox"==a.type&&"value"==b){a=!1;try{a=eval(c)}catch(k){b=pega.desktop.support.getDesktopWindow(),window&&window.console&&window.console.log&&b&&b.showcdblogs&&window.console.log("custom databinder : _databindHelper.setValueOf(...) had an exception in evaluating an expected boolean value\x3d"+c+". This has been caught safely \x26 checkbox value will be changed to a default false value / unchecked.")}a?(d.prop("checked",!0),d.attr("checked",
"checked")):(d.prop("checked",!1),d.removeAttr("checked"))}else"radio"==a.type&&"value"==b?d.val()!=c?(d.prop("checked",!1),d.removeAttr("checked")):(d.prop("checked",!0),d.attr("checked","checked")):"SELECT"==a.tagName.toUpperCase()&&"value"==b?pega&&pega.env&&pega.env.ua&&pega.env.ua.mobile&&/apple/i.test(pega.env.ua.mobile)?(d.find("option:selected").prop("selected",!1),d.find("option[value\x3d'"+c+"']").prop("selected",!0)):(d.find("option:selected").removeAttr("selected").removeAttr("checked").prop("selected",
!1),d.find("option[value\x3d'"+c+"']").attr("selected","selected").attr("checked","checked").prop("selected",!0)):"TEXTAREA"==a.tagName.toUpperCase()&&"innerHTML"==b?((!c||""==c)&&pega&&pega.env&&pega.env.ua&&0<pega.env.ua.ie&&(c=d.attr("ph")||""),a.innerHTML=a.value=c):"value"==b?(d.val(c),d.attr(b,c)):a.hasOwnProperty&&a.hasAttribute?a.hasOwnProperty(b)||!a.hasAttribute(b)?a[b]=c:d.attr(b,c):(a[b]=c,d.attr(b,c))}};return{repeatingIndex:{},resolveIndex:function(a){if(a){for(var b in pega.ui.template.DataBinder.repeatingIndex)a=
a.replace(new RegExp("\\{\\-\\{"+b+"\\}\\-\\}","g"),pega.ui.template.DataBinder.repeatingIndex[b]);return a}return""},resolvePath:function(a){if(!a)return"";for(var b in pega.ui.template.DataBinder.repeatingIndex)a=a.replace(new RegExp("\\(\\{\\-\\{"+b+"\\}\\-\\}\\)","g"),"."+(pega.ui.template.DataBinder.repeatingIndex[b]-1)+"");return a},bindData:function(a){if(a){var b=pega.ctx.dom.$(a).attr("data-bindprops");("undefined"!=typeof b&&""!=b?pega.ctx.dom.$(a):pega.ctx.dom.$(a).contents().find("[data-bindprops]")).each(function(a,
b){var c=pega.desktop.support.getDesktopWindow();if(a=pega.ctx.dom.$(b).attr("data-bindprops"))a=a.split(","),$.each(a,function(a,d){a=h.getValueOf(b,d);for(var g=/\{\{([^\{\}]+?)\}\}/,e=g.exec(a),f;null!=e;)e&&e[1]?(f=pega.ui.ClientCache.find(e[1]))?(replacedValue=f.getValue())&&(replacedValue=replacedValue.toString()):(window&&window.console&&window.console.log&&c&&c.showcdblogs&&window.console.log("custom databinder : VALUE_NOT_FOUND_IN_CLIENT_CACHE for property : "+e[1]),replacedValue=""):(window&&
window.console&&window.console.log&&c&&c.showcdblogs&&window.console.log("custom databinder : ATTRIBUTE_HAS_BEEN_LISTED_IN_DATA-BINDPROPS_BUT_DOES_NOT_CONTAIN_VALID_SQUIGGLIES : attribute-name\x3d"+d+",attribute-value\x3d"+a),replacedValue=""),replacedValue&&(replacedValue=replacedValue.replace("$1","$$$1")),a=a.replace(g,replacedValue),f=e[1],(e=g.exec(a))&&f==e[1]&&(e=null);h.setValueOf(b,d,a)}),window&&window.console&&window.console.log&&c&&c.showcdblogs&&pega.ctx.dom.$(b).attr("debug-data-bindprops",
pega.ctx.dom.$(b).attr("data-bindprops")),pega.ctx.dom.$(b).removeAttr("data-bindprops")})}}}}();
var conditionEngine={elementsMadeVisible:null,ct_sectionsList:[],AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES:"AfterExpressionsHandledOnPropertyChanges",ct_postedProp:void 0,elValuesSafe:null,handleClientEvent:function(a,b,c,e,d,f){d=void 0==d?window.event:d;this.ClientEventAPI.eventType=a;this.ClientEventAPI.activityName=b;this.ClientEventAPI.activityParams=c;this.ClientEventAPI.index=e;this.ClientEventAPI.ev=d;this.ClientEventAPI.src=d.target;this.ClientEventAPI.dataTransformName=f;this.ClientEventAPI.domEventType=
d.type;this.ClientEventAPI.srcGrid=null;"undefined"!=typeof Grids&&(this.ClientEventAPI.srcGrid=Grids.getActiveGrid(d)||pega.ctx.activeGrid);this.ClientEventAPI.srcGrid||(this.ClientEventAPI.srcGrid=pega.u.d.getRepeatObject(this.ClientEventAPI.src));this.ClientEventAPI.isClientEvent=!0;if(!("checkbox"===d.target.type&&"change"===d.type&&$(d.target).closest(".content-layout-group")&&$(d.target).closest(".header")&&0<$(d.target).closest(".content-layout-group").length&&0<$(d.target).closest(".header").length))this.ClientEventAPI.onload()},
evaluate:function(a,b,c){elValuesSafe=c;for(c=0;c<b.length;c++){switch(elValuesSafe[c]){case !0:elValuesSafe[c]="true";break;case !1:elValuesSafe[c]="false";break;case "true":elValuesSafe[c]="true";break;case "false":elValuesSafe[c]="false"}elValuesSafe[c]&&(elValuesSafe[c]=elValuesSafe[c].replace(/^\s+|\s+$/,""));isNaN(elValuesSafe[c])||"0"==elValuesSafe[c]||isNaN(parseFloat(elValuesSafe[c]))||(elValuesSafe[c]=parseFloat(elValuesSafe[c]));for(var e=new RegExp(b[c].replace(/[.()]/g,"\\$\x26")+"(?![a-zA-Z0-9_().])",
"g");-1!=a.search(e);)a=a.replace(e,"elValuesSafe["+c+"]")}try{b=/&&|\|\|/g;var d=a.split(b),f=a.match(b);a="";for(b=0;b<d.length;b++){var g=d[b].split("\x3d");for(c=0;c<g.length;c++)"'true'"==pega.lang.trim(g[c].toLowerCase())||"'false'"==pega.lang.trim(g[c].toLowerCase())?g[c]=g[c].toLowerCase():"true"==pega.lang.trim(g[c].toLowerCase())?g[c]=g[c].replace("true","'true'"):"false"==pega.lang.trim(g[c].toLowerCase())&&(g[c]=g[c].replace("false","'false'"));for(c=0;c<g.length-1;c++)g[c]+="\x3d";for(c=
0;c<g.length-1;c++)"\x3d"!=g[c]&&"!"!=g[c].charAt(g[c].length-2)&&"\x3e"!=g[c].charAt(g[c].length-2)&&"\x3c"!=g[c].charAt(g[c].length-2)&&"\x3d"!=g[c+1]&&(g[c]+="\x3d");d[b]=g.join("");a=b<d.length-1?a+(d[b]+" "+f[b]+" "):a+d[b]}return eval(a)}catch(h){return!1}},evaluateAllVisibleWhens:function(){if(pega&&pega.u&&pega.u.d&&pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()){var a=pega.ui.ChangeTrackerMap.getTracker();pega.u.d.temp_currentCT=a;a.trackedPropertiesList&&pega.u.d.evaluateClientConditions("ALL",
null,!0,!1);pega.u.d.ct_sectionsList=[];pega.u.d.temp_currentCT&&(pega.u.d.temp_currentCT=void 0)}"undefined"!=typeof LayoutGroupModule&&LayoutGroupModule.updateStretchTabWidths()},invokeDataBinder:function(){try{pega.ui.template.DataBinder.bindData(document)}catch(b){var a=pega.desktop.support.getDesktopWindow();window&&window.console&&window.console.log&&a&&a.showcdblogs&&window.console.log("custom databinder :: invokeDataBinder in pzpega_ui_doc_EventsConditionsChaining.js exited with an exception("+
b.message+") - safely caught")}},evaluateClientConditionsOnChangeList:function(a,b){var c=pega.ui.ChangeTrackerMap.getTrackers(),e;for(e in c){var d=c[e];pega.u.d.temp_currentCT=d;"undefined"==typeof a&&(a=!0);"undefined"==typeof b&&(b=!0);var f=pega.ctx;pega.ctxmgr.setContext(pega.ctxmgr.getContextByThreadName(pega.u.d.temp_currentCT.threadName));pega.ctx&&1==pega.ctx.bIsCTXUnloading||(0<d.changedPropertiesList.length?("function"===typeof updateExpressionTargetsFromList&&updateExpressionTargetsFromList(d.changedPropertiesList),
pega.u.d.evaluateClientConditions("TCL",null,a,b)):0<d.addRemovePagesList.length&&pega.u.d.evaluateClientConditions("TCL",null,!1,!0));pega.ctxmgr.setContext(f)}pega.u.d.temp_currentCT&&(pega.u.d.temp_currentCT=void 0);pega.u.d.ct_sectionsList=[];pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES)},evaluateClientConditions:function(a,b,c,e,d){var f={},g=!1,h=pega.ui.HarnessContextMgr;pega.u.d.temp_currentCT&&pega.u.d.temp_currentCT.threadName==pega.u.d.getThreadName()||
(pega.u.d.temp_currentCT=pega.ui.ChangeTrackerMap.getTracker());pega.u.d.temp_currentCT.tempPropMap={};pega.u.d.temp_currentCT.tempPropValuesMap={};if(h.get("isUITemplatized")&&(pega.ctx.ignoreCachingSectionList=!0,pega.ui.ClientCache.pauseChangedPagesList(),0==e&&pega.ui.ExpressionEvaluator.evaluateSpecificExpressionType(pega.ui.ExpressionEvaluator.NON_REFRESH_WHENS),d?pega.ui.ExpressionEvaluator.handlePropertyChange(d):"ELEM"==a&&b&&pega.ui.ExpressionEvaluator.handlePropertyChange(b),pega.ui.ClientCache.resumeChangedPagesList(),
pega.ui.ExpressionEvaluator.handleChangedProperties(pega.u.d.temp_currentCT),pega.ctx.ignoreCachingSectionList=!1,!pega.ui.ExpressionEvaluator.getNTExpressionStatus())){pega.u.d.temp_currentCT.clearChanges();pega.u.d.ct_sectionsList=[];pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES);return}f.type="undefined"==typeof a?"ALL":a;"undefined"==typeof c&&(c=!0);"undefined"==typeof e&&(e=!0);f.elementName=b;if(pega.ui.ChangeTrackerMap.isSingleTracker())f.CTDivs=
pega.ctx.dom.$("DIV#CT");else if(pega.u.d.temp_currentCT.isPrimary)f.CTDivs=pega.ctx.dom.$("DIV#CT"),g=!0;else if(pega.u.d.bModalDialogOpen&&pega.u.d.modalDialog.body)f.CTDivs=pega.ctx.dom.$(pega.u.d.modalDialog.body).find("DIV#CT");else if(pega.ctx.isMDC||pega.ctx.bIsDCSPA)f.CTDivs=pega.ctx.dom.$("DIV#CT");else if(a=pega.ctx.dom.getElementById("PEGA_HARNESS"),pega.u.d.ServerProxy.isDestinationRemote()&&a&&pega.u.d.temp_currentCT.threadName===a.getAttribute("thread_name"))f.CTDivs=$(a).find("DIV#CT");
else for(a=pega.ctx.dom.$("DIV#pyFlowActionHTML"),b=0;b<a.length;b++)if(pega.u.d.temp_currentCT.threadName===a[b].getAttribute("THREAD_NAME")){f.CTDivs=$(a[b]).find("DIV#CT");break}f.SWArray=[];f.RWArray=[];f.RCArray=[];pega.u.d.evaluateRequiredWhens();pega.u.d.evaluateActiveWhens();if(f.CTDivs){a=f.CTDivs.length;for(d=0;d<a;d++)b=f.CTDivs[d],g&&b.getAttribute("thread_name")?(f.CTDivs.splice(d,1),d--,a--):((c&&b.getAttribute("SWP")||b.getAttribute("SHOW_WHEN")||b.getAttribute("DISABLE_WHEN")||b.getAttribute("DISABLE_WHEN_RULE"))&&
f.SWArray.push(b),e&&b.getAttribute("RWP")&&f.RWArray.push(b),b.getAttribute("RCW")&&f.RCArray.push(b));c&&pega.u.d.evaluateVisibleWhens(f);e&&pega.u.d.evaluateRefreshWhens(f);0<f.RCArray.length&&pega.u.d.evaluateReloadCellWhen(f);pega.u.d&&pega.u.d.setModalDimensions&&pega.u.d.setModalDimensions()}pega.u.d.evaluateReloadLayoutWhen(f);pega.u.d.temp_currentCT.clearChanges();pega.u.d.temp_currentCT.tempPropMap=void 0;pega.u.d.temp_currentCT.tempPropValuesMap=void 0;pega.u.d.temp_currentCT=void 0;pega.u.d.ct_postedProp=
void 0;pega.u.d.ClientEventAPI.ev=null;pega.u.d.ClientEventAPI.src=null;pega.u.d.ClientEventAPI.srcGrid=null;pega.u.d.ct_sectionsList=[];pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES)},evaluateRefreshWhens:function(a){var b=pega.u.d.getAllRefreshableTargets(a.type,a.elementName),c=null,e=null,d=null,f=null,g=null,h=null;a.rw_preActivities=[];a.dataTransforms=[];a.at_sectionsTable=[];b&&(c=b.sections,e=b.preActivities,d=b.dataTransforms,f=b.declarePageParams,
g=b.gridsToRefresh,h=b.gridsWithRowsToRefresh);if(c)for(b=0;b<c.length;b++){for(var l=!1,k=0;k<a.at_sectionsTable.length;k++)if(a.at_sectionsTable[k]==c[b]){l=!0;break}l||a.at_sectionsTable.push(c[b])}if(e)for(b=0;b<e.length;b++){c=!1;for(k=0;k<a.rw_preActivities.length;k++)if(a.rw_preActivities[k]==e[b]){c=!0;break}c||a.rw_preActivities.push(e[b])}if(d)for(b=0;b<d.length;b++){e=!1;for(k=0;k<a.dataTransforms.length;k++)if(a.dataTransforms[k]==d[b]){e=!0;break}e||a.dataTransforms.push(d[b])}if(g)for(b=
0;b<g.length;b++)g[b].doGridAction({target:g[b].gridDiv},"REFRESHLIST");if(h){d=null;for(b=0;b<h.length;b++)0==b&&(d=new pega.tools.Queue),h[b].rowsToRefresh&&d.enqueue({GridToRefresh:h[b]});d&&(pega.u.d.gridLoadManager=new pega.ui.GridRowsLoadManager({loadQueue:d}),pega.u.d.gridLoadManager.startLoading())}0<a.at_sectionsTable.length&&(h="","ELEM"==a.type&&(d=pega.u.property.toHandle(a.elementName),(g=pega.u.d.getCorrectPropertyElemFromDOM(d,pega.ui.ChangeTrackerMap.getTracker()))&&0<g.length&&"CV"!=
g[0].id&&(g=pega.u.d.getGroupElementValue(g),h=new SafeURL,h.put(d,g))),pega.u.d.reloadSections(h,a.at_sectionsTable,"","",this.ClientEventAPI.index,this.ClientEventAPI.ev,a.rw_preActivities,a.dataTransforms,f),a.at_sectionsTable=null)},getSectionBaseReference:function(a,b){b=a.getAttribute("data-simplelayout")||1==b?pega.u.d.calcAndAttachSectionBaseRef(a,!0):pega.u.d.calcAndAttachSectionBaseRef(a);var c=b.sectionBaseRef;"nosection"==c&&(c=null,"undefined"!=typeof Grids&&(c=Grids.getElementsGrid(a)),
c=pega.u.d.getBaseRef(a,null,c),""==c&&(c=pega.u.d.getElementRowPageRef(a)),b.baseRef4ConditionEval=c);b.sectionBaseRef=c;return b},evaluateVisibleWhens:function(a){pega.ctx.conditionsMap||(pega.ctx.conditionsMap={});for(var b=0;b<a.SWArray.length;b++){var c=a.SWArray[b],e=c.getAttribute("SHOW_WHEN"),d=!0;if(!e)if(e=c.getAttribute("DISABLE_WHEN"))d=!1;else{(d=c.getAttribute("DISABLE_WHEN_RULE"))&&pega.ui.When&&(d=pega.ui.When.evaluate(d,pega.ui.ClientCache.find("pyWorkPage").get("pxObjClass").getValue()),
pega.u.d.showHideCTDiv(c,d,!1));continue}var f;if(d){var g;g=pega.u.d.getSectionBaseReference(c,null);f=g.sectionBaseRef}else f=pega.u.d.getBaseRef(c),""==f&&(f=pega.u.d.getElementRowPageRef(c)),g={},g.baseRef4ConditionEval=f;if(null!=f&&"nosection"!=f){var h=!1;-1!=e.indexOf("\x26\x26")&&-1!=e.indexOf("||")&&(h=!0);if((f=pega.ctx.conditionsMap[e+"~#~"+g.baseRef4ConditionEval])&&!h){e=f.propsArr;g=!1;for(var h=[],l=[],k=0;k<e.length;k++){var p=e[k].propName;h[k]=p;var m;m=(m=pega.u.d.getCorrectPropertyElemFromDOM(pega.u.property.toHandle(p),
pega.u.d.temp_currentCT))&&0<m.length&&"CV"!=m[0].id?pega.u.d.getGroupElementValue(m):pega.u.d.temp_currentCT.getPropertyValue(p);l[k]=m;pega.u.d.temp_currentCT.tempPropValuesMap[p]=m;m!=e[k].propValue&&(g=!0,f.propsArr[k].propValue=l[k])}g&&(e=pega.u.d.evaluate(f.fullExpression,h,l),f.result=eval(e));e=f.result;pega.u.d.showHideCTDiv(c,e,d)}else{f=pega.u.d.getConditionTokensAndOperator(e);l=f.conditionTokens;f=f.combOperator;if("OGRD"==a.type||"OGRI"==a.type){h=!1;for(k=0;k<l.length;k++){var t=pega.lang.trim(l[k]);
if(t.match(/\([0-9]*\)/ig)){h=!1;break}else h=!0}if(h)continue}null!=t&&(t=t.replace(/''/g,"'"));h=[];for(k=0;k<l.length;k++)t=pega.lang.trim(l[k]),h[k]=pega.u.d.isRegularTarget(t,g.baseRef4ConditionEval,c,!0);l=c.getAttribute("FULLPROPS");k=!1;if(l)for(p=l.split(","),l=0;l<p.length;l++)if("ALL"==a.type){k=!0;break}else if("ELEM"==a.type&&pega.u.d.isExpressionMatching(null,a.elementName,p[l],p[l])){k=!0;break}else if(("TCL"==a.type||"ELEM"==a.type)&&pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(p[l])){k=
!0;break}else if(("OGRD"==a.type||"OGRI"==a.type)&&pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(p[l],!1,!0)){k=!0;break}if(k){for(var k=m="",p={propsArr:[]},z=0,n=0;n<h.length;n++){for(var y=h[n].clientTargets,A=h[n].elValues,l=0;l<y.length;l++)p.propsArr[z]={},p.propsArr[z].propName=y[l],p.propsArr[z].propValue=A[l],z++;l=pega.u.d.evaluate(h[n].expression,y,A);0==n?(m=l,k=h[n].expression):(m=m+f+l,k=k+f+h[n].expression)}f=eval(m);p.result=f;p.fullExpression=k;pega.ctx.conditionsMap[e+
"~#~"+g.baseRef4ConditionEval]=p;pega.u.d.showHideCTDiv(c,f,d)}}}}},showHideCTDiv:function(a,b,c){var e=a.getAttribute("RESERVE_SPACE"),d=a.getAttribute("STRING_TYPE");if(b)if(c)if("true"==e)a.style.visibility="visible",a.setAttribute("aria-hidden","false");else{conditionEngine.columnLayout_show(a);a.style.display="";b="false";if(c=$(a).children().first()[0])e=c.className.replace("layout-content",""),e!=c.className&&(b="true");if(""==a.className&&c&&"content-inner"==c.className&&"false"==b)for(b=
1,$(a).prev()&&(b=$(a).prev().className.match(/\d+/),b++),a.className="content-item content-"+d+" item-"+b,d=a;$(d).next();)""!=$(d).next().className&&(b++,$(d).next().className=$(d).next().className.replace(/\d+/,""),$(d).next().className=$(d).next().className.replace("item-","item-"+b.toString())),d=$(d).next();else if(a.parentNode&&-1!=a.parentNode.className.indexOf("content-layout-group")&&0==a.className.indexOf("layout")){d=!0;b=a.parentNode;for(b=$(b).children().first()[0];$(b).next();){b=$(b).next()[0];
if(!b)break;if(b&&"none"!=b.style.display&&0==b.className.indexOf("layout")&&0!=b.className.indexOf("layout-group-nav")&&b.childNodes[0]&&"true"==b.childNodes[0].getAttribute("aria-selected")){d=!1;break}}d&&LayoutGroupModule.setLayoutActive(a)}}else pega.u.d.controlDisabler(a);else if(c)if("true"==e)a.style.visibility="hidden",a.setAttribute("aria-hidden","true");else{conditionEngine.columnLayout_hide(a);a.style.display="none";b="false";if(c=$(a).children().first()[0])e=c.className.replace("layout-content",
""),e!=c.className&&(b="true");conditionEngine.columnLayout_hide(a);if(c&&"content-inner"==c.className&&"false"==b){b="1";if(""!=a.className)b=a.className.match(/\d+/);else{for(d=$(a).prev();d&&""==d.className;)d=$(d).prev();d&&""!=d.className&&(b=d.className.match(/\d+/),b++)}for(a.className="";$(a).next();)a=$(a).next(),""!=a.className&&(a.className=a.className.replace(/\d+/,""),a.className=a.className.replace("item-","item-"+b.toString()),b++)}else if(a.parentNode&&-1!=a.parentNode.className.indexOf("content-layout-group")&&
0==a.className.indexOf("layout")&&-1!=a.className.indexOf(" active"))for(LayoutGroupModule.setLayoutInactive(a),b=a.parentNode,b=$(b).children().first()[0];$(b).next();){b=$(b).next()[0];if(!b)break;if(b&&"none"!=b.style.display&&0==b.className.indexOf("layout")&&0!=b.className.indexOf("layout-group-nav")&&b.childNodes[0]&&"true"==b.childNodes[0].getAttribute("aria-selected")){LayoutGroupModule.setLayoutActive(b);break}}}else pega.u.d.controlEnabler(a)},evaluateRefreshWhensOSCO:function(a,b){var c=
pega.ui.HarnessContextMgr;if(pega.ui.DCUtil&&1==pega.ui.DCUtil.isLoadingInProgress)window.setTimeout(function(){pega.u.d.evaluateRefreshWhensOSCO(a,b)},0);else{if(c.get("isUITemplatized")&&(pega.ui.ExpressionEvaluator.handleChangedProperties(null),!pega.ui.ExpressionEvaluator.getNTExpressionStatus()&&pega.u.d.temp_currentCT)){pega.u.d.temp_currentCT.clearChanges&&pega.u.d.temp_currentCT.clearChanges();pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES);return}var c=
pega.ctx.dom.$("DIV#CT"),e=null,d=null,f=null,g=null,h=null,l=/\s+changes/i,k=/\s+adddelete/i;if("boolean"!=typeof a||a)a=!0,b=!1;"boolean"!=typeof b&&(b=!1);if(c){for(var p=0;p<c.length;p++){var m=c[p];if(m.getAttribute("RWP")&&(!m.rowRef||""==m.rowRef)){var t="",t=m.getAttribute("data-simplelayout")?pega.u.d.calcAndAttachSectionBaseRef(m,!0):pega.u.d.calcAndAttachSectionBaseRef(m),z=t.sectionBaseRef;if(null!=z&&"nosection"!=z){var n=m.getAttribute("RW");if(n){for(var y=pega.u.d.getConditionTokensAndOperator(n),
A=y.conditionTokens,y=y.combOperator,B=[],w=m.getAttribute("data-property-value"),u={},G=!1,r=0;r<A.length;r++)if(n=pega.lang.trim(A[r]),!b&&l.test(n)){var n=n.replace(/\s+changes/i,""),q=t.baseRef4ConditionEval;q?"."==q.charAt(0)&&(q=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName")+q):q=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName");q=this.buildFullReference(n,q);this.setFULLPROPS(m,q);if(q=pega.ui.ClientCache.find(q))if(q=q.getValue(),w)try{(u=JSON.parse(w))&&u[n]!=q&&
(B[r]=!0,u[propName]=q,G=!0)}catch(D){}else u[n]=q,G=!0,B[r]=!0}else(a||b)&&k.test(n)?B[r]=!1:b||(B[r]=pega.u.d.isRegularTarget(n,t.baseRef4ConditionEval,m));G&&m.setAttribute("data-property-value",JSON.stringify(u));A="";for(w=0;w<B.length;w++)A=0==w?B[w]:A+y+B[w];if(eval(A)&&!pega.u.d.isDuplicateRefresh(t.includedSec.getAttribute("node_name"),z,m)){e||(e=[]);if(f=m.getAttribute("RWA"))d||(d=[]),d.push(f+"\x3c||\x3e"+z);if(f=m.getAttribute("PDT"))g||(g=[]),g.push(f+"\x3c||\x3e"+z);if((m=t.includedSec.getAttribute("data-declare-params"))&&
""!=m){null==h&&(h={});try{var m=pega.c.eventParser.replaceTokensWrapper(m,"","",!1,!1),v=eval("("+m+")");if(v){var C=t.includedSec.getAttribute("uniqueid");h[C]={};m="";for(m in v)h[C][m]=v[m]}}catch(D){}}e.push(t.includedSec)}}}}}e&&0<e.length&&pega.u.d.reloadSections("",e,"","",null,null,d,f,h)}pega.ui.EventsEmitter.publishSync(pega.u.d.AFTER_EXPRESSIONS_HANDLED_ON_PROPERTY_CHANGES)}},columnLayout_show:function(a){a=$(a.parentNode);a.removeClass("col-layout-hidden-s1");a.removeClass("col-layout-hidden-s2");
a.removeClass("col-layout-hidden-both")},columnLayout_hide:function(a){var b=a.parentNode,c=$(b);b&&c.attr("data-hidecolumns")&&(-1!=b.className.indexOf("three-col-sidebar-main-sidebar")?-1==a.className.indexOf("column-2")||"left"!=c.attr("data-hidecolumns")&&"both"!=c.attr("data-hidecolumns")?-1==a.className.indexOf("column-3")||"right"!=c.attr("data-hidecolumns")&&"both"!=c.attr("data-hidecolumns")||c.addClass("col-layout-hidden-s2"):c.addClass("col-layout-hidden-s1"):c.addClass("col-layout-hidden-both"))},
evaluateReloadCellWhen:function(a){a=pega.u.d.getAllRefreshableTargets(a.type,a.elementName,!0);pega.u.d.reloadCells(a)},evaluateReloadLayoutWhen:function(a){this.at_sectionsTable=[];this.rw_preActivities=[];this.dataTransforms=[];this.at_layouts2refresh=null;if(pega.u.property.toReference){var b=pega.u.d.getAllRefreshableTargets(a.type,a.elementName,!1,!0),c=null,e=null,d=null,f=null,g=null;b&&(c=b.sections,e=b.preActivities,d=b.dataTransforms,f=b.declarePageParams,g=b.cells2refresh);g&&(this.at_layouts2refresh=
[]);if(c)for(b=0;b<c.length;b++){for(var h=!1,l=0;l<this.at_sectionsTable.length;l++)if(this.at_sectionsTable[l]==c[b]&&this.at_layouts2refresh[l].getAttribute("data-methodName")==g[b].getAttribute("data-methodName")){h=!0;break}h||(this.at_sectionsTable.push(c[b]),this.at_layouts2refresh.push(g[b]))}if(e)for(b=0;b<e.length;b++){c=!1;for(l=0;l<this.rw_preActivities.length;l++)if(this.rw_preActivities[l]==e[b]){c=!0;break}c||this.rw_preActivities.push(e[b])}if(d)for(b=0;b<d.length;b++){e=!1;for(l=
0;l<this.dataTransforms.length;l++)if(this.dataTransforms[l]==d[b]){e=!0;break}e||this.dataTransforms.push(d[b])}}0<this.at_sectionsTable.length&&(d="","ELEM"==a.type&&(a=pega.u.property.toHandle(a.elementName),(e=pega.u.d.getCorrectPropertyElemFromDOM(a,pega.ui.ChangeTrackerMap.getTracker()))&&0<e.length&&"CV"!=e[0].id&&(e=pega.u.d.getGroupElementValue(e),d=new SafeURL,d.put(a,e))),pega.u.d.reloadSections(d,this.at_sectionsTable,"","",null,null,this.rw_preActivities,this.dataTransforms,f,this.at_layouts2refresh),
this.serverRefresh=!0,this.at_sectionsTable=null)},getElementRowPageRef:function(a){var b=null,c="",e=null;a&&"undefined"!=typeof Grids&&(b=Grids.getElementsGrid(a));if(null!=b){if(b.bPageGroup)e=null,pega.util.Dom.isAncestor(b.leftBodyUL,a)?e=b.leftBodyUL:pega.util.Dom.isAncestor(b.rightBodyTbl,a)&&(e=b.rightBodyTbl),a=b.findCell(null,e,a),(a=b.getRowIndex(a))&&(a=b.getPGRowIndex(a)),e=b.getRightRow(a);else if(b.bTreegrid)e=pega.u.d.getRepeatRow(a,!0);else if(a=pega.u.d.getRepeatRow(a),b.bPagingEnabled)for(row in b.rightBodyTbl.rows){if(b.rightBodyTbl.rows[row].getAttribute("pl_index")==
a){e=b.rightBodyTbl.rows[row];break}}else e=b.getRightRow(a);e&&(c=e.hpref?e.hpref:e.id,c=pega.u.property.toReference(c))}else pega.u.d.getRepeatObject(a)&&(e=pega.u.d.getRepeatRow(a,!0))&&e.getAttribute("hPref")&&(c=pega.u.property.toReference(e.getAttribute("hPref")));return c},isExpressionMatchingWithTrackedProps:function(a,b,c){var e=!1;if(b)b=this.ct_addRemovePagesList;else{if(!c&&(b=pega.ctx.dom.$("*[name\x3d'"+pega.u.property.toHandle(a)+"']"))&&0<b.length&&"CV"!=b[0].id)return!1;b=this.ct_changedPropertiesList}a=
a.replace(/\(\)/ig,"");c=a.split(".");if(b&&1<=b.length)for(var d=0;d<b.length;d++)if(b[d]==a){e=!0;break}else{var f=b[d].split(".");if(f.length==c.length){for(var g=!0,h=0;h<f.length;h++)if(f[h]!=c[h])if(c[h].lastIndexOf(")")!=c[h].length-1){if(f[h].replace(/\([\w]*\)/ig,"")!=c[h]){g=!1;break}}else{g=!1;break}if(g){e=!0;break}}}return e},isExpressionMatching:function(a,b,c,e){pega.u.d.ServerProxy&&pega.u.d.ServerProxy.isDestinationLocal()&&(pega.u.d.temp_currentCT||(pega.u.d.temp_currentCT=pega.ui.ChangeTrackerMap.getTracker()),
b=pega.ui.AutopopulateSupport.resolveReference(b,pega.u.d.temp_currentCT),c=pega.ui.AutopopulateSupport.resolveReference(c,pega.u.d.temp_currentCT),e=pega.ui.AutopopulateSupport.resolveReference(e,pega.u.d.temp_currentCT));b=b.toLowerCase();c=c.toLowerCase();e=e.toLowerCase();b=b.replace(/\(\)/ig,"");c=c.replace(/\(\)/ig,"");e=e.replace(/\(\)/ig,"");var d=b.replace(/\([\w]*\)/ig,"");if(c.match(/\([\w]+\)/i)&&-1<d.indexOf(c.replace(/\([\w]*\)/ig,""))){var f=b.split("."),d=c.split("."),g=f.length-d.length;
if(0<=g)for(var h=0;h<d.length;h++)d[h]&&!d[h].match(/\([\w]+\)/i)&&f[h+g]&&(f[h+g]=f[h+g].replace(/\([\w]+\)/i,""));d="";for(h=0;h<f.length;h++)d+="."+f[h];d=d.substring(1)}if(pega.u.d.evaluateSplKeyword(b,c,e,d))return!0;if(null!=a){if(f=a.listPrimaryPage,!f&&a.listBaseRef&&-1<a.listBaseRef.indexOf(".")&&(f=a.listBaseRef.substr(0,a.listBaseRef.indexOf("."))),f&&(c==b.replace(f.toLowerCase(),"")||c==d.replace(f.toLowerCase(),"")))return!0}else if(f=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName"))return b=
b.replace(f.toLowerCase(),""),d=d.replace(f.toLowerCase(),""),pega.u.d.evaluateSplKeyword(b,c,e,d);return!1},evaluateSplKeyword:function(a,b,c,e){return b==a||b==e||c==a||c==e?!0:!1},evaluateActiveWhens:function(){pega.ctx.dom.$("span.layout-active-when").each(function(){var a=this.getAttribute("data-activewhen");if(a)try{for(var a=JSON.parse(a),b=-1,c=0;c<a.length;c++){var e=a[c];if(pega.u.d.evaluateExpression(this,null,e.when)){b=e.index;try{var d=$(this.parentNode).children(".layout").get(b-1);
if("none"!=d.style.display){$(this.parentNode).children(".layout.active").each(function(){LayoutGroupModule.setLayoutInactive(this)});LayoutGroupModule.setLayoutActive(d);break}}catch(f){}}}}catch(f){}})},cleanRequiredAttr:function(){pega.ctx.dom.$("[data-required\x3d'false']").each(function(){var a=this.getAttribute("validationtype");a&&""!=a&&(8==a.length?this.setAttribute("validationtype",""):8<a.length&&(a=a.replace("required,",""),a=a.replace(",required",""),this.setAttribute("validationtype",
a)));this.setAttribute("data-required","true")})},evaluateRequiredWhens:function(){pega.ctx.dom.$("[data-required\x3d'true']").each(function(){if(pega.u.d.evaluateExpression(this,"data-required-when")){var a=this.getAttribute("validationtype");-1==a.indexOf("required")&&(a&&0!=a.length?this.setAttribute("validationtype","required,"+a):this.setAttribute("validationtype","required"),$(this).parents("div .field-item").siblings("label").children().each(function(){"SPAN"==this.tagName&&this.getAttribute("data-class")?
(this.setAttribute("class",this.getAttribute("data-class")),this.removeAttribute("data-class")):"STRONG"==this.tagName&&$(this).removeClass("display-none")}))}else a=this.getAttribute("validationtype"),-1!=a.indexOf("required")&&(a&&""!=a&&(a=a.replace("required,",""),a=a.replace(",required",""),a=a.replace("required",""),this.setAttribute("validationtype",a.replace("required,",""))),""==$(this).val()&&(getErrorDB().clearError(this.name),$(this).siblings("div .iconErrorDiv").attr("style","display: none;"),
$(this).parents("div .field-item").siblings("label").removeClass("labelError")),$(this).parents("div .field-item").siblings("label").children().each(function(){"SPAN"==this.tagName&&this.getAttribute("class")?(this.setAttribute("data-class",this.getAttribute("class")),this.removeAttribute("class")):"STRONG"==this.tagName&&$(this).addClass("display-none")}))})},evaluateExpression:function(a,b,c){c=c?c:a.getAttribute(b);if(null==c||""==c)return!0;b=pega.u.d.getSectionBaseReference(a,!0);if(null==b.sectionBaseRef||
"nosection"==b.sectionBaseRef)return!1;c=pega.u.d.getConditionTokensAndOperator(c);var e=c.conditionTokens;c=c.combOperator;for(var d=[],f=0;f<e.length;f++){var g=pega.lang.trim(e[f]);d[f]=pega.u.d.isRegularTarget(g,b.sectionBaseRef,a)}a="";for(b=0;b<d.length;b++)a=0==b?d[b]:a+c+d[b];return eval(a)},mixedExpressionAddGridRowsToCTDivs:function(a,b,c){for(var e=b.rightBodyTbl.rows,d=e.length,f=0;f<d;f++){var g=e[f],h;g&&g.id&&(h=pega.ui.property.toReference(g.id),"Progressive Load"==b.pageMode&&b.isDummyRow(g.rowIndex)||
(g.configuredCondition=c,g.rowRef=h,g.gridObj=b,a.push(g)))}},getGridObjFromCTDiv:function(a){if((a=a.firstChild)&&a.id)return pega.ctx.Grid.map[a.id]},cleanGridRow:function(a){a.configuredCondition&&(a.configuredCondition=null);a.rowRef&&(a.rowRef=null);a.gridObj&&(a.gridObj=null);a.removeAttribute("FULLPROPS")},localsExpressionAddGridRowsToCTDivs:function(a,b,c,e,d){var f=b.dataSourceRef,g=[];d&&d.name?g.push(pega.ui.property.toReference(d.name)):g=pega.u.d.temp_currentCT.changedPropertiesList;
d=g.length;for(var h=[],l=0;l<d;l++){var k=g[l],p=k.indexOf(".",f.length);if(-1<k.indexOf(f)){var m=k.substring(p);-1<jQuery.inArray(m,c)&&(k=k.substring(0,p),-1<jQuery.inArray(k,h)||(h.push(k),p=pega.ui.property.toHandle(k),(p=$(b.gridDiv).find("#"+p.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")))&&p.length&&(p=p[0],"Progressive Load"==b.pageMode&&b.isDummyRow(p.rowIndex)||(p.rowRef=k,p.gridObj=b,p.configuredCondition=e,a.push(p)))))}}},addGridRowsToCTDivs:function(a,b,c,e){var d=this.getGridObjFromCTDiv(b);
d&&(c.push(d),"mixed"==b.getAttribute("type")||d.bTreegrid?this.mixedExpressionAddGridRowsToCTDivs(a,d,b.getAttribute("RRW")):"allLocals"==b.getAttribute("type")&&this.localsExpressionAddGridRowsToCTDivs(a,d,b.getAttribute("RRLocalsP").split(","),b.getAttribute("RRW"),e))},getAllRefreshableTargets:function(a,b,c,e){var d=null,f=null,g=null,h=null,l=null,k=null,p=[],m=pega.u.property.toHandle(b),m=m?pega.ctx.dom.querySelector("*[name\x3d'"+m+"']"):null,t=c?["RC"]:["RW","data-dprw","IRW","RRW"];"ALL"==
a&&(a="TCL");e?(c=!0,e=pega.ctx.dom.querySelectorAll("div[data-refresh\x3d'true']")):e=pega.ctx.dom.querySelectorAll("DIV#CT");if(e)for(var z=0;z<e.length;z++){var n=e[z],y=!1;n.getAttribute("RLW")&&(y=!0);var A=!1;if(n.getAttribute("RRW")&&"allGlobals"!=n.getAttribute("type"))this.addGridRowsToCTDivs(e,n,p,m);else{n.rowRef&&""!=n.rowRef&&(A=y=!0);if(y)w=A?u=n.rowRef:u=this.getBaseRef(n);else{var B=pega.u.d.calcAndAttachSectionBaseRef(n,c),w=B.sectionBaseRef;if("nosection"==w)continue;var u=B.baseRef4ConditionEval}for(var G=
0;G<t.length;G++){var r=A&&"RRW"==t[G]?n.configuredCondition:n.getAttribute(t[G]);if(r){for(var q=pega.u.d.getConditionTokensAndOperator(r),v=q.conditionTokens,q=q.combOperator,C=pega.ui.HarnessContextMgr.getCurrentHarnessContext(),D=[],F=/\s+changes/i,H=/\s+adddelete/i,E=0;E<v.length;E++){var x=pega.lang.trim(v[E]);F.test(x)?(r=x.replace(/\s+changes/i,""),y||w||(w=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName")),u?"."==u.charAt(0)&&(u=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName")+
u):u=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName"),x=this.buildFullReference(r,u),this.setFULLPROPS(n,x),"ELEM"==a&&pega.u.d.isExpressionMatching(null,b,r,x)?D[E]=!0:"TCL"!=a&&"ELEM"!=a||!pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(x)?"OGRD"!=a&&"OGRI"!=a||!pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(x,!1,!0)?D[E]=!1:D[E]=!0:D[E]=!0):H.test(x)?(x=x.replace(/\s+adddelete/i,""),y||w||(w=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName")),
u?"."==u.charAt(0)&&(u=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName")+u):u=SafeURL_createFromURL(C.getProperty("url")).get("pzPrimaryPageName"),x=this.buildFullReference(x,u),this.setFULLPROPS(n,x,"adddelete"),"ELEM"==a&&pega.u.d.isExpressionMatching(null,b,r,x)?D[E]=!0:"TCL"!=a&&"ELEM"!=a||!pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(x,!0)?"OGRD"!=a&&"OGRI"!=a||!pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(x,!0)?D[E]=!1:D[E]=!0:D[E]=!0):D[E]=
pega.u.d.isRegularTarget(x,u,n)}v=n.getAttribute("FULLPROPS");r=!1;if(v)for(v=v.split(","),C=0;C<v.length;C++)if(F=v[C],H=!1,-1!=v[C].indexOf("-A$D")&&(F=v[C].replace("-A$D",""),H=!0),"TCL"==a&&pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(F,H)){r=!0;break}else if("ELEM"==a){if(pega.u.d.isExpressionMatching(null,b,F,F)||pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(F,H)){r=!0;break}}else if(H){if(("OGRD"==a||"OGRI"==a)&&pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(F,
!0)){r=!0;break}}else if(("OGRD"==a||"OGRI"==a)&&pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(F,!1,!0)){r=!0;break}if(r){r="";for(v=0;v<D.length;v++)r=0==v?D[v]:r+q+D[v];if(!y&&eval(r)&&null!=B.includedSec.getAttribute("node_name")&&!pega.u.d.isDuplicateRefresh(B.includedSec.getAttribute("node_name"),w,n)){d||(d=[]);if(q=n.getAttribute("RWA"))f||(f=[]),f.push(q+"\x3c||\x3e"+w);if(q=n.getAttribute("PDT"))g||(g=[]),g.push(q+"\x3c||\x3e"+w);if((q=B.includedSec.getAttribute("data-declare-params"))&&
""!=q){null==l&&(l={});try{var q=pega.c.eventParser.replaceTokensWrapper(q,"","",!1,!1),I=eval("("+q+")");if(I){var J=B.includedSec.getAttribute("uniqueid");l[J]={};q="";for(q in I)l[J][q]=I[q]}}catch(K){}}d.push(B.includedSec);h||(h=[]);h.push(n)}y&&eval(r)&&(k||(k=[]),!A&&$(n).children().first()[0]&&(q=$(n).children().first()[0].id,k.push(pega.ctx.Grid.map[q])),A&&n.gridObj&&(n.gridObj.rowsToRefresh||(n.gridObj.rowsToRefresh=[]),n.gridObj.rowsToRefresh.push(n.rowRef),this.cleanGridRow(n)))}}}}}return{sections:d,
preActivities:f,dataTransforms:g,cells2refresh:h,gridsToRefresh:k,declarePageParams:l,gridsWithRowsToRefresh:p}},isDuplicateRefresh:function(a,b,c){var e=!1,d=!1,f=pega.u.d.getPopOverLevel(c);0<=f&&(d=pega.u.d.getPopOver(f).isActive());if(!d&&pega.u.d.bModalDialogOpen&&pega.u.d.modalDialog.body&&!pega.util.Dom.isAncestor(pega.u.d.modalDialog.body,c))return!0;if(0<pega.u.d.ct_sectionsList.length)for(d=0;d<pega.u.d.ct_sectionsList.length;d++){if(pega.u.d.ct_sectionsList[d]==a+"~"+b){e=!0;break}f=pega.u.d.ct_sectionsList[d].split("~");
f=pega.u.d.getSectionByName(f[0],f[1],pega.ctx.dom.getContextRoot());if(pega.util.Dom.isAncestor(f,c)){e=!0;break}}return e},isChangesTarget:function(a,b,c,e){b=b.replace(/\s+changes/i,"");var d=this.buildFullReference(b,c);this.setFULLPROPS(e,d);if(pega.u.d.isExpressionMatching(null,a,b,d))return!0;c?"."==c.charAt(0)&&(c=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName")+c):c=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName");d=this.buildFullReference(b,c);this.setFULLPROPS(e,
d);pega.u.d.temp_currentCT||(pega.u.d.temp_currentCT=pega.ui.ChangeTrackerMap.getTracker());return pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(d)?!0:!1},isAddDeleteTarget:function(a,b,c,e){var d=this.getCompleteListName(a);b=b.replace(/\s+adddelete/i,"");c=this.buildFullReference(b,c);this.setFULLPROPS(e,c,"adddelete");return this.isExpressionMatching(a,d,b,c)?!0:pega.u.d.temp_currentCT.isExpressionMatchingWithTrackedProps(c,!0)?!0:!1},getCompleteListName:function(a){var b=a.listName,
c="";a.listBaseRef?c=a.listBaseRef:c=a.listPrimaryPage;c&&(b=c+a.listName);return b},isRegularTarget:function(a,b,c,e){0==a.indexOf("(")&&(a=a.substring(1));if(a.lastIndexOf(")")==a.length-1){var d=a.lastIndexOf("(");if(-1==d||a.indexOf(")",d)!=a.length-1)a=a.substring(0,a.length-1)}var d=[],f="";-1!=a.indexOf("!\x3d")?(d=a.split("!\x3d"),f="!\x3d"):-1!=a.indexOf("\x3e\x3d")?(d=a.split("\x3e\x3d"),f="\x3e\x3d"):-1!=a.indexOf("\x3c\x3d")?(d=a.split("\x3c\x3d"),f="\x3c\x3d"):-1!=a.indexOf("\x3e")?(d=
a.split("\x3e"),f="\x3e"):-1!=a.indexOf("\x3c")?(d=a.split("\x3c"),f="\x3c"):-1!=a.indexOf("\x3d\x3d")?(d=a.split("\x3d\x3d"),f="\x3d\x3d"):-1!=a.indexOf("\x3d")?(d=a.split("\x3d"),f="\x3d"):d[0]=a;a=[];for(var g=[],h=0;h<d.length;h++){var l=pega.lang.trim(d[h]);try{b||(b=SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName"));var k=this.buildFullReference(l,b),p=pega.u.d.temp_currentCT.tempPropValuesMap[k],m=pega.u.d.getCorrectPropertyElemFromDOM(pega.u.property.toHandle(k),pega.u.d.temp_currentCT);
if(m&&0<m.length&&"CV"!=m[0].id)pega.u.d.temp_currentCT.tempPropMap&&(pega.u.d.temp_currentCT.tempPropMap[k]="dom"),0==a.length?(g[0]=k,a[0]=void 0==p?pega.u.d.getGroupElementValue(m):p):(g[g.length]=k,a[a.length]=void 0==p?pega.u.d.getGroupElementValue(m):p),d[h]=k,this.setFULLPROPS(c,k);else{pega.u.d.temp_currentCT.tempPropMap&&(pega.u.d.temp_currentCT.tempPropMap[k]="ct");var t=void 0==p?pega.u.d.temp_currentCT.getPropertyValue(k):p;null!=t&&(0==a.length?(g[0]=k,a[0]=t):(g[g.length]=k,a[a.length]=
t),d[h]=k,this.setFULLPROPS(c,k))}}catch(z){}}b=1==d.length?d[0]:d[0]+f+d[1];return e?{expression:b,clientTargets:g,elValues:a}:pega.u.d.evaluate(b,g,a)},getCorrectPropertyElemFromDOM:function(a,b){var c;if(pega.ui.ChangeTrackerMap.isSingleTracker()){if("string"==typeof a&&0>=a.trim().length)return null;0===a.indexOf("$P")&&(c=document.getElementsByName(a))}else if(b.isPrimary){c=pega.ctx.dom.getElementsByName(a);for(var e=[],d=0;d<c.length;d++)e.push(c[d]);if((c=e)&&0<c.length&&(e=pega.ctx.dom.$("DIV#pyFlowActionHTML"))&&
0<e.length)for(d=0;d<e.length;d++)if(e[d].getAttribute("THREAD_NAME")&&(-1!=e[d].getAttribute("THREAD_NAME").indexOf("/$WorkProcessing")||-1!=e[d].getAttribute("THREAD_NAME").indexOf("/$FlowModalProcess")))for(a=c.length,b=0;b<a;b++)$.contains(e[d],c[b])&&(c.splice(b,1),b--,a--)}else if(pega.u.d.bModalDialogOpen&&pega.u.d.modalDialog.body)c=pega.u.d.submitModalDlgParam&&"true"==pega.u.d.submitModalDlgParam.bIsOverlay?pega.ctx.dom.$("DIV#_popOversContainer").find("*[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,
"\\$\x26")+"']"):pega.ctx.dom.$(pega.u.d.modalDialog.body).find("*[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")+"']");else if(pega.ctx.isMDC)c=pega.ctx.dom.$("[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")+"']");else{if(pega.u.d.ServerProxy.isDestinationRemote()&&(d=pega.ctx.dom.getElementById("PEGA_HARNESS"))&&(!d.hasAttribute("thread_name")||b.threadName===d.getAttribute("thread_name")))return $(d).find("[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,
"\\$\x26")+"']");e=pega.ctx.dom.$("DIV#pyFlowActionHTML");if(0===e.length)c=pega.ctx.dom.$("[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")+"']");else for(d=0;d<e.length;d++)if(b.threadName===e[d].getAttribute("THREAD_NAME")){c=$(e[d]).find("*[name\x3d'"+a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$\x26")+"']");break}}return c},buildFullReference:function(a,b){var c=a;"."==a.replace(/ /g,"").charAt(0)&&b&&(c=b+""+a);return c},setFULLPROPS:function(a,b,c){var e=a.getAttribute("FULLPROPS");
c&&"adddelete"==c&&(b+="-A$D");e?-1==e.indexOf(b)&&a.setAttribute("FULLPROPS",e+","+b):a.setAttribute("FULLPROPS",b)},getConditionTokensAndOperator:function(a){var b=[],c="";-1!=a.indexOf("||")?(b=a.split("||"),c="||"):-1!=a.indexOf("\x26\x26")?(b=a.split("\x26\x26"),c="\x26\x26"):b[0]=a;return{conditionTokens:b,combOperator:c}}};pega.lang.augmentObject(pega.ui.Doc.prototype,conditionEngine);
pega.ui.ArrayUtil=function(){return{find:function(a,d){if("function"==typeof d&&a instanceof Array)for(var b=0;b<a.length;b++){if(d.call(a[b],b))return a[b]}else throw"Please pass array and a predicate";},merge:function(a,d){var b;if(a instanceof Array&&d instanceof Array){for(b=0;b<d.length;b++)a.push(d[b]);return a}throw"Please pass two arrays.";},unique:function(a){var d,b={};if(a instanceof Array){for(d=0;d<a.length;d++)b[a[d]]=!0;return Object.keys(b)}throw"Please pass an array.";},sort:function(a,
d){if(a instanceof Array)a.sort(function(b,a){for(var f=0;f<d.length;f++){var e,c,g;c=d[f].property;g=d[f].order;e=void 0===b[c]||null===b[c]?"":isNaN(b[c])?b[c].toLowerCase():Number.parseFloat(b[c]);c=void 0===a[c]||null===a[c]?"":isNaN(a[c])?a[c].toLowerCase():Number.parseFloat(a[c]);if("ASCENDING"===g){if(e<c)return-1;if(e>c)return 1}if("DESCENDING"===g){if(e>c)return-1;if(e<c)return 1}}});else throw"Invalid input. Please pass array as input for sorting";}}}();
pega.desktop.openTagDeck=function(c,d,b){var e=pega.desktop.support.getDesktopApplication(),g=null;e&&(e=e.gadgetPool)&&(g=e.findAvailableGadget());if(g&&g.gadgetAvailable){if("object"==typeof c&&"safeURL"==c.name)var a=SafeURL_clone(c);a||(a=new SafeURL,""==b&&(b="Tag Deck"),a.put("name",b),a.put("ClassName","Data-Social-Tag"),a.put("HarnessName","pyTagDeck"),a.put("Page",""),a.put("Model",""),a.put("ReadOnly",""),a.put("preActivityName","pzGetTagDeck"),a.put("preActivityParams","tagName:"+d),a.put("SkipConflictCheck",
!0));pega.desktop.support.openSpace("Work",a,"display")}else{if(pega.desktop.support.getDesktopWindow()&&pega.desktop.support.getDesktopWindow().pega.composite)var f=pega.desktop.support.getDesktopWindow().pega.composite.objMultiView._objGadget.manager;""==b&&(b="Tag Deck");if(f)var h=f.getGadgetByKey(b);d="tagName:"+d;h?(c=f.getTabByGadgetName(h.gadgetName))&&f.replaceTab(c,b,{close:"yes",key:""},{action:"display",page:"",model:"",harnessName:"pyTagDeck",className:"Data-Social-Tag",configObj:{},
preActivity:"pzGetTagDeck",preActivityParams:d,readOnly:"",tabName:b}):pega.desktop.showHarnessWrapper("newDocument","Data-Social-Tag","pyTagDeck","pzGetTagDeck",d,strPrimaryPage,b,"","",c)}};
pega.desktop.openPulseSearchResults=function(b,c,g,h){var d=pega.desktop.support.getDesktopApplication(),f=null;d&&(d=d.gadgetPool)&&(f=d.findAvailableGadget());if(f&&f.gadgetAvailable){if("object"==typeof b&&"safeURL"==b.name)var a=SafeURL_clone(b);a||(a=new SafeURL,a.put("name","Social Search"),a.put("ClassName","PegaSocial-Message"),a.put("HarnessName","pyPulseSearchResults"),a.put("Page",""),a.put("Model",""),a.put("ReadOnly",""),a.put("preActivityName","pzGetPulseStream"),a.put("preActivityParams",
"searchPageName:"+c+",searchText:"+h+",threadName:"+g),a.put("SkipConflictCheck",!0));pega.desktop.support.openSpace("Work",a,"display")}else{if(pega.desktop.support.getDesktopWindow().pega.composite)var e=pega.desktop.support.getDesktopWindow().pega.composite.objMultiView._objGadget.manager;if(e)var k=e.getGadgetByKey("Social Search");c="searchPageName:"+c+",searchText:"+h+",threadName:"+g;k?(b=e.getTabByGadgetName(k.gadgetName))&&e.replaceTab(b,"Social Search",{close:"yes",key:""},{action:"display",
page:"",model:"",harnessName:"pyPulseSearchResults",className:"PegaSocial-Message",configObj:{},preActivity:"pzGetPulseStream",preActivityParams:c,readOnly:"",tabName:"Social Search"}):pega.desktop.showHarnessWrapper("newDocument","PegaSocial-Message","pyPulseSearchResults","pzGetPulseStream",c,strPrimaryPage,"Social Search","","",b)}};
pega.namespace("pega.ui.dynamicnavigation");
pega.ui.dynamicnavigation.showharness=function(){return{launchHarnessForDynamicNavigation:function(f,g,b,p,n,h,c,k,q,e){var a={};a.harness=f;a.harnessClass=g;a.displayMode=pega.api.ui.constants.NEW_DOCUMENT;a.tabName=b;a.readOnly=p;a.activity={};a.activity.name=n;a.dataTransform={};a.dataTransform.name=c;null===b&&(b="");a.tabName={value:b,isProperty:!1};if(n){var l=[];if("undefined"!==typeof h&&""!==h){b=JSON.parse(h);for(var d in b)l.push({name:d,value:b[d],isProperty:!1})}e&&l.push({name:"InitializationContext",
value:e,isProperty:!1})}if(c){var m=[];if("undefined"!==typeof k&&""!==k)for(d in c=JSON.parse(k),c)m.push({name:d,value:c[d],isProperty:!1});e&&m.push({name:"InitializationContext",value:e,isProperty:!1})}a.activity.parameters=l;a.dataTransform.parameters=m;a.event=q;pega.ui.dynamicnavigation&&"function"===typeof pega.ui.dynamicnavigation.preShowHarness&&pega.ui.dynamicnavigation.preShowHarness(g,f);pega.api.ui.actions.launchHarness(a);pega.ui.dynamicnavigation&&"function"===typeof pega.ui.dynamicnavigation.postShowHarness&&
pega.ui.dynamicnavigation.postShowHarness(g,f)}}}();
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(k,y,m){var u=function(c){var d,a=[],h=c.length;for(d=0;d!==h;a.push(c[d++]));return a},g=function(c,d,a){var h,n,b=c.cycle;for(h in b)n=b[h],c[h]="function"==typeof n?n(a,d[a]):n[a%n.length];delete c.cycle},e=function(c,d,a){m.call(this,c,d,a);this._cycle=0;this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase;this._repeat=this.vars.repeat||0;this._repeatDelay=
this.vars.repeatDelay||0;this._repeat&&this._uncache(!0);this.render=e.prototype.render},x=m._internals,D=x.isSelector,w=x.isArray,b=e.prototype=m.to({},.1,{}),I=[];e.version="2.0.2";b.constructor=e;b.kill()._gc=!1;e.killTweensOf=e.killDelayedCallsTo=m.killTweensOf;e.getTweensOf=m.getTweensOf;e.lagSmoothing=m.lagSmoothing;e.ticker=m.ticker;e.render=m.render;b.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||
0,this._yoyoEase=null,this._uncache(!0),m.prototype.invalidate.call(this)};b.updateTo=function(c,d){var a,h=this.ratio,n=this.vars.immediateRender||c.immediateRender;d&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(a in c)this.vars[a]=c[a];if(this._initted||n)if(d)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&
this._firstPT&&m._onPluginEvent("_onDisable",this),.998<this._time/this._duration)c=this._totalTime,this.render(0,!0,!1),this._initted=!1,this.render(c,!0,!1);else if(this._initted=!1,this._init(),0<this._time||n)for(d=1/(1-h),a=this._firstPT;a;)c=a.s+a.c,a.c*=d,a.s=c-a.c,a=a._next;return this};b.render=function(c,d,a){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var h,n,b,e,q,r,g,k,G=this._dirty?this.totalDuration():this._totalDuration,I=this._time,w=this._totalTime,u=this._cycle,
y=this._duration,z=this._rawPrevTime;if(c>=G-1E-7&&0<=c?(this._totalTime=G,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(h=!0,n="onComplete",a=a||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||a)&&(this._startTime===this._timeline._duration&&(c=0),(0>z||0>=c&&-1E-7<=c||1E-10===z&&"isPause"!==this.data)&&
z!==c&&(a=!0,1E-10<z&&(n="onReverseComplete")),this._rawPrevTime=g=!d||c||z===c?c:1E-10)):1E-7>c?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==w||0===y&&0<z)&&(n="onReverseComplete",h=this._reversed),0>c&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||a)&&(0<=z&&(a=!0),this._rawPrevTime=g=!d||c||z===c?c:1E-10)),this._initted||(a=!0)):(this._totalTime=this._time=c,0!==this._repeat&&(b=y+this._repeatDelay,this._cycle=this._totalTime/
b>>0,0!==this._cycle&&this._cycle===this._totalTime/b&&c>=w&&this._cycle--,this._time=this._totalTime-this._cycle*b,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time,k=this._yoyoEase||this.vars.yoyoEase,k&&(this._yoyoEase||(!0!==k||this._initted?this._yoyoEase=k=!0===k?this._ease:k instanceof Ease?k:Ease.map[k]:(k=this.vars.ease,this._yoyoEase=k=k?k instanceof Ease?k:"function"==typeof k?new Ease(k,this.vars.easeParams):Ease.map[k]||m.defaultEase:m.defaultEase)),this.ratio=k?1-k.getRatio((y-
this._time)/y):0)),this._time>y?this._time=y:0>this._time&&(this._time=0)),this._easeType&&!k?(e=this._time/y,q=this._easeType,r=this._easePower,(1===q||3===q&&.5<=e)&&(e=1-e),3===q&&(e*=2),1===r?e*=e:2===r?e*=e*e:3===r?e*=e*e*e:4===r&&(e*=e*e*e*e),1===q?this.ratio=1-e:2===q?this.ratio=e:.5>this._time/y?this.ratio=e/2:this.ratio=1-e/2):k||(this.ratio=this._ease.getRatio(this._time/y))),I===this._time&&!a&&u===this._cycle)return void(w!==this._totalTime&&this._onUpdate&&(d||this._callback("onUpdate")));
if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!a&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=I,this._totalTime=w,this._rawPrevTime=z,this._cycle=u,x.lazyTweens.push(this),void(this._lazy=[c,d]);!this._time||h||k?h&&this._ease._calcEnd&&!k&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==I&&
0<=c&&(this._active=!0);0!==w||(2===this._initted&&0<c&&this._init(),this._startAt&&(0<=c?this._startAt.render(c,!0,a):n||(n="_dummyGS")),!this.vars.onStart||0===this._totalTime&&0!==y||!d&&this._callback("onStart"));for(b=this._firstPT;b;)b.f?b.t[b.p](b.c*this.ratio+b.s):b.t[b.p]=b.c*this.ratio+b.s,b=b._next;this._onUpdate&&(0>c&&this._startAt&&this._startTime&&this._startAt.render(c,!0,a),d||(this._totalTime!==w||n)&&this._callback("onUpdate"));this._cycle!==u&&(d||this._gc||this.vars.onRepeat&&
this._callback("onRepeat"));n&&(!this._gc||a)&&(0>c&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(c,!0,a),h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!d&&this.vars[n]&&this._callback(n),0===y&&1E-10===this._rawPrevTime&&1E-10!==g&&(this._rawPrevTime=0))};e.to=function(c,d,a){return new e(c,d,a)};e.from=function(c,d,a){return a.runBackwards=!0,a.immediateRender=0!=a.immediateRender,new e(c,d,a)};e.fromTo=function(c,d,a,h){return h.startAt=a,
h.immediateRender=0!=h.immediateRender&&0!=a.immediateRender,new e(c,d,h)};e.staggerTo=e.allTo=function(c,d,a,h,n,b,q){h=h||0;var oa,r,X,k,G=0,x=[],y=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments);n.apply(q||a.callbackScope||this,b||I)},F=a.cycle,M=a.startAt&&a.startAt.cycle;w(c)||("string"==typeof c&&(c=m.selector(c)||c),D(c)&&(c=u(c)));c=c||[];0>h&&(c=u(c),c.reverse(),h*=-1);oa=c.length-1;for(X=0;oa>=X;X++){r={};for(k in a)r[k]=a[k];if(F&&(g(r,c,X),null!=r.duration&&
(d=r.duration,delete r.duration)),M){M=r.startAt={};for(k in a.startAt)M[k]=a.startAt[k];g(r.startAt,c,X)}r.delay=G+(r.delay||0);X===oa&&n&&(r.onComplete=y);x[X]=new e(c[X],d,r);G+=h}return x};e.staggerFrom=e.allFrom=function(c,d,a,h,n,b,q){return a.runBackwards=!0,a.immediateRender=0!=a.immediateRender,e.staggerTo(c,d,a,h,n,b,q)};e.staggerFromTo=e.allFromTo=function(c,d,a,h,n,b,q,r){return h.startAt=a,h.immediateRender=0!=h.immediateRender&&0!=a.immediateRender,e.staggerTo(c,d,h,n,b,q,r)};e.delayedCall=
function(c,d,a,h,n){return new e(d,0,{delay:c,onComplete:d,onCompleteParams:a,callbackScope:h,onReverseComplete:d,onReverseCompleteParams:a,immediateRender:!1,useFrames:n,overwrite:0})};e.set=function(c,d){return new e(c,0,d)};e.isTweening=function(c){return 0<m.getTweensOf(c,!0).length};var r=function(c,d){var a=[],h=0;for(c=c._first;c;)c instanceof m?a[h++]=c:(d&&(a[h++]=c),a=a.concat(r(c,d)),h=a.length),c=c._next;return a},q=e.getAllTweens=function(c){return r(k._rootTimeline,c).concat(r(k._rootFramesTimeline,
c))};e.killAll=function(c,d,a,h){null==d&&(d=!0);null==a&&(a=!0);var n,b,e=q(0!=h),r=e.length,m=d&&a&&h;for(b=0;r>b;b++)h=e[b],(m||h instanceof y||(n=h.target===h.vars.onComplete)&&a||d&&!n)&&(c?h.totalTime(h._reversed?0:h.totalDuration()):h._enabled(!1,!1))};e.killChildTweensOf=function(c,d){if(null!=c){var a,h,n,b=x.tweenLookup;if("string"==typeof c&&(c=m.selector(c)||c),D(c)&&(c=u(c)),w(c))for(h=c.length;-1<--h;)e.killChildTweensOf(c[h],d);else{a=[];for(n in b)for(h=b[n].target.parentNode;h;)h===
c&&(a=a.concat(b[n].tweens)),h=h.parentNode;c=a.length;for(h=0;c>h;h++)d&&a[h].totalTime(a[h].totalDuration()),a[h]._enabled(!1,!1)}}};var G=function(c,d,a,h){d=!1!==d;a=!1!==a;h=!1!==h;for(var n,b=q(h),e=d&&a&&h,r=b.length;-1<--r;)h=b[r],(e||h instanceof y||(n=h.target===h.vars.onComplete)&&a||d&&!n)&&h.paused(c)};return e.pauseAll=function(c,d,a){G(!0,c,d,a)},e.resumeAll=function(c,d,a){G(!1,c,d,a)},e.globalTimeScale=function(c){var d=k._rootTimeline,a=m.ticker.time;return arguments.length?(c=c||
1E-10,d._startTime=a-(a-d._startTime)*d._timeScale/c,d=k._rootFramesTimeline,a=m.ticker.frame,d._startTime=a-(a-d._startTime)*d._timeScale/c,d._timeScale=k._rootTimeline._timeScale=c,c):d._timeScale},b.progress=function(c,d){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-c:c)+this._cycle*(this._duration+this._repeatDelay),d):this._time/this.duration()},b.totalProgress=function(c,d){return arguments.length?this.totalTime(this.totalDuration()*c,d):this._totalTime/
this.totalDuration()},b.time=function(c,d){return arguments.length?(this._dirty&&this.totalDuration(),c>this._duration&&(c=this._duration),this._yoyo&&0!==(1&this._cycle)?c=this._duration-c+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(c+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(c,d)):this._time},b.duration=function(c){return arguments.length?k.prototype.duration.call(this,c):this._duration},b.totalDuration=function(c){return arguments.length?-1===this._repeat?
this:this.duration((c-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},b.repeat=function(c){return arguments.length?(this._repeat=c,this._uncache(!0)):this._repeat},b.repeatDelay=function(c){return arguments.length?(this._repeatDelay=c,this._uncache(!0)):this._repeatDelay},b.yoyo=function(c){return arguments.length?(this._yoyo=c,this):
this._yoyo},e},!0);_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(k,y,m){var u=function(d){y.call(this,d);this._labels={};this.autoRemoveChildren=!0===this.vars.autoRemoveChildren;this.smoothChildTiming=!0===this.vars.smoothChildTiming;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var a,h=this.vars;for(a in h)d=h[a],D(d)&&-1!==d.join("").indexOf("{self}")&&(h[a]=this._swapSelfInParams(d));D(h.tweens)&&this.add(h.tweens,0,h.align,h.stagger)},
g=m._internals,e=u._internals={},x=g.isSelector,D=g.isArray,w=g.lazyTweens,b=g.lazyRender,I=_gsScope._gsDefine.globals,r=function(d){var a,h={};for(a in d)h[a]=d[a];return h},q=function(d,a,h){var n,c,b=d.cycle;for(n in b)c=b[n],d[n]="function"==typeof c?c(h,a[h]):c[h%c.length];delete d.cycle},G=e.pauseCallback=function(){},c=function(d){var a,h=[],n=d.length;for(a=0;a!==n;h.push(d[a++]));return h},g=u.prototype=new y;return u.version="2.0.2",g.constructor=u,g.kill()._gc=g._forcingPlayhead=g._hasPause=
!1,g.to=function(d,a,h,n){var c=h.repeat&&I.TweenMax||m;return a?this.add(new c(d,a,h),n):this.set(d,h,n)},g.from=function(d,a,h,n){return this.add((h.repeat&&I.TweenMax||m).from(d,a,h),n)},g.fromTo=function(d,a,h,n,c){var b=n.repeat&&I.TweenMax||m;return a?this.add(b.fromTo(d,a,h,n),c):this.set(d,n,c)},g.staggerTo=function(d,a,h,n,b,e,g,k){k=new u({onComplete:e,onCompleteParams:g,callbackScope:k,smoothChildTiming:this.smoothChildTiming});var oa=h.cycle;"string"==typeof d&&(d=m.selector(d)||d);d=
d||[];x(d)&&(d=c(d));n=n||0;0>n&&(d=c(d),d.reverse(),n*=-1);for(g=0;g<d.length;g++)e=r(h),e.startAt&&(e.startAt=r(e.startAt),e.startAt.cycle&&q(e.startAt,d,g)),oa&&(q(e,d,g),null!=e.duration&&(a=e.duration,delete e.duration)),k.to(d[g],a,e,g*n);return this.add(k,b)},g.staggerFrom=function(d,a,h,n,c,b,e,r){return h.immediateRender=0!=h.immediateRender,h.runBackwards=!0,this.staggerTo(d,a,h,n,c,b,e,r)},g.staggerFromTo=function(d,a,h,n,c,b,e,r,q){return n.startAt=h,n.immediateRender=0!=n.immediateRender&&
0!=h.immediateRender,this.staggerTo(d,a,n,c,b,e,r,q)},g.call=function(d,a,h,n){return this.add(m.delayedCall(0,d,a,h),n)},g.set=function(d,a,h){return h=this._parseTimeOrLabel(h,0,!0),null==a.immediateRender&&(a.immediateRender=h===this._time&&!this._paused),this.add(new m(d,0,a),h)},u.exportRoot=function(d,a){d=d||{};null==d.smoothChildTiming&&(d.smoothChildTiming=!0);var h,n,c,b=new u(d),e=b._timeline;null==a&&(a=!0);e._remove(b,!0);b._startTime=0;b._rawPrevTime=b._time=b._totalTime=e._time;for(d=
e._first;d;)c=d._next,a&&d instanceof m&&d.target===d.vars.onComplete||(n=d._startTime-d._delay,0>n&&(h=1),b.add(d,n)),d=c;return e.add(b,0),h&&b.totalDuration(),b},g.add=function(d,a,h,c){var n,b,e;if("number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,d)),!(d instanceof k)){if(d instanceof Array||d&&d.push&&D(d)){h=h||"normal";c=c||0;n=a;a=d.length;for(b=0;a>b;b++)D(e=d[b])&&(e=new u({tweens:e})),this.add(e,n),"string"!=typeof e&&"function"!=typeof e&&("sequence"===h?n=e._startTime+e.totalDuration()/
e._timeScale:"start"===h&&(e._startTime-=e.delay())),n+=c;return this._uncache(!0)}if("string"==typeof d)return this.addLabel(d,a);if("function"!=typeof d)throw"Cannot add "+d+" into the timeline; it is not a tween, timeline, function, or string.";d=m.delayedCall(0,d)}if(y.prototype.add.call(this,d,a),d._time&&(n=Math.max(0,Math.min(d.totalDuration(),(this.rawTime()-d._startTime)*d._timeScale)),1E-5<Math.abs(n-d._totalTime)&&d.render(n,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&
this._duration<this.duration())for(h=this,d=h.rawTime()>d._startTime;h._timeline;)d&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},g.remove=function(d){if(d instanceof k){this._remove(d,!1);var a=d._timeline=d.vars.useFrames?k._rootFramesTimeline:k._rootTimeline;return d._startTime=(d._paused?d._pauseTime:a._time)-(d._reversed?d.totalDuration()-d._totalTime:d._totalTime)/d._timeScale,this}if(d instanceof Array||d&&d.push&&D(d)){for(a=
d.length;-1<--a;)this.remove(d[a]);return this}return"string"==typeof d?this.removeLabel(d):this.kill(null,d)},g._remove=function(d,a){y.prototype._remove.call(this,d,a);return this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(d,a){return this.add(d,this._parseTimeOrLabel(null,a,!0,d))},g.insert=g.insertMultiple=function(d,a,h,c){return this.add(d,a||0,h,c)},
g.appendMultiple=function(d,a,h,c){return this.add(d,this._parseTimeOrLabel(null,a,!0,d),h,c)},g.addLabel=function(d,a){return this._labels[d]=this._parseTimeOrLabel(a),this},g.addPause=function(d,a,h,c){h=m.delayedCall(0,G,h,c||this);return h.vars.onComplete=h.vars.onReverseComplete=a,h.data="isPause",this._hasPause=!0,this.add(h,d)},g.removeLabel=function(d){return delete this._labels[d],this},g.getLabelTime=function(d){return null!=this._labels[d]?this._labels[d]:-1},g._parseTimeOrLabel=function(d,
a,h,c){var b;if(c instanceof k&&c.timeline===this)this.remove(c);else if(c&&(c instanceof Array||c.push&&D(c)))for(b=c.length;-1<--b;)c[b]instanceof k&&c[b].timeline===this&&this.remove(c[b]);if(c="number"!=typeof d||a?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof a)return this._parseTimeOrLabel(a,h&&"number"==typeof d&&null==this._labels[a]?d-c:0,h);if(a=a||0,"string"!=typeof d||!isNaN(d)&&null==this._labels[d])null==d&&(d=c);else{if(b=d.indexOf("\x3d"),
-1===b)return null==this._labels[d]?h?this._labels[d]=c+a:a:this._labels[d]+a;a=parseInt(d.charAt(b-1)+"1",10)*Number(d.substr(b+1));d=1<b?this._parseTimeOrLabel(d.substr(0,b-1),0,h):c}return Number(d)+a},g.seek=function(d,a){return this.totalTime("number"==typeof d?d:this._parseTimeOrLabel(d),!1!==a)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(d,a){return this.play(d,a)},g.gotoAndStop=function(d,a){return this.pause(d,a)},g.render=function(d,a,h){this._gc&&this._enabled(!0,
!1);var c,e,r,q,m,g,k,G=this._time,I=this._dirty?this.totalDuration():this._totalDuration,x=this._startTime,y=this._timeScale,u=this._paused;if(G!==this._time&&(d+=this._time-G),d>=I-1E-7&&0<=d)this._totalTime=this._time=I,this._reversed||this._hasPausedChild()||(e=!0,q="onComplete",m=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=d&&-1E-7<=d||0>this._rawPrevTime||1E-10===this._rawPrevTime)&&this._rawPrevTime!==d&&this._first&&(m=!0,1E-10<this._rawPrevTime&&(q="onReverseComplete"))),
this._rawPrevTime=this._duration||!a||d||this._rawPrevTime===d?d:1E-10,d=I+1E-4;else if(1E-7>d)if(this._totalTime=this._time=0,(0!==G||0===this._duration&&1E-10!==this._rawPrevTime&&(0<this._rawPrevTime||0>d&&0<=this._rawPrevTime))&&(q="onReverseComplete",e=this._reversed),0>d)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(m=e=!0,q="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(m=!0),this._rawPrevTime=d;else{if(this._rawPrevTime=this._duration||!a||d||this._rawPrevTime===
d?d:1E-10,0===d&&e)for(c=this._first;c&&0===c._startTime;)c._duration||(e=!1),c=c._next;d=0;this._initted||(m=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!a){if(d>=G)for(c=this._first;c&&c._startTime<=d&&!g;)c._duration||"isPause"!==c.data||c.ratio||0===c._startTime&&0===this._rawPrevTime||(g=c),c=c._next;else for(c=this._last;c&&c._startTime>=d&&!g;)c._duration||"isPause"===c.data&&0<c._rawPrevTime&&(g=c),c=c._prev;g&&(this._time=d=g._startTime,this._totalTime=d+this._cycle*(this._totalDuration+
this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=d}if(this._time!==G&&this._first||h||m||g){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==G&&0<d&&(this._active=!0),0===G&&this.vars.onStart&&(0===this._time&&this._duration||a||this._callback("onStart")),k=this._time,k>=G)for(c=this._first;c&&(r=c._next,k===this._time&&(!this._paused||u));)(c._active||c._startTime<=k&&!c._paused&&!c._gc)&&(g===c&&this.pause(),c._reversed?c.render((c._dirty?c.totalDuration():
c._totalDuration)-(d-c._startTime)*c._timeScale,a,h):c.render((d-c._startTime)*c._timeScale,a,h)),c=r;else for(c=this._last;c&&(r=c._prev,k===this._time&&(!this._paused||u));){if(c._active||c._startTime<=G&&!c._paused&&!c._gc){if(g===c){for(g=c._prev;g&&g.endTime()>this._time;)g.render(g._reversed?g.totalDuration()-(d-g._startTime)*g._timeScale:(d-g._startTime)*g._timeScale,a,h),g=g._prev;g=null;this.pause()}c._reversed?c.render((c._dirty?c.totalDuration():c._totalDuration)-(d-c._startTime)*c._timeScale,
a,h):c.render((d-c._startTime)*c._timeScale,a,h)}c=r}this._onUpdate&&(a||(w.length&&b(),this._callback("onUpdate")));q&&(this._gc||(x===this._startTime||y!==this._timeScale)&&(0===this._time||I>=this.totalDuration())&&(e&&(w.length&&b(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!a&&this.vars[q]&&this._callback(q)))}},g._hasPausedChild=function(){for(var d=this._first;d;){if(d._paused||d instanceof u&&d._hasPausedChild())return!0;d=d._next}return!1},g.getChildren=function(d,
a,c,b){b=b||-9999999999;for(var h=[],e=this._first,n=0;e;)e._startTime<b||(e instanceof m?!1!==a&&(h[n++]=e):(!1!==c&&(h[n++]=e),!1!==d&&(h=h.concat(e.getChildren(!0,a,c)),n=h.length))),e=e._next;return h},g.getTweensOf=function(d,a){var c,b=this._gc,e=[],r=0;b&&this._enabled(!0,!0);d=m.getTweensOf(d);for(c=d.length;-1<--c;)(d[c].timeline===this||a&&this._contains(d[c]))&&(e[r++]=d[c]);return b&&this._enabled(!1,!0),e},g.recent=function(){return this._recent},g._contains=function(d){for(d=d.timeline;d;){if(d===
this)return!0;d=d.timeline}return!1},g.shiftChildren=function(d,a,c){c=c||0;for(var h,b=this._first,e=this._labels;b;)b._startTime>=c&&(b._startTime+=d),b=b._next;if(a)for(h in e)e[h]>=c&&(e[h]+=d);return this._uncache(!0)},g._kill=function(d,a){if(!d&&!a)return this._enabled(!1,!1);for(var c=a?this.getTweensOf(a):this.getChildren(!0,!0,!1),b=c.length,e=!1;-1<--b;)c[b]._kill(d,a)&&(e=!0);return e},g.clear=function(d){var a=this.getChildren(!1,!0,!0),c=a.length;for(this._time=this._totalTime=0;-1<
--c;)a[c]._enabled(!1,!1);return!1!==d&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var d=this._first;d;)d.invalidate(),d=d._next;return k.prototype.invalidate.call(this)},g._enabled=function(d,a){if(d===this._gc)for(var c=this._first;c;)c._enabled(d,!0),c=c._next;return y.prototype._enabled.call(this,d,a)},g.totalTime=function(d,a,c){this._forcingPlayhead=!0;var h=k.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,h},g.duration=function(d){return arguments.length?
(0!==this.duration()&&0!==d&&this.timeScale(this._duration/d),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(d){if(!arguments.length){if(this._dirty){var a,c,b=0;c=this._last;for(var e=999999999999;c;)a=c._prev,c._dirty&&c.totalDuration(),c._startTime>e&&this._sortChildren&&!c._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(c,c._startTime-c._delay),this._calculatingDuration=0):e=c._startTime,0>c._startTime&&!c._paused&&(b-=c._startTime,
this._timeline.smoothChildTiming&&(this._startTime+=c._startTime/this._timeScale,this._time-=c._startTime,this._totalTime-=c._startTime,this._rawPrevTime-=c._startTime),this.shiftChildren(-c._startTime,!1,-9999999999),e=0),c=c._startTime+c._totalDuration/c._timeScale,c>b&&(b=c),c=a;this._duration=this._totalDuration=b;this._dirty=!1}return this._totalDuration}return d&&this.totalDuration()?this.timeScale(this._totalDuration/d):this},g.paused=function(d){if(!d)for(var a=this._first,c=this._time;a;)a._startTime===
c&&"isPause"===a.data&&(a._rawPrevTime=0),a=a._next;return k.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var d=this._timeline;d._timeline;)d=d._timeline;return d===k._rootFramesTimeline},g.rawTime=function(d){return d&&(this._paused||this._repeat&&0<this.time()&&1>this.totalProgress())?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(d)-this._startTime)*this._timeScale},u},!0);_gsScope._gsDefine("TimelineMax",["TimelineLite",
"TweenLite","easing.Ease"],function(k,y,m){var u=function(b){k.call(this,b);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._dirty=!0},g=y._internals,e=g.lazyTweens,x=g.lazyRender,D=_gsScope._gsDefine.globals,w=new m(null,null,1,0);m=u.prototype=new k;return m.constructor=u,m.kill()._gc=!1,u.version="2.0.2",m.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||
0,this._uncache(!0),k.prototype.invalidate.call(this)},m.addCallback=function(b,e,r,q){return this.add(y.delayedCall(0,b,r,q),e)},m.removeCallback=function(b,e){if(b)if(null==e)this._kill(null,b);else{b=this.getTweensOf(b,!1);var r=b.length;for(e=this._parseTimeOrLabel(e);-1<--r;)b[r]._startTime===e&&b[r]._enabled(!1,!1)}return this},m.removePause=function(b){return this.removeCallback(k._internals.pauseCallback,b)},m.tweenTo=function(b,e){e=e||{};var r,q,g,c={ease:w,useFrames:this.usesFrames(),immediateRender:!1,
lazy:!1},d=e.repeat&&D.TweenMax||y;for(q in e)c[q]=e[q];return c.time=this._parseTimeOrLabel(b),r=Math.abs(Number(c.time)-this._time)/this._timeScale||.001,g=new d(this,r,c),c.onStart=function(){g.target.paused(!0);g.vars.time===g.target.time()||r!==g.duration()||g.isFromTo||g.duration(Math.abs(g.vars.time-g.target.time())/g.target._timeScale).render(g.time(),!0,!0);e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||g,e.onStartParams||[])},g},m.tweenFromTo=function(b,e,r){r=r||{};b=this._parseTimeOrLabel(b);
r.startAt={onComplete:this.seek,onCompleteParams:[b],callbackScope:this};r.immediateRender=!1!==r.immediateRender;e=this.tweenTo(e,r);return e.isFromTo=1,e.duration(Math.abs(e.vars.time-b)/this._timeScale||.001)},m.render=function(b,g,r){this._gc&&this._enabled(!0,!1);var q,m,c,d,a,h,n,k=this._time,w=this._dirty?this.totalDuration():this._totalDuration,u=this._duration,y=this._totalTime,I=this._startTime,V=this._timeScale,T=this._rawPrevTime,R=this._paused,D=this._cycle;if(k!==this._time&&(b+=this._time-
k),b>=w-1E-7&&0<=b)this._locked||(this._totalTime=w,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(m=!0,d="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=b&&-1E-7<=b||0>T||1E-10===T)&&T!==b&&this._first&&(a=!0,1E-10<T&&(d="onReverseComplete"))),this._rawPrevTime=this._duration||!g||b||this._rawPrevTime===b?b:1E-10,this._yoyo&&0!==(1&this._cycle)?this._time=b=0:(this._time=u,b=u+1E-4);else if(1E-7>b)if(this._locked||(this._totalTime=this._cycle=0),this._time=
0,(0!==k||0===u&&1E-10!==T&&(0<T||0>b&&0<=T)&&!this._locked)&&(d="onReverseComplete",m=this._reversed),0>b)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=m=!0,d="onReverseComplete"):0<=T&&this._first&&(a=!0),this._rawPrevTime=b;else{if(this._rawPrevTime=u||!g||b||this._rawPrevTime===b?b:1E-10,0===b&&m)for(q=this._first;q&&0===q._startTime;)q._duration||(m=!1),q=q._next;b=0;this._initted||(a=!0)}else if(0===u&&0>T&&(a=!0),this._time=this._rawPrevTime=b,this._locked||(this._totalTime=
b,0!==this._repeat&&(q=u+this._repeatDelay,this._cycle=this._totalTime/q>>0,0!==this._cycle&&this._cycle===this._totalTime/q&&b>=y&&this._cycle--,this._time=this._totalTime-this._cycle*q,this._yoyo&&0!==(1&this._cycle)&&(this._time=u-this._time),this._time>u?(this._time=u,b=u+1E-4):0>this._time?this._time=b=0:b=this._time)),this._hasPause&&!this._forcingPlayhead&&!g){if(b=this._time,b>=k||this._repeat&&D!==this._cycle)for(q=this._first;q&&q._startTime<=b&&!h;)q._duration||"isPause"!==q.data||q.ratio||
0===q._startTime&&0===this._rawPrevTime||(h=q),q=q._next;else for(q=this._last;q&&q._startTime>=b&&!h;)q._duration||"isPause"===q.data&&0<q._rawPrevTime&&(h=q),q=q._prev;h&&h._startTime<u&&(this._time=b=h._startTime,this._totalTime=b+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==D&&!this._locked){q=this._yoyo&&0!==(1&D);var F=q===(this._yoyo&&0!==(1&this._cycle)),M=this._totalTime,z=this._cycle,ia=this._rawPrevTime,P=this._time;if((this._totalTime=D*u,this._cycle<D?q=!q:this._totalTime+=
u,this._time=k,this._rawPrevTime=0===u?T-1E-4:T,this._cycle=D,this._locked=!0,k=q?0:u,this.render(k,g,0===u),g||this._gc||this.vars.onRepeat&&(this._cycle=z,this._locked=!1,this._callback("onRepeat")),k!==this._time)||(F&&(this._cycle=D,this._locked=!0,k=q?u+1E-4:-1E-4,this.render(k,!0,!1)),this._locked=!1,this._paused&&!R))return;this._time=P;this._totalTime=M;this._cycle=z;this._rawPrevTime=ia}if(!(this._time!==k&&this._first||r||a||h))return void(y!==this._totalTime&&this._onUpdate&&(g||this._callback("onUpdate")));
if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==y&&0<b&&(this._active=!0),0===y&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||g||this._callback("onStart")),n=this._time,n>=k)for(q=this._first;q&&(c=q._next,n===this._time&&(!this._paused||R));)(q._active||q._startTime<=this._time&&!q._paused&&!q._gc)&&(h===q&&this.pause(),q._reversed?q.render((q._dirty?q.totalDuration():q._totalDuration)-(b-q._startTime)*q._timeScale,g,r):q.render((b-q._startTime)*
q._timeScale,g,r)),q=c;else for(q=this._last;q&&(c=q._prev,n===this._time&&(!this._paused||R));){if(q._active||q._startTime<=k&&!q._paused&&!q._gc){if(h===q){for(h=q._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(b-h._startTime)*h._timeScale:(b-h._startTime)*h._timeScale,g,r),h=h._prev;h=null;this.pause()}q._reversed?q.render((q._dirty?q.totalDuration():q._totalDuration)-(b-q._startTime)*q._timeScale,g,r):q.render((b-q._startTime)*q._timeScale,g,r)}q=c}this._onUpdate&&(g||
(e.length&&x(),this._callback("onUpdate")));d&&(this._locked||this._gc||(I===this._startTime||V!==this._timeScale)&&(0===this._time||w>=this.totalDuration())&&(m&&(e.length&&x(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!g&&this.vars[d]&&this._callback(d)))},m.getActive=function(b,e,g){null==b&&(b=!0);null==e&&(e=!0);null==g&&(g=!1);var q=[];g=this.getChildren(b,e,g);var r=0,c=g.length;for(b=0;c>b;b++)e=g[b],e.isActive()&&(q[r++]=e);return q},m.getLabelAfter=function(b){b||
0!==b&&(b=this._time);var e,g=this.getLabelsArray(),q=g.length;for(e=0;q>e;e++)if(g[e].time>b)return g[e].name;return null},m.getLabelBefore=function(b){null==b&&(b=this._time);for(var e=this.getLabelsArray(),g=e.length;-1<--g;)if(e[g].time<b)return e[g].name;return null},m.getLabelsArray=function(){var b,e=[],g=0;for(b in this._labels)e[g++]={time:this._labels[b],name:b};return e.sort(function(b,e){return b.time-e.time}),e},m.invalidate=function(){return this._locked=!1,k.prototype.invalidate.call(this)},
m.progress=function(b,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-b:b)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},m.totalProgress=function(b,e){return arguments.length?this.totalTime(this.totalDuration()*b,e):this._totalTime/this.totalDuration()||0},m.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(k.prototype.totalDuration.call(this),
this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},m.time=function(b,e){return arguments.length?(this._dirty&&this.totalDuration(),b>this._duration&&(b=this._duration),this._yoyo&&0!==(1&this._cycle)?b=this._duration-b+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(b+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(b,e)):this._time},m.repeat=function(b){return arguments.length?(this._repeat=
b,this._uncache(!0)):this._repeat},m.repeatDelay=function(b){return arguments.length?(this._repeatDelay=b,this._uncache(!0)):this._repeatDelay},m.yoyo=function(b){return arguments.length?(this._yoyo=b,this):this._yoyo},m.currentLabel=function(b){return arguments.length?this.seek(b,!0):this.getLabelBefore(this._time+1E-8)},u},!0);(function(){var k=180/Math.PI,y=[],m=[],u=[],g={},e=_gsScope._gsDefine.globals,x=function(b,e,g,c){g===c&&(g=c-(c-e)/1E6);b===e&&(e=b+(g-b)/1E6);this.a=b;this.b=e;this.c=
g;this.d=c;this.da=c-b;this.ca=g-b;this.ba=e-b},D=function(b,e,g,c){var d={a:b},a={},h={},n={c:c},q=(b+e)/2,r=(e+g)/2;g=(g+c)/2;e=(q+r)/2;var r=(r+g)/2,m=(r-e)/8;return d.b=q+(b-q)/4,a.b=e+m,d.c=a.a=(d.b+a.b)/2,a.c=h.a=(e+r)/2,h.b=r-m,n.b=g+(c-g)/4,h.c=n.a=(h.b+n.b)/2,[d,a,h,n]},w=function(b,e,k,c,d,a){var h,n,q,r,w={},G=[],N=a||b[0];d="string"==typeof d?","+d+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==e&&(e=1);for(n in b[0])G.push(n);if(1<b.length){q=b[b.length-1];r=!0;for(h=G.length;-1<--h;)if(n=G[h],.05<Math.abs(N[n]-q[n])){r=!1;break}r&&(b=b.concat(),a&&b.unshift(a),b.push(b[1]),a=b[b.length-3])}y.length=m.length=u.length=0;for(h=G.length;-1<--h;){n=G[h];g[n]=-1!==d.indexOf(","+n+",");q=n;var N=b,V=n,T=g[n],R=a,O=void 0,F,M,z=void 0;M=void 0;var I=[];if(R)for(N=[R].concat(N),F=N.length;-1<--F;)"string"==typeof(M=N[F][V])&&"\x3d"===M.charAt(1)&&(N[F][V]=R[V]+Number(M.charAt(0)+M.substr(2)));
if(O=N.length-2,0>O)N=(I[0]=new x(N[0][V],0,0,N[0][V]),I);else{for(F=0;O>F;F++)R=N[F][V],M=N[F+1][V],I[F]=new x(R,0,0,M),T&&(z=N[F+2][V],y[F]=(y[F]||0)+(M-R)*(M-R),m[F]=(m[F]||0)+(z-M)*(z-M));N=(I[F]=new x(N[F][V],0,0,N[F+1][V]),I)}w[q]=N}for(h=y.length;-1<--h;)y[h]=Math.sqrt(y[h]),m[h]=Math.sqrt(m[h]);if(!c){for(h=G.length;-1<--h;)if(g[n])for(b=w[G[h]],q=b.length-1,d=0;q>d;d++)a=b[d+1].da/m[d]+b[d].da/y[d]||0,u[d]=(u[d]||0)+a*a;for(h=u.length;-1<--h;)u[h]=Math.sqrt(u[h])}h=G.length;for(d=k?4:1;-1<
--h;){n=G[h];a=b=w[n];q=e;N=k;V=c;n=g[n];for(var P,Y=M=R=I=void 0,S=void 0,va=void 0,Z=void 0,pa=a.length-1,ja=0,aa=a[0].a,T=0;pa>T;T++)z=a[ja],O=z.a,F=z.d,P=a[ja+1].d,n?(S=y[T],va=m[T],Z=(va+S)*q*.25/(V?.5:u[T]||.5),I=F-(F-O)*(V?.5*q:0!==S?Z/S:0),R=F+(P-F)*(V?.5*q:0!==va?Z/va:0),M=F-(I+((R-I)*(3*S/(S+va)+.5)/4||0))):(I=F-(F-O)*q*.5,R=F+(P-F)*q*.5,M=F-(I+R)/2),I+=M,R+=M,z.c=P=I,0!==T?z.b=aa:z.b=aa=z.a+.6*(z.c-z.a),z.da=F-O,z.ca=P-O,z.ba=aa-O,N?(Y=D(O,aa,P,F),a.splice(ja,1,Y[0],Y[1],Y[2],Y[3]),ja+=
4):ja++,aa=R;z=a[ja];z.b=aa;z.c=aa+.4*(z.d-aa);z.da=z.d-z.a;z.ca=z.c-z.a;z.ba=aa-z.a;N&&(Y=D(z.a,aa,z.c,z.d),a.splice(ja,1,Y[0],Y[1],Y[2],Y[3]));r&&(b.splice(0,d),b.splice(b.length-d,d))}return w},b=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(b,e,g){this._target=b;e instanceof Array&&(e={values:e});this._func={};this._mod={};this._props=[];this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var c,d,a,h,n,q=e.values||[],m=
{};a=q[0];this._autoRotate=(d=e.autoRotate||g.vars.orientToBezier)?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null;for(c in a)this._props.push(c);for(a=this._props.length;-1<--a;)c=this._props[a],this._overwriteProps.push(c),d=this._func[c]="function"==typeof b[c],m[c]=d?b[c.indexOf("set")||"function"!=typeof b["get"+c.substr(3)]?c:"get"+c.substr(3)]():parseFloat(b[c]),n||m[c]!==q[0][c]&&(n=m);if("cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type)m=w(q,isNaN(e.curviness)?
1:e.curviness,!1,"thruBasic"===e.type,e.correlate,n);else{a=q;var q=(q=e.type)||"soft",k,r,u,y,G,D,I;e={};n="cubic"===q?3:2;var F="soft"===q,M=[];if(F&&m&&(a=[m].concat(a)),null==a||a.length<n+1)throw"invalid Bezier data";for(k in a[0])M.push(k);for(y=M.length;-1<--y;){k=M[y];e[k]=d=[];I=0;D=a.length;for(G=0;D>G;G++)q=null==m?a[G][k]:"string"==typeof(r=a[G][k])&&"\x3d"===r.charAt(1)?m[k]+Number(r.charAt(0)+r.substr(2)):Number(r),F&&1<G&&D-1>G&&(d[I++]=(q+d[I-2])/2),d[I++]=q;D=I-n+1;for(G=I=0;D>G;G+=
n)q=d[G],k=d[G+1],r=d[G+2],u=2===n?0:d[G+3],d[I++]=r=3===n?new x(q,k,r,u):new x(q,(2*k+q)/3,(2*k+r)/3,r);d.length=I}m=e}if(this._beziers=m,this._segCount=this._beziers[c].length,this._timeRes){d=this._beziers;c=this._timeRes;c=c>>0||6;m=[];k=[];a=r=0;e=c-1;n=[];q=[];for(h in d){y=d[h];G=m;D=c;var z,ia,P,Y,S,M=1/D;for(u=y.length;-1<--u;)for(P=y[u],ia=P.a,I=P.d-ia,F=P.c-ia,P=P.b-ia,ia=0,Y=1;D>=Y;Y++)z=M*Y,S=1-z,z=ia-(ia=(z*z*I+3*S*(z*F+S*P))*z),S=u*D+Y-1,G[S]=(G[S]||0)+z*z}d=m.length;for(h=0;d>h;h++)r+=
Math.sqrt(m[h]),y=h%c,q[y]=r,y===e&&(a+=r,y=h/c>>0,n[y]=q,k[y]=a,r=0,q=[]);this._length=a;this._lengths=k;this._segments=n;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),a=d.length;-1<--a;){for(h=0;3>h;h++)c=d[a][h],this._func[c]="function"==typeof b[c]?b[c.indexOf("set")||"function"!=typeof b["get"+
c.substr(3)]?c:"get"+c.substr(3)]:!1;c=d[a][2];this._initialRotations[a]=(this._func[c]?this._func[c].call(this._target):this._target[c])||0;this._overwriteProps.push(c)}return this._startRatio=g.vars.runBackwards?1:0,!0},set:function(b){var e,g,c,d,a,h;a=this._segCount;var n=this._func,m=this._target,r=b!==this._startRatio;if(this._timeRes){if(e=this._lengths,d=this._curSeg,b*=this._length,c=this._li,b>this._l2&&a-1>c){for(--a;a>c&&(this._l2=e[++c])<=b;);this._l1=e[c-1];this._li=c;this._curSeg=d=
this._segments[c];this._s2=d[this._s1=this._si=0]}else if(b<this._l1&&0<c){for(;0<c&&(this._l1=e[--c])>=b;);0===c&&b<this._l1?this._l1=0:c++;this._l2=e[c];this._li=c;this._curSeg=d=this._segments[c];this._s1=d[(this._si=d.length-1)-1]||0;this._s2=d[this._si]}if(e=c,b-=this._l1,c=this._si,b>this._s2&&c<d.length-1){for(a=d.length-1;a>c&&(this._s2=d[++c])<=b;);this._s1=d[c-1];this._si=c}else if(b<this._s1&&0<c){for(;0<c&&(this._s1=d[--c])>=b;);0===c&&b<this._s1?this._s1=0:c++;this._s2=d[c];this._si=
c}a=(c+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else e=0>b?0:1<=b?a-1:a*b>>0,a*=b-1/a*e;g=1-a;for(c=this._props.length;-1<--c;)b=this._props[c],d=this._beziers[b][e],h=(a*a*d.da+3*g*(a*d.ca+g*d.ba))*a+d.a,this._mod[b]&&(h=this._mod[b](h,m)),n[b]?m[b](h):m[b]=h;if(this._autoRotate){var u,y,w,x,D,I,O=this._autoRotate;for(c=O.length;-1<--c;)b=O[c][2],D=O[c][3]||0,I=!0===O[c][4]?1:k,d=this._beziers[O[c][0]],g=this._beziers[O[c][1]],d&&g&&(d=d[e],g=g[e],u=d.a+(d.b-d.a)*a,w=d.b+(d.c-d.b)*a,u+=(w-
u)*a,w+=(d.c+(d.d-d.c)*a-w)*a,y=g.a+(g.b-g.a)*a,x=g.b+(g.c-g.b)*a,y+=(x-y)*a,x+=(g.c+(g.d-g.c)*a-x)*a,h=r?Math.atan2(x-y,w-u)*I+D:this._initialRotations[c],this._mod[b]&&(h=this._mod[b](h,m)),n[b]?m[b](h):m[b]=h)}}}),I=b.prototype;b.bezierThrough=w;b.cubicToQuadratic=D;b._autoCSS=!0;b.quadraticToCubic=function(b,e,g){return new x(b,(2*e+b)/3,(2*e+g)/3,g)};b._cssRegister=function(){var g=e.CSSPlugin;if(g){var g=g._internals,m=g._parseToProxy,k=g._setPluginRatio,c=g.CSSPropTween;g._registerComplexSpecialProp("bezier",
{parser:function(d,a,e,g,q,r){a instanceof Array&&(a={values:a});r=new b;var h,n,u=a.values,w=u.length-1,y=[],x={};if(0>w)return q;for(e=0;w>=e;e++)n=m(d,u[e],g,q,r,w!==e),y[e]=n.end;for(h in a)x[h]=a[h];return x.values=y,q=new c(d,"bezier",0,0,n.pt,2),q.data=n,q.plugin=r,q.setRatio=k,0===x.autoRotate&&(x.autoRotate=!0),!x.autoRotate||x.autoRotate instanceof Array||(e=!0===x.autoRotate?0:Number(x.autoRotate),x.autoRotate=null!=n.end.left?[["left","top","rotation",e,!1]]:null!=n.end.x?[["x","y","rotation",
e,!1]]:!1),x.autoRotate&&(g._transform||g._enableTransforms(!1),n.autoRotate=g._target._gsTransform,n.proxy.rotation=n.autoRotate.rotation||0,g._overwriteProps.push("rotation")),r._onInitTween(n.proxy,x,g._tween),q}})}};I._mod=function(b){for(var e,g=this._overwriteProps,c=g.length;-1<--c;)(e=b[g[c]])&&"function"==typeof e&&(this._mod[g[c]]=e)};I._kill=function(b){var e,g,c=this._props;for(e in this._beziers)if(e in b)for(delete this._beziers[e],delete this._func[e],g=c.length;-1<--g;)c[g]===e&&c.splice(g,
1);if(c=this._autoRotate)for(g=c.length;-1<--g;)b[c[g][2]]&&c.splice(g,1);return this._super._kill.call(this,b)}})();_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(k,y){var m,u,g,e,x=function(){k.call(this,"css");this._overwriteProps.length=0;this.setRatio=x.prototype.setRatio},D=_gsScope._gsDefine.globals,w={},b=x.prototype=new k("css");b.constructor=x;x.version="2.0.2";x.API=2;x.defaultTransformPerspective=0;x.defaultSkewType="compensated";x.defaultSmoothOrigin=
!0;b="px";x.suffixMap={top:b,right:b,bottom:b,left:b,width:b,height:b,fontSize:b,padding:b,margin:b,perspective:b,lineHeight:""};var I,r,q,G,c,d,a,h,n=/(?:\-|\.|\b)(\d|\.|e\-)+/g,oa=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,X=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,ta=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,ua=/(?:\d|\-|\+|=|#|\.)*/g,N=/opacity *= *([^)]*)/i,V=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,R=/^(rgb|hsl)/,O=/([A-Z])/g,F=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
z=function(a,f){return f.toUpperCase()},ia=/(?:Left|Right|Width)/i,P=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,Y=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,S=/,(?=[^\)]*(?:\(|$))/gi,va=/[\s,\(]/i,Z=Math.PI/180,pa=180/Math.PI,ja={},aa={style:{}},fa=_gsScope.document||{createElement:function(){return aa}},Ba=function(a,f){return fa.createElementNS?fa.createElementNS(f||"http://www.w3.org/1999/xhtml",a):fa.createElement(a)},ka=Ba("div"),Ca=Ba("img"),ca=x._internals={_specialProps:w},da=(_gsScope.navigator||
{}).userAgent||"",ra=function(){var a=da.indexOf("Android"),f=Ba("a");return q=-1!==da.indexOf("Safari")&&-1===da.indexOf("Chrome")&&(-1===a||3<parseFloat(da.substr(a+8,2))),c=q&&6>parseFloat(da.substr(da.indexOf("Version/")+8,2)),G=-1!==da.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(da)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(da))&&(d=parseFloat(RegExp.$1)),f?(f.style.cssText="top:1px;opacity:.55;",/^0.55/.test(f.style.opacity)):!1}(),wa=function(a){return N.test("string"==typeof a?
a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},za="",Da="",xa=function(a,f){f=f||ka;var l,d=f.style;if(void 0!==d[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);f=["O","Moz","ms","Ms","Webkit"];for(l=5;-1<--l&&void 0===d[f[l]+a];);return 0<=l?(Da=3===l?"ms":f[l],za="-"+Da.toLowerCase()+"-",Da+a):null},la=("undefined"!=typeof window?window:fa.defaultView||{getComputedStyle:function(){}}).getComputedStyle,L=x.getStyle=function(a,f,d,c,B){var l;return ra||
"opacity"!==f?(!c&&a.style[f]?l=a.style[f]:(d=d||la(a))?l=d[f]||d.getPropertyValue(f)||d.getPropertyValue(f.replace(O,"-$1").toLowerCase()):a.currentStyle&&(l=a.currentStyle[f]),null==B||l&&"none"!==l&&"auto"!==l&&"auto auto"!==l?l:B):wa(a)},f=ca.convertToPixels=function(a,d,c,b,B){if("px"===b||!b&&"lineHeight"!==d)return c;if("auto"===b||!c)return 0;var l,e,C,U=ia.test(d),A=a;l=ka.style;var h=0>c,p=1===c;if(h&&(c=-c),p&&(c*=100),"lineHeight"!==d||b)if("%"===b&&-1!==d.indexOf("border"))l=c/100*(U?
a.clientWidth:a.clientHeight);else{if(l.cssText="border:0 solid red;position:"+L(a,"position")+";line-height:0;","%"!==b&&A.appendChild&&"v"!==b.charAt(0)&&"rem"!==b)l[U?"borderLeftWidth":"borderTopWidth"]=c+b;else{if(A=a.parentNode||fa.body,-1!==L(A,"display").indexOf("flex")&&(l.position="absolute"),e=A._gsCache,C=y.ticker.frame,e&&U&&e.time===C)return e.width*c/100;l[U?"width":"height"]=c+b}A.appendChild(ka);l=parseFloat(ka[U?"offsetWidth":"offsetHeight"]);A.removeChild(ka);U&&"%"===b&&!1!==x.cacheWidths&&
(e=A._gsCache=A._gsCache||{},e.time=C,e.width=l/c*100);0!==l||B||(l=f(a,d,c,b,!0))}else e=la(a).lineHeight,a.style.lineHeight=c,l=parseFloat(la(a).lineHeight),a.style.lineHeight=e;return p&&(l/=100),h?-l:l},t=ca.calculateOffset=function(a,d,c){if("absolute"!==L(a,"position",c))return 0;var l="left"===d?"Left":"Top";c=L(a,"margin"+l,c);return a["offset"+l]-(f(a,d,parseFloat(c),c.replace(ua,""))||0)},p=function(a,f){var l,d,c,b={};if(f=f||la(a,null))if(l=f.length)for(;-1<--l;)c=f[l],-1!==c.indexOf("-transform")&&
Na!==c||(b[c.replace(F,z)]=f.getPropertyValue(c));else for(l in f)-1!==l.indexOf("Transform")&&ga!==l||(b[l]=f[l]);else if(f=a.currentStyle||a.style)for(l in f)"string"==typeof l&&void 0===b[l]&&(b[l.replace(F,z)]=f[l]);return ra||(b.opacity=wa(a)),d=Fa(a,f,!1),b.rotation=d.rotation,b.skewX=d.skewX,b.scaleX=d.scaleX,b.scaleY=d.scaleY,b.x=d.x,b.y=d.y,qa&&(b.z=d.z,b.rotationX=d.rotationX,b.rotationY=d.rotationY,b.scaleZ=d.scaleZ),b.filters&&delete b.filters,b},v=function(a,f,d,c,b){var l,B,e,C={},h=
a.style;for(B in d)"cssText"!==B&&"length"!==B&&isNaN(B)&&(f[B]!==(l=d[B])||b&&b[B])&&-1===B.indexOf("Origin")&&("number"==typeof l||"string"==typeof l)&&(C[B]="auto"!==l||"left"!==B&&"top"!==B?""!==l&&"auto"!==l&&"none"!==l||"string"!=typeof f[B]||""===f[B].replace(ta,"")?l:0:t(a,B),void 0!==h[B]&&(e=new Oa(h,B,h[B],e)));if(c)for(B in c)"className"!==B&&(C[B]=c[B]);return{difs:C,firstMPT:e}},E={width:["Left","Right"],height:["Top","Bottom"]},ya=["marginLeft","marginRight","marginTop","marginBottom"],
Q=function(a,f){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";null!=a&&""!==a||(a="0 0");var l=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":l[0],c=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":l[1];if(3<l.length&&!f){l=a.split(", ").join(",").split(",");a=[];for(f=0;f<l.length;f++)a.push(Q(l[f]));return a.join(",")}return null==c?c="center"===d?"50%":"0":"center"===c&&(c="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("\x3d"))&&
(d="50%"),a=d+" "+c+(2<l.length?" "+l[2]:""),f&&(f.oxp=-1!==d.indexOf("%"),f.oyp=-1!==c.indexOf("%"),f.oxr="\x3d"===d.charAt(1),f.oyr="\x3d"===c.charAt(1),f.ox=parseFloat(d.replace(ta,"")),f.oy=parseFloat(c.replace(ta,"")),f.v=a),f||a},K=function(f,d){return"function"==typeof f&&(f=f(h,a)),"string"==typeof f&&"\x3d"===f.charAt(1)?parseInt(f.charAt(0)+"1",10)*parseFloat(f.substr(2)):parseFloat(f)-parseFloat(d)||0},J=function(f,d){"function"==typeof f&&(f=f(h,a));var c="string"==typeof f&&"\x3d"===
f.charAt(1);return"string"==typeof f&&"v"===f.charAt(f.length-2)&&(f=(c?f.substr(0,2):0)+window["inner"+("vh"===f.substr(-2)?"Height":"Width")]*(parseFloat(c?f.substr(2):f)/100)),null==f?d:c?parseInt(f.charAt(0)+"1",10)*parseFloat(f.substr(2))+d:parseFloat(f)||0},ba=function(f,d,c,b){var l,e,C,A;return"function"==typeof f&&(f=f(h,a)),null==f?C=d:"number"==typeof f?C=f:(l=f.split("_"),A="\x3d"===f.charAt(1),e=(A?parseInt(f.charAt(0)+"1",10)*parseFloat(l[0].substr(2)):parseFloat(l[0]))*(-1===f.indexOf("rad")?
1:pa)-(A?0:d),l.length&&(b&&(b[c]=d+e),-1!==f.indexOf("short")&&(e%=360,e!==e%180&&(e=0>e?e+360:e-360)),-1!==f.indexOf("_cw")&&0>e?e=(e+3599999999640)%360-360*(e/360|0):-1!==f.indexOf("ccw")&&0<e&&(e=(e-3599999999640)%360-360*(e/360|0))),C=d+e),1E-6>C&&-1E-6<C&&(C=0),C},ma={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],
gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Pa=function(a,f,d){return a=0>a?a+1:1<a?a-1:a,255*(1>6*a?f+(d-f)*a*6:.5>a?d:2>3*a?f+(d-f)*(2/3-a)*6:f)+.5|0},Ja=x.parseColor=function(a,f){var d,c,b,l,e,C,h,p,t,g,v;if(a)if("number"==typeof a)d=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ma[a])d=ma[a];else if("#"===a.charAt(0))4===a.length&&(c=a.charAt(1),b=a.charAt(2),l=a.charAt(3),
a="#"+c+c+b+b+l+l),a=parseInt(a.substr(1),16),d=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(d=v=a.match(n),f){if(-1!==a.indexOf("\x3d"))return a.match(oa)}else e=Number(d[0])%360/360,C=Number(d[1])/100,h=Number(d[2])/100,b=.5>=h?h*(C+1):h+C-h*C,c=2*h-b,3<d.length&&(d[3]=Number(d[3])),d[0]=Pa(e+1/3,c,b),d[1]=Pa(e,c,b),d[2]=Pa(e-1/3,c,b);else d=a.match(n)||ma.transparent;d[0]=Number(d[0]);d[1]=Number(d[1]);d[2]=Number(d[2]);3<d.length&&(d[3]=Number(d[3]))}else d=ma.black;return f&&!v&&(c=
d[0]/255,b=d[1]/255,l=d[2]/255,p=Math.max(c,b,l),t=Math.min(c,b,l),h=(p+t)/2,p===t?e=C=0:(g=p-t,C=.5<h?g/(2-p-t):g/(p+t),e=p===c?(b-l)/g+(l>b?6:0):p===b?(l-c)/g+2:(c-b)/g+4,e*=60),d[0]=e+.5|0,d[1]=100*C+.5|0,d[2]=100*h+.5|0),d},Wa=function(a,f){var d,c,b,l=a.match(na)||[],e=0,C="";if(!l.length)return a;for(d=0;d<l.length;d++)c=l[d],b=a.substr(e,a.indexOf(c,e)-e),e+=b.length+c.length,c=Ja(c,f),3===c.length&&c.push(1),C+=b+(f?"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]:"rgba("+c.join(","))+")";return C+
a.substr(e)},na="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(b in ma)na+="|"+b+"\\b";na=new RegExp(na+")","gi");x.colorStringFilter=function(a){var f,d=a[0]+" "+a[1];na.test(d)&&(f=-1!==d.indexOf("hsl(")||-1!==d.indexOf("hsla("),a[0]=Wa(a[0],f),a[1]=Wa(a[1],f));na.lastIndex=0};y.defaultStringFilter||(y.defaultStringFilter=x.colorStringFilter);var Qa=function(a,f,d,c){if(null==a)return function(a){return a};var b,e=f?(a.match(na)||[""])[0]:"",l=a.split(e).join("").match(X)||
[],C=a.substr(0,a.indexOf(l[0])),h=")"===a.charAt(a.length-1)?")":"",p=-1!==a.indexOf(" ")?" ":",",A=l.length,t=0<A?l[0].replace(n,""):"";return A?b=f?function(a){var f,B,H;if("number"==typeof a)a+=t;else if(c&&S.test(a)){a=a.replace(S,"|").split("|");for(H=0;H<a.length;H++)a[H]=b(a[H]);return a.join(",")}if(f=(a.match(na)||[e])[0],B=a.split(f).join("").match(X)||[],H=B.length,A>H--)for(;++H<A;)B[H]=d?B[(H-1)/2|0]:l[H];return C+B.join(p)+p+f+h+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var f,
e;if("number"==typeof a)a+=t;else if(c&&S.test(a)){a=a.replace(S,"|").split("|");for(e=0;e<a.length;e++)a[e]=b(a[e]);return a.join(",")}if(f=a.match(X)||[],e=f.length,A>e--)for(;++e<A;)f[e]=d?f[(e-1)/2|0]:l[e];return C+f.join(p)+h}:function(a){return a}},Ra=function(a){return a=a.split(","),function(f,d,c,b,e,l,h){c=(d+"").split(" ");h={};for(d=0;4>d;d++)h[a[d]]=c[d]=c[d]||c[(d-1)/2>>0];return b.parse(f,h,e,l)}},Oa=(ca._setPluginRatio=function(a){this.plugin.setRatio(a);var f,d,c;c=this.data;for(var b=
c.proxy,e=c.firstMPT;e;)f=b[e.v],e.r?f=e.r(f):1E-6>f&&-1E-6<f&&(f=0),e.t[e.p]=f,e=e._next;if(c.autoRotate&&(c.autoRotate.rotation=c.mod?c.mod.call(this._tween,b.rotation,this.t,this._tween):b.rotation),1===a||0===a)for(e=c.firstMPT,c=1===a?"e":"b";e;){if(d=e.t,d.type){if(1===d.type){f=d.xs0+d.s+d.xs1;for(a=1;a<d.l;a++)f+=d["xn"+a]+d["xs"+(a+1)];d[c]=f}}else d[c]=d.s+d.xs0;e=e._next}},function(a,f,d,c,b){this.t=a;this.p=f;this.v=d;this.r=b;c&&(c._prev=this,this._next=c)}),ea=(ca._parseToProxy=function(a,
f,d,c,b,e){var l,B,h,C=c,p={},t={};B=d._transform;var g=ja;d._transform=null;ja=f;c=a=d.parse(a,f,c,b);ja=g;for(e&&(d._transform=B,C&&(C._prev=null,C._prev&&(C._prev._next=null)));c&&c!==C;){if(1>=c.type&&(l=c.p,t[l]=c.s+c.c,p[l]=c.s,e||(h=new Oa(c,"s",l,h,c.r),c.c=0),1===c.type))for(d=c.l;0<--d;)B="xn"+d,l=c.p+"_"+B,t[l]=c.data[B],p[l]=c[B],e||(h=new Oa(c,B,l,h,c.rxp[B]));c=c._next}return{proxy:p,end:t,firstMPT:h,pt:a}},ca.CSSPropTween=function(a,f,d,c,b,h,H,p,t,g,v){this.t=a;this.p=f;this.s=d;this.c=
c;this.n=H||f;a instanceof ea||e.push(this.n);this.r=p?"function"==typeof p?p:Math.round:p;this.type=h||0;t&&(this.pr=t,m=!0);this.b=void 0===g?d:g;this.e=void 0===v?d+c:v;b&&(this._next=b,b._prev=this)}),Ka=function(a,f,d,c,b,e){a=new ea(a,f,d,c-d,b,-1,e);return a.b=d,a.e=a.xs0=c,a},Ga=x.parseComplex=function(f,d,c,b,e,p,H,t,g,v){c=c||p||"";"function"==typeof b&&(b=b(h,a));H=new ea(f,d,0,0,H,v?2:1,null,!1,t,c,b);b+="";e&&na.test(b+c)&&(b=[c,b],x.colorStringFilter(b),c=b[0],b=b[1]);var B,l,C,A,sa;
f=c.split(", ").join(",").split(" ");d=b.split(", ").join(",").split(" ");t=f.length;var U=!1!==I;(-1!==b.indexOf(",")||-1!==c.indexOf(","))&&(-1!==(b+c).indexOf("rgb")||-1!==(b+c).indexOf("hsl")?(f=f.join(" ").replace(S,", ").split(" "),d=d.join(" ").replace(S,", ").split(" ")):(f=f.join(" ").split(",").join(", ").split(" "),d=d.join(" ").split(",").join(", ").split(" ")),t=f.length);t!==d.length&&(f=(p||"").split(" "),t=f.length);H.plugin=g;H.setRatio=v;for(c=na.lastIndex=0;t>c;c++)if(l=f[c],g=
d[c]+"",A=parseFloat(l),A||0===A)H.appendXtra("",A,K(g,A),g.replace(oa,""),U&&-1!==g.indexOf("px")?Math.round:!1,!0);else if(e&&na.test(l))B=g.indexOf(")")+1,B=")"+(B?g.substr(B):""),sa=-1!==g.indexOf("hsl")&&ra,p=g,l=Ja(l,sa),g=Ja(g,sa),(v=6<l.length+g.length)&&!ra&&0===g[3]?(H["xs"+H.l]+=H.l?" transparent":"transparent",H.e=H.e.split(d[c]).join("transparent")):(ra||(v=!1),sa?H.appendXtra(p.substr(0,p.indexOf("hsl"))+(v?"hsla(":"hsl("),l[0],K(g[0],l[0]),",",!1,!0).appendXtra("",l[1],K(g[1],l[1]),
"%,",!1).appendXtra("",l[2],K(g[2],l[2]),v?"%,":"%"+B,!1):H.appendXtra(p.substr(0,p.indexOf("rgb"))+(v?"rgba(":"rgb("),l[0],g[0]-l[0],",",Math.round,!0).appendXtra("",l[1],g[1]-l[1],",",Math.round).appendXtra("",l[2],g[2]-l[2],v?",":B,Math.round),v&&(l=4>l.length?1:l[3],H.appendXtra("",l,(4>g.length?1:g[3])-l,B,!1))),na.lastIndex=0;else if(v=l.match(n)){if(C=g.match(oa),!C||C.length!==v.length)return H;for(g=B=0;g<v.length;g++)sa=v[g],p=l.indexOf(sa,B),H.appendXtra(l.substr(B,p-B),Number(sa),K(C[g],
sa),"",U&&"px"===l.substr(p+sa.length,2)?Math.round:!1,0===g),B=p+sa.length;H["xs"+H.l]+=l.substr(B)}else H["xs"+H.l]+=H.l||H["xs"+H.l]?" "+g:g;if(-1!==b.indexOf("\x3d")&&H.data){B=H.xs0+H.data.s;for(c=1;c<H.l;c++)B+=H["xs"+c]+H.data["xn"+c];H.e=B+H["xs"+c]}return H.l||(H.type=-1,H.xs0=H.e),H.xfirst||H},ha=9,b=ea.prototype;for(b.l=b.pr=0;0<--ha;)b["xn"+ha]=0,b["xs"+ha]="";b.xs0="";b._next=b._prev=b.xfirst=b.data=b.plugin=b.setRatio=b.rxp=null;b.appendXtra=function(a,f,d,c,b,e){var l=this.l;return this["xs"+
l]+=e&&(l||this["xs"+l])?" "+a:a||"",d||0===l||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=c||"",0<l?(this.data["xn"+l]=f+d,this.rxp["xn"+l]=b,this["xn"+l]=f,this.plugin||(this.xfirst=new ea(this,"xn"+l,f,d,this.xfirst||this,0,this.n,b,this.pr),this.xfirst.xs0=0),this):(this.data={s:f+d},this.rxp={},this.s=f,this.c=d,this.r=b,this)):(this["xs"+l]+=f+(c||""),this)};var Xa=function(a,f){f=f||{};this.p=f.prefix?xa(a)||a:a;w[a]=w[this.p]=this;this.format=f.formatter||Qa(f.defaultValue,
f.color,f.collapsible,f.multi);f.parser&&(this.parse=f.parser);this.clrs=f.color;this.multi=f.multi;this.keyword=f.keyword;this.dflt=f.defaultValue;this.pr=f.priority||0},W=ca._registerComplexSpecialProp=function(a,f,d){"object"!=typeof f&&(f={parser:d});var c=a.split(","),b=f.defaultValue;d=d||[b];for(a=0;a<c.length;a++)f.prefix=0===a&&f.prefix,f.defaultValue=d[a]||b,new Xa(c[a],f)},ab=ca._registerPluginProp=function(a){if(!w[a]){var f=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";W(a,{parser:function(a,
d,c,b,e,l,h){var B=D.com.greensock.plugins[f];B?a=(B._cssRegister(),w[c].parse(a,d,c,b,e,l,h)):(_gsScope.console&&console.log("Error: "+f+" js file not loaded."),a=e);return a}})}},b=Xa.prototype;b.parseComplex=function(a,f,d,c,b,e){var l,B,h,g,p,t,C=this.keyword;if(this.multi&&(S.test(d)||S.test(f)?(B=f.replace(S,"|").split("|"),h=d.replace(S,"|").split("|")):C&&(B=[f],h=[d])),h){g=h.length>B.length?h.length:B.length;for(l=0;g>l;l++)f=B[l]=B[l]||this.dflt,d=h[l]=h[l]||this.dflt,C&&(p=f.indexOf(C),
t=d.indexOf(C),p!==t&&(-1===t?B[l]=B[l].split(C).join(""):-1===p&&(B[l]+=" "+C)));f=B.join(", ");d=h.join(", ")}return Ga(a,this.p,f,d,this.clrs,this.dflt,c,this.pr,b,e)};b.parse=function(a,f,d,c,b,e,h){return this.parseComplex(a.style,this.format(L(a,this.p,g,!1,this.dflt)),this.format(f),b,e)};x.registerSpecialProp=function(a,f,d){W(a,{parser:function(a,c,b,e,l,h,p){l=new ea(a,b,0,0,l,2,b,!1,d);return l.plugin=h,l.setRatio=f(a,c,e._tween,b),l},priority:d})};x.useSVGTransformAttr=!0;var Aa,Ya="scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "),
ga=xa("transform"),Na=za+"transform",Ha=xa("transformOrigin"),qa=null!==xa("perspective"),La=ca.Transform=function(){this.perspective=parseFloat(x.defaultTransformPerspective)||0;this.force3D=!1!==x.defaultForce3D&&qa?x.defaultForce3D||"auto":!1},bb=_gsScope.SVGElement,Za=function(a,f,d){var c;a=fa.createElementNS("http://www.w3.org/2000/svg",a);var b=/([a-z])([A-Z])/g;for(c in d)a.setAttributeNS(null,c.replace(b,"$1-$2").toLowerCase(),d[c]);return f.appendChild(a),a},Ea=fa.documentElement||{},cb=
function(){var a,f,c,b=d||/Android/i.test(da)&&!_gsScope.chrome;return fa.createElementNS&&!b&&(a=Za("svg",Ea),f=Za("rect",a,{width:100,height:50,x:100}),c=f.getBoundingClientRect().width,f.style[Ha]="50% 50%",f.style[ga]="scaleX(0.5)",b=c===f.getBoundingClientRect().width&&!(G&&qa),Ea.removeChild(a)),b}(),Ua=function(a,f,d,c,b,e){var B,l,h,p,g,t,C,v,A,n,m,k,q,U=a._gsTransform,E=Sa(a,!0);U&&(k=U.xOrigin,q=U.yOrigin);(!c||2>(B=c.split(" ")).length)&&(t=a.getBBox(),0===t.x&&0===t.y&&0===t.width+t.height&&
(t={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),f=Q(f).split(" "),B=[(-1!==f[0].indexOf("%")?parseFloat(f[0])/100*t.width:parseFloat(f[0]))+t.x,(-1!==f[1].indexOf("%")?parseFloat(f[1])/100*t.height:parseFloat(f[1]))+t.y]);d.xOrigin=f=parseFloat(B[0]);d.yOrigin=p=parseFloat(B[1]);c&&E!==Ta&&(g=E[0],t=E[1],C=E[2],v=E[3],A=E[4],
n=E[5],m=g*v-t*C,m&&(l=v/m*f+-C/m*p+(C*n-v*A)/m,h=-t/m*f+g/m*p-(g*n-t*A)/m,f=d.xOrigin=B[0]=l,p=d.yOrigin=B[1]=h));U&&(e&&(d.xOffset=U.xOffset,d.yOffset=U.yOffset,U=d),b||!1!==b&&!1!==x.defaultSmoothOrigin?(l=f-k,h=p-q,U.xOffset+=l*E[0]+h*E[2]-l,U.yOffset+=l*E[1]+h*E[3]-h):U.xOffset=U.yOffset=0);e||a.setAttribute("data-svg-origin",B.join(" "))},$a=function(a){var f,d=Ba("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),c=this.parentNode,b=this.nextSibling,
e=this.style.cssText;if(Ea.appendChild(d),d.appendChild(this),this.style.display="block",a)try{f=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=$a}catch(H){}else this._originalGetBBox&&(f=this._originalGetBBox());return b?c.insertBefore(this,b):c.appendChild(this),Ea.removeChild(d),this.style.cssText=e,f},Va=function(a){var f;if(!(f=!bb||!a.getCTM||a.parentNode&&!a.ownerSVGElement)){var d;try{d=a.getBBox()}catch(A){d=$a.call(a,!0)}f=!d}return!f},Ta=[1,0,0,1,0,0],Sa=function(a,f){var d,
c,b,e,l,h,p=a._gsTransform||new La,g=a.style;if(ga?c=L(a,Na,null,!0):a.currentStyle&&(c=a.currentStyle.filter.match(P),c=c&&4===c.length?[c[0].substr(4),Number(c[2].substr(4)),Number(c[1].substr(4)),c[3].substr(4),p.x||0,p.y||0].join():""),d=!c||"none"===c||"matrix(1, 0, 0, 1, 0, 0)"===c,!ga||!(h=!la(a)||"none"===la(a).display)&&a.parentNode||(h&&(e=g.display,g.display="block"),a.parentNode||(l=1,Ea.appendChild(a)),c=L(a,Na,null,!0),d=!c||"none"===c||"matrix(1, 0, 0, 1, 0, 0)"===c,e?g.display=e:h&&
Ia(g,"display"),l&&Ea.removeChild(a)),(p.svg||a.getCTM&&Va(a))&&(d&&-1!==(g[ga]+"").indexOf("matrix")&&(c=g[ga],d=0),b=a.getAttribute("transform"),d&&b&&(b=a.transform.baseVal.consolidate().matrix,c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")",d=0)),d)return Ta;b=(c||"").match(n)||[];for(ha=b.length;-1<--ha;)e=Number(b[ha]),b[ha]=(l=e-(e|=0))?(1E5*l+(0>l?-.5:.5)|0)/1E5+e:e;return f&&6<b.length?[b[0],b[1],b[4],b[5],b[12],b[13]]:b},Fa=ca.getTransform=function(a,f,d,c){if(a._gsTransform&&
d&&!c)return a._gsTransform;var b,e,h,l=d?a._gsTransform||new La:new La,g=0>l.scaleX,p=qa?parseFloat(L(a,Ha,f,!1,"0 0 0").split(" ")[2])||l.zOrigin||0:0,t=parseFloat(x.defaultTransformPerspective)||0;if(l.svg=!(!a.getCTM||!Va(a)),l.svg&&(Ua(a,L(a,Ha,f,!1,"50% 50%")+"",l,a.getAttribute("data-svg-origin")),Aa=x.useSVGTransformAttr||cb),b=Sa(a),b!==Ta){if(16===b.length){var C,v,n,m,t=b[0];f=b[1];c=b[2];var A=b[3],k=b[4],q=b[5],E=b[6],U=b[7],K=b[8],r=b[9],u=b[10],ya=b[12],Q=b[13],z=b[14],w=b[11],J=Math.atan2(E,
u);l.zOrigin&&(z=-l.zOrigin,ya=K*z-b[12],Q=r*z-b[13],z=u*z+l.zOrigin-b[14]);l.rotationX=J*pa;J&&(m=Math.cos(-J),h=Math.sin(-J),C=k*m+K*h,v=q*m+r*h,n=E*m+u*h,K=k*-h+K*m,r=q*-h+r*m,u=E*-h+u*m,w=U*-h+w*m,k=C,q=v,E=n);J=Math.atan2(-c,u);l.rotationY=J*pa;J&&(m=Math.cos(-J),h=Math.sin(-J),C=t*m-K*h,v=f*m-r*h,n=c*m-u*h,r=f*h+r*m,u=c*h+u*m,w=A*h+w*m,t=C,f=v,c=n);J=Math.atan2(f,t);l.rotation=J*pa;J&&(m=Math.cos(J),h=Math.sin(J),C=t*m+f*h,v=k*m+q*h,n=K*m+r*h,f=f*m-t*h,q=q*m-k*h,r=r*m-K*h,t=C,k=v,K=n);l.rotationX&&
359.9<Math.abs(l.rotationX)+Math.abs(l.rotation)&&(l.rotationX=l.rotation=0,l.rotationY=180-l.rotationY);J=Math.atan2(k,q);l.scaleX=(1E5*Math.sqrt(t*t+f*f+c*c)+.5|0)/1E5;l.scaleY=(1E5*Math.sqrt(q*q+E*E)+.5|0)/1E5;l.scaleZ=(1E5*Math.sqrt(K*K+r*r+u*u)+.5|0)/1E5;t/=l.scaleX;k/=l.scaleY;f/=l.scaleX;q/=l.scaleY;2E-5<Math.abs(J)?(l.skewX=J*pa,k=0,"simple"!==l.skewType&&(l.scaleY*=1/Math.cos(J))):l.skewX=0;l.perspective=w?1/(0>w?-w:w):0;l.x=ya;l.y=Q;l.z=z;l.svg&&(l.x-=l.xOrigin-(l.xOrigin*t-l.yOrigin*k),
l.y-=l.yOrigin-(l.yOrigin*f-l.xOrigin*q))}else qa&&!c&&b.length&&l.x===b[4]&&l.y===b[5]&&(l.rotationX||l.rotationY)||(C=(m=6<=b.length)?b[0]:1,v=b[1]||0,n=b[2]||0,m=m?b[3]:1,l.x=b[4]||0,l.y=b[5]||0,b=Math.sqrt(C*C+v*v),h=Math.sqrt(m*m+n*n),f=C||v?Math.atan2(v,C)*pa:l.rotation||0,c=n||m?Math.atan2(n,m)*pa+f:l.skewX||0,l.scaleX=b,l.scaleY=h,l.rotation=f,l.skewX=c,qa&&(l.rotationX=l.rotationY=l.z=0,l.perspective=t,l.scaleZ=1),l.svg&&(l.x-=l.xOrigin-(l.xOrigin*C+l.yOrigin*n),l.y-=l.yOrigin-(l.xOrigin*
v+l.yOrigin*m)));90<Math.abs(l.skewX)&&270>Math.abs(l.skewX)&&(g?(l.scaleX*=-1,l.skewX+=0>=l.rotation?180:-180,l.rotation+=0>=l.rotation?180:-180):(l.scaleY*=-1,l.skewX+=0>=l.skewX?180:-180));l.zOrigin=p;for(e in l)2E-5>l[e]&&-2E-5<l[e]&&(l[e]=0)}return d&&(a._gsTransform=l,l.svg&&(Aa&&a.style[ga]?y.delayedCall(.001,function(){Ia(a.style,ga)}):!Aa&&a.getAttribute("transform")&&y.delayedCall(.001,function(){a.removeAttribute("transform")}))),l},db=function(a){var c,b,e=this.data,l=-e.rotation*Z,h=
l+e.skewX*Z,t=(Math.cos(l)*e.scaleX*1E5|0)/1E5,g=(Math.sin(l)*e.scaleX*1E5|0)/1E5,p=(Math.sin(h)*-e.scaleY*1E5|0)/1E5,v=(Math.cos(h)*e.scaleY*1E5|0)/1E5,h=this.t.style;if(l=this.t.currentStyle){b=g;g=-p;p=-b;c=l.filter;h.filter="";var m,n;b=this.t.offsetWidth;var k=this.t.offsetHeight,q="absolute"!==l.position,E="progid:DXImageTransform.Microsoft.Matrix(M11\x3d"+t+", M12\x3d"+g+", M21\x3d"+p+", M22\x3d"+v,K=e.x+b*e.xPercent/100,r=e.y+k*e.yPercent/100;if(null!=e.ox&&(m=(e.oxp?b*e.ox*.01:e.ox)-b/2,
n=(e.oyp?k*e.oy*.01:e.oy)-k/2,K+=m-(m*t+n*g),r+=n-(m*p+n*v)),q?(m=b/2,n=k/2,E+=", Dx\x3d"+(m-(m*t+n*g)+K)+", Dy\x3d"+(n-(m*p+n*v)+r)+")"):E+=", sizingMethod\x3d'auto expand')",-1!==c.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=c.replace(Y,E):h.filter=E+" "+c,(0===a||1===a)&&1===t&&0===g&&0===p&&1===v&&(q&&-1===E.indexOf("Dx\x3d0, Dy\x3d0")||N.test(c)&&100!==parseFloat(RegExp.$1)||-1===c.indexOf(c.indexOf("Alpha"))&&h.removeAttribute("filter")),!q)for(a=8>d?1:-1,m=e.ieOffsetX||0,n=e.ieOffsetY||
0,e.ieOffsetX=Math.round((b-((0>t?-t:t)*b+(0>g?-g:g)*k))/2+K),e.ieOffsetY=Math.round((k-((0>v?-v:v)*k+(0>p?-p:p)*b))/2+r),ha=0;4>ha;ha++)t=ya[ha],g=l[t],b=-1!==g.indexOf("px")?parseFloat(g):f(this.t,t,parseFloat(g),g.replace(ua,""))||0,g=b!==e[t]?2>ha?-e.ieOffsetX:-e.ieOffsetY:2>ha?m-e.ieOffsetX:n-e.ieOffsetY,h[t]=(e[t]=Math.round(b-g*(0===ha||2===ha?1:a)))+"px"}},eb=ca.set3DTransformRatio=ca.setTransformRatio=function(a){var f,c,d,b,e,l,h,g,t,p,v,m,n,k,q,E,K,r=this.data,u=this.t.style,w=r.rotation,
z=r.rotationX,ya=r.rotationY,Q=r.scaleX,x=r.scaleY,y=r.scaleZ,J=r.x,ba=r.y,D=r.z,F=r.svg,ma=r.perspective;h=r.force3D;g=r.skewY;t=r.skewX;if(g&&(t+=g,w+=g),!((1!==a&&0!==a||"auto"!==h||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&h||D||ma||ya||z)&&1===y||Aa&&F||!qa)return void(w||t||F?(w*=Z,l=t*Z,c=Math.cos(w)*Q,b=Math.sin(w)*Q,d=Math.sin(w-l)*-x,e=Math.cos(w-l)*x,l&&"simple"===r.skewType&&(f=Math.tan(l-g*Z),f=Math.sqrt(1+f*f),d*=f,e*=f,g&&(f=Math.tan(g*Z),f=Math.sqrt(1+
f*f),c*=f,b*=f)),F&&(J+=r.xOrigin-(r.xOrigin*c+r.yOrigin*d)+r.xOffset,ba+=r.yOrigin-(r.xOrigin*b+r.yOrigin*e)+r.yOffset,Aa&&(r.xPercent||r.yPercent)&&(k=this.t.getBBox(),J+=.01*r.xPercent*k.width,ba+=.01*r.yPercent*k.height),k=1E-6,k>J&&J>-k&&(J=0),k>ba&&ba>-k&&(ba=0)),n=(1E5*c|0)/1E5+","+(1E5*b|0)/1E5+","+(1E5*d|0)/1E5+","+(1E5*e|0)/1E5+","+J+","+ba+")",F&&Aa?this.t.setAttribute("transform","matrix("+n):u[ga]=(r.xPercent||r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) matrix(":"matrix(")+
n):u[ga]=(r.xPercent||r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) matrix(":"matrix(")+Q+",0,0,"+x+","+J+","+ba+")");if(G&&(k=1E-4,k>Q&&Q>-k&&(Q=y=2E-5),k>x&&x>-k&&(x=y=2E-5),!ma||r.z||r.rotationX||r.rotationY||(ma=0)),w||t)w*=Z,q=c=Math.cos(w),E=b=Math.sin(w),t&&(w-=t*Z,q=Math.cos(w),E=Math.sin(w),"simple"===r.skewType&&(f=Math.tan((t-g)*Z),f=Math.sqrt(1+f*f),q*=f,E*=f,r.skewY&&(f=Math.tan(g*Z),f=Math.sqrt(1+f*f),c*=f,b*=f))),d=-E,e=q;else{if(!(ya||z||1!==y||ma||F))return void(u[ga]=(r.xPercent||
r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) translate3d(":"translate3d(")+J+"px,"+ba+"px,"+D+"px)"+(1!==Q||1!==x?" scale("+Q+","+x+")":""));c=e=1;d=b=0}t=1;a=l=h=g=p=v=0;m=ma?-1/ma:0;n=r.zOrigin;k=1E-6;(w=ya*Z)&&(q=Math.cos(w),E=Math.sin(w),h=-E,p=m*-E,a=c*E,l=b*E,t=q,m*=q,c*=q,b*=q);(w=z*Z)&&(q=Math.cos(w),E=Math.sin(w),f=d*q+a*E,K=e*q+l*E,g=t*E,v=m*E,a=d*-E+a*q,l=e*-E+l*q,t*=q,m*=q,d=f,e=K);1!==y&&(a*=y,l*=y,t*=y,m*=y);1!==x&&(d*=x,e*=x,g*=x,v*=x);1!==Q&&(c*=Q,b*=Q,h*=Q,p*=Q);(n||F)&&
(n&&(J+=a*-n,ba+=l*-n,D+=t*-n+n),F&&(J+=r.xOrigin-(r.xOrigin*c+r.yOrigin*d)+r.xOffset,ba+=r.yOrigin-(r.xOrigin*b+r.yOrigin*e)+r.yOffset),k>J&&J>-k&&(J="0"),k>ba&&ba>-k&&(ba="0"),k>D&&D>-k&&(D=0));n=r.xPercent||r.yPercent?"translate("+r.xPercent+"%,"+r.yPercent+"%) matrix3d(":"matrix3d(";n=n+((k>c&&c>-k?"0":c)+","+(k>b&&b>-k?"0":b)+","+(k>h&&h>-k?"0":h))+(","+(k>p&&p>-k?"0":p)+","+(k>d&&d>-k?"0":d)+","+(k>e&&e>-k?"0":e));z||ya||1!==y?(n+=","+(k>g&&g>-k?"0":g)+","+(k>v&&v>-k?"0":v)+","+(k>a&&a>-k?"0":
a),n+=","+(k>l&&l>-k?"0":l)+","+(k>t&&t>-k?"0":t)+","+(k>m&&m>-k?"0":m)+","):n+=",0,0,0,0,1,0,";n+=J+","+ba+","+D+","+(ma?1+-D/ma:1)+")";u[ga]=n},b=La.prototype;b.x=b.y=b.z=b.skewX=b.skewY=b.rotation=b.rotationX=b.rotationY=b.zOrigin=b.xPercent=b.yPercent=b.xOffset=b.yOffset=0;b.scaleX=b.scaleY=b.scaleZ=1;W("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",
{parser:function(f,c,d,b,e,t,p){if(b._lastParsedTransform===p)return e;b._lastParsedTransform=p;var l,B=p.scale&&"function"==typeof p.scale?p.scale:0;"function"==typeof p[d]&&(l=p[d],p[d]=c);B&&(p.scale=B(h,f));var v,m,n,k,C,q,r,E;c=f._gsTransform;var H=f.style,K=Ya.length,w={},A=Fa(f,g,!0,p.parseTransform),u=p.transform&&("function"==typeof p.transform?p.transform(h,a):p.transform);if(A.skewType=p.skewType||A.skewType||x.defaultSkewType,b._transform=A,"rotationZ"in p&&(p.rotation=p.rotationZ),u&&
"string"==typeof u&&ga)m=ka.style,m[ga]=u,m.display="block",m.position="absolute",-1!==u.indexOf("%")&&(m.width=L(f,"width"),m.height=L(f,"height")),fa.body.appendChild(ka),v=Fa(ka,null,!1),"simple"===A.skewType&&(v.scaleY*=Math.cos(v.skewX*Z)),A.svg&&(C=A.xOrigin,q=A.yOrigin,v.x-=A.xOffset,v.y-=A.yOffset,(p.transformOrigin||p.svgOrigin)&&(u={},Ua(f,Q(p.transformOrigin),u,p.svgOrigin,p.smoothOrigin,!0),C=u.xOrigin,q=u.yOrigin,v.x-=u.xOffset-A.xOffset,v.y-=u.yOffset-A.yOffset),(C||q)&&(r=Sa(ka,!0),
v.x-=C-(C*r[0]+q*r[2]),v.y-=q-(C*r[1]+q*r[3]))),fa.body.removeChild(ka),v.perspective||(v.perspective=A.perspective),null!=p.xPercent&&(v.xPercent=J(p.xPercent,A.xPercent)),null!=p.yPercent&&(v.yPercent=J(p.yPercent,A.yPercent));else if("object"==typeof p){if(v={scaleX:J(null!=p.scaleX?p.scaleX:p.scale,A.scaleX),scaleY:J(null!=p.scaleY?p.scaleY:p.scale,A.scaleY),scaleZ:J(p.scaleZ,A.scaleZ),x:J(p.x,A.x),y:J(p.y,A.y),z:J(p.z,A.z),xPercent:J(p.xPercent,A.xPercent),yPercent:J(p.yPercent,A.yPercent),perspective:J(p.transformPerspective,
A.perspective)},n=p.directionalRotation,null!=n)if("object"==typeof n)for(m in n)p[m]=n[m];else p.rotation=n;"string"==typeof p.x&&-1!==p.x.indexOf("%")&&(v.x=0,v.xPercent=J(p.x,A.xPercent));"string"==typeof p.y&&-1!==p.y.indexOf("%")&&(v.y=0,v.yPercent=J(p.y,A.yPercent));v.rotation=ba("rotation"in p?p.rotation:"shortRotation"in p?p.shortRotation+"_short":A.rotation,A.rotation,"rotation",w);qa&&(v.rotationX=ba("rotationX"in p?p.rotationX:"shortRotationX"in p?p.shortRotationX+"_short":A.rotationX||
0,A.rotationX,"rotationX",w),v.rotationY=ba("rotationY"in p?p.rotationY:"shortRotationY"in p?p.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",w));v.skewX=ba(p.skewX,A.skewX);v.skewY=ba(p.skewY,A.skewY)}qa&&null!=p.force3D&&(A.force3D=p.force3D,k=!0);for((n=A.force3D||A.z||A.rotationX||A.rotationY||v.z||v.rotationX||v.rotationY||v.perspective)||null==p.scale||(v.scaleZ=1);-1<--K;)E=Ya[K],u=v[E]-A[E],(1E-6<u||-1E-6>u||null!=p[E]||null!=ja[E])&&(k=!0,e=new ea(A,E,A[E],u,e),E in w&&(e.e=
w[E]),e.xs0=0,e.plugin=t,b._overwriteProps.push(e.n));return u=p.transformOrigin,A.svg&&(u||p.svgOrigin)&&(C=A.xOffset,q=A.yOffset,Ua(f,Q(u),v,p.svgOrigin,p.smoothOrigin),e=Ka(A,"xOrigin",(c?A:v).xOrigin,v.xOrigin,e,"transformOrigin"),e=Ka(A,"yOrigin",(c?A:v).yOrigin,v.yOrigin,e,"transformOrigin"),(C!==A.xOffset||q!==A.yOffset)&&(e=Ka(A,"xOffset",c?C:A.xOffset,A.xOffset,e,"transformOrigin"),e=Ka(A,"yOffset",c?q:A.yOffset,A.yOffset,e,"transformOrigin")),u="0px 0px"),(u||qa&&n&&A.zOrigin)&&(ga?(k=!0,
E=Ha,u=(u||L(f,E,g,!1,"50% 50%"))+"",e=new ea(H,E,0,0,e,-1,"transformOrigin"),e.b=H[E],e.plugin=t,qa?(m=A.zOrigin,u=u.split(" "),A.zOrigin=(2<u.length&&(0===m||"0px"!==u[2])?parseFloat(u[2]):m)||0,e.xs0=e.e=u[0]+" "+(u[1]||"50%")+" 0px",e=new ea(A,"zOrigin",0,0,e,-1,e.n),e.b=m,e.xs0=e.e=A.zOrigin):e.xs0=e.e=u):Q(u+"",A)),k&&(b._transformType=A.svg&&Aa||!n&&3!==this._transformType?2:3),l&&(p[d]=l),B&&(p.scale=B),e},prefix:!0});W("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,
keyword:"inset"});W("borderRadius",{defaultValue:"0px",parser:function(a,c,d,b,e,h){c=this.format(c);var l,p,t,v,B,m,n,k,C,q,r,E,A,K=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],w=a.style;b=parseFloat(a.offsetWidth);h=parseFloat(a.offsetHeight);c=c.split(" ");for(l=0;l<K.length;l++)this.p.indexOf("border")&&(K[l]=xa(K[l])),v=t=L(a,K[l],g,!1,"0px"),-1!==v.indexOf(" ")&&(t=v.split(" "),v=t[0],t=t[1]),B=p=c[l],m=parseFloat(v),C=v.substr((m+"").length),
(q="\x3d"===B.charAt(1))?(n=parseInt(B.charAt(0)+"1",10),B=B.substr(2),n*=parseFloat(B),k=B.substr((n+"").length-(0>n?1:0))||""):(n=parseFloat(B),k=B.substr((n+"").length)),""===k&&(k=u[d]||C),k!==C&&(r=f(a,"borderLeft",m,C),E=f(a,"borderTop",m,C),"%"===k?(v=r/b*100+"%",t=E/h*100+"%"):"em"===k?(A=f(a,"borderLeft",1,"em"),v=r/A+"em",t=E/A+"em"):(v=r+"px",t=E+"px"),q&&(B=parseFloat(v)+n+k,p=parseFloat(t)+n+k)),e=Ga(w,K[l],v+" "+t,B+" "+p,!1,"0px",e);return e},prefix:!0,formatter:Qa("0px 0px 0px 0px",
!1,!0)});W("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,f,c,d,b,e){return Ga(a.style,c,this.format(L(a,c,g,!1,"0px 0px")),this.format(f),!1,"0px",b)},prefix:!0,formatter:Qa("0px 0px",!1,!0)});W("backgroundPosition",{defaultValue:"0 0",parser:function(a,f,c,b,e,h){var l,p,t;c=g||la(a,null);c=this.format((c?d?c.getPropertyValue("background-position-x")+" "+c.getPropertyValue("background-position-y"):c.getPropertyValue("background-position"):
a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0");var v=this.format(f);if(-1!==c.indexOf("%")!=(-1!==v.indexOf("%"))&&2>v.split(",").length&&(l=L(a,"backgroundImage").replace(M,""),l&&"none"!==l)){f=c.split(" ");b=v.split(" ");Ca.setAttribute("src",l);for(l=2;-1<--l;)c=f[l],p=-1!==c.indexOf("%"),p!==(-1!==b[l].indexOf("%"))&&(t=0===l?a.offsetWidth-Ca.width:a.offsetHeight-Ca.height,f[l]=p?parseFloat(c)/100*t+"px":parseFloat(c)/t*100+"%");c=f.join(" ")}return this.parseComplex(a.style,
c,v,e,h)},formatter:Q});W("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="","co"===a.substr(0,2)?a:Q(-1===a.indexOf(" ")?a+" "+a:a)}});W("perspective",{defaultValue:"0px",prefix:!0});W("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});W("transformStyle",{prefix:!0});W("backfaceVisibility",{prefix:!0});W("userSelect",{prefix:!0});W("margin",{parser:Ra("marginTop,marginRight,marginBottom,marginLeft")});W("padding",{parser:Ra("paddingTop,paddingRight,paddingBottom,paddingLeft")});
W("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,f,c,b,e,h){var l,p,t;return 9>d?(p=a.currentStyle,t=8>d?" ":",",l="rect("+p.clipTop+t+p.clipRight+t+p.clipBottom+t+p.clipLeft+")",f=this.format(f).split(",").join(t)):(l=this.format(L(a,this.p,g,!1,this.dflt)),f=this.format(f)),this.parseComplex(a.style,l,f,e,h)}});W("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});W("autoRound,strictUnits",{parser:function(a,f,c,d,b){return b}});W("border",{defaultValue:"0px solid #000",
parser:function(a,c,d,b,e,p){d=L(a,"borderTopWidth",g,!1,"0px");c=this.format(c).split(" ");b=c[0].replace(ua,"");return"px"!==b&&(d=parseFloat(d)/f(a,"borderTopWidth",1,b)+b),this.parseComplex(a.style,this.format(d+" "+L(a,"borderTopStyle",g,!1,"solid")+" "+L(a,"borderTopColor",g,!1,"#000")),c.join(" "),e,p)},color:!0,formatter:function(a){var f=a.split(" ");return f[0]+" "+(f[1]||"solid")+" "+(a.match(na)||["#000"])[0]}});W("borderWidth",{parser:Ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")});
W("float,cssFloat,styleFloat",{parser:function(a,f,c,d,b,e){a=a.style;d="cssFloat"in a?"cssFloat":"styleFloat";return new ea(a,d,0,0,b,-1,c,!1,0,a[d],f)}});var fb=function(a){var f,c=this.t,d=c.filter||L(this.data,"filter")||"";a=this.s+this.c*a|0;100===a&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),f=!L(this.data,"filter")):(c.filter=d.replace(T,""),f=!0));f||(this.xn1&&(c.filter=d=d||"alpha(opacity\x3d"+a+")"),-1===d.indexOf("pacity")?
0===a&&this.xn1||(c.filter=d+" alpha(opacity\x3d"+a+")"):c.filter=d.replace(N,"opacity\x3d"+a))};W("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,f,c,d,b,e){var l=parseFloat(L(a,"opacity",g,!1,"1")),p=a.style,h="autoAlpha"===c;return"string"==typeof f&&"\x3d"===f.charAt(1)&&(f=("-"===f.charAt(0)?-1:1)*parseFloat(f.substr(2))+l),h&&1===l&&"hidden"===L(a,"visibility",g)&&0!==f&&(l=0),ra?b=new ea(p,"opacity",l,f-l,b):(b=new ea(p,"opacity",100*l,100*(f-l),b),b.xn1=h?1:0,p.zoom=1,b.type=
2,b.b="alpha(opacity\x3d"+b.s+")",b.e="alpha(opacity\x3d"+(b.s+b.c)+")",b.data=a,b.plugin=e,b.setRatio=fb),h&&(b=new ea(p,"visibility",0,0,b,-1,null,!1,0,0!==l?"inherit":"hidden",0===f?"hidden":"inherit"),b.xs0="inherit",d._overwriteProps.push(b.n),d._overwriteProps.push(c)),b}});var Ia=function(a,f){f&&(a.removeProperty?(("ms"===f.substr(0,2)||"webkit"===f.substr(0,6))&&(f="-"+f),a.removeProperty(f.replace(O,"-$1").toLowerCase())):a.removeAttribute(f))},gb=function(a){if(this.t._gsClassPT=this,1===
a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var f=this.data,c=this.t.style;f;)f.v?c[f.p]=f.v:Ia(c,f.p),f=f._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};W("className",{parser:function(a,f,c,d,b,e,h){var l,t,B,n,k=a.getAttribute("class")||"",q=a.style.cssText;if(b=d._classNamePT=new ea(a,c,0,0,b,2),b.setRatio=gb,b.pr=-11,m=!0,b.b=k,c=p(a,g),t=a._gsClassPT){B={};for(n=t.data;n;)B[n.p]=
1,n=n._next;t.setRatio(1)}return a._gsClassPT=b,b.e="\x3d"!==f.charAt(1)?f:k.replace(new RegExp("(?:\\s|^)"+f.substr(2)+"(?![\\w-])"),"")+("+"===f.charAt(0)?" "+f.substr(2):""),a.setAttribute("class",b.e),l=v(a,c,p(a),h,B),a.setAttribute("class",k),b.data=l.firstMPT,a.style.cssText=q,b.xfirst=d.parse(a,l.difs,b,e)}});var hb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var f,c,d,b,e=this.t.style,p=w.transform.parse;if("all"===this.e)e.cssText=
"",d=!0;else for(a=this.e.split(" ").join("").split(","),c=a.length;-1<--c;)f=a[c],w[f]&&(w[f].parse===p?d=!0:f="transformOrigin"===f?Ha:w[f].p),Ia(e,f);d&&(Ia(e,ga),b=this.t._gsTransform,b&&(b.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};W("clearProps",{parser:function(a,f,c,d,b){return b=new ea(a,c,0,0,b,2),b.setRatio=hb,b.e=f,b.pr=-10,b.data=d._tween,m=!0,b}});b=["bezier","throwProps","physicsProps","physics2D"];for(ha=b.length;ha--;)ab(b[ha]);
b=x.prototype;b._firstPT=b._lastParsedTransform=b._transform=null;b._onInitTween=function(f,d,b,t){if(!f.nodeType)return!1;this._target=a=f;this._tween=b;this._vars=d;h=t;I=d.autoRound;m=!1;u=d.suffixMap||x.suffixMap;g=la(f,"");e=this._overwriteProps;var l,n,k,E,K;t=f.style;if(r&&""===t.zIndex&&(l=L(f,"zIndex",g),("auto"===l||""===l)&&this._addLazySet(t,"zIndex",0)),"string"==typeof d&&(E=t.cssText,l=p(f,g),t.cssText=E+";"+d,l=v(f,l,p(f)).difs,!ra&&V.test(d)&&(l.opacity=parseFloat(RegExp.$1)),d=l,
t.cssText=E),d.className?this._firstPT=n=w.className.parse(f,d.className,"className",this,null,null,d):this._firstPT=n=this.parse(f,d,null),this._transformType){d=3===this._transformType;ga?q&&(r=!0,""===t.zIndex&&(k=L(f,"zIndex",g),("auto"===k||""===k)&&this._addLazySet(t,"zIndex",0)),c&&this._addLazySet(t,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(d?"visible":"hidden"))):t.zoom=1;for(k=n;k&&k._next;)k=k._next;d=new ea(f,"transform",0,0,null,2);this._linkCSSP(d,null,k);d.setRatio=
ga?eb:db;d.data=this._transform||Fa(f,g,!0);d.tween=b;d.pr=-1;e.pop()}if(m){for(;n;){f=n._next;for(k=E;k&&k.pr>n.pr;)k=k._next;(n._prev=k?k._prev:K)?n._prev._next=n:E=n;(n._next=k)?k._prev=n:K=n;n=f}this._firstPT=E}return!0};b.parse=function(c,d,b,e){var p,l,v,n,k,m,q,r,K,A=c.style;for(p in d){if(k=d[p],"function"==typeof k&&(k=k(h,a)),l=w[p])b=l.parse(c,k,p,this,b,e,d);else{if("--"===p.substr(0,2)){this._tween._propLookup[p]=this._addTween.call(this._tween,c.style,"setProperty",la(c).getPropertyValue(p)+
"",k+"",p,!1,p);continue}l=L(c,p,g)+"";r="string"==typeof k;if("color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||r&&R.test(k))r||(k=Ja(k),k=(3<k.length?"rgba(":"rgb(")+k.join(",")+")"),b=Ga(A,p,l,k,!0,"transparent",b,0,e);else if(r&&va.test(k))b=Ga(A,p,l,k,!0,null,b,0,e);else{m=(v=parseFloat(l))||0===v?l.substr((v+"").length):"";if(""===l||"auto"===l)if("width"===p||"height"===p){v=c;var C=p;m=g;if("svg"===(v.nodeName+"").toLowerCase())v=(m||la(v))[C]||0;else if(v.getCTM&&Va(v))v=v.getBBox()[C]||
0;else{K=parseFloat("width"===C?v.offsetWidth:v.offsetHeight);var C=E[C],Q=C.length;for(m=m||la(v,null);-1<--Q;)K-=parseFloat(L(v,"padding"+C[Q],m,!0))||0,K-=parseFloat(L(v,"border"+C[Q]+"Width",m,!0))||0;v=K}m="px"}else"left"===p||"top"===p?(v=t(c,p,g),m="px"):(v="opacity"!==p?0:1,m="");(K=r&&"\x3d"===k.charAt(1))?(n=parseInt(k.charAt(0)+"1",10),k=k.substr(2),n*=parseFloat(k),q=k.replace(ua,"")):(n=parseFloat(k),q=r?k.replace(ua,""):"");""===q&&(q=p in u?u[p]:m);k=n||0===n?(K?n+v:n)+q:d[p];m===q||
""===q&&"lineHeight"!==p||!n&&0!==n||!v||(v=f(c,p,v,m),"%"===q?(v/=f(c,p,100,"%")/100,!0!==d.strictUnits&&(l=v+"%")):"em"===q||"rem"===q||"vw"===q||"vh"===q?v/=f(c,p,1,q):"px"!==q&&(n=f(c,p,n,q),q="px"),!K||!n&&0!==n||(k=n+v+q));K&&(n+=v);!v&&0!==v||!n&&0!==n?void 0!==A[p]&&(k||"NaN"!=k+""&&null!=k)?(b=new ea(A,p,n||v||0,0,b,-1,p,!1,0,l,k),b.xs0="none"!==k||"display"!==p&&-1===p.indexOf("Style")?k:l):_gsScope.console&&console.log("invalid "+p+" tween value: "+d[p]):(b=new ea(A,p,v,n-v,b,0,p,!1!==
I&&("px"===q||"zIndex"===p),0,l,k),b.xs0=q)}}e&&b&&!b.plugin&&(b.plugin=e)}return b};b.setRatio=function(a){var f,c,d,b=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;b;){if(f=b.c*a+b.s,b.r?f=b.r(f):1E-6>f&&-1E-6<f&&(f=0),b.type)if(1===b.type)if(d=b.l,2===d)b.t[b.p]=b.xs0+f+b.xs1+b.xn1+b.xs2;else if(3===d)b.t[b.p]=b.xs0+f+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3;
else if(4===d)b.t[b.p]=b.xs0+f+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+b.xs4;else if(5===d)b.t[b.p]=b.xs0+f+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+b.xs4+b.xn4+b.xs5;else{c=b.xs0+f+b.xs1;for(d=1;d<b.l;d++)c+=b["xn"+d]+b["xs"+(d+1)];b.t[b.p]=c}else-1===b.type?b.t[b.p]=b.xs0:b.setRatio&&b.setRatio(a);else b.t[b.p]=f+b.xs0;b=b._next}else for(;b;)2!==b.type?b.t[b.p]=b.b:b.setRatio(a),b=b._next;else for(;b;){if(2!==b.type)if(b.r&&-1!==b.type)if(f=b.r(b.s+b.c),b.type){if(1===b.type){c=b.xs0+f+b.xs1;for(d=1;d<b.l;d++)c+=
b["xn"+d]+b["xs"+(d+1)];b.t[b.p]=c}}else b.t[b.p]=f+b.xs0;else b.t[b.p]=b.e;else b.setRatio(a);b=b._next}};b._enableTransforms=function(a){this._transform=this._transform||Fa(this._target,g,!0);this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var ib=function(a){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)};b._addLazySet=function(a,f,b){a=this._firstPT=new ea(a,f,0,0,this._firstPT,2);a.e=b;a.setRatio=ib;a.data=this};b._linkCSSP=function(a,f,b,c){return a&&
(f&&(f._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,c=!0),b?b._next=a:c||null!==this._firstPT||(this._firstPT=a),a._next=f,a._prev=b),a};b._mod=function(a){for(var f=this._firstPT;f;)"function"==typeof a[f.p]&&(f.r=a[f.p]),f=f._next};b._kill=function(a){var f,b,c,d=a;if(a.autoAlpha||a.alpha){d={};for(b in a)d[b]=a[b];d.opacity=1;d.autoAlpha&&(d.visibility=1)}a.className&&(f=this._classNamePT)&&(c=f.xfirst,c&&c._prev?this._linkCSSP(c._prev,
f._next,c._prev._prev):c===this._firstPT&&(this._firstPT=f._next),f._next&&this._linkCSSP(f._next,f._next._next,c._prev),this._classNamePT=null);for(f=this._firstPT;f;)f.plugin&&f.plugin!==b&&f.plugin._kill&&(f.plugin._kill(a),b=f.plugin),f=f._next;return k.prototype._kill.call(this,d)};var Ma=function(a,f,b){var c,d,e;if(a.slice)for(c=a.length;-1<--c;)Ma(a[c],f,b);else for(a=a.childNodes,c=a.length;-1<--c;)d=a[c],e=d.type,d.style&&(f.push(p(d)),b&&b.push(d)),1!==e&&9!==e&&11!==e||!d.childNodes.length||
Ma(d,f,b)};return x.cascadeTo=function(a,f,b){var c,d,e;e=y.to(a,f,b);var p=[e],h=[],t=[],g=[],l=y._internals.reservedProps;a=e._targets||e.target;Ma(a,h,g);e.render(f,!0,!0);Ma(a,t);e.render(0,!0,!0);e._enabled(!0);for(a=g.length;-1<--a;)if(c=v(g[a],h[a],t[a]),c.firstMPT){c=c.difs;for(d in b)l[d]&&(c[d]=b[d]);e={};for(d in c)e[d]=h[a][d];p.push(y.fromTo(g[a],f,e,c))}return p},k.activate([x]),x},!0);(function(){var k=function(k){var m=1>k?Math.pow(10,(k+"").length-2):1;return function(g){return(Math.round(g/
k)*k*m|0)/m}},y=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(k,u,g){return this._tween=g,!0}}).prototype;y._onInitAllProps=function(){var m,u,g,e=this._tween;m=e.vars.roundProps;var x={},y=e._propLookup.roundProps;if("object"!=typeof m||m.push)for("string"==typeof m&&(m=m.split(",")),u=m.length;-1<--u;)x[m[u]]=Math.round;else for(g in m)x[g]=k(m[g]);for(g in x)for(m=e._firstPT;m;){u=m._next;if(m.pg)m.t._mod(x);else if(m.n===g)if(2===m.f&&m.t){m=
m.t._firstPT;for(var w=x[g];m;)m.f||m.blob||(m.m=w||Math.round),m=m._next}else this._add(m.t,g,m.s,m.c,x[g]),u&&(u._prev=m._prev),m._prev?m._prev._next=u:e._firstPT===m&&(e._firstPT=u),m._next=m._prev=null,e._propLookup[g]=y;m=u}return!1};y._add=function(k,u,g,e,x){this._addTween(k,u,g,g+e,u,x||Math.round);this._overwriteProps.push(u)}})();(function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(k,y,m,u){var g;if("function"!=typeof k.setAttribute)return!1;for(g in y)m=
y[g],"function"==typeof m&&(m=m(u,k)),this._addTween(k,"setAttribute",k.getAttribute(g)+"",m+"",g,!1,g),this._overwriteProps.push(g);return!0}})})();_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(k,y,m,u){"object"!=typeof y&&(y={rotation:y});this.finals={};var g,e,x,D,w,b;m=!0===y.useRadians?2*Math.PI:360;for(g in y)"useRadians"!==g&&(D=y[g],"function"==typeof D&&(D=D(u,k)),b=(D+"").split("_"),e=b[0],x=parseFloat("function"!=typeof k[g]?k[g]:k[g.indexOf("set")||
"function"!=typeof k["get"+g.substr(3)]?g:"get"+g.substr(3)]()),D=this.finals[g]="string"==typeof e&&"\x3d"===e.charAt(1)?x+parseInt(e.charAt(0)+"1",10)*Number(e.substr(2)):Number(e)||0,w=D-x,b.length&&(e=b.join("_"),-1!==e.indexOf("short")&&(w%=m,w!==w%(m/2)&&(w=0>w?w+m:w-m)),-1!==e.indexOf("_cw")&&0>w?w=(w+9999999999*m)%m-(w/m|0)*m:-1!==e.indexOf("ccw")&&0<w&&(w=(w-9999999999*m)%m-(w/m|0)*m)),(1E-6<w||-1E-6>w)&&(this._addTween(k,g,x,x+w,g),this._overwriteProps.push(g)));return!0},set:function(k){if(1!==
k)this._super.setRatio.call(this,k);else for(k=this._firstPT;k;)k.f?k.t[k.p](this.finals[k.p]):k.t[k.p]=this.finals[k.p],k=k._next}})._autoCSS=!0;_gsScope._gsDefine("easing.Back",["easing.Ease"],function(k){var y,m,u,g,e=_gsScope.GreenSockGlobals||_gsScope,x=2*Math.PI,D=Math.PI/2,w=e.com.greensock._class,b=function(a,b){a=w("easing."+a,function(){},!0);var c=a.prototype=new k;return c.constructor=a,c.getRatio=b,a},I=k.register||function(){},r=function(a,b,c,d,e){b=w("easing."+a,{easeOut:new b,easeIn:new c,
easeInOut:new d},!0);return I(b,a),b},q=function(a,b,c){this.t=a;this.v=b;c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},G=function(a,b){var c=w("easing."+a,function(a){this._p1=a||0===a?a:1.70158;this._p2=1.525*this._p1},!0);a=c.prototype=new k;return a.constructor=c,a.getRatio=b,a.config=function(a){return new c(a)},c},G=r("Back",G("BackOut",function(a){return--a*a*((this._p1+1)*a+this._p1)+1}),G("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),G("BackInOut",function(a){return 1>
(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),c=w("easing.SlowMo",function(a,b,c){null==a?a=.7:1<a&&(a=1);this._p=1!==a?b||0===b?b:.7:0;this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=!0===c},!0),d=c.prototype=new k;return d.constructor=c,d.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1===a?0:1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-
this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},c.ease=new c(.7,.7),d.config=c.config=function(a,b,d){return new c(a,b,d)},y=w("easing.SteppedEase",function(a,b){a=a||1;this._p1=1/a;this._p2=a+(b?0:1);this._p3=b?1:0},!0),d=y.prototype=new k,d.constructor=y,d.getRatio=function(a){return 0>a?a=0:1<=a&&(a=.999999999),((this._p2*a|0)+this._p3)*this._p1},d.config=y.config=function(a,b){return new y(a,b)},m=w("easing.ExpoScaleEase",function(a,b,c){this._p1=Math.log(b/a);this._p2=b-a;this._p3=a;this._ease=
c},!0),d=m.prototype=new k,d.constructor=m,d.getRatio=function(a){return this._ease&&(a=this._ease.getRatio(a)),(this._p3*Math.exp(this._p1*a)-this._p3)/this._p2},d.config=m.config=function(a,b,c){return new m(a,b,c)},u=w("easing.RoughEase",function(a){a=a||{};for(var b,c,d,e,g=a.taper||"none",m=[],r=0,u=e=0|(a.points||20),w=!1!==a.randomize,x=!0===a.clamp,y=a.template instanceof k?a.template:null,D="number"==typeof a.strength?.4*a.strength:.4;-1<--u;)a=w?Math.random():1/e*u,b=y?y.getRatio(a):a,"none"===
g?c=D:"out"===g?(d=1-a,c=d*d*D):"in"===g?c=a*a*D:.5>a?(d=2*a,c=d*d*.5*D):(d=2*(1-a),c=d*d*.5*D),w?b+=Math.random()*c-.5*c:u%2?b+=.5*c:b-=.5*c,x&&(1<b?b=1:0>b&&(b=0)),m[r++]={x:a,y:b};m.sort(function(a,b){return a.x-b.x});c=new q(1,1,null);for(u=e;-1<--u;)e=m[u],c=new q(e.x,e.y,c);this._prev=new q(0,0,0!==c.t?c:c.next)},!0),d=u.prototype=new k,d.constructor=u,d.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=
b,b.v+(a-b.t)/b.gap*b.c},d.config=function(a){return new u(a)},u.ease=new u,r("Bounce",b("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),b("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),b("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/
2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),r("Circ",b("CircOut",function(a){return Math.sqrt(1- --a*a)}),b("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),b("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),g=function(a,b,c){var d=w("easing."+a,function(a,b){this._p1=1<=a?a:1;this._p2=(b||c)/(1>a?a:1);this._p3=this._p2/x*(Math.asin(1/this._p1)||
0);this._p2=x/this._p2},!0);a=d.prototype=new k;return a.constructor=d,a.getRatio=b,a.config=function(a,b){return new d(a,b)},d},r("Elastic",g("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),g("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2))},.3),g("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2):this._p1*Math.pow(2,-10*--a)*Math.sin((a-this._p3)*
this._p2)*.5+1},.45)),r("Expo",b("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),b("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),b("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),r("Sine",b("SineOut",function(a){return Math.sin(a*D)}),b("SineIn",function(a){return-Math.cos(a*D)+1}),b("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),w("easing.EaseLookup",{find:function(a){return k.map[a]}},!0),I(e.SlowMo,"SlowMo","ease,"),I(u,
"RoughEase","ease,"),I(y,"SteppedEase","ease,"),G},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function(k,y){var m={},u=k.document,g=k.GreenSockGlobals=k.GreenSockGlobals||k,e=g[y];if(e)return"undefined"!=typeof module&&module.exports&&(module.exports=e),e;var x,D,w,b,I=function(a){var f=a.split("."),b=g;for(a=0;a<f.length;a++)b[f[a]]=b=b[f[a]]||{};return b},r=I("com.greensock"),q=function(a){var f,b=[],c=a.length;for(f=0;f!==c;b.push(a[f++]));return b},G=function(){},c=function(){var a=Object.prototype.toString,b=a.call([]);return function(f){return null!=f&&(f instanceof Array||"object"==
typeof f&&!!f.push&&a.call(f)===b)}}(),d={},a=function(f,b,c,e){this.sc=d[f]?d[f].sc:[];d[f]=this;this.gsClass=null;this.func=c;var p=[];this.check=function(t){for(var h,v,n,q,r=b.length,E=r;-1<--r;)(h=d[b[r]]||new a(b[r],[])).gsClass?(p[r]=h.gsClass,E--):t&&h.sc.push(this);if(0===E&&c){if(v=("com.greensock."+f).split("."),n=v.pop(),q=I(v.join("."))[n]=this.gsClass=c.apply(c,p),e)if(g[n]=m[n]=q,"undefined"!=typeof module&&module.exports)if(f===y)for(r in module.exports=m[y]=q,m)q[r]=m[r];else m[y]&&
(m[y][n]=q);else"function"==typeof define&&define.amd&&define((k.GreenSockAMDPath?k.GreenSockAMDPath+"/":"")+f.split(".").pop(),[],function(){return q});for(r=0;r<this.sc.length;r++)this.sc[r].check()}};this.check(!0)},h=k._gsDefine=function(f,b,c,d){return new a(f,b,c,d)},n=r._class=function(a,b,c){return b=b||function(){},h(a,[],function(){return b},c),b};h.globals=g;var oa=[0,0,1,1],X=n("easing.Ease",function(a,b,c,d){this._func=a;this._type=c||0;this._power=d||0;this._params=b?oa.concat(b):oa},
!0),ta=X.map={},ua=X.register=function(a,b,c,d){var f,e,p;b=b.split(",");for(var h=b.length,t=(c||"easeIn,easeOut,easeInOut").split(",");-1<--h;)for(f=b[h],c=d?n("easing."+f,null,!0):r.easing[f]||{},e=t.length;-1<--e;)p=t[e],ta[f+"."+p]=ta[p+f]=c[p]=a.getRatio?a:a[p]||new a},e=X.prototype;e._calcEnd=!1;e.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,f=this._power,c=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===f?c*=c:2===f?c*=c*c:
3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===b?1-c:2===b?c:.5>a?c/2:1-c/2};x=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(D=x.length;-1<--D;)e=x[D]+",Power"+D,ua(new X(null,null,1,D),e,"easeOut",!0),ua(new X(null,null,2,D),e,"easeIn"+(0===D?",easeNone":"")),ua(new X(null,null,3,D),e,"easeInOut");ta.linear=r.easing.Linear.easeIn;ta.swing=r.easing.Quad.easeInOut;var N=n("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this}),e=N.prototype;e.addEventListener=function(a,
c,d,e,h){h=h||0;var f,p=this._listeners[a],t=0;this!==w||b||w.wake();null==p&&(this._listeners[a]=p=[]);for(f=p.length;-1<--f;)a=p[f],a.c===c&&a.s===d?p.splice(f,1):0===t&&a.pr<h&&(t=f+1);p.splice(t,0,{c:c,s:d,up:e,pr:h})};e.removeEventListener=function(a,b){var f=this._listeners[a];if(f)for(a=f.length;-1<--a;)if(f[a].c===b)return void f.splice(a,1)};e.dispatchEvent=function(a){var b,f,c,d=this._listeners[a];if(d)for(b=d.length,1<b&&(d=d.slice(0)),f=this._eventTarget;-1<--b;)(c=d[b])&&(c.up?c.c.call(c.s||
f,{type:a,target:f}):c.c.call(c.s||f))};var V=k.requestAnimationFrame,T=k.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},O=R();x=["ms","moz","webkit","o"];for(D=x.length;-1<--D&&!V;)V=k[x[D]+"RequestAnimationFrame"],T=k[x[D]+"CancelAnimationFrame"]||k[x[D]+"CancelRequestAnimationFrame"];n("Ticker",function(a,c){var f,d,e,h,g,t=this,k=R(),m=!1!==c&&V?"auto":!1,n=500,q=33,r=function(a){var b,c;b=R()-O;b>n&&(k+=b-q);O+=b;t.time=(O-k)/1E3;b=t.time-g;(!f||0<b||!0===a)&&(t.frame++,
g+=b+(b>=h?.004:h-b),c=!0);!0!==a&&(e=d(r));c&&t.dispatchEvent("tick")};N.call(t);t.time=t.frame=0;t.tick=function(){r(!0)};t.lagSmoothing=function(a,b){return arguments.length?(n=a||1E10,void(q=Math.min(b,n,0))):1E10>n};t.sleep=function(){null!=e&&(m&&T?T(e):clearTimeout(e),d=G,e=null,t===w&&(b=!1))};t.wake=function(a){null!==e?t.sleep():a?k+=-O+(O=R()):10<t.frame&&(O=R()-n+5);d=0===f?G:m&&V?V:function(a){return setTimeout(a,1E3*(g-t.time)+1|0)};t===w&&(b=!0);r(2)};t.fps=function(a){return arguments.length?
(f=a,h=1/(f||60),g=this.time+h,void t.wake()):f};t.useRAF=function(a){return arguments.length?(t.sleep(),m=a,void t.fps(f)):m};t.fps(a);setTimeout(function(){"auto"===m&&5>t.frame&&"hidden"!==(u||{}).visibilityState&&t.useRAF(!1)},1500)});e=r.Ticker.prototype=new r.events.EventDispatcher;e.constructor=r.Ticker;var F=n("core.Animation",function(a,c){if(this.vars=c=c||{},this._duration=this._totalDuration=a||0,this._delay=Number(c.delay)||0,this._timeScale=1,this._active=!0===c.immediateRender,this.data=
c.data,this._reversed=!0===c.reversed,da)b||w.wake(),a=this.vars.useFrames?ca:da,a.add(this,a._time),this.vars.paused&&this.paused(!0)});w=F.ticker=new r.Ticker;e=F.prototype;e._dirty=e._gc=e._initted=e._paused=!1;e._totalTime=e._time=0;e._rawPrevTime=-1;e._next=e._last=e._onUpdate=e._timeline=e.timeline=null;e._paused=!1;var M=function(){b&&2E3<R()-O&&("hidden"!==(u||{}).visibilityState||!w.lagSmoothing())&&w.wake();var a=setTimeout(M,2E3);a.unref&&a.unref()};M();e.play=function(a,b){return null!=
a&&this.seek(a,b),this.reversed(!1).paused(!1)};e.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)};e.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)};e.seek=function(a,b){return this.totalTime(Number(a),!1!==b)};e.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)};e.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)};e.render=function(a,b,c){};e.invalidate=function(){return this._time=
this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this};e.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale-1E-7};e._enabled=function(a,c){return b||w.wake(),this._gc=!a,this._active=this.isActive(),!0!==c&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,
!0)),!1};e._kill=function(a,b){return this._enabled(!1,!1)};e.kill=function(a,b){return this._kill(a,b),this};e._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};e._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();-1<--b;)"{self}"===a[b]&&(c[b]=this);return c};e._callback=function(a){var b=this.vars,c=b[a],f=b[a+"Params"];a=b[a+"Scope"]||b.callbackScope||this;switch(f?f.length:0){case 0:c.call(a);break;case 1:c.call(a,f[0]);break;case 2:c.call(a,
f[0],f[1]);break;default:c.apply(a,f)}};e.eventCallback=function(a,b,d,e){if("on"===(a||"").substr(0,2)){var f=this.vars;if(1===arguments.length)return f[a];null==b?delete f[a]:(f[a]=b,f[a+"Params"]=c(d)&&-1!==d.join("").indexOf("{self}")?this._swapSelfInParams(d):d,f[a+"Scope"]=e);"onUpdate"===a&&(this._onUpdate=b)}return this};e.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay};e.duration=function(a){return arguments.length?
(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(a/this._duration*this._totalTime,!0),this):(this._dirty=!1,this._duration)};e.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration};e.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time};e.totalTime=function(a,
c,d){if(b||w.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!d&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var f=this._totalDuration,e=this._timeline;if(a>f&&!d&&(a=f),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?f-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&
this._enabled(!0,!1);(this._totalTime!==a||0===this._duration)&&(P.length&&wa(),this.render(a,c,!1),P.length&&wa())}return this};e.progress=e.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio};e.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime};e.endTime=function(a){return this._startTime+
(0!=a?this.totalDuration():this.duration())/this._timeScale};e.timeScale=function(a){if(!arguments.length)return this._timeScale;var b,c;a=a||1E-10;this._timeline&&this._timeline.smoothChildTiming&&(b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime(),this._startTime=c-(c-this._startTime)*this._timeScale/a);this._timeScale=a;for(c=this.timeline;c&&c.timeline;)c._dirty=!0,c.totalDuration(),c=c.timeline;return this};e.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=
a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed};e.paused=function(a){if(!arguments.length)return this._paused;var c,d,f=this._timeline;return a!=this._paused&&f&&(b||a||w.wake(),c=f.rawTime(),d=c-this._pauseTime,!a&&f.smoothChildTiming&&(this._startTime+=d,this._uncache(!1)),this._pauseTime=a?c:null,this._paused=a,this._active=this.isActive(),!a&&0!==d&&this._initted&&this.duration()&&(c=f.smoothChildTiming?
this._totalTime:(c-this._startTime)/this._timeScale,this.render(c,c===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};x=n("core.SimpleTimeline",function(a){F.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});e=x.prototype=new F;e.constructor=x;e.kill()._gc=!1;e._first=e._last=e._recent=null;e._sortChildren=!1;e.add=e.insert=function(a,b,c,d){if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=this.rawTime()-(a._timeline.rawTime()-a._pauseTime)),
a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),b=this._last,this._sortChildren)for(c=a._startTime;b&&b._startTime>c;)b=b._prev;return b?(a._next=b._next,b._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=b,this._recent=a,this._timeline&&this._uncache(!0),this};e._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=
a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this};e.render=function(a,b,c){var d,f=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;f;)d=f._next,(f._active||a>=f._startTime&&!f._paused&&!f._gc)&&(f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(a-f._startTime)*f._timeScale,b,c):f.render((a-f._startTime)*f._timeScale,b,c)),f=d};e.rawTime=function(){return b||
w.wake(),this._totalTime};var z=n("TweenLite",function(a,b,d){if(F.call(this,b,d),this.render=z.prototype.render,null==a)throw"Cannot tween a null target.";this.target=a="string"!=typeof a?a:z.selector(a)||a;var f,e;f=a.jquery||a.length&&a!==k&&a[0]&&(a[0]===k||a[0].nodeType&&a[0].style&&!a.nodeType);d=this.vars.overwrite;if(this._overwrite=d=null==d?Ca[z.defaultOverwrite]:"number"==typeof d?d>>0:Ca[d],(f||a instanceof Array||a.push&&c(a))&&"number"!=typeof a[0])for(this._targets=e=q(a),this._propLookup=
[],this._siblings=[],a=0;a<e.length;a++)(f=e[a])?"string"!=typeof f?f.length&&f!==k&&f[0]&&(f[0]===k||f[0].nodeType&&f[0].style&&!f.nodeType)?(e.splice(a--,1),this._targets=e=e.concat(q(f))):(this._siblings[a]=za(f,this,!1),1===d&&1<this._siblings[a].length&&xa(f,this,null,1,this._siblings[a])):(f=e[a--]=z.selector(f),"string"==typeof f&&e.splice(a+1,1)):e.splice(a--,1);else this._propLookup={},this._siblings=za(a,this,!1),1===d&&1<this._siblings.length&&xa(a,this,null,1,this._siblings);(this.vars.immediateRender||
0===b&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1E-10,this.render(Math.min(0,-this._delay)))},!0),ia=function(a){return a&&a.length&&a!==k&&a[0]&&(a[0]===k||a[0].nodeType&&a[0].style&&!a.nodeType)},e=z.prototype=new F;e.constructor=z;e.kill()._gc=!1;e.ratio=0;e._firstPT=e._targets=e._overwrittenProps=e._startAt=null;e._notifyPluginsOfEnabled=e._lazy=!1;z.version="2.0.2";z.defaultEase=e._ease=new X(null,null,1,1);z.defaultOverwrite="auto";z.ticker=w;z.autoSleep=120;z.lagSmoothing=
function(a,b){w.lagSmoothing(a,b)};z.selector=k.$||k.jQuery||function(a){var b=k.$||k.jQuery;return b?(z.selector=b,b(a)):(u||(u=k.document),u?u.querySelectorAll?u.querySelectorAll(a):u.getElementById("#"===a.charAt(0)?a.substr(1):a):a)};var P=[],Y={},S=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,va=/[\+-]=-?[\.\d]/,Z=function(a){for(var b,c=this._firstPT;c;)b=c.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m.call(this._tween,b,this._target||c.t,this._tween):
1E-6>b&&-1E-6<b&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},pa=function(a,b,c,d){var f,e,h,g,p=[],k=0,t="",m=0;p.start=a;p.end=b;a=p[0]=a+"";b=p[1]=b+"";c&&(c(p),a=p[0],b=p[1]);p.length=0;a=a.match(S)||[];c=b.match(S)||[];d&&(d._next=null,d.blob=1,p._firstPT=p._applyPT=d);e=c.length;for(d=0;e>d;d++)g=c[d],h=b.substr(k,b.indexOf(g,k)-k),t+=h||!d?h:",",k+=h.length,m?m=(m+1)%5:"rgba("===h.substr(-5)&&(m=1),g===a[d]||a.length<=d?t+=g:(t&&(p.push(t),t=""),f=parseFloat(a[d]),
p.push(f),p._firstPT={_next:p._firstPT,t:p,p:p.length-1,s:f,c:("\x3d"===g.charAt(1)?parseInt(g.charAt(0)+"1",10)*parseFloat(g.substr(2)):parseFloat(g)-f)||0,f:0,m:m&&4>m?Math.round:0}),k+=g.length;return t+=b.substr(k),t&&p.push(t),p.setRatio=Z,va.test(b)&&(p.end=null),p},ja=function(a,b,c,d,e,h,g,k,m){"function"==typeof d&&(d=d(m||0,a));var f;m=typeof a[b];var p="function"!==m?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3);c="get"!==c?c:p?g?a[p](g):a[p]():a[b];p=
"string"==typeof d&&"\x3d"===d.charAt(1);a={t:a,p:b,s:c,f:"function"===m,pg:0,n:e||b,m:h?"function"==typeof h?h:Math.round:0,pr:0,c:p?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-c||0};return("number"!=typeof c||"number"!=typeof d&&!p)&&(g||isNaN(c)||!p&&isNaN(d)||"boolean"==typeof c||"boolean"==typeof d?(a.fp=g,f=pa(c,p?parseFloat(a.s)+a.c+(a.s+"").replace(/[0-9\-\.]/g,""):d,k||z.defaultStringFilter,a),a={t:f,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(a.s=parseFloat(c),
p||(a.c=parseFloat(d)-a.s||0))),a.c?((a._next=this._firstPT)&&(a._next._prev=a),this._firstPT=a,a):void 0};D=z._internals={isArray:c,isSelector:ia,lazyTweens:P,blobDif:pa};var aa=z._plugins={},fa=D.tweenLookup={},Ba=0,ka=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,
onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Ca={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},ca=F._rootFramesTimeline=new x,da=F._rootTimeline=new x,ra=30,wa=D.lazyRender=function(){var a,b=P.length;for(Y={};-1<--b;)(a=P[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);P.length=0};
da._startTime=w.time;ca._startTime=w.frame;da._active=ca._active=!0;setTimeout(wa,1);F._updateRoot=z.render=function(){var a,b,c;if(P.length&&wa(),da.render((w.time-da._startTime)*da._timeScale,!1,!1),ca.render((w.frame-ca._startTime)*ca._timeScale,!1,!1),P.length&&wa(),w.frame>=ra){ra=w.frame+(parseInt(z.autoSleep,10)||120);for(c in fa){b=fa[c].tweens;for(a=b.length;-1<--a;)b[a]._gc&&b.splice(a,1);0===b.length&&delete fa[c]}if(c=da._first,(!c||c._paused)&&z.autoSleep&&!ca._first&&1===w._listeners.tick.length){for(;c&&
c._paused;)c=c._next;c||w.sleep()}}};w.addEventListener("tick",F._updateRoot);var za=function(a,b,c){var d,f,e=a._gsTweenID;if(fa[e||(a._gsTweenID=e="t"+Ba++)]||(fa[e]={target:a,tweens:[]}),b&&(d=fa[e].tweens,d[f=d.length]=b,c))for(;-1<--f;)d[f]===b&&d.splice(f,1);return fa[e].tweens},Da=function(a,b,c,d){var f,e,h=a.vars.onOverwrite;return h&&(f=h(a,b,c,d)),h=z.onOverwrite,h&&(e=h(a,b,c,d)),!1!==f&&!1!==e},xa=function(a,b,c,d,e){var f,h,g,p;if(1===d||4<=d){p=e.length;for(f=0;p>f;f++)if((g=e[f])!==
b)g._gc||g._kill(null,a,b)&&(h=!0);else if(5===d)break;return h}var k,m=b._startTime+1E-10,n=[],t=0,q=0===b._duration;for(f=e.length;-1<--f;)(g=e[f])===b||g._gc||g._paused||(g._timeline!==b._timeline?(k=k||la(b,0,q),0===la(g,k,q)&&(n[t++]=g)):g._startTime<=m&&g._startTime+g.totalDuration()/g._timeScale>m&&((q||!g._initted)&&2E-10>=m-g._startTime||(n[t++]=g)));for(f=t;-1<--f;)(g=n[f],p=g._firstPT,2===d&&g._kill(c,a,b)&&(h=!0),2!==d||!g._firstPT&&g._initted&&p)&&(2===d||Da(g,b))&&g._enabled(!1,!1)&&
(h=!0);return h},la=function(a,b,c){for(var d=a._timeline,f=d._timeScale,e=a._startTime;d._timeline;){if(e+=d._startTime,f*=d._timeScale,d._paused)return-100;d=d._timeline}return e/=f,e>b?e-b:c&&e===b||!a._initted&&2E-10>e-b?1E-10:(e+=a.totalDuration()/a._timeScale/f)>b+1E-10?0:e-b-1E-10};e._init=function(){var a,b,c,d,e=this.vars,h=this._overwrittenProps,g=this._duration;d=!!e.immediateRender;var k=e.ease;if(e.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());c={};for(a in e.startAt)c[a]=
e.startAt[a];if(c.data="isStart",c.overwrite=!1,c.immediateRender=!0,c.lazy=d&&!1!==e.lazy,c.startAt=c.delay=null,c.onUpdate=e.onUpdate,c.onUpdateParams=e.onUpdateParams,c.onUpdateScope=e.onUpdateScope||e.callbackScope||this,this._startAt=z.to(this.target||{},0,c),d)if(0<this._time)this._startAt=null;else if(0!==g)return}else if(e.runBackwards&&0!==g)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(d=!1);c={};for(a in e)ka[a]&&"autoCSS"!==
a||(c[a]=e[a]);if(c.overwrite=0,c.data="isFromStart",c.lazy=d&&!1!==e.lazy,c.immediateRender=d,this._startAt=z.to(this.target,0,c),d){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof X?k:"function"==typeof k?new X(k,e.easeParams):ta[k]||z.defaultEase:z.defaultEase,e.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,e.easeParams)),this._easeType=this._ease._type,this._easePower=
this._ease._power,this._firstPT=null,this._targets)for(d=this._targets.length,a=0;d>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&z._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),e.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=e.onUpdate;this._initted=!0};e._initProps=
function(a,b,d,e,h){var f,g,p,m,n;if(null==a)return!1;Y[a._gsTweenID]&&wa();if(!this.vars.css&&a.style&&a!==k&&a.nodeType&&aa.css&&!1!==this.vars.autoCSS){g=this.vars;var q={};for(n in g)ka[n]||n in a&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!aa[n]||aa[n]&&aa[n]._autoCSS)||(q[n]=g[n],delete g[n]);g.css=q}for(f in this.vars)if(g=this.vars[f],ka[f])g&&(g instanceof Array||g.push&&c(g))&&-1!==g.join("").indexOf("{self}")&&(this.vars[f]=this._swapSelfInParams(g,
this));else if(aa[f]&&(m=new aa[f])._onInitTween(a,this.vars[f],this,h)){this._firstPT=n={_next:this._firstPT,t:m,p:"setRatio",s:0,c:1,f:1,n:f,pg:1,pr:m._priority,m:0};for(g=m._overwriteProps.length;-1<--g;)b[m._overwriteProps[g]]=this._firstPT;(m._priority||m._onInitAllProps)&&(p=!0);(m._onDisable||m._onEnable)&&(this._notifyPluginsOfEnabled=!0);n._next&&(n._next._prev=n)}else b[f]=ja.call(this,a,f,"get",g,f,0,null,this.vars.stringFilter,h);return e&&this._kill(e,a)?this._initProps(a,b,d,e,h):1<
this._overwrite&&this._firstPT&&1<d.length&&xa(a,this,b,this._overwrite,d)?(this._kill(b,a),this._initProps(a,b,d,e,h)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(Y[a._gsTweenID]=!0),p)};e.render=function(a,b,c){var d,e,f,g,h=this._time,k=this._duration;f=this._rawPrevTime;if(a>=k-1E-7&&0<=a)this._totalTime=this._time=k,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),
0===k&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>f||0>=a&&-1E-7<=a||1E-10===f&&"isPause"!==this.data)&&f!==a&&(c=!0,1E-10<f&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||f===a?a:1E-10);else if(1E-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===k&&0<f)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===k&&(this._initted||!this.vars.lazy||c)&&(0<=f&&(1E-10!==f||"isPause"!==this.data)&&
(c=!0),this._rawPrevTime=g=!b||a||f===a?a:1E-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(c=!0);else if(this._totalTime=this._time=a,this._easeType){var p=a/k,m=this._easeType,n=this._easePower;(1===m||3===m&&.5<=p)&&(p=1-p);3===m&&(p*=2);1===n?p*=p:2===n?p*=p*p:3===n?p*=p*p*p:4===n&&(p*=p*p*p*p);1===m?this.ratio=1-p:2===m?this.ratio=p:.5>a/k?this.ratio=p/2:this.ratio=1-p/2}else this.ratio=this._ease.getRatio(a/k);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||
this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=f,P.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/k):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==h&&0<=a&&(this._active=!0);0!==h||(this._startAt&&(0<=a?this._startAt.render(a,!0,c):e||
(e="_dummyGS")),!this.vars.onStart||0===this._time&&0!==k||!b&&this._callback("onStart"));for(f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&-1E-4!==a&&this._startAt.render(a,!0,c),b||(this._time!==h||d||c)&&this._callback("onUpdate"));e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&-1E-4!==a&&this._startAt.render(a,!0,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&
this._callback(e),0===k&&1E-10===this._rawPrevTime&&1E-10!==g&&(this._rawPrevTime=0))}};e._kill=function(a,b,d){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:z.selector(b)||b;var e,f,g,h,k,p,m,n,q=d&&this._time&&d._startTime===this._startTime&&this._timeline===d._timeline,r=this._firstPT;if((c(b)||ia(b))&&"number"!=typeof b[0])for(e=b.length;-1<--e;)this._kill(a,b[e],d)&&(p=!0);else{if(this._targets)for(e=
this._targets.length;-1<--e;){if(b===this._targets[e]){k=this._propLookup[e]||{};this._overwrittenProps=this._overwrittenProps||[];f=this._overwrittenProps[e]=a?this._overwrittenProps[e]||{}:"all";break}}else{if(b!==this.target)return!1;k=this._propLookup;f=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(k){if(e=a||k,m=a!==f&&"all"!==f&&a!==k&&("object"!=typeof a||!a._tempKill),d&&(z.onOverwrite||this.vars.onOverwrite)){for(g in e)k[g]&&(n||(n=[]),n.push(g));if((n||!a)&&!Da(this,d,b,
n))return!1}for(g in e)(h=k[g])&&(q&&(h.f?h.t[h.p](h.s):h.t[h.p]=h.s,p=!0),h.pg&&h.t._kill(e)&&(p=!0),h.pg&&0!==h.t._overwriteProps.length||(h._prev?h._prev._next=h._next:h===this._firstPT&&(this._firstPT=h._next),h._next&&(h._next._prev=h._prev),h._next=h._prev=null),delete k[g]),m&&(f[g]=1);!this._firstPT&&this._initted&&r&&this._enabled(!1,!1)}}return p};e.invalidate=function(){return this._notifyPluginsOfEnabled&&z._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=
this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],F.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1E-10,this.render(Math.min(0,-this._delay))),this};e._enabled=function(a,c){if(b||w.wake(),a&&this._gc){var d,e=this._targets;if(e)for(d=e.length;-1<--d;)this._siblings[d]=za(e[d],this,!0);else this._siblings=za(this.target,this,!0)}return F.prototype._enabled.call(this,a,c),this._notifyPluginsOfEnabled&&this._firstPT?
z._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};z.to=function(a,b,c){return new z(a,b,c)};z.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new z(a,b,c)};z.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new z(a,b,d)};z.delayedCall=function(a,b,c,d,e){return new z(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,
overwrite:0})};z.set=function(a,b){return new z(a,0,b)};z.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:z.selector(a)||a;var d,e;if((c(a)||ia(a))&&"number"!=typeof a[0]){d=a.length;for(e=[];-1<--d;)e=e.concat(z.getTweensOf(a[d],b));for(d=e.length;-1<--d;)for(b=e[d],a=d;-1<--a;)b===e[a]&&e.splice(d,1)}else if(a._gsTweenID)for(e=za(a).concat(),d=e.length;-1<--d;)(e[d]._gc||b&&!e[d].isActive())&&e.splice(d,1);return e||[]};z.killTweensOf=z.killDelayedCallsTo=function(a,b,c){"object"==
typeof b&&(c=b,b=!1);b=z.getTweensOf(a,b);for(var d=b.length;-1<--d;)b[d]._kill(c,a)};var L=n("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=b||0;this._super=L.prototype},!0);if(e=L.prototype,L.version="1.19.0",L.API=2,e._firstPT=null,e._addTween=ja,e.setRatio=Z,e._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;-1<--b;)null!=a[c[b]]&&
c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},e._mod=e._roundProps=function(a){for(var b,c=this._firstPT;c;)(b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},z._onPluginEvent=function(a,b){var c,d,e,f,h,g=b._firstPT;if("_onInitAllProps"===a){for(;g;){h=g._next;for(d=e;d&&d.pr>
g.pr;)d=d._next;(g._prev=d?d._prev:f)?g._prev._next=g:e=g;(g._next=d)?d._prev=g:f=g;g=h}g=b._firstPT=e}for(;g;)g.pg&&"function"==typeof g.t[a]&&g.t[a]()&&(c=!0),g=g._next;return c},L.activate=function(a){for(var b=a.length;-1<--b;)a[b].API===L.API&&(aa[(new a[b])._propName]=a[b]);return!0},h.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",
initAll:"_onInitAllProps"},g=n("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){L.call(this,c,d);this._overwriteProps=e||[]},!0===a.global),h=g.prototype=new L(c);h.constructor=g;g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,L.activate([g]),g},x=k._gsQueue){for(D=0;D<x.length;D++)x[D]();for(e in d)d[e].func||k.console.log("GSAP encountered missing dependency: "+e)}b=!1})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?
global:this||window,"TweenMax");
pega.namespace("pega.ui.anim");ANIM_SLIDE_FADE_OPEN="anim-fade-open";ANIM_SLIDE_GROW_OPEN="anim-grow-open";ANIM_SLIDE_SHRINK_OPEN="anim-shrink-open";ANIM_SLIDE_VERT_FLIP_OPEN="anim-vert-flip-open";ANIM_SLIDE_TOP_OPEN="anim-top-open";ANIM_SLIDE_LEFT_OPEN="anim-left-open";ANIM_SLIDE_BOTTOM_OPEN="anim-bottom-open";ANIM_SLIDE_RIGHT_OPEN="anim-right-open";ANIM_SLIDE_OFF_TOP_OPEN="anim-offtop-open";ANIM_SLIDE_OFF_LEFT_OPEN="anim-offleft-open";ANIM_SLIDE_OFF_RIGHT_OPEN="anim-offright-open";
ANIM_SLIDE_OFF_BOTTOM_OPEN="anim-offbottom-open";ANIM_SLIDE_FADE_CLOSE="anim-fade-close";ANIM_SLIDE_GROW_CLOSE="anim-grow-close";ANIM_SLIDE_SHRINK_CLOSE="anim-shrink-close";ANIM_SLIDE_VERT_FLIP_CLOSE="anim-vert-flip-close";ANIM_SLIDE_TOP_CLOSE="anim-top-close";ANIM_SLIDE_LEFT_CLOSE="anim-left-close";ANIM_SLIDE_BOTTOM_CLOSE="anim-bottom-close";ANIM_SLIDE_RIGHT_CLOSE="anim-right-close";ANIM_SLIDE_OFF_TOP_CLOSE="anim-offtop-close";ANIM_SLIDE_OFF_LEFT_CLOSE="anim-offleft-close";
ANIM_SLIDE_OFF_RIGHT_CLOSE="anim-offright-close";ANIM_SLIDE_OFF_BOTTOM_CLOSE="anim-offbottom-close";ANIM_SLIDE_EXPANDX_OPEN="anim-expandx-open";ANIM_SLIDE_COLLAPSEX_CLOSE="anim-collapsex-close";ANIM_SLIDE_EXPANDY_OPEN="anim-expandy-open";ANIM_SLIDE_COLLAPSEY_CLOSE="anim-collapsey-close";ANIM_SPEED_DEFAULT="default";ANIM_SPEED_FAST="fast";ANIM_SPEED_SLOW="slow";ANIM_SPEED_VERY_FAST="vfast";ANIM_SPEED_VERY_SLOW="vslow";ANIM_ACCEL_STANDARD="standard";ANIM_ACCEL_LINEAR="linear";
ANIM_ACCEL_START_SLOWLY="easein_slowly";ANIM_ACCEL_START_PULLBACK="easein_pullback";ANIM_ACCEL_START_ELASTIC="easein_elastic";ANIM_ACCEL_END_SLOWLY="easeout_slowly";ANIM_ACCEL_END_PULLBACK="easeout_pullback";ANIM_ACCEL_END_ELASTIC="easeout_elastic";ANIM_ACCEL_STARTEND_SLOWLY="easeinout_slowly";ANIM_ACCEL_STARTEND_PULLBACK="easeinout_pullback";ANIM_ACCEL_STARTEND_ELASTIC="easeinout_elastic";
pega.ui.anim=function(){var b={"default":.33,fast:.167,slow:.5,vfast:.1,vslow:.67},c={standard:"SlowMo.ease.config(0.1, 0.4, false)",linear:"Power0.easeNone",easein_slowly:"Power1.easeIn",easein_pullback:"Back.easeIn",easein_elastic:"Elastic.easeIn",easeout_slowly:"Power1.easeOut",easeout_pullback:"Back.easeOut",easeout_elastic:"Elastic.easeOut",easeinout_slowly:"Power1.easeInOut",easeinout_pullback:"Back.easeInOut",easeinout_elastic:"Elastic.easeInOut"},d={"anim-fade-open":{set:{x:"0%",y:"0%",opacity:"0",
transform:"none"},to:{opacity:1}},"anim-grow-open":{set:{x:"0%",y:"0%",transform:"none"},from:{scale:.9,opacity:0}},"anim-shrink-open":{set:{x:"0%",y:"0%",transform:"none"},from:{scale:1.1,opacity:0}},"anim-top-open":{set:{x:"0%",y:"0%",transform:"none"},from:{y:"-25%",opacity:0}},"anim-left-open":{set:{x:"0%",y:"0%",transform:"none"},from:{x:"-25%",opacity:0}},"anim-bottom-open":{set:{x:"0%",y:"0%",transform:"none"},from:{y:"25%",opacity:0}},"anim-right-open":{set:{x:"0%",y:"0%",transform:"none"},
from:{x:"25%",opacity:0}},"anim-offtop-open":{set:{x:"0%",y:"0%",transform:"none"},from:{y:"-150%",opacity:0}},"anim-offleft-open":{set:{x:"0%",y:"0%",transform:"none"},from:{x:"-150%",opacity:0}},"anim-offright-open":{set:{x:"0%",y:"0%",transform:"none"},from:{x:"150%",opacity:0}},"anim-offbottom-open":{set:{x:"0%",y:"0%",transform:"none"},from:{y:"150%",opacity:0}},"anim-vert-flip-open":{set:{x:"0",y:"0",transform:"none"},from:{transform:"rotateY(180deg)",opacity:0}},"anim-expandx-open":{set:{x:"0",
y:"0",transform:"none",width:0},to:{width:"100%"}},"anim-expandy-open":{set:{x:"0",y:"0",transform:"none",height:0},to:{height:"100%"}},"anim-fade-close":{set:{x:"0",y:"0",transform:"none"},to:{opacity:0}},"anim-grow-close":{set:{x:"0",y:"0",transform:"none"},to:{scale:1.1,opacity:0}},"anim-shrink-close":{set:{x:"0",y:"0",transform:"none"},to:{scale:.9,opacity:0}},"anim-top-close":{set:{x:"0",y:"0",transform:"none"},to:{y:"-25%",opacity:0}},"anim-left-close":{set:{x:"0",y:"0",transform:"none"},to:{x:"-25%",
opacity:0}},"anim-bottom-close":{set:{x:"0",y:"0",transform:"none"},to:{y:"25%",opacity:0}},"anim-right-close":{set:{x:"0",y:"0",transform:"none"},to:{x:"25%",opacity:0}},"anim-offtop-close":{set:{x:"0",y:"0",transform:"none"},to:{y:"-150%",opacity:0}},"anim-offleft-close":{set:{x:"0",y:"0",transform:"none"},to:{x:"-150%",opacity:0}},"anim-offright-close":{set:{x:"0",y:"0",transform:"none"},to:{x:"150%",opacity:0}},"anim-offbottom-close":{set:{x:"0",y:"0",transform:"none"},to:{y:"150%",opacity:0}},
"anim-vert-flip-close":{set:{x:"0",y:"0",transform:"none"},to:{transform:"rotateY(180deg)",opacity:0}},"anim-collapsex-close":{set:{x:"0",y:"0",transform:"none",width:"auto"},to:{width:0}},"anim-collapsey-close":{set:{x:"0",y:"0",transform:"none",height:"auto"},to:{height:0}}},e={"reverse-anim-fade-open":"anim-fade-close","reverse-anim-grow-open":"anim-shrink-close","reverse-anim-shrink-open":"anim-grow-close","reverse-anim-top-open":"anim-top-close","reverse-anim-left-open":"anim-left-close","reverse-anim-bottom-open":"anim-bottom-close",
"reverse-anim-right-open":"anim-right-close","reverse-anim-offtop-open":"anim-offtop-close","reverse-anim-offleft-open":"anim-offleft-close","reverse-anim-offright-open":"anim-offright-close","reverse-anim-offbottom-open":"anim-offbottom-close","reverse-anim-vert-flip-open":"anim-vert-flip-close","reverse-anim-expandx-open":"anim-collapsex-close","reverse-anim-expandy-open":"anim-collapsey-close"};return{getAnimParams:function(a){return d[a]?d[a]:{}},getEase:function(a){return c[a]?c[a]:c[ANIM_ACCEL_LINEAR]},
getDuration:function(a){return isNaN(parseFloat(a))?b[a]?b[a]:b[ANIM_SPEED_DEFAULT]:parseFloat(a)},getDismissEffectForReveal:function(a){return e[a]}}}();
pega.namespace("pega.ui.animations");
pega.ui.animations = (function() {
    var stringConstructor = "".constructor;
    //    var arrayConstructor = [].constructor;
    var objectConstructor = {}.constructor;
   
    function _animateTo(element, duration, animObj) {
        try {
            return TweenMax.to(element, duration, animObj);
        } catch (e) {
            console.log("Error animating elements - " + e);
        }
    }

    function _animateFrom(element, duration, animObj) {
        try {
            return TweenMax.from(element, duration, animObj);
        } catch (e) {
            console.log("Error animating elements - " + e);
        }
    }

    function _setAnimateSetParams(element, animObj) {
        try {
            return TweenMax.set(element, animObj);
        } catch (e) {
            console.log("Error animating elements - " + e);
        }
    }

    function _staggerTo(element, duration, animObj) {
        try {
            var resultVarForFrom = checkAnimationType(animObj);
            return TweenMax.staggerTo(element, duration, resultVarForFrom, duration);
        } catch (e) {
            console.log("Error animating elements - " + e);
        }
    }

    function _getTimelineMaxObj(callbacksObj) {
        var callbacks = {};
        if (callbacksObj) {
            if(callbacksObj.onAnimStart){
                callbacks.onStart = callbacksObj.onAnimStart;
            }
            if (callbacksObj.onAnimEnd) {
                callbacks.onComplete = callbacksObj.onAnimEnd;
            }
        }
        return new TimelineMax(callbacks);
    }

    function _cloneJSON(jsonObj) {
        return Object.assign({}, jsonObj);
    }

    function _bObjectHasKey(obj, key) {
        return Object.prototype.hasOwnProperty.call(obj, key);
    }
    
    function _constructEffectParams(_effect){
        var vars = {};
        if (_effect) {
            var _effectVars = {};
            _effect = _effect.indexOf("reverse") === 0 ? pega.ui.anim.getDismissEffectForReveal(_effect) : _effect;
            try {
                _effect = eval(_effect);
                _effectVars = pega.ui.anim.getAnimParams(_effect);
            } catch (e) {
                _effectVars = pega.ui.anim.getAnimParams(_effect);
            }
            vars = _cloneJSON(_effectVars);
        }
        return vars;
    }
  
    function _constructParams(paramsObj) {
        if (paramsObj && paramsObj.className) {
            var isAdd = _bObjectHasKey(paramsObj, "addOrRemoveClass") ? paramsObj.addOrRemoveClass : false;
            var className = isAdd ? "+=" + paramsObj.className : "-=" + paramsObj.className;
            paramsObj.css = paramsObj.css ? paramsObj.css : {};
            paramsObj.css.className = className;
            delete paramsObj.className;
            delete paramsObj.addOrRemoveClass;
        }
        paramsObj.ease = pega.ui.anim.getEase(paramsObj.ease);
        return paramsObj;
    }
      
    function checkAnimationType(obj){
        return obj.from ? obj.from : (obj.to ? obj.to : obj);
    } 
    function _getAnimParams(obj){
        return obj.from ? obj.from : (obj.to ? obj.to : obj);
    }
    function _getAnimSetParams(obj){
        return obj.set ? obj.set : {};
    }
    function _animateElementsWithSameAnim(element, params, commonJSON) {
        var isTweening = TweenMax.isTweening(element);
        if(isTweening){
            return false;
        }
        if (commonJSON) {
            params = Object.assign(_cloneJSON(commonJSON), _cloneJSON(params));
        }
        var effectObj = _constructEffectParams(params.effect);
        var varsObj = _constructParams(params);
        var duration = pega.ui.anim.getDuration(params.duration);
        delete varsObj.effect;
        delete varsObj.duration;
        var animSetParams = _getAnimSetParams(effectObj);
        _setAnimateSetParams(element, animSetParams);
        var _animVars = _getAnimParams(effectObj);
        Object.assign(_animVars, varsObj);
        
        if (params.bAllAnimateSequentially) {
            delete _animVars.bAllAnimateSequentially;
            return _staggerTo(element, duration, _animVars)
        }
        if(effectObj.from){
            return _animateFrom(element, duration, _animVars);
        } else {
            return _animateTo(element, duration, _animVars);
        }
    }

    function _animateMultipleElementsDiffAnims(elements, commonJSON) {
        var tl = _getTimelineMaxObj();
        for (var i = 0; i < elements.length; i++) {
            var obj = elements[i];
            var element = obj["element"];
            var varsOfElements = obj["paramsObj"];
            var delay = _bObjectHasKey(obj, "delay") ? obj["delay"] : (_bObjectHasKey(commonJSON, "delay") ?
                commonJSON["key"] : 0);
            var singleAnim = _animateElementsWithSameAnim(element, varsOfElements, commonJSON);
            if(singleAnim){
                tl.add(singleAnim, delay);    
            }
        }
        return tl;
    }
    function _validateInputParams(element, paramsObj){
        if(!element || !paramsObj){
            console.log("Animate API - Invalid input parameters element/paramsObj");
            return false;
        }
        if (typeof paramsObj === 'string') {
            try {
                paramsObj = eval(paramsObj);
            } catch (e) {
                paramsObj = {
                    "effect": paramsObj
                };
            }
        }
        paramsObj.ease = paramsObj.ease
        return true;
    }
    function _animate(element, paramsObj, commonJSON) {
        if (!Array.isArray(element) || (element.length > 0 && element[0].constructor !== objectConstructor)) {
            return _animateElementsWithSameAnim(element, paramsObj, commonJSON);
        }
        if (element.length > 0 && element[0].constructor === objectConstructor) {
            return _animateMultipleElementsDiffAnims(element, paramsObj, commonJSON);
        }
    }
  
    function _animateMain(element, paramsObj, callbacksObj) {
        var isValidInputs = _validateInputParams(element, paramsObj);
        if(!isValidInputs){
            return
        }
        try {
            var tl = _getTimelineMaxObj(callbacksObj);
            var tween = _animate(element, paramsObj);
            if(tween){
                tl.add(tween);
                tl.play();
            }
        } catch (e) {
            console.log("Error animating elements - " + e);
        }
    }
    return {
        "animate": _animateMain
    }
})();
//static-content-hash-trigger-NON
pega.control.Actions.prototype.guidedTour=function(a,b,c,e,d){"Start"===c?"true"===e?pega.desktop.automation.support.continueTour(b,a,"",d):pega.desktop.automation.support.startTour(b,a,"",d):"Dismiss"===c&&pega.desktop.automation.support.dismissTour()};
pega.control.Actions.prototype.openWizard=function(){pega.desktop.support.openWizard.apply(pega.desktop.support,arguments)};
pega.desktop.openLandingPage=function(c,b,a,d){pega.desktop.support.openLandingPage(c,b,a,d)};pega.control.Actions.prototype.openLandingPage=function(){if("Composite"!=pega.d.s.getDesktopType()){var c={},b;for(b in arguments[2])"customParams"!=b&&(c[b]=arguments[2][b]);b=arguments[2].customParams;for(var a in b)c[a]=b[a];a=[];a[0]=arguments[0];a[1]=arguments[1];a[2]=c;a[3]=arguments[3];pega.d.openLandingPage.apply(pega.d,a)}else pega.d.openLandingPage.apply(pega.d,arguments)};
pega.desktop.openUrlInWindow=function(a,b,c,d,e){return pega.desktop.support.openUrlInWindow(a,b,c,d,e)};function openUrlInWindow(a,b,c,d){return pega.desktop.support.openUrlInWindow(a,b,c,d)}"undefined"==typeof pega.control&&(pega.control=pega.namespace("pega.control"));"undefined"==typeof pega.control.Actions&&(pega.control.Actions=function(){},pega.control.Actions.prototype={});pega.control.Actions.prototype.openUrlInWindow=function(){pega.u.d.openUrlInWindow.apply(pega.u.d,arguments)};
pega.control.Actions.prototype.customActivityInPopup=function(){pega.u.d.customActivityInPopup.apply(pega.u.d,arguments)};
pega.desktop.getNextWorkItem=function(b,c,d,e){var f=b;if("object"==typeof f&&"safeURL"==f.name){var a=SafeURL_clone(f);b=a.get("strUserId");c=a.get("contentID");d=a.get("dynamicContainerID")}a||(a=new SafeURL);"string"==typeof b&&a.put("param",b);d&&""!=d&&a.put("dynamicContainerID",d);c&&""!=c&&a.put("contentID",c);pega.desktop.augmentConfigParams(e,a);pega.desktop.support.openSpace("Work",a,"getnextwork")||(b=a.toQueryString(),b=pega.desktop.support.constructUrl(b,"getnextwork"),pega.desktop.openUrlInWindow(b,
"pyWorkPage",WorkFormSize+PopupWindowFeatures))};function getNextWorkItem(b,c,d,e){return pega.desktop.getNextWorkItem(b,c,d,e)}pega.control.Actions.prototype.getNextWorkItem=function(){pega.desktop.getNextWorkItem.apply(pega.d,arguments)};
pega.control.Actions.prototype.toggleExpandCollapse=function(){"function"===typeof pega.u.d.toggleExpandCollapse&&pega.u.d.toggleExpandCollapse.apply(pega.u.d,arguments)};
pega.control.Actions.prototype.runSpellChecker=function(){pega.u&&pega.u.d&&pega.u.d.spellChecker&&pega.u.d.spellChecker.spellCheck.apply(null,arguments);window.runSpellChecker.apply(null,arguments)};
pega.control.Actions.prototype.openRule=function(){pega.d.openRule.apply(pega.d,arguments)};
pega.desktop.openRuleByClassAndName=function(a,d,b,c){var e=new SafeURL;a=pega.tools.SUtils.trim(a);d=pega.tools.SUtils.trim(d);e.put("objClass",d);e.put("insName",a);b&&""!=b&&e.put("contentID",b);c&&""!=c&&e.put("dynamicContainerID",c);if(pega&&pega.ui&&pega.ui.NavigateTopHandler||!pega.desktop.support.openSpace("Rules",e,"rulebyclassandname"))if(0<a.length&&0<d.length){var e=a.replace(/\W/g,"_"),f=new SafeURL("WBOpenLaunch");f.put("InsName",a);f.put("Action","Open");f.put("ObjClass",d);b&&""!=
b&&f.put("contentID",b);c&&""!=c&&f.put("dynamicContainerID",c);f.put("target","popup");pega.desktop.openUrlInWindow(f,e,RuleFormSize+PopupWindowFeatures)}else window.status="Can't open rule; no name or class."};function openRuleByClassAndName(a,d,b,c){return pega.desktop.openRuleByClassAndName(a,d,b,c)}pega.control.Actions.prototype.openRuleByClassAndName=function(){pega.d.openRuleByClassAndName.apply(pega.d,arguments)};
pega.desktop.openRuleByKeys=function(C,D,F,B){var A=null;var E;if(typeof D=="object"&&D.name=="safeURL"){D.put("pxObjClass",C);if(F&&F!=""){D.put("contentID",F)}if(B&&B!=""){D.put("dynamicContainerID",B)}var E;if(pega&&pega.ui&&pega.ui.NavigateTopHandler){E=false}else{E=pega.desktop.support.openSpace("Rules",D,"rulebykeys")}}else{var G=SafeURL_createFromURL(D);G.put("pxObjClass",C);if(F&&F!=""){G.put("contentID",F)}if(B&&B!=""){G.put("dynamicContainerID",B)}var E;if(pega&&pega.ui&&pega.ui.NavigateTopHandler){E=false}else{E=pega.desktop.support.openSpace("Rules",G,"rulebykeys")}}if(!E){if(typeof D=="object"&&D.name=="safeURL"){D.put("ObjClass",C);D.put("pyActivity",C+".WBOpen");A=D}else{var G=SafeURL_createFromURL(D);G.put("ObjClass",C);G.put("pyActivity",C+".WBOpen");A=G}A.put("target","popup");if(F&&F!=""){A.put("contentID",F)}if(B&&B!=""){A.put("dynamicContainerID",B)}pega.desktop.openUrlInWindow(A,"Rules")}};function openRuleByKeys(B,C,D,A){return pega.desktop.openRuleByKeys(B,C,D,A)}pega.control.Actions.prototype.openRuleByKey=function(){pega.d.openRuleByKeys.apply(pega.d,arguments)};
pega.desktop.showReportDefinition=function(C,H,E,B,D,A){var G;var F=null;if(typeof C=="object"&&C.name=="safeURL"){F=C;pega.desktop.support.openUrlInSpace(F);return }if(B==null||typeof B=="undefined"||B==""){B="popup"}if(typeof A=="undefined"||A==null||A=="open"){A="open"}if((A=="open"||A=="new")&&(H==null||typeof H=="undefined"||H=="")){return }if((A=="shortcut")&&(D==null||typeof D=="undefined"||D=="")){return }openURLAsRD(C,H,E,B,D,A,new SafeURL())};pega.desktop.showReportDefinitionWithParams=function(I,J,C,K,D,H,A){var G=new SafeURL();var B=Object.keys(A);for(var E=0;E<B.length;E++){var F=B[E];G.put(F,A[F])}openURLAsRD(I,J,C,K,D,H,G)};function openURLAsRD(I,P,O,G,F,D,L){var B=pega.desktop.support.getDesktopWindow();var K=null;if(B!=null){K=B.document.getElementById("workarea")}var H=K!=null&&(K.getAttribute("data-multiview")!="0");if(H){L.put("isMultiView",""+H)}if(G=="popup"){if(I!=null&&I!=""){I=pega.desktop.support.getClassForReports(I);L.put("pyReportClass",I)}if(D!="shortcut"){var Q="";var E=P.indexOf("&");var A=[];if(E>0){Q=P.substr(E+1);P=P.substring(0,E);paramsList=Q.split("&");for(var N=0;N<paramsList.length;N++){var C=paramsList[N].indexOf("=");if(C>-1){var R="";var J="";R=paramsList[N].substring(0,C);if(C<paramsList[N].length){J=paramsList[N].substring(C+1)}A[R]=J}}}if(P!=null&&P!=""){L.put("pyReportName",P)}if(O!=null&&O!=""){L.put("pyReportDisplay",O)}L.put("pyNew",(D=="new")+"");if(E>0){for(var M in A){L.put(M,A[M])}}L.put("pyActivity","@baseclass.doUIAction");L.put("action","reportDefinition");L.put("ReportAction",D)}else{L.put("pyActivity","@baseclass.doUIAction");L.put("pyShortcutHandle",F);L.put("action","reportDefinition");L.put("ReportAction","shortcut")}L.put("pyDisplayTarget","popup");L.put("target","popup");pega.desktop.support.openUrlInSpace(L,"RD_POPUP")}else{if(I!=null&&I!=""){I=pega.desktop.support.getClassForReports(I);L.put("ReportClass",I)}if(D!="shortcut"){var Q="";var E=P.indexOf("&");var A=[];if(E>0){Q=P.substr(E+1);P=P.substring(0,E)}L.put("ParamKeys",Q)}L.put("ReportName",P);if(O!=null&&O!=""){L.put("pyReportDisplay",O)}if(F!=null&&typeof F!="undefined"&&F!=""){L.put("ShortcutHandle",F)}if(D!=null&&typeof D!="undefined"&&D!=""){L.put("ReportAction",D)}if(G!=null&&typeof G!="undefined"&&G=="current"){L.put("replaceCurrent","true")}else{L.put("replaceCurrent","false")}pega.desktop.support.openSpace("Work",L,"reportDefinition")}}function showReportDefinition(E,H,G,D,F,B){var A=pega.ui.HarnessContextMgr.get("desktopType");var C=pega.ui.HarnessContextMgr.get("desktopSubType");if(A=="Developer"&&C=="Composite"){pega.desktop.showNextInWindow()}return pega.desktop.showReportDefinition(E,H,G,D,F,B)}pega.control.Actions.prototype.reportDefinition=function(){window.showReportDefinition.apply(null,arguments)};
pega.control.Actions.prototype.runActivity=function(){pega.u.invoke.runActivity(arguments)};
pega.control.Actions.prototype.runDataTransform=function(){pega.u.invoke.runDataTransform(arguments)};
pega.desktop.openWorkItem=function(a,c,d,e,g){var h=a;if("object"==typeof h&&"safeURL"==h.name){var b=SafeURL_clone(h);a=b.get("ID");c=b.get("workpool")}var f;if(0==c||1==c)f=c+"";b||(b=new SafeURL);a&&""!=a&&b.put("param",a);f&&""!=f&&b.put("version",f);d&&""!=d&&b.put("contentID",d);e&&""!=e&&b.put("dynamicContainerID",e);c&&1!=c&&0!=c&&b.put("workpool",c);pega.desktop.augmentConfigParams(g,b);openSpace("Work",b,"openbyworkItem")||(a=b.toQueryString(),a=pega.desktop.support.constructUrl(a,"openbyworkItem"),
pega.desktop.openUrlInWindow(a,"pyWorkPage",WorkFormSize+PopupWindowFeatures))};function openWorkItem(a,c,d,e,g){if(""==a||"()"==a.replace(/^\s+|\s+$/g,""))a=pega.u.d.fieldValuesList.get("Empty Work Item ID"),alert(a);else return pega.desktop.openWorkItem(a,c,d,e,g)}pega.control.Actions.prototype.openWorkItem=function(){pega.control&&pega.control.Actions&&pega.control.Actions.prototype.showSkeleton&&pega.control.Actions.prototype.showSkeleton();window.openWorkItem.apply(null,arguments)};
pega.control.Actions.prototype.openWorkByHandle=function(){pega.control&&pega.control.Actions&&pega.control.Actions.prototype.showSkeleton&&pega.control.Actions.prototype.showSkeleton();window.openWorkByHandle.apply(null,arguments)};
pega.control.Actions.prototype.openAssignment=function(){pega.control&&pega.control.Actions&&pega.control.Actions.prototype.showSkeleton&&pega.control.Actions.prototype.showSkeleton();window.openAssignment.apply(null,arguments)};
pega.control.Actions.prototype.launchFlowInModal=function(){pega.u.d.launchFlow.showFlowInModal(arguments[0],[arguments[1],arguments[2],arguments[3],arguments[6]||""],arguments[4],5<arguments.length?arguments[5]:"")};
pega.control.Actions.prototype.postValue=function(b,a){if(pega.u.d.ServerProxy.isDestinationLocal()){a=pega.util.Event.getTarget(b);b=pega.u.d.getDOMElementValue(a);for(var c=a;c&&c.tagName&&"span"!=c.tagName.toLowerCase();)c=c.parentNode;'["DatePicker"]'==a.getAttribute("data-ctl")&&isNaN(b)&&-1==b.indexOf("GMT")&&(b=pega.DateTimeUtil.convertDateTimeToGMT(b,c));!(a=a.name)||window.getErrorDB&&a&&window.getErrorDB().isHavingError(a)||(a=pega.ui.property.toReference(a),(a=pega.ui.ClientCache.find(a))&&
a.setValue(b))}else pega.control.postValue.initiatePost(b,"ControlEvent",a)};
pega.control.Actions.prototype.closeContainer=function(c){var d=null;if(c){var b=pega.util.Event.getTarget(c),a=b.closest("div[data-mdc-recordid]");if(a&&"openSection"===a.getAttribute("action")){c=a.closest("div[data-mdc-id]").getAttribute("data-mdc-id");pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.CLOSE,{mdcTarget:c,isFromOpenSection:!0,recordId:a.getAttribute("data-mdc-recordid")}));pega.Mashup&&pega.u.d.resizeActionIFrame(!0);return}0==$(b).closest("body").length&&(b=$('[name\x3d"'+
b.name+'"]').get(0));a=pega.u.d.getPopOverLevel(b);0<=a&&(d=pega.u.d.getPopOver(a))}else d=pega.u.d.getPopOver();d?d.close("","","",b):pega.u.d.bModalDialogOpen&&document.getElementById("modaldialog_con_dirty")&&0!=document.getElementById("modaldialog_con_dirty").offsetHeight?(pega.c&&pega.c.actionSequencer&&!pega.u.d.gIsScriptsLoading&&!pega.u.d.isAjaxInProgress()&&pega.c.actionSequencer.resume(),pega.u.d.hideModalWindow()):pega.u.d.bModalDialogOpen&&doModalAction("",c)};
pega.control.Actions.prototype.scanCode=function(g,d){function f(a){pega.u.d.resumeAjaxSequencer();var c=pega.u.property.toReference(d),b;0<=d.indexOf("$l1$")?(b=c.substr(c.lastIndexOf(".")),c=pega.u.d.getBaseRef(g.srcElement)||SafeURL_createFromURL(pega.ctx.url).get("pzPrimaryPageName"),d=pega.u.property.toHandle(c+b),pega.u.d.setProperty(c+b,a.data||a.value)):(b=c.substr(c.indexOf(".")),c=c.substr(0,c.indexOf(".")),pega.u.d.setProperty(b,a.data||a.value,c));b=SafeURL_createFromURL(pega.ctx.url);
c=new SafeURL;c.put(d,a.data||a.value);callback={success:function(a){},failure:function(a){}};b.put("pyActivity","pzScanCode");pega.u.d.ServerProxy.doAction(b,c,{scope:this,online:function(a,b,c){try{pega.u.d.asyncRequest("POST",a,c,b)}catch(l){pega.u.d.resumeAjaxSequencer()}},offline:function(){pega.u.d.resumeAjaxSequencer()}},callback)}function e(a){pega.u.d.resumeAjaxSequencer()}var b=pega.u.d.fieldValuesList.get("ScanOnlyAvailableOnMobileApp");if(pega.automation&&pega.automation.scanCodeReturnMessage){if(b=
pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox(),!b||b.BarcodeScanner){var a=pega.u.property.toReference(d),b=a.substr(a.indexOf(".")),a=a.substr(0,a.indexOf("."));pega.u.d.setProperty(b,pega.automation.scanCodeReturnMessage,a);b=SafeURL_createFromURL(pega.ctx.url);a=new SafeURL;a.put(d,resultJson.data);callback={success:function(a){},failure:function(a){}};b.put("pyActivity","pzScanCode");pega.u.d.ServerProxy.doAction(b,a,{scope:this,online:function(a,b,d){try{pega.u.d.asyncRequest("POST",
a,d,b)}catch(k){pega.u.d.resumeAjaxSequencer()}},offline:function(){pega.u.d.resumeAjaxSequencer()}},callback)}}else if("undefined"!==typeof pmcRuntimeFeatures&&pmcRuntimeFeatures.pxBarcodeScanner)a={shutterMode:"auto"},pega.u.d.pauseAjaxSequencer(),pega.mobile.sdk.plugins.barcode.scan(a).then(f).catch(e);else if(window.launchbox&&window.launchbox.BarcodeScanner){pega.u.d.pauseAjaxSequencer();a={scanMode:window.launchbox.BarcodeScanner.SCAN_MODE_ALL};try{window.launchbox.BarcodeScanner.scan(a,{onSuccess:f,
onCancel:e,onFailure:e})}catch(h){alert(b),pega.u.d.resumeAjaxSequencer()}}else alert(b)};
pega.control.Actions.prototype.setValue=function(){for(var b=0;b<arguments.length;b++){var e=arguments[b][0],f=arguments[b][1],a=arguments[b][2],d=arguments[b][3],g=arguments[b][4];if(""==a&&""==d)pega.u.d.setProperty(e,g,f);else{var h=pega.u.d.getProperty(a,d),a=d?pega.u.property.toHandle(a,d):pega.u.property.toHandle(a),c;(a=pega.util.Dom.getElementsByName(a))&&0!=a.length&&(c=a[0],c="hidden"==c.type?pega.u.d.TimeZone||"America/New_York":c.getAttribute("data-custom-timezone"));h?pega.u.d.setProperty(e,
h,f,c):pega.u.d.setProperty(e,g,f,c)}}};
pega.control.Actions.prototype.setItemFocus=function(){var c=arguments[0],a=arguments[1];try{var h=null;if(h=a?pega.u.property.toHandle(c,a):pega.u.property.toHandle(c))if(targetElem=pega.ctx.dom.getElementsByName(h),null!=targetElem&&void 0!=targetElem){c=!1;for(a=0;a<targetElem.length;a++)if(targetElem[a]&&"hidden"!=targetElem[a].type&&"none"!=targetElem[a].style.display&&"hidden"!=targetElem[a].style.visibility){targetElem=targetElem[a];c=!0;break}else if("TEXTAREA"==targetElem[a].nodeName&&targetElem[a].id&&
-1<targetElem[a].id.indexOf("PEGACKEDITOR")&&CKEDITOR&&CKEDITOR.instances){var e=CKEDITOR.instances[targetElem[a].id];if(e){targetElem=e;c=!0;break}}if(!c){var g=targetElem[0].parentNode;if(g&&g.hasChildNodes())for(var k=g.getElementsByTagName("*"),l=k.length,e=0;e<l;e++){var d=k[e];if(null!=d&&("INPUT"==d.nodeName||"SPAN"==d.nodeName||"SELECT"==d.nodeName||"TEXTAREA"==d.nodeName)&&"hidden"!=d.type&&"none"!=d.style.display){targetElem=d;c=!0;break}}}if(c){if(pega.cl&&pega.cl.isTouchAble()&&"string"==
typeof navigator.platform&&("ipad"==navigator.platform.toLowerCase()||"iphone"==navigator.platform.toLowerCase())){var b=targetElem,f=function(){b&&(b.focus(),"textarea"==b.type?pega.u.d.setCursorAtEndofText(b):b.select&&void 0!=b.select&&b.select());setTimeout(function(){pega.util.Event.removeListener(b,"blur",f)},10)};pega.util.Event.removeListener(b,"blur",f);pega.util.Event.addListener(b,"blur",f);setTimeout(function(){pega.util.Event.removeListener(b,"blur",f)},700)}setTimeout(function(){targetElem.focus();
"textarea"==targetElem.type?pega.u.d.setCursorAtEndofText(targetElem):targetElem.select&&void 0!=targetElem.select&&targetElem.select()},0)}}}catch(m){}};
pega.desktop.showHarness=function(k,b,l,p,g,c,u,e,a,q,r,v,A,y,z,B){var d=new SafeURL;d.put("name",k);d.put("ClassName",b);d.put("HarnessName",l);d.put("preActivityName",p);d.put("preActivityParams",g);try{if("object"===typeof g||JSON.parse(g))g=JSON.parse(g),preActivityDynamicParams=JSON.stringify(g.preActivityDynamicParams),delete g.preActivityDynamicParams,g=JSON.stringify(g),preActivityDynamicParams&&"null"!=preActivityDynamicParams&&d.put("preActivityDynamicParams",preActivityDynamicParams),d.put("preActivityParams",
g)}catch(t){}z&&d.put("accessFromServer",z);y&&d.put("page",y);null!=r&&d.put("contentID",r);null!=v&&d.put("dynamicContainerID",v);null!=q&&d.put("SkipConflictCheck",q);null!=c&&d.put("key",c);null!=u&&d.put("readOnly",u);null!=A&&d.put("pySkipReload",A);null!=B&&d.put("pmcOptions",B);if(null!=e)if(b="","-1"!=e.indexOf("pyDataTransform\x3d")){if("-1"!=e.indexOf("\x26")){var f=e.split("\x26");for(l=0;l<f.length;l++)p=f[l].split("\x3d"),"pyDataTransformParams"==p[0]&&(b=p[1])}d.put("model",encodeURIComponent(e.replace(b,
""))+b)}else{try{e=decodeURIComponent(e)}catch(t){}b=!1;try{JSON.parse(e)&&(b=!0)}catch(t){}if(b){b=e;try{e=JSON.parse(e),(f=e.pyDataTransformDynamicParams)&&d.put("pyDataTransformDynamicParams",JSON.stringify(f)),delete e.pyDataTransformDynamicParams,d.put("model",JSON.stringify(e))}catch(t){d.put("model",b)}}else d.put("model",encodeURIComponent(e))}d.put("tabName",k);pega.desktop.augmentConfigParams({},d);null!=a&&d.put("replaceCurrent",a);return pega.desktop.support.openSpace("Work",d,"showHarness")};
pega.desktop.showHarnessWrapperForNoRefresh=function(k,b,l,p,g,c,u,e,a,q,r,v,A){c={};var y={};y.RuleClass=e;y.AppliesToClass=a;c.preActivityDynamicParams=y;c.Action=q;c.ShowInstances=r;c.Label=v;"newDocument"===k&&pega.desktop.showHarnessWrapper(k,l,p,u,c,"",b,"",g,A,"false","","","","true","true")};
pega.desktop.showHarnessWrapper=function(){var k=pega.ui.HarnessContextMgr,b=arguments[0],l=arguments[1],p=arguments[2],g=arguments[3],c,u,e;try{if("object"===typeof arguments[4]||JSON.parse(arguments[4]))c=arguments[4],u=JSON.stringify(arguments[4]),e=JSON.stringify(c.preActivityDynamicParams),delete c.preActivityDynamicParams,c=JSON.stringify(c)}catch(J){u=c=arguments[4]}var a=arguments[5],q=arguments[11],r="",v=arguments[14],A=arguments[15],y=arguments[16],z=arguments[18];pega&&pega.ui&&pega.ui.statetracking&&
pega.ui.statetracking.setPALInteraction("abc?action\x3ddisplay\x26className\x3d"+l+"\x26harnessName\x3d"+p);if(null==v||""==v||"undefined"==typeof v)v=!0;"undefined"!=typeof arguments[12]&&(r=arguments[12]);var B="";"undefined"!=typeof arguments[13]&&(B=arguments[13]);var d=q?q:a,q=arguments[arguments.length-1],f,t,w;try{if("object"===typeof arguments[9]||JSON.parse(arguments[9]))f=arguments[9]===q?"":arguments[9],t=JSON.stringify(arguments[9]===q?"":arguments[9]),w=JSON.stringify(f.pyDataTransformDynamicParams),
delete f.pyDataTransformDynamicParams,f=JSON.stringify(f)}catch(J){t=f=arguments[9]===q?"":arguments[9]}var D=!1;"null"===q&&(q=void 0);pega.u.d&&pega.u.d.url?(a=SafeURL_createFromURL(pega.u.d.url),pega.u.d.fixBaseThreadTxnId&&pega.u.d.fixBaseThreadTxnId(a)):a=new SafeURL;var G=void 0,H=void 0,C=void 0,E=void 0,m=!1;z&&a.put("pmcOptions",z);"microDC_static"===b&&(b="microDC",a.put("isStatic","true"));if("microDC"===b){b=arguments[6];a.put("action","display");a.put("mdcTarget",b);a.put("harnessName",
p);a.put("className",l);m="Yes"===arguments[8]?"true":"false";a.remove("pzPrimaryPageName");a.remove("pzFromFrame");a.put("preActivity",g);a.put("preActivityParams",c);e&&"null"!=e&&a.put("preActivityDynamicParams",e);a.put("model",f);w&&a.put("pyDataTransformDynamicParams",w);a.put("pyPreActivity","doUIAction");a.put("readOnly",m);arguments[17]&&(a.put("tabName",arguments[17]),a.put("name",arguments[17]));if(pega.desktop.support.openSpace("Work",a,"showHarness"))return!0;a.remove("target");b="newDocument"}"newDocument"===
b&&(G=arguments[6],E=arguments[7],m="Yes"===arguments[8]?"true":"false","Composite"==pega.d.s.getDesktopType()&&(H=pega.d.showHarness(G,l,p,g,u,E,m,t,D,v,r,B,A,"",y,z)));(pega&&pega.ctx&&!pega.ctx.isUITemplatized||"newDocument"===b||"current"===b)&&pega.control&&pega.control.Actions&&pega.control.Actions.prototype&&pega.control.Actions.prototype.hideSkeleton(void 0,600);arguments[17]&&a.put("pzKeepPageMessages",arguments[17]);if("popup"===b||"current"===b||"newDocument"===b&&!H)a.put("preActivity",
g),a.put("preActivityParams",c),a.put("action","display"),a.put("harnessName",p),a.put("className",l),e&&"null"!=e&&a.put("preActivityDynamicParams",e);if("popup"===b||"current"===b){a.put("pyActivity","@baseclass.pzTransformAndRun");a.put("pyDataTransform",f);w&&a.put("pyDataTransformDynamicParams",w);a.put("pyPreActivity","doUIAction");""==r&&"current"===b&&(r="_blank");if(""!=d)a.put("pzPrimaryPage",d),a.put("pzPrimaryPageName",d);else if(null!=arguments[10]&&"undefined"!=typeof Grids&&Grids&&
(c=Grids.getActiveGrid(arguments[10]),null!=c))if(c.isLastEventFromRow){if(c=c.getRightRow())c=pega.u.property.toReference(c.hpref?c.hpref:c.id),a.put("pzPrimaryPage",c),a.put("pzPrimaryPageName",c)}else a.put("pzPrimaryPage",c.gridReferencePage),a.put("pzPrimaryPageName",c.gridReferencePage);a.put("checkForNewPage",!0)}if("newDocument"===b&&!H){a.put("pyActivity","@baseclass.doUIAction");a.put("model",f);w&&a.put("pyDataTransformDynamicParams",w);C=G;a.put("frameName",C);a.put("readOnly",m);if(window.pms){var h=
pega.ctx.pxReqURI,n=arguments[6].replace(/\s/g,""),h=h.substring(0,h.indexOf("*/!")+3)+n;a.put("pxReqURI",h)}pega.desktop.support.openUrlInWindow(a,C,x,!0)}else if("popup"===b){var m="Yes"===arguments[6]?"true":"false",x=arguments[7],C=arguments[8];a.put("readOnly",m);a.put("frameName",C);a.put("target",b);pega.desktop.support.openUrlInWindow(a,C,x,!0)}else if("current"===b)if(pega.ctx&&pega.ctx.isAPopupWindow&&a.put("target","popup"),pega.ctx.bIsDCSPA||pega.ctx.isMDC||a.put("switchtoPOST","true"),
void 0!=pega.u.d.portalName&&""!=pega.u.d.portalName&&a.put("portalName",pega.u.d.portalName),void 0!=pega.u.d.getThreadName()&&""!=pega.u.d.getThreadName()&&pega.u.NavigateTopHandler&&a.put("portalThreadName",pega.u.d.getThreadName()),x=arguments[6],m="Yes"===arguments[8]?"true":"false",n=arguments[7],a.put("contentID",r),("Yes"!=x||pega.mobile&&pega.mobile.isMultiWebViewOfflinePegaMobileClient)&&a.put("readOnlyMode",m),w=pega.desktop.support.getDesktopApplication(),f=null,w&&(w=w.gadgetPool)&&(f=
w.findAvailableGadget()),f&&f.gadgetAvailable)if(D=!0,"Yes"!=x||k.get("bIsDCSPA"))if(pega.offline)pega.d.showHarness(n,l,p,g,u,E,m,t,D,v,r,B,A,"",y,z);else if(k.get("bIsDCSPA")&&pega.u.d.UIActionRouter.singlePageRenderer&&!pega.ctx.isMDC){a.put("isURLReady","true");a.put("readOnlyMode",m);a.put("submitCurrent",x);var I;"Yes"==x&&(document.forms&&document.forms.length?(h=document.forms[0],I="multipart/form-data"==h.encoding?new FormData(h):pega.u.d.getQueryString(h)):document.getElementsByTagName("main").length&&
(I=pega.u.d.getQueryString(document.getElementsByTagName("main")[0])));pega.u.d.UIActionRouter.singlePageRenderer(a,I)}else pega.u.d.replace(a.toURL());else if(a.put("label",n),pega.ctx.isMDC&&a.put("tabName",n),a.put("api","setDocumentLabel"),a.put("readOnlyMode",m),0<document.forms.length){try{var F=pega.desktop.support.getDesktopWindow();!F||!F.pega.ctx||F.pega.ctx.bIsDCSPA||pega.ctx.isMDC||F.pega.desktop.PopupCtrl.isWindowPopped(window.name)||pega.u.NavigateTopHandler||window.opener&&/Ifr$/g.test(window.opener.name)||
pega.desktop.sendEvent("DesktopAction",a,"SYNC")}catch(J){}pega.u.d.submit(a,this,"",q)}else pega.offline&&pega.offline.NetworkStatus.STATE_OFFLINE==pega.offline.NetworkStatus.isDataNetworkAvailable()?(toggleLeftSidebar(),removeScreenLayoutMask(),(pega&&pega.ctx&&!pega.ctx.isUITemplatized||"newDocument"===b||"current"===b)&&pega.control&&pega.control.Actions&&pega.control.Actions.prototype&&pega.control.Actions.prototype.hideSkeleton(void 0,600)):(a.put("api","submitDocumentContent"),a.put("callbackFn",
function(){pega.d.showHarness(n,l,p,g,u,E,m,t,D,v,r,B,A,d,null,z)}),pega.desktop.sendEvent("DesktopAction",a,"SYNC"));else{k=pega.desktop.support.getDesktopWindow();if("Composite"==pega.d.s.getDesktopType())if(f&&f._multiView)h=(h=k.pega.composite.objMultiView._objGadget.manager.getGadgetByKey(n))?k.pega.composite.objMultiView._objGadget.manager.getTabByGadgetName(h.gadgetName):k.pega.composite.container.tabDisplay.getCurrentTab(),n||(n=h.label),"Yes"!=x&&(t=encodeURIComponent(decodeURIComponent(t)),
k.pega.composite.objMultiView._objGadget.manager.replaceTab(h,n,{close:"yes",key:""},{action:"display",page:"",model:t,harnessName:p,className:l,configObj:{},preActivity:g,preActivityParams:u,readOnly:m,tabName:n})),k.pega.composite.objMultiView._objGadget.manager.focusTab(h);else if(f)pega.d.showHarness("",l,p,g,u,"",m,t,D,!0,r,B,null,null,null,z);else{pega.u.d.replace(a.toURL());return}else k&&k.pega.desktop.DesktopTabControl&&(h=k.pega.desktop.DesktopTabControl.tabArray.activeTab,n||(n=h.label),
h.setTitle(n)),"Yes"!==x&&pega.u.d.replace(a.toURL());"Yes"==x&&(n&&h&&h.setLabel&&h.setLabel(n),a.put("readOnlyMode",m),pega.u.d.submit(a,this,"",q))}};pega.control.Actions.prototype.showHarnessWrapper=function(){pega.control&&pega.control.Actions&&pega.control.Actions.prototype.showSkeleton&&pega.control.Actions.prototype.showSkeleton();pega.d.showHarnessWrapper.apply(pega.d,arguments)};
pega.control.Actions.prototype.showSmartInfo=function(a,b,c,d,e){pega.u.smartinfo.showSmartInfo(a,b,c,d,e)};
pega.control.Actions.prototype.showSmartTip=function(N,P,E,Q){var H=pega.util.Event.getTarget(N);if(H.__SmartTipVisible==undefined||H.__SmartTipVisible==null){H.__SmartTipVisible=true;var K=function(a){var Z=pega.util.Event.getTarget(a);var X=pega.util.Event.getPageX(a);var W=pega.util.Event.getPageY(a);var f=pega.c.mouseOverEle;var c=Math.round(pega.util.Dom.getX(f));var V=Math.round(pega.util.Dom.getY(f));var d=c+f.offsetWidth;var Y=V+f.offsetHeight;if(!((X>=c&&X<=d)&&(W>=V&&W<=Y))&&!$(H).is(":hover")){var b=(Z&&Z.classList&&Z.classList.contains("ms-primary-option"))?true:false;if(!b){pega.u.d.getPopOver(H).close()}}};var L=function(){if(!$(H).is(":focus")&&H.__SmartTipVisible){pega.u.d.getPopOver(H).close()}};var C=function(){pega.util.Event.removeListener(document.body,"mousemove",K);pega.util.Event.removeListener(H,"focusout",L);H.__SmartTipVisible=undefined;var W=H.getAttribute("aria-describedby");var V=document.getElementById(W);if(V){document.body.removeChild(V)}if(!window.chrome){H.removeAttribute("role")}H.removeAttribute("aria-describedby");H.removeAttribute("aria-controls");H.removeAttribute("aria-owns");return true};var S=document.createElement("div");if(Q!==undefined){var O=document.createElement("div");if(typeof (Q)==="string"&&Q.toLowerCase().indexOf("<script>")!=-1&&Q.toLowerCase().indexOf("<\/script>")!=-1){Q=new Option(Q).innerHTML}Q=DOMPurify.sanitize(Q);O.innerHTML=Q;O.className="smarttip-header";S.appendChild(O)}var J=document.createElement("div");if(typeof (E)==="string"&&E.toLowerCase().indexOf("<script>")!=-1&&E.toLowerCase().indexOf("<\/script>")!=-1){E=new Option(E).innerHTML}E=DOMPurify.sanitize(E);J.innerHTML=E;J.className="smarttip-content";S.appendChild(J);var U=document.createElement("div");U.appendChild(S);var T=pega.u.d.getPopOver(H);var I="smarttip-container";if(P!=""){I+=" smarttip-container-"+P}T.open({content:{type:"domElement",element:U},buttons:{ok:false,cancel:false},bindings:{associatedElement:H},visual:{displayLoader:false,contentClass:I,arrowDivClasses:["arrow top","arrow bottom","arrow right","arrow left"]},position:{fieldAttach:"leftBottom",popOverAttach:"leftTop",mouseOrTouchPositionX:pega.util.Event.getPageX(N),size:{min:{x:20,y:20}},offsetAttach:{y:7}},extraParams:{refresh:false,overflow:false},callbacks:{onBeforeClose:C}});if(pega&&pega.u&&pega.u.d&&pega.u.d.isAccessible){H.blur()}function R(X,V){if(!V||(typeof V!="string")){V=""}else{if(/\.$/.test(V)){V+=" "}else{V+=". "}}if(!X||(typeof X!="string")){X=""}else{if(!(/\.$/.test(X))){X+="."}}var W=V+X;return(W)}function A(){var V=Math.random();V=V.toString().replace("0.","");return("stc"+V)}var F=A();var M=R(E,Q);var D=document.createElement("span");D.innerHTML=M;D.setAttribute("id",F);D.setAttribute("role","tooltip");D.style.display="none";document.body.appendChild(D);if(!window.chrome){H.setAttribute("role","dialog")}H.setAttribute("aria-describedby",F);H.setAttribute("aria-controls",F);H.setAttribute("aria-owns",F);if(pega&&pega.u&&pega.u.d&&pega.u.d.isAccessible){H.focus()}pega.c.mouseOverEle=H;pega.util.Event.addListener(document.body,"mousemove",K);pega.util.Event.addListener(document.body,"touchmove",K);if((document.getElementById("_popOversContainer")).contains(H)){pega.util.Event.addListener(H,"focusout",L)}var G=T.getContentContainerElement();var B=pega.util.Dom.getElementsById("arrow-border",G,"DIV");if(Q==undefined){if(B[0].className.indexOf("noHeader")===-1){pega.util.Dom.addClass(B[0],"noHeader")}}else{if(B[0].className.indexOf("noHeader")!==-1){pega.util.Dom.removeClass(B[0],"noHeader")}}}};
pega.control.Actions.prototype.showMenu=function(f,d,a){var l=f.dataSource,g=f.className,k=f.menuAlign,e=f.format,b=f.ellipsisAfter,h=f.usingPage,c={},n="false"===f.isNavTypeCustom,m="true"===f.useNewMenu;pega&&pega.u&&pega.u.d&&!1===pega.u.d.inStandardsMode&&(m=!1);if("undefined"==typeof h||null==h)h="";if(d){for(c=pega.util.Event.getTarget(d);c&&c.attributes&&!c.attributes["data-ctl"];)c=c.parentNode;c&&!c.attributes&&(c=pega.util.Event.getTarget(d))}k={x:pega.util.Event.getPageX(d),y:pega.util.Event.getPageY(d),
relativeElement:c,align:k,pyFormat:e,maxChars:b,usingPage:h};a&&!a.gridDiv&&(a=null);window.Grids&&pega.ctx.Grid&&(a||(a=Grids.getActiveGrid(d)),e=pega.u.d.getSectionDiv(d.target),a&&jQuery.contains(a.gridDiv,e)&&a.gridcontDiv&&0<jQuery(a.gridcontDiv).find("[data-repeat-source]").length&&(a=null));null!=d&&(b=pega.u.d.getBaseRef(pega.util.Event.getTarget(d)),pega.u.d.isInRepeat(pega.util.Event.getTarget(d))?(e=pega.u.d.getRepeatRow(pega.util.Event.getTarget(d),!0))&&e.hPref?(b=pega.u.property.toReference(e.hPref),
f.pzPrimaryPageName=b):f.ContextPage=b:(0<$(d.target).parents("div#PEGAADDRESSMAP").length&&(b=k.usingPage),f.ContextPage=b),b&&""!=b&&(f.pzPrimaryPageName=b));e=!1;h=b=null;c&&c.querySelector&&(b=pega.ctx.dom.closest(c,"#pyFlowActionHTML"));a&&a.rightBodyTbl&&(h=pega.ctx.dom.closest(a.rightBodyTbl,"#pyFlowActionHTML"));c&&a&&a.modalAction&&b&&h!=b&&(e=!0);if(!a||a&&e)m&&n?pega.control.menu.showContextMenu(f,c,d):pega.mobile&&pega.mobile.hybrid&&!pega.mobile.hybrid.getLaunchBox()?pega.u.contextMenu.renderContextMenu(k,
l,g,d):(f=pega.u.d.fieldValuesList.get("OldMenuNotSupportedInHC"),alert(f));else{if("contextmenu"==d.type){e=pega.util.Dom.isAncestor(a.rightBodyTbl,c)?a.rightBodyTbl:a.leftBodyUL;b=a.findCell(d,e);e=a.getRowIndex(b);if(!b||!e)return;if(c.attributes["data-ctl"]||"A"==c.tagName.toUpperCase()||"BUTTON"==c.tagName.toUpperCase())k.relativeElement=b;a.selectPage(d,null,e);e=a.rightBodyTbl.rows[e];if(a.editConfig==a.EDIT_ROW&&pega.util.Dom.hasClass(e,"editMode")||a.editConfig==a.EDIT_EXPANDPANE&&""==e.id||
a.editConfig==a.EDIT_HARNESS&&b&&pega.util.Dom.isAncestor(a.gridDetailsDiv,b))return;a.bTreegrid&&(g=a.getLeftRow(),g=pega.util.Dom.getFirstChild(g),g=a.bReportDefinition&&a.bTreegrid?a.RDAppliesToClass:g.getAttribute("objclass"))}a.renderContextMenu("py"+l+g.replace(/-/g,"").replace(/@/g,""),k,l,g,f,m&&n,d)}};
pega.control.Actions.prototype.takeAction=function(b,c){if(b.errorMessage)alert(b.errorMessage);else{var d=b.taskStatus,e=b.taskIndex,f=b.streamType,g=b.uiRef;b=b.uiType;var a;if(c){for(a=pega.util.Event.getTarget(c);a&&a.attributes&&!a.attributes["data-ctl"];)a=a.parentNode;a&&!a.attributes&&(a=pega.util.Event.getTarget(c))}takeAction(d,e,f,g,b,a,c)}};
pega.desktop.createNewWork=function(b,d,e,c,k,l,g,m,f){function q(a){for(var b=1;b<a.length;b++)a[b]&&-1===a[b].indexOf("\x3d")&&(a[b-1]+="\x26"+a[b],a.splice(b,1));return a}var h=b;if("object"==typeof h&&"safeURL"==h.name){var a=SafeURL_clone(h);b=a.get("className");e=a.get("flowType");d=a.get("HarnessVersion");k=a.get("contentID");l=a.get("dynamicContainerID")}pega&&pega.ui&&pega.ui.statetracking&&pega.ui.statetracking.setPALInteraction("abc?\x26action\x3dcreateNewWork\x26className\x3d"+b);a||(a=
new SafeURL);h="";b&&""!=b&&a.put("param",b);d&&""!=d&&a.put("version",d);k&&""!=k&&a.put("contentID",k);l&&""!=l&&a.put("dynamicContainerID",l);try{var n=pega.util.Dom.getElementsById("pxRequestorPyLatitude",document.forms[0],"INPUT"),p=pega.util.Dom.getElementsById("pxRequestorPyLongitude",document.forms[0],"INPUT");n&&1==n.length&&p&&1==p.length&&(a.put(n[0].getAttribute("name"),n[0].value),a.put(p[0].getAttribute("name"),p[0].value))}catch(r){}if(e&&""!=e){a.put("FlowType",e);f="";if(c&&""!=c){c=
c.split("\x26");c=q(c);for(b=0;b<c.length;b++)""!=c[b]&&(d=c[b].split("\x3d"),a.put(d[0],d[1].replace(/\+/g," ")),f+=d[0]+"\x26");f=f.substring(0,f.lastIndexOf("\x26"));""==f&&null==f||a.put("flowParamNames",f)}null!=g&&a.put("SkipConflictCheck",g);pega.mobile.isMultiWebViewOfflinePegaMobileClient&&a.put("openerWindowName",window.name);pega.desktop.augmentConfigParams(m,a);pega.desktop.support.openSpace("Work",a,"EnterNewWorkFromFlow")||(h=a.toQueryString(),g=pega.desktop.support.constructUrl(h,"EnterNewWorkFromFlow"),
pega.desktop.openUrlInWindow(g,"pyWorkPage",WorkFormSize+PopupWindowFeatures))}else{e="";if(f&&""!=f){c=f.split("\x26");c=q(c);for(b=0;b<c.length;b++)""!=c[b]&&(d=c[b].split("\x3d"),a.put(d[0],d[1].replace(/\+/g," ")),e+=d[0]+"\x26");e=e.substring(0,e.lastIndexOf("\x26"));""==e&&null==e||a.put("caseIntializationProperties",e)}null!=g&&a.put("SkipConflictCheck",g);pega.mobile.isMultiWebViewOfflinePegaMobileClient&&a.put("openerWindowName",window.name);pega.desktop.augmentConfigParams(m,a);openSpace("Work",
a,"EnterNewWork")||(h=a.toQueryString(),g=pega.desktop.support.constructUrl(h,"EnterNewWork"),pega.desktop.openUrlInWindow(g,"pyWorkPage",WorkFormSize+PopupWindowFeatures))}};function createNewWork(b,d,e,c,k,l,g,m,f){return pega.desktop.createNewWork(b,d,e,c,k,l,g,m,f)}pega.control.Actions.prototype.createNewWork=function(){pega.control&&pega.control.Actions&&pega.control.Actions.prototype.showSkeleton&&pega.control.Actions.prototype.showSkeleton();window.createNewWork.apply(null,arguments)};
pega.control.Actions.prototype.doSave=function(){pega.u.d.doSave.apply(pega.u.d,arguments)};
pega.control.Actions.prototype.handleUpdate=function(){pega.u.d.handleUpdate.apply(pega.u.d,arguments)};
pega.control.Actions.prototype.changeStyle=function(a,e,h){a=pega.util.Event.getEvent(a);var c=pega.util.Event.getTarget(a),g=c;if(c.getAttribute("data-hover")){var d=c.getAttribute("data-hover");if("string"==typeof d&&"."==d.charAt(0))for(d=d.length;d;d--)c=c.parentNode}if(void 0==c.__styleChangedFlag||null==c.__styleChangedFlag){c.__styleChangedFlag=!0;var k=function(b){pega.util.Event.getTarget(b);var a=pega.util.Event.getPageX(b),d=pega.util.Event.getPageY(b);b=pega.c.mouseOverEle;var f=pega.util.Dom.getX(b),
g=pega.util.Dom.getY(b),l=f+b.offsetWidth,m=g+b.offsetHeight;a>=f&&a<=l&&d>=g&&d<=m||("1"==h?b.style.cssText=b.oldStyle:pega.util.Dom.removeClass(b,e),pega.util.Event.removeListener(document.body,"mousemove",k),c.__styleChangedFlag=void 0,b.disabled&&b.getAttribute("IsSprite")&&(a=b.style.backgroundPosition.split(" "),d=b.style.height.replace("px",""),b.style.backgroundPosition=a[0]+" -"+2*d+"px"))};if("focus"==a.type||"focusin"==a.type){var f;f="focus"==a.type?"blur":"focusout";pega.util.Event.addListener(c,
f,function(b){b=pega.util.Event.getEvent(b);var a=pega.util.Event.getTarget(b);"1"==h?(a.oldStyle||(a.oldStyle=a.style.cssText),pega.util.Dom.changeStyle(a,b.type)):pega.util.Dom.removeClass(pega.util.Event.getTarget(b),e);pega.util.Event.removeListener(a,f);a.__styleChangedFlag=void 0});"1"==h?pega.util.Dom.changeStyle(pega.util.Event.getTarget(a),a.type,e):pega.util.Dom.addClass(pega.util.Event.getTarget(a),e)}else"mouseover"==a.type&&("1"==h?(c.oldStyle||(c.oldStyle=c.style.cssText),pega.util.Dom.changeStyle(c,
a.type,e)):pega.util.Dom.addClass(pega.util.Event.getTarget(a),e),g!=c&&(g.__styleChangedFlag=void 0),pega.c.mouseOverEle=c,pega.util.Event.addListener(document.body,"mousemove",k))}};
pega.control.Actions.prototype.refresh=function(){var n=arguments[0],e=arguments[1],k=arguments[2],h=arguments[3];0==h.indexOf("\x26\x3d")&&(h=h.substring(2));var l=arguments[4],c=arguments[5],b=arguments[6],p=arguments[7],g=null;10===arguments.length&&(g=arguments[8]);var d=arguments[arguments.length-1];"string"!==typeof d&&(d="");var f=[];if("undefined"==typeof l||null==l)l="";pega.ui.statetracking.setPALInteraction("abc?\x26action\x3drefresh\x26key\x3d"+e);if("thisSection"==n){d=null;f.push(c);
b&&b.RefreshSectionNode&&(d=b.RefreshSectionNode);var a;b&&(a=pega.util.Event.getTarget(b));if(a&&!pega.util.Dom.isAncestor(document.body,a)){var m;a.tagName&&"label"==a.tagName.toLowerCase()&&null!=a.getAttribute("for")&&(a.control?a=a.control:1==$(a).siblings("#"+a.getAttribute("for")).length&&(a=$(a).get(0)));if(a.name&&(c=pega.ctx.dom.getElementsByName(a.name)))for(e=0;e<c.length;e++)if(c[e].type==a.type){m=c[e];break}m&&(d=pega.u.d.getSectionDiv(m))}pega.u.d.reloadSectionEncoded(d,k,h,!1,"1"!==
p,-1,!1,b,f,g)}else if("otherSection"==n)if(pega.u.d.reloadAllSectionsByName){if(a=[],(m=pega.ctx.dom.querySelectorAll('[id\x3d"RULE_KEY"][node_type\x3d"MAIN_RULE"][node_name\x3d"'+e+'"]'))&&m.length){n=m.length;for(e=0;e<n;e++)d=m[e],l="",d&&(l=pega.u.d.getBaseRef(d)),c&&""!=c&&f.push(c+"\x3c||\x3e"+l),k&&""!=k&&a.push(k+","+h+"\x3c||\x3e"+l);b={reloadElement:m,bFormSubmit:!1,bSectionSubmit:"1"!==p,bDoNotSetAll:!0,event:b,strReloadType:"MultipleSections",rwPreActivities:a,oDataTransform:f,sourceString:""};
g&&(b.preActivity=k,b.preActivityParams=h,b.appendExtraQueryString=g);pega.u.d.useHashDP=!0;pega.u.d.reload(b);pega.u.d.useHashDP=!1}}else f.push(c),(d=pega.u.d.getSectionByName(e,l,document))&&pega.u.d.reloadSectionEncoded(d,k,h,!1,"1"!==p,-1,!1,b,f,g);else"currentharness"==n&&(f.push(c),c=g="",0<f.length&&(a=f[0].indexOf(","),g=f[0],-1!=a&&(g=f[0].substring(0,a),c=f[0].substring(a+1))),pega.u.d.ServerProxy.isDestinationLocal()?pega.process.engine.refresh(function(){},function(){}):"1"!==p?pega.u.d.submitWhenFail(k,
h,"",g,c,!1,d,b):pega.u.d.submitWhenFail(k,h,"",g,c,!0,d,b))};
pega.control.Actions.prototype.logOff=function(b){var a;window.sessionStorage.removeItem("pega.usage.index");window.sessionStorage.removeItem("pega.usage.applicationStack");window.sessionStorage.removeItem("pega.usage.portalName");window.sessionStorage.removeItem("pega.usage.accessGroup");window.sessionStorage.removeItem("pega.usage.targettime");window.sessionStorage.removeItem("pega.usage.counter");for(i=1;5>=i;i++)window.sessionStorage.removeItem("pega.usage.json"+i),window.sessionStorage.removeItem("pega.usage.eventtime"+
i);pega.ui.EventsEmitter.publishSync("BeforeLogOff");pega.control&&pega.control.menu&&pega.control.menu.clearState();if(pega.mobile&&"function"===typeof pega.mobile.getDesktopWindow())a=pega.mobile.getDesktopWindow();else{var c=pega.desktop.support.getDesktopWindow();a=c?c:window}pega.ui&&pega.ui.composer&&pega.ui.composer.isActive()&&(a=pega.ui.composer.getCurrentComposerWindow());if("undefined"!=typeof a.prpcmobileapp){b=SafeURL_createFromURL(pega.u.d.url);b.put("pyActivity","LogOff");b.put("pzPrimaryPageName",
"pyDisplayHarness");try{a.navigator.splashscreen.show()}catch(e){}pega.util.Connect.asyncRequest("GET",b.toURL(),{success:function(b){console.log("about to call plugin");a.prpcmobileapp.showAppList()},failure:function(b){alert("Your session may not have ended properly.");a.prpcmobileapp.showAppList()}},null)}else if(pega.mobile.sdk)pega.mobile.sdk.authentication.invalidate();else if(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox())pega.u.d.isFormDirty(!0)?pega.u.d.gBusyInd&&pega.u.d.gBusyInd.hide():
pega.m.hybrid.logOut(function(){pega.offline&&pega.offline.browser&&(a.location.href=SafeURL_createFromURL(pega.u.d.url).toURL())});else{(b=void 0==b?window.event:b)&&pega.util.Event.stopEvent(b);null!=a&&(a.logout=!0);b=SafeURL_createFromURL("pyActivity\x3dLogOff\x26pzPrimaryPageName\x3dpyDisplayHarness");var c=b.toQueryString(),d=pega.ui.HarnessContextMap.getCurrentHarnessContext().getProperty("bEncryptURLs");"undefined"!=typeof d&&d&&(-1<c.indexOf("pyActivity")||-1<c.indexOf("pyStream"))&&(c=URLObfuscation.encrypt(c));
pega.u.MessagingManager&&"function"==typeof pega.u.MessagingManager.disconnect&&pega.u.MessagingManager.disconnect();d="";"undefined"!=typeof a.safeUrlRequestURI?(a.pega&&a.pega.desktop&&"workspace"===a.pega.desktop.portalCategory&&a.name==a.pega.desktop.portalName&&a.parent&&a.parent!=a&&"undefined"!=typeof a.parent.safeUrlRequestURI&&(a=a.parent),a.pega&&a.pega.ctxmgr?(a.pega.ctxmgr.setRootDocumentContext(),d=a.pega.ctx.pxReqURI):d=a.safeUrlRequestURI,a.location.href=d+"?"+c):(a.pega.ctxmgr.setRootDocumentContext(),
a.location.href=b.toURL())}};
pega.control.Actions.prototype.openMobileApp=function(e,b,f){b=b?b.replace("?",""):"";if(e){var a=e+"://"+b;if(f)try{var c=JSON.parse(f);if(c){var a=a+"?",d;for(d in c)c.hasOwnProperty(d)&&(a+=(a.indexOf("?")!==a.length-1?"\x26":"")+d+"\x3d"+c[d])}}catch(g){console.error("Invalid query parameters for action openMobileApp")}pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()&&pega.mobile.hybrid.getLaunchBox().Container&&pega.mobile.hybrid.getLaunchBox().Container.OpenURL?(pega.u.d.pauseAjaxSequencer(),
pega.mobile.hybrid.getLaunchBox().Container.OpenURL.open(a).then(function(){pega.u.d.resumeAjaxSequencer();console.info("Application started successfully from URL: "+a)}).catch(function(a){pega.u.d.resumeAjaxSequencer();console.error(a)})):pega.mobile.sdk&&pega.mobile.sdk.application?pega.mobile.sdk.application.openUrl(a).catch(function(b){console.error("Cannot open application "+a+" due to: "+b.toString())}):pega.desktop.support.getDesktopWindow().open(a)}else console.error("Cannot open mobile app without scheme")};
pega.control.Actions.prototype.getDirections=function(f,l,e,d){function q(a){a=a.coords;a=g(a.latitude+","+a.longitude,d);return h(a)}function r(a){console.error("Failed to get current position - "+a.code+": "+a.message);a=g(e,d);return h(a)}function g(a,c){var b=navigator.userAgent.toLowerCase();if(-1!==b.indexOf("iphone")||-1!==b.indexOf("ipad")||-1!==b.indexOf("ipod"))var d=b.indexOf("os")+2,e=-1<b.indexOf("like")?b.indexOf("like"):b.indexOf(")"),b=b.substring(d,e),b=8<=(0<b.split("_").length?
b.split("_")[0]:8)?"http://maps.google.com/maps?saddr\x3d"+((a||n)+"\x26daddr\x3d"+c):"http://maps.apple.com/maps?saddr\x3d"+((1===l?p:""!==a?a:p)+"\x26daddr\x3d"+c);else b="https:"===window.location.protocol?"https://maps.google.com/?saddr\x3d":"http://maps.google.com/?saddr\x3d",b+=(a||n)+"\x26daddr\x3d"+c;return encodeURI(b)}function h(a){if(pega.mobile&&pega.mobile.hybrid&&pega.mobile.hybrid.getLaunchBox()&&pega.mobile.hybrid.getLaunchBox().Browser)pega.mobile.hybrid.getLaunchBox().Browser.start(a,
{external:!0});else if(pega.mobile.sdk)pega.mobile.sdk.application.openUrl(a);else{var c=null,b=window.self;try{c=b.open(a)}catch(m){return null}try{if(c&&"object"===typeof c.opener)if(c.opener!==b&&c!==b&&(c.close(),c=b.open(a)),c&&"object"===typeof c.opener)try{c.focus(),c.focus()}catch(m){c.close(),b.open(a)}else alert(k);else alert(k)}catch(m){alert(k)}}}var n=pega.u.d.fieldValuesList.get("GetDirectionsActionMyLocation"),p=pega.u.d.fieldValuesList.get("GetDirectionsActionCurrentLocation");f=pega.u.d.fieldValuesList.get("NoNetworkConnectionFound");
var k=pega.u.d.fieldValuesList.get("OpenPopupWindowFailedLabel");if(navigator.onLine)if(e=null===e?"":e,d=null===d?"":d,1===l)navigator.geolocation.getCurrentPosition(q,r,{enableHighAccuracy:!0,timeout:5E3,maximumAge:0});else return f=g(e,d),h(f);else alert(f)};
pega.control.Actions.prototype.doClose=function(){var a=-1!=navigator.userAgent.toLowerCase().indexOf("pegamobilesdk");pega.control&&pega.control.menu&&pega.control.menu.clearState();pega.ui.NavigateTopHandler&&pega.ui.NavigateTopHandler.isWithPortalController()&&!a&&!pega.ctx.isMDC||pega.mobile.isMultiWebViewOfflinePegaMobileClient?(!pega.u.d.bIsDCSPA&&pega.ui.hasAjaxContainer&&pega.u.d.closeOnlyMDCDocs&&pega.u.d.closeOnlyMDCDocs(null,!0,!0),pega.desktop.activateDocument(0)):pega.u.d.doClose.apply(pega.u.d,
arguments)};
pega.control.Actions.prototype.doGridAction=function(){pega.ui.grid&&window.doGridAction&&window.doGridAction.apply(null,arguments)};function isTemplateGrid(a,b){if(a||b)return a=b?$(b):$(a.target),a=a.closest("table[id\x3d'gridLayoutTable']"),a.attr("uniqueid")&&""!==a.attr("uniqueid")?!0:!1};
(function(){var h=function(b,d){return!b&&d.pyActionString?d.pyActionString:(pega.mobile&&pega.mobile.support&&pega.mobile.support.resolveItemActionStringFromTemplate||function(b,d){var e=Object.keys(d).join("|");return b.replace(new RegExp("#~(?:pySearchContext|\\$TOP\\$|\\$CTX\\$|\\$PRIMARY\\$)\\.("+e+")((?:\\.\\w+)*)~#","gi"),function(b,c,a){c=d[c];if(!a)return c?c:b;a=a.split(".");a.shift();return(a=a.reduce(function(a,b){return a?a[b]:a},c))?a:b})})(b,d)};pega.control.Actions.prototype.showSearch=
function(b,d,k,f,e){var g=window.launchbox&&window.launchbox.Search||pega.mobile.sdk&&pega.mobile.sdk.plugins&&pega.mobile.sdk.plugins.search;if(g){var c={};"true"===d&&(c.categories=JSON.parse(k));f&&(c.barBackgroundColor=f);e&&(c.defaultCategory=e);b&&b.srcElement&&b.srcElement.hasAttribute("data-pmc")?(d=JSON.parse(b.srcElement.getAttribute("data-pmc")).navigationId,pega.mobile.components.open("search",d,c).addEventListener("userselect",function(a){console.log("User selected an item");a=a.detail;
a=h(a.category&&a.category.actionString||"",a.item);var b=document.createElement("button");b.style.display="none";b.setAttribute("data-click",a);document.body.appendChild(b);b.dispatchEvent(new MouseEvent("click",{bubbles:!0,view:window}));document.body.removeChild(b)})):g.show(c).then(function(a){a=h(a.category&&a.category.actionString||"",a.item);if(b){var c=b.target.cloneNode();c.setAttribute("data-click",a);b.target=c}pega.c.ControlBehaviorExecutor.processBehavior(b,"data-click")}).catch(function(a){console.debug("Search cancelled"+
a)})}else console.debug("Mobile search action can\u2019t be used outside of Mobile Client and from within an iframe")}})();
pega.control.Actions.prototype.showHome=function(a,b){a||(a=pega.u.d.getTargetACName(b));if(a){var c;"true"==pega.redux.Utils.getAjaxContainerState(a).mdcDocs[0].isStatic&&(b=document.querySelector("div[data-mdc-recordid\x3d'"+a+"_0']"),c=pega.ctx.bIsDCSPA?b.closest("main[data-harness-id]").getAttribute("data-harness-id"):b.closest("body[data-harness-id]").getAttribute("data-harness-id"));pega.ui.hasAjaxContainer&&pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.SWITCH,{recordId:a+
"_0",mdcTarget:a,parentHarnessId:c}))}else pega.desktop.activateDocument(0);pega.Mashup&&pega.u.d.doHarnessResize()};
pega.control.Actions.prototype.goNext=function(b,a){if(!b&&(b=pega.u.d.getTargetACName(a),!b))return;a=pega.redux.Utils.getAjaxContainerState(b);if(a.mdcDocs.length){var c=document.querySelector('[data-mdc-id\x3d"'+b+'"] .show');a.isTabbedMDC&&(c=document.querySelector('[data-mdc-id\x3d"'+b+'"] .mdc-content-body .mdc-tabs .active'));if(a=(a=c.nextElementSibling)&&a.getAttribute("data-mdc-recordid"))return pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.SWITCH,{recordId:a,mdcTarget:b})),
!0}};
pega.control.Actions.prototype.goPrev=function(b,a){if(!b&&(b=pega.u.d.getTargetACName(a),!b))return;a=pega.redux.Utils.getAjaxContainerState(b);if(a.mdcDocs.length){var c=document.querySelector('[data-mdc-id\x3d"'+b+'"] .show');a.isTabbedMDC&&(c=document.querySelector('[data-mdc-id\x3d"'+b+'"] .mdc-content-body .mdc-tabs .active'));if(a=(a=c.previousElementSibling)&&a.getAttribute("data-mdc-recordid"))return a.substring(b.length+1),pega.redux.store.dispatch(pega.redux.actions(pega.redux.actionTypes.SWITCH,
{recordId:a,mdcTarget:b})),!0}};
(function(){pega.control.Actions.prototype.showMobileView=function(a,b,c){"undefined"===typeof pmcRuntimeFeatures?console.debug("Action can\u2019t be used outside of Mobile Client"):b?(a?a=a.target&&a.target.hasAttribute("data-pmc")?JSON.parse(a.srcElement.getAttribute("data-pmc")).navigationId:void 0:(console.warn("Event not defined"),a=void 0),pega.mobile.components.open(b,a,c)):console.error("Required ID parameter is missing")}})();
var CRC32;(function(A){if(typeof DO_NOT_EXPORT_CRC==="undefined"){if("object"===typeof exports){A(exports)}else{if("function"===typeof define&&define.amd){define(function(){var B={};A(B);return B})}else{A(CRC32={})}}}else{A(CRC32={})}}(function(E){E.version="1.2.0";function F(){var J=0,H=new Array(256);for(var I=0;I!=256;++I){J=I;J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));J=((J&1)?(-306674912^(J>>>1)):(J>>>1));H[I]=J}return typeof Int32Array!=="undefined"?new Int32Array(H):H}var A=F();function D(J,I){var M=I^-1,H=J.length-1;for(var K=0;K<H;){M=(M>>>8)^A[(M^J.charCodeAt(K++))&255];M=(M>>>8)^A[(M^J.charCodeAt(K++))&255]}if(K===H){M=(M>>>8)^A[(M^J.charCodeAt(K))&255]}return M^-1}function C(J,I){if(J.length>10000){return B(J,I)}var M=I^-1,H=J.length-3;for(var K=0;K<H;){M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255]}while(K<H+3){M=(M>>>8)^A[(M^J[K++])&255]}return M^-1}function B(J,I){var M=I^-1,H=J.length-7;for(var K=0;K<H;){M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255];M=(M>>>8)^A[(M^J[K++])&255]}while(K<H+7){M=(M>>>8)^A[(M^J[K++])&255]}return M^-1}function G(N,I){var M=I^-1;for(var J=0,H=N.length,O,K;J<H;){O=N.charCodeAt(J++);if(O<128){M=(M>>>8)^A[(M^O)&255]}else{if(O<2048){M=(M>>>8)^A[(M^(192|((O>>6)&31)))&255];M=(M>>>8)^A[(M^(128|(O&63)))&255]}else{if(O>=55296&&O<57344){O=(O&1023)+64;K=N.charCodeAt(J++)&1023;M=(M>>>8)^A[(M^(240|((O>>8)&7)))&255];M=(M>>>8)^A[(M^(128|((O>>2)&63)))&255];M=(M>>>8)^A[(M^(128|((K>>6)&15)|((O&3)<<4)))&255];M=(M>>>8)^A[(M^(128|(K&63)))&255]}else{M=(M>>>8)^A[(M^(224|((O>>12)&15)))&255];M=(M>>>8)^A[(M^(128|((O>>6)&63)))&255];M=(M>>>8)^A[(M^(128|(O&63)))&255]}}}}return M^-1}E.table=A;E.bstr=D;E.buf=C;E.str=G}));
(function(d,E){"function"===typeof define&&define.amd?define(E):"undefined"!==typeof exports?module.exports=E():d.atmosphere=E()})(pega,function(){var d={},E=!1,p=[],F=[],Y=0,d={version:"2.3.8-javascript",onError:function(d){},onClose:function(d){},onOpen:function(d){},onReopen:function(d){},onMessage:function(d){},onReconnect:function(d,h){},onMessagePublished:function(d){},onTransportFailure:function(d,h){},onLocalMessage:function(d){},onFailureToReconnect:function(d,h){},onClientTimeout:function(d){},
onOpenAfterResume:function(d){},WebsocketApiAdapter:function(e){var h,k;e.onMessage=function(d){k.onmessage({data:d.responseBody})};e.onMessagePublished=function(d){k.onmessage({data:d.responseBody})};e.onOpen=function(d){k.onopen(d)};k={close:function(){h.close()},send:function(d){h.push(d)},onmessage:function(d){},onopen:function(d){},onclose:function(d){},onerror:function(d){}};h=new d.subscribe(e);return k},AtmosphereRequest:function(e){function h(){ba=!0;G=!1;v=0;A=K=y=m=null}function k(b){return"debug"==
b?"debug"===c.logLevel:"info"==b?"info"===c.logLevel||"debug"===c.logLevel:"warn"==b?"warn"===c.logLevel||"info"===c.logLevel||"debug"===c.logLevel:"error"==b?"error"===c.logLevel||"warn"===c.logLevel||"info"===c.logLevel||"debug"===c.logLevel:!1}function l(b){k("debug")&&d.util.debug(new Date+" Atmosphere: "+b)}function n(b,a){return""===f.partialMessage&&"streaming"===a.transport&&b.responseText.length>a.maxStreamingLength?!0:!1}function p(){if(c.enableProtocol&&!c.disableDisconnect&&!c.firstMessage){var b=
"X-Atmosphere-Transport\x3dclose\x26X-Atmosphere-tracking-id\x3d"+c.uuid;d.util.each(c.headers,function(a,g){g=d.util.isFunction(g)?g.call(this,c,c,f):g;null!=g&&(b+="\x26"+encodeURIComponent(a)+"\x3d"+encodeURIComponent(g))});var a=c.url.replace(/([?&])_=[^&]*/,b),a=a+(a===c.url?(/\?/.test(c.url)?"\x26":"?")+b:""),g=new d.AtmosphereRequest({connected:!1});g.connectTimeout=c.connectTimeout;g.attachHeadersAsQueryString=!1;g.dropHeaders=!0;g.url=a;g.contentType="text/plain";g.transport="polling";g.method=
"GET";g.data="";g.heartbeat=null;c.enableXDR&&(g.enableXDR=c.enableXDR);g.async=c.closeAsync;ua("",g)}}function Q(){l("Closing (AtmosphereRequest._close() called)");G=!0;c.reconnectId&&(clearTimeout(c.reconnectId),delete c.reconnectId);c.heartbeatTimer&&clearTimeout(c.heartbeatTimer);c.reconnect=!1;f.request=c;f.state="unsubscribe";f.responseBody="";f.status=408;f.partialMessage="";c.curWebsocketErrorRetries=0;x();p();r()}function r(){f.partialMessage="";c.id&&clearTimeout(c.id);c.heartbeatTimer&&
clearTimeout(c.heartbeatTimer);c.reconnectId&&(clearTimeout(c.reconnectId),delete c.reconnectId);null!=A&&(A.close(),A=null);null!=B&&(B.abort(),B=null);null!=K&&(K.abort(),K=null);null!=m&&(m.canSendMessage&&(l("invoking .close() on WebSocket object"),m.close()),m=null);null!=y&&(y.close(),y=null);null!=C&&(clearInterval(Z),document.cookie=ca+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; path\x3d/",C.signal("close",{reason:"",heir:G?(C.get("children")||[])[0]:z}),C.close());null!=w&&w.close()}
function ka(b){r();h();c=d.util.extend(c,b);c.mrequest=c.reconnect;c.reconnect||(c.reconnect=!0)}function L(){if(c.shared){w=va(c);if(null!=w&&(k("debug")&&d.util.debug("Storage service available. All communication will be local"),w.open(c)))return;k("debug")&&d.util.debug("No Storage service available.");w=null}c.firstMessage=0==Y?!0:!1;c.isOpen=!1;c.ctime=d.util.now();0===c.uuid&&(c.uuid=Y);f.closedByClientTimeout=!1;if("websocket"!==c.transport&&"sse"!==c.transport)R(c);else if("websocket"===c.transport)null!=
c.webSocketImpl||window.WebSocket||window.MozWebSocket?da(!1):I("Websocket is not supported, using request.fallbackTransport ("+c.fallbackTransport+")");else if("sse"===c.transport){var b=d.util.getAbsoluteURL(c.url.toLowerCase()),b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/.exec(b),b=!(!b||b[1]==window.location.protocol&&b[2]==window.location.hostname&&(b[3]||("http:"===b[1]?80:443))==(window.location.port||("http:"===window.location.protocol?80:443)));!window.EventSource||b&&d.util.browser.safari&&
!(7<=d.util.browser.vmajor)?I("Server Side Events(SSE) is not supported, using request.fallbackTransport ("+c.fallbackTransport+")"):ea(!1)}}function va(b){function a(a,b){var c,d=a.length;for(c=0;c<d;c++)a[c]===b&&a.splice(c,1);return d!==a.length}function g(a){a=JSON.parse(a);var d=a.data;if("c"===a.target)switch(a.type){case "open":t("opening","local",c);break;case "close":fa||(fa=!0,"aborted"===d.reason?Q():d.heir===z?L():setTimeout(function(){L()},100));break;case "message":M(d,"messageReceived",
200,b.transport);break;case "localMessage":la(d)}}function f(){var a=(new RegExp("(?:^|; )("+encodeURIComponent(q)+")\x3d([^;]*)")).exec(document.cookie);if(a)return JSON.parse(decodeURIComponent(a[2]))}var e,k,fa,q="atmosphere-"+b.url,h={storage:function(){function c(a){a.key===q&&a.newValue&&g(a.newValue)}if(d.util.storage){var f=window.localStorage,e=function(a){a=f.getItem(q+"-"+a);return null===a?[]:JSON.parse(a)};return{init:function(){var a=e("children").concat([z]);f.setItem(q+"-children",
JSON.stringify(a));d.util.on(window,"storage",c);return e("opened")},signal:function(a,b){f.setItem(q,JSON.stringify({target:"p",type:a,data:b}))},close:function(){var g=e("children");d.util.off(window,"storage",c);g&&a(g,b.id)&&f.setItem(q+"-children",JSON.stringify(g))}}}},windowref:function(){var b=window.open("",q.replace(/\W/g,""));if(b&&!b.closed&&b.callbacks)return{init:function(){b.callbacks.push(g);b.children.push(z);return b.opened},signal:function(a,c){!b.closed&&b.fire&&b.fire(JSON.stringify({target:"p",
type:a,data:c}))},close:function(){fa||(a(b.callbacks,g),a(b.children,z))}}}};if((e=f())&&!(1E3<d.util.now()-e.ts)&&(k=h.storage()||h.windowref()))return{open:function(){var a;Z=setInterval(function(){var a=e;(e=f())&&a.ts!==e.ts||g(JSON.stringify({target:"c",type:"close",data:{reason:"error",heir:a.heir}}))},1E3);(a=k.init())&&setTimeout(function(){t("opening","local",b)},50);return a},send:function(a){k.signal("send",a)},localSend:function(a){k.signal("localSend",JSON.stringify({id:z,event:a}))},
close:function(){G||(clearInterval(Z),k.signal("close"),k.close())}}}function wa(){function b(a){a=JSON.parse(a);var b=a.data;if("p"===a.target)switch(a.type){case "send":N(b);break;case "localSend":la(b);break;case "close":Q()}}function a(){document.cookie=ca+"\x3d"+encodeURIComponent(JSON.stringify({ts:d.util.now()+1,heir:(g.get("children")||[])[0]}))+"; path\x3d/"}var g,f="atmosphere-"+c.url,e={storage:function(){function a(a){a.key===f&&a.newValue&&b(a.newValue)}if(d.util.storage){var c=window.localStorage;
return{init:function(){d.util.on(window,"storage",a)},signal:function(a,b){c.setItem(f,JSON.stringify({target:"c",type:a,data:b}))},get:function(a){return JSON.parse(c.getItem(f+"-"+a))},set:function(a,b){c.setItem(f+"-"+a,JSON.stringify(b))},close:function(){d.util.off(window,"storage",a);c.removeItem(f);c.removeItem(f+"-opened");c.removeItem(f+"-children")}}}},windowref:function(){var a=f.replace(/\W/g,""),c=document.getElementById(a),d;c||(c=document.createElement("div"),c.id=a,c.style.display=
"none",c.innerHTML='\x3ciframe name\x3d"'+a+'" /\x3e',document.body.appendChild(c));d=c.firstChild.contentWindow;return{init:function(){d.callbacks=[b];d.fire=function(a){var b;for(b=0;b<d.callbacks.length;b++)d.callbacks[b](a)}},signal:function(a,b){!d.closed&&d.fire&&d.fire(JSON.stringify({target:"c",type:a,data:b}))},get:function(a){return d.closed?null:d[a]},set:function(a,b){d.closed||(d[a]=b)},close:function(){}}}};S=function(a){g.signal("message",a)};g=e.storage()||e.windowref();g.init();k("debug")&&
d.util.debug("Installed StorageService "+g);g.set("children",[]);null==g.get("opened")||g.get("opened")||g.set("opened",!1);ca=encodeURIComponent(f);a();Z=setInterval(a,1E3);C=g}function t(b,a,d){c.shared&&"local"!==a&&wa();null!=C&&C.set("opened",!0);d.close=function(){Q()};0<v&&"re-connecting"===b?(d.isReopen=!0,xa(f)):null==f.error&&(f.request=d,d=f.state,f.state=b,b=f.transport,f.transport=a,a=f.responseBody,x(),f.responseBody=a,f.state=d,f.transport=b)}function na(b){b.transport="jsonp";var a=
c,g;null!=b&&"undefined"!==typeof b&&(a=b);B={open:function(){function e(){a.lastIndex=0;a.openId&&clearTimeout(a.openId);a.heartbeatTimer&&clearTimeout(a.heartbeatTimer);a.reconnect&&v++<a.maxReconnectOnClose?(t("re-connecting",a.transport,a),J(B,a,b.reconnectInterval),a.openId=setTimeout(function(){T(a)},a.reconnectInterval+1E3)):u(0,"maxReconnectOnClose reached")}function P(){var c=a.url;null!=a.dispatchUrl&&(c+=a.dispatchUrl);var d=a.data;a.attachHeadersAsQueryString&&(c=O(a),""!==d&&(c+="\x26X-Atmosphere-Post-Body\x3d"+
encodeURIComponent(d)),d="");d=document.head||document.getElementsByTagName("head")[0]||document.documentElement;g=document.createElement("script");g.src=c+"\x26jsonpTransport\x3d"+k;g.clean=function(){g.clean=g.onerror=g.onload=g.onreadystatechange=null;g.parentNode&&g.parentNode.removeChild(g);2===++b.scriptCount&&(b.scriptCount=1,e())};g.onload=g.onreadystatechange=function(){l("jsonp.onload");g.readyState&&!/loaded|complete/.test(g.readyState)||g.clean()};g.onerror=function(){l("jsonp.onerror");
b.scriptCount=1;g.clean()};d.insertBefore(g,d.firstChild)}var k="atmosphere"+ ++z;window[k]=function(g){l("jsonp.window");b.scriptCount=0;if(a.reconnect&&-1===a.maxRequest||a.requestCount++<a.maxRequest){a.executeCallbackBeforeReconnect||J(B,a,a.pollingInterval);if(null!=g&&"string"!==typeof g)try{g=g.message}catch(q){}H(g,a,f)||M(f.responseBody,"messageReceived",200,a.transport);a.executeCallbackBeforeReconnect&&J(B,a,a.pollingInterval);D(a)}else d.util.log(c.logLevel,["JSONP reconnect maximum try reached "+
c.requestCount]),u(0,"maxRequest reached")};setTimeout(function(){P()},50)},abort:function(){g&&g.clean&&g.clean()}};B.open()}function ya(b){try{return null!=c.webSocketImpl?c.webSocketImpl:window.WebSocket?new WebSocket(b):new MozWebSocket(b)}catch(a){d.util.log("warn",[a.message])}}function ea(b){f.transport="sse";var a=O(c);k("debug")&&(d.util.debug("Invoking executeSSE"),d.util.debug("Using URL: "+a));if(b&&!c.reconnect)null!=y&&r();else{try{y=new EventSource(a,{withCredentials:c.withCredentials})}catch(g){u(0,
g);I("SSE failed. Downgrading to fallback transport and resending");return}0<c.connectTimeout&&(c.id=setTimeout(function(){b||r()},c.connectTimeout));y.onopen=function(a){l("sse.onopen");D(c);k("debug")&&d.util.debug("SSE successfully opened");c.enableProtocol?c.isReopen&&(c.isReopen=!1,t("re-opening",c.transport,c)):b?t("re-opening","sse",c):t("opening","sse",c);b=!0;"POST"===c.method&&(f.state="messageReceived",N(c.data))};y.onmessage=function(a){l("sse.onmessage");D(c);!c.enableXDR&&window.location.host&&
a.origin&&a.origin!==window.location.protocol+"//"+window.location.host?d.util.log(c.logLevel,["Origin was not "+window.location.protocol+"//"+window.location.host]):(f.state="messageReceived",f.status=200,a=a.data,H(a,c,f)||(x(),f.responseBody="",f.messages=[]))};y.onerror=function(a){l("sse.onerror");clearTimeout(c.id);c.heartbeatTimer&&clearTimeout(c.heartbeatTimer);f.closedByClientTimeout||((U(b),r(),G)?d.util.log(c.logLevel,["SSE closed normally"]):b?c.reconnect&&"sse"===f.transport&&(v++<c.maxReconnectOnClose?
(t("re-connecting",c.transport,c),0<c.reconnectInterval?c.reconnectId=setTimeout(function(){ea(!0)},c.reconnectInterval):ea(!0),f.responseBody="",f.messages=[]):(d.util.log(c.logLevel,["SSE reconnect maximum try reached "+v]),u(0,"maxReconnectOnClose reached"))):I("SSE failed. Downgrading to fallback transport and resending"))}}}function da(b){f.transport="websocket";var a=O(c,d.util.getAbsoluteURL(c.webSocketUrl||c.url)).replace(/^http/,"ws");k("debug")&&d.util.debug("Invoking executeWebSocket, using URL: "+
a);if(b&&!c.reconnect)null!=m&&r();else if(m=ya(a),null!=c.webSocketBinaryType&&(m.binaryType=c.webSocketBinaryType),0<c.connectTimeout&&(c.id=setTimeout(function(){if(!b){m.onclose({code:1002,reason:"",wasClean:!1});try{r()}catch(g){}}},c.connectTimeout)),m.onopen=function(a){l("websocket.onopen");D(c);E=!1;k("debug")&&d.util.debug("Websocket successfully opened");a=b;null!=m&&(m.canSendMessage=!0);c.enableProtocol||(b=!0,a?t("re-opening","websocket",c):t("opening","websocket",c));null!=m&&"POST"===
c.method&&(f.state="messageReceived",m.send(c.data))},m.onmessage=function(a){l("websocket.onmessage");D(c);c.enableProtocol&&(b=!0);f.state="messageReceived";f.status=200;a=a.data;"string"===typeof a?H(a,c,f)||(x(),f.responseBody="",f.messages=[]):(a=oa(c,a),""!==a&&(f.responseBody=a,x(),f.responseBody=null))},m.onerror=function(a){l("websocket.onerror");clearTimeout(c.id);c.heartbeatTimer&&clearTimeout(c.heartbeatTimer);c.curWebsocketErrorRetries++<c.maxWebsocketErrorRetries&&"websocket"!==c.fallbackTransport&&
I("Failed to connect via Websocket. Downgrading to "+c.fallbackTransport+" and resending")},m.onclose=function(a){l("websocket.onclose");clearTimeout(c.id);if("closed"!==f.state){var g=a.reason;if(""===g)switch(a.code){case 1E3:g="Normal closure; the connection successfully completed whatever purpose for which it was created.";break;case 1001:g="The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection.";break;
case 1002:g="The endpoint is terminating the connection due to a protocol error.";break;case 1003:g="The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data).";break;case 1004:g="The endpoint is terminating the connection because a data frame was received that is too large.";break;case 1005:g="Unknown: no status code was provided even though one was expected.";break;case 1006:g="Connection was closed abnormally (that is, with no close frame being sent)."}k("warn")&&
d.util.warn("Websocket closed, reason: "+g+" - wasClean: "+a.wasClean+" - Code: "+a.code);f.closedByClientTimeout||c.handleOnlineOffline&&E?c.reconnectId&&(clearTimeout(c.reconnectId),delete c.reconnectId):(U(b),f.state="closed",G)?d.util.log(c.logLevel,["Websocket closed normally"]):b||"websocket"!==f.transport||"websocket"===c.fallbackTransport?c.reconnect&&"websocket"===f.transport&&(r(),v++<c.maxReconnectOnClose?(t("re-connecting",c.transport,c),0<c.reconnectInterval?c.reconnectId=setTimeout(function(){f.responseBody=
"";f.messages=[];da(!0)},c.reconnectInterval):(f.responseBody="",f.messages=[],da(!0))):(d.util.log(c.logLevel,["Websocket reconnect maximum try reached "+v]),k("warn")&&d.util.warn("Websocket error, reason: "+a.reason),u(0,"maxReconnectOnClose reached"))):I("Websocket failed on first connection attempt. Downgrading to "+c.fallbackTransport+" and resending")}},-1<navigator.userAgent.toLowerCase().indexOf("android")&&void 0===m.url)m.onclose({reason:"Android 4.1 does not support websockets.",wasClean:!1})}
function oa(b,a){var f=a;if("polling"===b.transport)return f;if(b.enableProtocol&&b.firstMessage&&0!==d.util.trim(a).length){var e=b.trackMessageLength?1:0;a=a.split(b.messageDelimiter);if(a.length<=e+1)return f;b.firstMessage=!1;b.uuid=d.util.trim(a[e]);a.length<=e+2&&d.util.log("error",["Protocol data not sent by the server. If you enable protocol on client side, be sure to install JavascriptProtocol interceptor on server side.Also note that atmosphere-runtime 2.2+ should be used."]);V=parseInt(d.util.trim(a[e+
1]),10);ga=a[e+2];"long-polling"!==b.transport&&T(b);Y=b.uuid;f="";e=b.trackMessageLength?4:3;if(a.length>e+1)for(;e<a.length;e++)f+=a[e],e+1!==a.length&&(f+=b.messageDelimiter);0!==b.ackInterval&&setTimeout(function(){N("...ACK...")},b.ackInterval)}else b.enableProtocol&&b.firstMessage&&d.util.browser.msie&&10>+d.util.browser.version.split(".")[0]?d.util.log(c.logLevel,["Receiving unexpected data from IE"]):T(b);return f}function D(b){clearTimeout(b.id);0<b.timeout&&"polling"!==b.transport&&(b.id=
setTimeout(function(){f.closedByClientTimeout=!0;f.state="closedByClient";f.responseBody="";f.status=408;f.messages=[];x();p();r()},b.timeout))}function u(b,a){r();clearTimeout(c.id);f.state="error";f.reasonPhrase=a;f.responseBody="";f.status=b;f.messages=[];x()}function H(b,a,c){b=oa(a,b);if(0===b.length)return!0;c.responseBody=b;if(a.trackMessageLength){b=c.partialMessage+b;var d=[],f=b.indexOf(a.messageDelimiter);if(-1!=f){for(;-1!==f;){var e=b.substring(0,f),g=+e;if(isNaN(g))throw c.partialMessage=
"",Error('message length "'+e+'" is not a number');f+=a.messageDelimiter.length;f+g>b.length?f=-1:(d.push(b.substring(f,f+g)),b=b.substring(f+g,b.length),f=b.indexOf(a.messageDelimiter))}c.partialMessage=b;if(0!==d.length)return c.responseBody=d.join(a.messageDelimiter),c.messages=d,!1;c.responseBody="";c.messages=[];return!0}}c.responseBody=b;c.messages=[b];return!1}function I(b){d.util.log(c.logLevel,[b]);if("undefined"!==typeof c.onTransportFailure)c.onTransportFailure(b,c);else if("undefined"!==
typeof d.util.onTransportFailure)d.util.onTransportFailure(b,c);b=-1===c.connectTimeout?0:c.connectTimeout;c.reconnect&&"none"!==c.transport||null==c.transport?(c.transport=c.fallbackTransport,c.method=c.fallbackMethod,f.transport=c.fallbackTransport,f.state="",c.fallbackTransport="none",0<b?c.reconnectId=setTimeout(function(){L()},b):L()):u(500,"Unable to reconnect with fallback transport")}function O(b,a){var e=c;null!=b&&"undefined"!==typeof b&&(e=b);null==a&&(a=e.url);if(!e.attachHeadersAsQueryString||
-1!==a.indexOf("X-Atmosphere-Framework"))return a;a+=-1!==a.indexOf("?")?"\x26":"?";a+="X-Atmosphere-tracking-id\x3d"+e.uuid;a+="\x26X-Atmosphere-Framework\x3d"+d.version;a+="\x26X-Atmosphere-Transport\x3d"+e.transport;e.trackMessageLength&&(a+="\x26X-Atmosphere-TrackMessageSize\x3dtrue");null!==e.heartbeat&&null!==e.heartbeat.server&&(a+="\x26X-Heartbeat-Server\x3d"+e.heartbeat.server);""!==e.contentType&&(a+="\x26Content-Type\x3d"+("websocket"===e.transport?e.contentType:encodeURIComponent(e.contentType)));
e.enableProtocol&&(a+="\x26X-atmo-protocol\x3dtrue");d.util.each(e.headers,function(c,g){g=d.util.isFunction(g)?g.call(this,e,b,f):g;null!=g&&(a+="\x26"+encodeURIComponent(c)+"\x3d"+encodeURIComponent(g))});return a}function T(b){if(b.isOpen)if(b.isReopen)b.isReopen=!1,t("re-opening",b.transport,b);else{if("messageReceived"!==f.state||"jsonp"!==b.transport&&"long-polling"!==b.transport)return;var a=f;a.state="openAfterResume";ha(a);a.state="messageReceived"}else b.isOpen=!0,t("opening",b.transport,
b);za(b)}function za(b){null!=b.heartbeatTimer&&clearTimeout(b.heartbeatTimer);if(!isNaN(V)&&0<V){var a=function(){k("debug")&&d.util.debug("Sending heartbeat");N(ga);b.heartbeatTimer=setTimeout(a,V)};b.heartbeatTimer=setTimeout(a,V)}}function R(b){var a=c;if(null!=b||"undefined"!==typeof b)a=b;a.lastIndex=0;a.readyState=0;if("jsonp"===a.transport||a.enableXDR&&d.util.checkCORSSupport())na(a);else{if(d.util.browser.msie&&10>+d.util.browser.version.split(".")[0]){if("streaming"===a.transport){a.enableXDR&&
window.XDomainRequest?W(a):X(a);return}if(a.enableXDR&&window.XDomainRequest){W(a);return}}var e=function(c){a.lastIndex=0;v++;c||a.reconnect&&v<=a.maxReconnectOnClose?(c=c?0:b.reconnectInterval,f.ffTryingReconnect=!0,t("re-connecting",b.transport,b),J(h,a,c)):u(0,"maxReconnectOnClose reached")},k=function(a){d._beforeUnloadState?(d.util.debug(new Date+" Atmosphere: reconnectF: execution delayed due to _beforeUnloadState flag"),setTimeout(function(){e(a)},5E3)):e(a)};if(a.force||a.reconnect&&(-1===
a.maxRequest||a.requestCount++<a.maxRequest)){a.force=!1;var h=d.util.xhr();h.hasData=!1;Aa(h,a,!0);a.suspend&&(K=h);"polling"!==a.transport&&(f.transport=a.transport,h.onabort=function(){l("ajaxrequest.onabort");U(!0)},h.onerror=function(){l("ajaxrequest.onerror");f.error=!0;f.ffTryingReconnect=!0;try{f.status=XMLHttpRequest.status}catch(ma){f.status=500}f.status||(f.status=500);f.errorHandled||(r(),k(!1))});h.onreadystatechange=function(){l("ajaxRequest.onreadystatechange, new state: "+h.readyState);
if(G)l("onreadystatechange has been ignored due to _abortingConnection flag");else{f.error=null;var e=!1,g=!1;if("streaming"===a.transport&&2<a.readyState&&4===h.readyState)r(),k(!1);else{a.readyState=h.readyState;"streaming"===a.transport&&3<=h.readyState?g=!0:"long-polling"===a.transport&&4===h.readyState&&(g=!0);D(c);if("polling"!==a.transport){var q=200;4===h.readyState&&(q=1E3<h.status?0:h.status);if(!a.reconnectOnServerError&&300<=q&&600>q){u(q,h.statusText);return}if(300<=q||0===q){f.errorHandled=
!0;r();k(!1);return}a.enableProtocol&&b.firstMessage||2!==h.readyState||(d.util.browser.mozilla&&f.ffTryingReconnect?(f.ffTryingReconnect=!1,setTimeout(function(){f.ffTryingReconnect||T(a)},500)):T(a))}else 4===h.readyState&&(g=!0);if(g)if(g=h.responseText,f.errorHandled=!1,"long-polling"===a.transport&&0===d.util.trim(g).length)h.hasData?h.hasData=!1:k(!0);else{h.hasData=!0;ia(h,c);if("streaming"===a.transport)if(d.util.browser.opera)d.util.iterate(function(){if(500!==f.status&&h.responseText.length>
a.lastIndex){try{f.status=h.status,f.headers=d.util.parseHeaders(h.getAllResponseHeaders()),ia(h,c)}catch(Da){f.status=404}D(c);f.state="messageReceived";var b=h.responseText.substring(a.lastIndex);a.lastIndex=h.responseText.length;(e=H(b,a,f))||x();n(h,a)&&pa(h,a)}else if(400<f.status)return a.lastIndex=h.responseText.length,!1},0);else{if(q=g.substring(a.lastIndex,g.length),e=H(q,a,f),a.lastIndex=g.length,e)return}else e=H(g,a,f);g=n(h,a);try{f.status=h.status,f.headers=d.util.parseHeaders(h.getAllResponseHeaders()),
ia(h,a)}catch(Fa){f.status=404}f.state=a.suspend?0===f.status?"closed":"messageReceived":"messagePublished";(q=!g&&"streaming"!==b.transport&&"polling"!==b.transport)&&!a.executeCallbackBeforeReconnect&&J(h,a,a.pollingInterval);0===f.responseBody.length||e||x();q&&a.executeCallbackBeforeReconnect&&J(h,a,a.pollingInterval);g&&pa(h,a)}}}};try{h.send(a.data),ba=!0}catch(ma){d.util.log(a.logLevel,["Unable to connect to "+a.url]),u(0,ma)}}else"debug"===a.logLevel&&d.util.log(a.logLevel,["Max re-connection reached."]),
u(0,"maxRequest reached")}}function pa(b,a){f.messages=[];a.isReopen=!0;Q();G=!1;J(b,a,500)}function Aa(b,a,e){var g=a.url;null!=a.dispatchUrl&&"POST"===a.method&&(g+=a.dispatchUrl);g=O(a,g);g=d.util.prepareURL(g);e&&(b.open(a.method,g,a.async),0<a.connectTimeout&&(a.id=setTimeout(function(){0===a.requestCount&&(r(),M("Connect timeout","closed",200,a.transport))},a.connectTimeout)));c.withCredentials&&"websocket"!==c.transport&&"withCredentials"in b&&(b.withCredentials=!0);c.dropHeaders||(b.setRequestHeader("X-Atmosphere-Framework",
d.version),b.setRequestHeader("X-Atmosphere-Transport",a.transport),null!==a.heartbeat&&null!==a.heartbeat.server&&b.setRequestHeader("X-Heartbeat-Server",b.heartbeat.server),a.trackMessageLength&&b.setRequestHeader("X-Atmosphere-TrackMessageSize","true"),b.setRequestHeader("X-Atmosphere-tracking-id",a.uuid),d.util.each(a.headers,function(c,g){g=d.util.isFunction(g)?g.call(this,b,a,e,f):g;null!=g&&b.setRequestHeader(c,g)}));""!==a.contentType&&b.setRequestHeader("Content-Type",a.contentType)}function J(b,
a,d){if(!f.closedByClientTimeout&&(a.reconnect||a.suspend&&ba)){var e=0;b&&1<b.readyState&&(e=1E3<b.status?0:b.status);f.status=0===e?204:e;f.reason=0===e?"Server resumed the connection or down.":"OK";clearTimeout(a.id);a.reconnectId&&(clearTimeout(a.reconnectId),delete a.reconnectId);0<d?c.reconnectId=setTimeout(function(){R(a)},d):R(a)}}function xa(b){b.state="re-connecting";ha(b)}function W(b){"polling"!==b.transport?(A=qa(b),A.open()):qa(b).open()}function qa(b){var a=c;null!=b&&"undefined"!==
typeof b&&(a=b);var e=a.transport,h=0,k=new window.XDomainRequest,l=function(){"long-polling"===a.transport&&a.reconnect&&(-1===a.maxRequest||a.requestCount++<a.maxRequest)&&(k.status=200,W(a))},m=a.rewriteURL||function(a){var b=/(?:^|;\s*)(JSESSIONID|PHPSESSID)=([^;]*)/.exec(document.cookie);switch(b&&b[1]){case "JSESSIONID":return a.replace(/;jsessionid=[^\?]*|(\?)|$/,";jsessionid\x3d"+b[2]+"$1");case "PHPSESSID":return a.replace(/\?PHPSESSID=[^&]*&?|\?|$/,"?PHPSESSID\x3d"+b[2]+"\x26").replace(/&$/,
"")}return a};k.onprogress=function(){clearTimeout(a.id);var b=k.responseText,b=b.substring(h);h+=b.length;if("polling"!==e){D(a);var c=H(b,a,f);if("long-polling"!==e||0!==d.util.trim(b).length)a.executeCallbackBeforeReconnect&&l(),c||M(f.responseBody,"messageReceived",200,e),a.executeCallbackBeforeReconnect||l()}};k.onerror=function(){"polling"!==a.transport&&(r(),v++<a.maxReconnectOnClose?0<a.reconnectInterval?a.reconnectId=setTimeout(function(){t("re-connecting",b.transport,b);W(a)},a.reconnectInterval):
(t("re-connecting",b.transport,b),W(a)):u(0,"maxReconnectOnClose reached"))};k.onload=function(){};return{open:function(){var b=a.url;null!=a.dispatchUrl&&(b+=a.dispatchUrl);b=O(a,b);k.open(a.method,m(b));"GET"===a.method?k.send():k.send(a.data);0<a.connectTimeout&&(a.id=setTimeout(function(){0===a.requestCount&&(r(),M("Connect timeout","closed",200,a.transport))},a.connectTimeout))},close:function(){k.abort()}}}function X(b){A=Ba(b);A.open()}function Ba(b){var a=c;null!=b&&"undefined"!==typeof b&&
(a=b);var e,h=new window.ActiveXObject("htmlfile");h.open();h.close();var k=a.url;null!=a.dispatchUrl&&(k+=a.dispatchUrl);"polling"!==a.transport&&(f.transport=a.transport);return{open:function(){var b=h.createElement("iframe");k=O(a);""!==a.data&&(k+="\x26X-Atmosphere-Post-Body\x3d"+encodeURIComponent(a.data));k=d.util.prepareURL(k);b.src=k;h.body.appendChild(b);var g=b.contentDocument||b.contentWindow.document;e=d.util.iterate(function(){try{if(g.firstChild){var b=g.body?g.body.lastChild:g,k=function(){var a=
b.cloneNode(!0);a.appendChild(g.createTextNode("."));a=a.innerText;return a=a.substring(0,a.length-1)};if(!g.body||!g.body.firstChild||"pre"!==g.body.firstChild.nodeName.toLowerCase()){var l=g.head||g.getElementsByTagName("head")[0]||g.documentElement||g,m=g.createElement("script");m.text="document.write('\x3cplaintext\x3e')";l.insertBefore(m,l.firstChild);l.removeChild(m);b=g.body.lastChild}a.closed&&(a.isReopen=!0);e=d.util.iterate(function(){var d=k();if(d.length>a.lastIndex){D(c);f.status=200;
f.error=null;b.innerText="";if(H(d,a,f))return"";M(f.responseBody,"messageReceived",200,a.transport)}a.lastIndex=0;if("complete"===g.readyState)return U(!0),t("re-connecting",a.transport,a),0<a.reconnectInterval?a.reconnectId=setTimeout(function(){X(a)},a.reconnectInterval):X(a),!1},null);return!1}}catch(Ea){return f.error=!0,t("re-connecting",a.transport,a),v++<a.maxReconnectOnClose?0<a.reconnectInterval?a.reconnectId=setTimeout(function(){X(a)},a.reconnectInterval):X(a):u(0,"maxReconnectOnClose reached"),
h.execCommand("Stop"),h.close(),!1}})},close:function(){e&&e();h.execCommand("Stop");U(!0)}}}function N(b){null!=w?w.send(b):null!=K||null!=y?aa(b):null!=A?c.enableXDR&&d.util.checkCORSSupport()?(b=ja(b),b.reconnect=!1,na(b)):aa(b):null!=B?aa(b):null!=m?Ca(b):(u(0,"No suspended connection available"),d.util.error("No suspended connection available. Make sure atmosphere.subscribe has been called and request.onOpen invoked before trying to push data"))}function ua(b,a){a||(a=ja(b));a.transport="polling";
a.method="GET";a.withCredentials=!1;a.reconnect=!1;a.force=!0;a.suspend=!1;a.timeout=1E3;R(a)}function aa(b){b=ja(b);R(b)}function ra(b){var a=b;"object"===typeof a&&(a=b.data);return a}function ja(b){var a=ra(b),a={connected:!1,timeout:6E4,method:"POST",url:c.url,contentType:c.contentType,headers:c.headers,reconnect:!0,callback:null,data:a,suspend:!1,maxRequest:-1,logLevel:"info",requestCount:0,withCredentials:c.withCredentials,async:c.async,transport:"polling",isOpen:!0,attachHeadersAsQueryString:!0,
enableXDR:c.enableXDR,uuid:c.uuid,dispatchUrl:c.dispatchUrl,enableProtocol:!1,messageDelimiter:"|",trackMessageLength:c.trackMessageLength,maxReconnectOnClose:c.maxReconnectOnClose,heartbeatTimer:c.heartbeatTimer,heartbeat:c.heartbeat};"object"===typeof b&&(a=d.util.extend(a,b));return a}function Ca(b){var a=d.util.isBinary(b)?b:ra(b),e;try{e=null!=c.dispatchUrl?c.webSocketPathDelimiter+c.dispatchUrl+c.webSocketPathDelimiter+a:a,m.canSendMessage?m.send(e):d.util.error("WebSocket not connected.")}catch(ta){m.onclose=
function(a){},r(),I("Websocket failed. Downgrading to "+c.fallbackTransport+" and resending "+b),aa(b)}}function la(b){b=JSON.parse(b);if(b.id!==z)if("undefined"!==typeof c.onLocalMessage)c.onLocalMessage(b.event);else if("undefined"!==typeof d.util.onLocalMessage)d.util.onLocalMessage(b.event)}function M(b,a,c,d){f.responseBody=b;f.transport=d;f.status=c;f.state=a;x()}function ia(b,a){if(a.readResponsesHeaders)try{var c=b.getResponseHeader("X-Atmosphere-tracking-id");c&&null!=c&&(a.uuid=c.split(" ").pop())}catch(ta){}else a.enableProtocol||
(a.uuid=z)}function ha(b){sa(b,c);sa(b,d.util)}function sa(b,a){switch(b.state){case "messageReceived":l("Firing onMessage");c&&"undefined"!==typeof c.reconnectingOnErrorProcess&&!0===c.reconnectingOnErrorProcess||(v=0);if("undefined"!==typeof a.onMessage)a.onMessage(b);if("undefined"!==typeof a.onmessage)a.onmessage(b);break;case "error":l("Firing onError, reasonPhrase: "+("undefined"!=typeof b.reasonPhrase?b.reasonPhrase:"n/a"));if("undefined"!==typeof a.onError)a.onError(b);if("undefined"!==typeof a.onerror)a.onerror(b);
break;case "opening":delete c.closed;l("Firing onOpen");c.maxRequest=-1;if("undefined"!==typeof a.onOpen)a.onOpen(b);if("undefined"!==typeof a.onopen)a.onopen(b);break;case "messagePublished":l("Firing messagePublished");if("undefined"!==typeof a.onMessagePublished)a.onMessagePublished(b);break;case "re-connecting":l("Firing onReconnect");if("undefined"!==typeof a.onReconnect)a.onReconnect(c,b);break;case "closedByClient":l("Firing closedByClient");if("undefined"!==typeof a.onClientTimeout)a.onClientTimeout(c);
break;case "re-opening":delete c.closed;l("Firing onReopen");c.maxRequest=-1;if("undefined"!==typeof a.onReopen)a.onReopen(c,b);break;case "fail-to-reconnect":l("Firing onFailureToReconnect");if("undefined"!==typeof a.onFailureToReconnect)a.onFailureToReconnect(c,b);break;case "unsubscribe":case "closed":if("undefined"!==typeof c.closed&&c.closed)l("Request already closed, not firing onClose ("+b.state+" case)");else{l("Firing onClose ("+b.state+" case)");if("undefined"!==typeof a.onClose)a.onClose(b);
if("undefined"!==typeof a.onclose)a.onclose(b)}c.closed=!0;break;case "openAfterResume":if("undefined"!==typeof a.onOpenAfterResume)a.onOpenAfterResume(c)}}function U(b){"closed"!==f.state&&(f.state="closed",f.responseBody="",f.messages=[],f.status=b?200:501,x())}function x(){var b=function(a,b){b(f)};null==w&&null!=S&&S(f.responseBody);c.reconnect=c.mrequest;for(var a="string"===typeof f.responseBody,e=a&&c.trackMessageLength?0<f.messages.length?f.messages:[""]:Array(f.responseBody),h=0;h<e.length;h++)if(!(1<
e.length&&0===e[h].length||(f.responseBody=a?d.util.trim(e[h]):e[h],null==w&&null!=S&&S(f.responseBody),(0===f.responseBody.length||a&&ga===f.responseBody)&&"messageReceived"===f.state))){ha(f);if(0<F.length){k("debug")&&d.util.debug("Invoking "+F.length+" global callbacks: "+f.state);try{d.util.each(F,b)}catch(P){d.util.log(c.logLevel,["Callback exception"+P])}}if("function"===typeof c.callback){k("debug")&&d.util.debug("Invoking request callbacks");try{c.callback(f)}catch(P){d.util.log(c.logLevel,
["Callback exception"+P])}}}}var c={timeout:3E5,method:"GET",headers:{},contentType:"",callback:null,url:"",data:"",suspend:!0,maxRequest:-1,reconnect:!0,maxStreamingLength:1E7,lastIndex:0,logLevel:"info",requestCount:0,fallbackMethod:"GET",fallbackTransport:"streaming",transport:"long-polling",webSocketImpl:null,webSocketBinaryType:null,dispatchUrl:null,webSocketPathDelimiter:"@@",enableXDR:!1,rewriteURL:!1,attachHeadersAsQueryString:!0,executeCallbackBeforeReconnect:!1,readyState:0,withCredentials:!1,
trackMessageLength:!1,messageDelimiter:"|",connectTimeout:-1,reconnectInterval:0,dropHeaders:!0,uuid:0,async:!0,shared:!1,readResponsesHeaders:!1,maxReconnectOnClose:5,enableProtocol:!0,disableDisconnect:!1,pollingInterval:0,heartbeat:{client:null,server:null},ackInterval:0,closeAsync:!1,reconnectOnServerError:!0,handleOnlineOffline:!0,maxWebsocketErrorRetries:1,curWebsocketErrorRetries:0,onError:function(b){},onClose:function(b){},onOpen:function(b){},onMessage:function(b){},onReopen:function(b,
a){},onReconnect:function(b,a){},onMessagePublished:function(b){},onTransportFailure:function(b,a){},onLocalMessage:function(b){},onFailureToReconnect:function(b,a){},onClientTimeout:function(b){},onOpenAfterResume:function(b){}},f={status:200,reasonPhrase:"OK",responseBody:"",messages:[],headers:[],state:"messageReceived",transport:"polling",error:null,request:null,partialMessage:"",errorHandled:!1,closedByClientTimeout:!1,ffTryingReconnect:!1},m=null,y=null,K=null,A=null,B=null,ba=!0,v=0,V=0,ga=
"X",G=!1,S=null,C,w=null,z=d.util.now(),Z,ca;ka(e);this.subscribe=function(b){ka(b);L()};this.execute=function(){L()};this.close=function(){Q()};this.disconnect=function(){p()};this.getUrl=function(){return c.url};this.push=function(b,a){if(null!=a){var d=c.dispatchUrl;c.dispatchUrl=a;N(b);c.dispatchUrl=d}else N(b)};this.getUUID=function(){return c.uuid};this.pushLocal=function(b){if(0!==b.length)try{w?w.localSend(b):C&&C.signal("localMessage",JSON.stringify({id:z,event:b}))}catch(a){d.util.error(a)}};
this.enableProtocol=function(b){return c.enableProtocol};this.init=function(){h()};this.request=c;this.response=f},subscribe:function(e,h,k){"function"===typeof h&&d.addCallback(h);"string"!==typeof e?k=e:k.url=e;Y="undefined"!==typeof k&&"undefined"!==typeof k.uuid?k.uuid:0;e=new d.AtmosphereRequest(k);e.execute();return p[p.length]=e},unsubscribe:function(){if(0<p.length)for(var d=[].concat(p),h=0;h<d.length;h++){var k=d[h];k.close();clearTimeout(k.response.request.id);k.heartbeatTimer&&clearTimeout(k.heartbeatTimer)}p=
[];F=[]},unsubscribeUrl:function(d){var e=-1;if(0<p.length)for(var k=0;k<p.length;k++){var l=p[k];if(l.getUrl()===d){l.close();clearTimeout(l.response.request.id);l.heartbeatTimer&&clearTimeout(l.heartbeatTimer);e=k;break}}0<=e&&p.splice(e,1)},addCallback:function(e){-1===d.util.inArray(e,F)&&F.push(e)},removeCallback:function(e){e=d.util.inArray(e,F);-1!==e&&F.splice(e,1)},util:{browser:{},parseHeaders:function(d){for(var e,k=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,l={};e=k.exec(d);)l[e[1]]=e[2];return l},
now:function(){return(new Date).getTime()},isArray:function(d){return"[object Array]"===Object.prototype.toString.call(d)},inArray:function(d,h){if(!Array.prototype.indexOf){for(var e=h.length,l=0;l<e;++l)if(h[l]===d)return l;return-1}return h.indexOf(d)},isBinary:function(d){return/^\[object\s(?:Blob|ArrayBuffer|.+Array)\]$/.test(Object.prototype.toString.call(d))},isFunction:function(d){return"[object Function]"===Object.prototype.toString.call(d)},getAbsoluteURL:function(e){if("undefined"===typeof document.createElement)return e;
var h=document.createElement("div");h.innerHTML='\x3ca href\x3d"'+e+'"/\x3e';e=window.navigator.userAgent;return 0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")?d.util.fixedEncodeURI(decodeURI(h.firstChild.href)):h.firstChild.href},fixedEncodeURI:function(d){return encodeURI(d).replace(/%5B/g,"[").replace(/%5D/g,"]")},prepareURL:function(e){var h=d.util.now(),k=e.replace(/([?&])_=[^&]*/,"$1_\x3d"+h);return k+(k===e?(/\?/.test(e)?"\x26":"?")+"_\x3d"+h:"")},trim:function(d){return String.prototype.trim?
d.toString().trim():d.toString().replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},param:function(e){function h(e,h){h=d.util.isFunction(h)?h():null==h?"":h;n.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(h))}function k(e,l){var n;if(d.util.isArray(l))d.util.each(l,function(d,l){/\[\]$/.test(e)?h(e,l):k(e+"["+("object"===typeof l?d:"")+"]",l)});else if("[object Object]"===Object.prototype.toString.call(l))for(n in l)k(e+"["+n+"]",l[n]);else h(e,l)}var l,n=[];for(l in e)k(l,e[l]);
return n.join("\x26").replace(/%20/g,"+")},storage:function(){try{return!(!window.localStorage||!window.StorageEvent)}catch(e){return!1}},iterate:function(d,h){var e;h=h||0;(function n(){e=setTimeout(function(){!1!==d()&&n()},h)})();return function(){clearTimeout(e)}},each:function(e,h,k){if(e){var l,n=0,p=e.length;l=d.util.isArray(e);if(k)if(l)for(;n<p&&(l=h.apply(e[n],k),!1!==l);n++);else for(n in e){if(l=h.apply(e[n],k),!1===l)break}else if(l)for(;n<p&&(l=h.call(e[n],n,e[n]),!1!==l);n++);else for(n in e)if(l=
h.call(e[n],n,e[n]),!1===l)break;return e}},extend:function(d){var e,k,l;for(e=1;e<arguments.length;e++)if(null!=(k=arguments[e]))for(l in k)d[l]=k[l];return d},on:function(d,h,k){d.addEventListener?d.addEventListener(h,k,!1):d.attachEvent&&d.attachEvent("on"+h,k)},off:function(d,h,k){d.removeEventListener?d.removeEventListener(h,k,!1):d.detachEvent&&d.detachEvent("on"+h,k)},log:function(d,h){window.console&&(d=window.console[d],"function"===typeof d&&d.apply(window.console,h))},warn:function(){d.util.log("warn",
arguments)},info:function(){d.util.log("info",arguments)},debug:function(){d.util.log("debug",arguments)},error:function(){d.util.log("error",arguments)},xhr:function(){try{return new window.XMLHttpRequest}catch(e){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}},checkCORSSupport:function(){if(d.util.browser.msie&&!window.XDomainRequest&&11>+d.util.browser.version.split(".")[0]||d.util.browser.opera&&12>+d.util.browser.version.split(".")||"KreaTVWebKit/531"===d.util.trim(navigator.userAgent).slice(0,
16)||"kreatel"===d.util.trim(navigator.userAgent).slice(-7).toLowerCase())return!0;var e=navigator.userAgent.toLowerCase().match(/.+android ([0-9]{1,2})/i),e=parseInt(e&&e[0]||-1,10);return!isNaN(e)&&-1<e&&3>e?!0:!1}}};d.util.now();(function(){var e=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(e)||0>e.indexOf("android")&&/version\/(.+) (safari)/.exec(e)||0>e.indexOf("compatible")&&
/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];"safari"===e[2]&&(e[2]=e[1],e[1]="safari");d.util.browser[e[1]||""]=!0;d.util.browser.version=e[2]||"0";d.util.browser.vmajor=d.util.browser.version.split(".")[0];d.util.browser.trident&&(d.util.browser.msie=!0);if(d.util.browser.msie||d.util.browser.mozilla&&1===+d.util.browser.version.split(".")[0])d.util.storage=!1})();d.callbacks={unload:function(){d.util.debug(new Date+" Atmosphere: unload event");d.unsubscribe()},beforeUnload:function(){d.util.debug(new Date+
" Atmosphere: beforeunload event");d._beforeUnloadState=!0;setTimeout(function(){d.util.debug(new Date+" Atmosphere: beforeunload event timeout reached. Reset _beforeUnloadState flag");d._beforeUnloadState=!1},5E3)},offline:function(){d.util.debug(new Date+" Atmosphere: offline event");E=!0;if(0<p.length)for(var e=[].concat(p),h=0;h<e.length;h++){var k=e[h];k.request.handleOnlineOffline&&(k.close(),clearTimeout(k.response.request.id),k.heartbeatTimer&&clearTimeout(k.heartbeatTimer))}},online:function(){d.util.debug(new Date+
" Atmosphere: online event");if(0<p.length)for(var e=0;e<p.length;e++)p[e].request.handleOnlineOffline&&(p[e].init(),p[e].execute());E=!1}};d.bindEvents=function(){d.util.on(window,"unload",d.callbacks.unload);d.util.on(window,"beforeunload",d.callbacks.beforeUnload);d.util.on(window,"offline",d.callbacks.offline);d.util.on(window,"online",d.callbacks.online)};d.unbindEvents=function(){d.util.off(window,"unload",d.callbacks.unload);d.util.off(window,"beforeunload",d.callbacks.beforeUnload);d.util.off(window,
"offline",d.callbacks.offline);d.util.off(window,"online",d.callbacks.online)};d.bindEvents();return d});
pega.u=pega.namespace("pega.ui");
pega.u.pushservice_settings=pega.u.pushservice_settings||{transport:deferredVars["pega.u.d"].pushservice_transport?deferredVars["pega.u.d"].pushservice_transport:"",fallback:deferredVars["pega.u.d"].pushservice_fallback?deferredVars["pega.u.d"].pushservice_fallback:"",requestorContextPath:deferredVars["pega.u.d"].pushservice_requestorContextPath?deferredVars["pega.u.d"].pushservice_requestorContextPath:"",pushServletPath:deferredVars["pega.u.d"].pushservice_pushServletPath?deferredVars["pega.u.d"].pushservice_pushServletPath:
"",portalName:deferredVars["pega.u.d"].pushservice_portalName?deferredVars["pega.u.d"].pushservice_portalName:"",requestorID:deferredVars["pega.u.d"].pushservice_requestorID?deferredVars["pega.u.d"].pushservice_requestorID:""};
pega.u.MessagingManager=pega.u.MessagingManager||function(h,m){var u={};"use strict";h.u.d.attachOnload(function(d){d?d.target&&(d=d.target):d=document;$(d).find("[data-subscription-id]").addBack("[data-subscription-id]").each(function(){h.u.MessagingManager.registerSubscriber($(this).attr("data-subscription-id"),this)})},!0);pega.atmosphere&&pega.atmosphere.util&&pega.atmosphere.util.debug&&pega.atmosphere.util.info&&(pega.atmosphere.util.debug=function(){},pega.atmosphere.util.info=function(){});
h.d.s.desktopWindow&&h.d.s.desktopWindow!==window&&!h.d.s.desktopWindow.pega.u&&(h.d.s.desktopWindow=h.d.s.getDesktopWindow());if(h.d.s.desktopWindow&&h.d.s.desktopWindow!==window)return setTimeout(function(){h.d.s.desktopWindow.pega.u.MessagingManager.tryReconnect()},0),h.d.s.desktopWindow.pega.u.MessagingManager;var k=function(d){pega.ui.debug&&console.log(d)},q=function(){var d=new h.tools.Hashtable;return{add:function(f,a){d.put(f,a)},get:function(f){return d.get(f)},remove:function(f,a){a?(d.clear(),
f=!0):f=d.remove(f);return f}}}(),r=function(){var d=new h.tools.Hashtable;return{add:function(f,a){d.put(f,a)},get:function(f){return d.get(f)},remove:function(f){d.remove(f)},clear:function(){d.clear()}}}(),t=function(){var d=function(a,b,d){if(a&&(a=r.get(a))&&"function"===typeof a){var c=function(a,b){var c={clientId:d},e={};a?e.success=a:b&&(e.error=b);c.response=e;a=[];a.push(c);k("Client Response: "+JSON.stringify(a));pega.u.MessagingManager.testObject.pushMessage(a)};b=[b,c];try{var e=a.apply(null,
b);e&&c(e)}catch(g){c(null,g.message||g)}}},f=function(a){if(a.error)w.processError(a.error);else if(a.advice){var b=a.advice,e,c;if(b.VerifySubscriptions){k("Advice message for handling duplicate subscribtions. "+b.VerifySubscriptions);a=[];e=b.VerifySubscriptions;for(c=0;c<e.length;c++)b=q.get(e[c]),b&&b.oWin&&b.oWin.document.body.contains(b.subscriberElement)||(n.unregisterSubscriber(e[c],!0),a.push(e[c]));0<a.length&&(a=[{advice:{CleanupSubscriptions:a}}],l.pushMessage(a))}}else a.clientAction?
d(a.clientAction,a.data,a.clientId):(b=pega.u.MessagingManager.ActiveSubscriptionMap.get(a.clientId)||window.top.pega.u.MessagingManager.ActiveSubscriptionMap.get(a.clientId),e=a.data,b&&b.subscriberElement?(b.callbackarguments&&(e.args=b.callbackarguments),b.oWin&&b.oWin.pega.control.eventController.fireEventHandler(b.subscriberElement,"message",e)||n.unregisterSubscriber(b.subscriberElement.getAttribute("data-subscription-id"),!1,!0)):n.unregisterSubscriber(a.clientId,!1,!0))};return{processMessageBundle:function(a){try{JSON.parse(a).forEach(f)}catch(b){k("Execption while processing response... "+
b)}},registerClientAction:function(a,b){a&&r.add(a,b)},unregisterAllClientActions:function(){r.clear();k("Unregistered all client actions for the client")},unregisterClientAction:function(a){a&&(r.remove(a),k("Unregistered client action for action name: "+a))}}}(),l=function(){var d=h.atmosphere,f,a=!1,b=!1,e=!1,c=m&&m.portalName&&"string"==typeof m.portalName&&""!=m.portalName.trim()?!0:!1,p="",g={url:document.location.protocol+"//"+document.location.host+m.requestorContextPath+m.pushServletPath+
"?PZSRVRPSH\x3dtrue\x26portalName\x3d"+m.portalName+"\x26clientID\x3d"+m.requestorID,contentType:"application/json",transport:m.transport,fallbackTransport:m.fallback,maxReconnectOnClose:5,reconnectInterval:15E3,closeAsync:!0,trackMessageLength:!0,logLevel:"warn",maxRequest:5,reconnectingOnErrorProcess:!1,onOpen:function(){k("Websocket connected successfully!!! using transport: "+g.transport);a=!0;p="";this.reconnectingOnErrorProcess=b=!1;pega.u.clientEvents.publish(pega.u.clientEvents.WS_ON_OPEN,
"Websocket connected successfully!!! using transport: "+g.transport)},onMessage:function(a){k("Message :: "+a.responseBody);t.processMessageBundle(a.responseBody)},onClientTimeout:function(b){a=!1;setTimeout(function(){f=d.subscribe(g);a=!0},g.reconnectInterval)},onClose:function(){k("Websocket connection closed successfully!!!");a=!1;pega.u.clientEvents.publish(pega.u.clientEvents.WS_ON_CLOSE,p&&""!=p?[{EventType:"onClose",Reason:p}]:[{EventType:"onClose",Reason:"Websocket connection closed successfully!!!"}])},
onReopen:function(c){k("Websocket re-connection successful !!! using transport: "+c.transport);a=!0;p="";this.reconnectingOnErrorProcess=b=!1;pega.u.clientEvents.publish(pega.u.clientEvents.WS_ON_REOPEN,"")},onError:function(){k("Some Error occurred in Atmosphere connection");b&&e&&!a&&(e=!1);pega.u.clientEvents.publish(pega.u.clientEvents.WS_ON_ERROR,"Some Error occurred in Websocket connection")}};return{connect:function(){if(c){if(!e&&!a&&pega.u.d.ServerProxy&&!pega.u.d.ServerProxy.isDestinationLocal())try{f=
d.subscribe(g),e=!0}catch(x){e=!1,k("Error occurred in Atmosphere connection")}b=!1;g.reconnectingOnErrorProcess=!1;return a}console.warn("Not subscribing to websockets as portal doesn't have a name")},disconnect:function(){e&&a&&(d.unsubscribe(),e=!1,f=void 0);return a},setReconnect:function(){b=!0},disconnectAndReconnect:function(){a=e=!0;l.disconnect();a=!1;l.setReconnect();l.tryReconnect()},tryReconnect:function(){1==b&&(g.reconnectingOnErrorProcess=!0,l.connect())},setErrorCode:function(a){p=
a},pushMessage:function(b){if(b&&f&&a)try{var c=JSON.stringify(b);k("Sending message to server : "+c);f.push(c)}catch(v){}}}}(),w=function(){return{processError:function(d){k("Error Message from server :: "+d);d=d.split(":")[0];d.match("^PE02")&&l.setReconnect();l.setErrorCode(d);l.disconnect()}}}(),n=function(){var d={},f=function(a){$(a).on("beforeunload",function(){var b;b=pega&&pega.mobile&&pega.mobile.getDesktopWindow&&"function"===typeof pega.mobile.getDesktopWindow?pega.mobile.getDesktopWindow():
pega&&pega.ui&&pega.ui.composer&&pega.ui.composer.isActive()?pega.ui.composer.getCurrentComposerWindow():(b=pega.desktop.support.getDesktopWindow?pega.desktop.support.getDesktopWindow():null)?b:window;1==b.logout||h.u.MessagingManager.unregisterAll(a);t.unregisterAllClientActions()})};return{registerSubscriber:function(a,b,e){if(a&&b){var c=b.ownerDocument.defaultView;c.msgMgrUniqueId||(c.msgMgrUniqueId="mmid"+(new Date).getTime(),d[c.msgMgrUniqueId]=[],f(c));d[c.msgMgrUniqueId].push(a);q.add(a,{subscribtionID:a,
subscriberElement:b,callbackarguments:e,oWin:c,registrationUrl:c.pega.ctx.url,threadName:c.pega.u.d.getThreadName(),acName:c.pega.ctx.acName});k("Registered subscriber on client, id : "+a)}},unregisterSubscriber:function(a,b,e){var c;if(a){var f=q.remove(a),g;f&&(g=f.oWin.msgMgrUniqueId,f.subscriberElement=null,f.oWin=null,g&&(f=d[g].indexOf(a),-1!==f&&(d[g].splice(f,1),c=1)));b||(b=[],e?null==document.querySelector("[data-subscription-id\x3d'"+a+"']")&&b.push(a):b.push(a),l.pushMessage([{advice:{CleanupSubscriptions:b}}]));
k("Unregistered subscriber on client, id : "+a)}return c},unregisterAll:function(a,b){var e,c;if(a&&a.msgMgrUniqueId){if(e=d[a.msgMgrUniqueId]){for(c=0;c<e.length;c++){var f=0;if(b){var g=q.get(e[c]);g&&g.threadName==b&&(f=n.unregisterSubscriber(e[c],!1))}else f=n.unregisterSubscriber(e[c],!1,b);1==f&&c--}b||(d[a.msgMgrUniqueId]=void 0,a.msgMgrUniqueId=void 0)}k("Unregistered All subscribers in the current window")}},subscribe:function(a,b,d,c,f,g){try{if(null==c||c.document){var e=null,e=null==c?
window:c,h=e.document.createElement("div");h.setAttribute("style","display:none;");h.setAttribute("data-ctl","");e.document.body.appendChild(h);c=h}}catch(v){}if(c){e=c.ownerDocument.defaultView;h=SafeURL_createFromURL(e.pega.ctx.url);delete h.hashtable.pzTransactionId;h.put("pyActivity","pzSubscribeForNotification");h.put("channel",a);if(void 0==b||null==b||""==b)b="null";h.put("conditionProp",b);h.put("conditionVal",JSON.stringify(d));a=new SafeURL;a.put("pyReturnsResponse","true");e.pega.u.d.asyncRequest("POST",
h,{success:function(a){(a=a.responseText)&&""!=a&&c.setAttribute&&(-1<a.indexOf("\x3chtml")?k("Subscription Failed....."):(c.hasAttribute("data-ctl")||c.setAttribute("data-ctl",""),c.setAttribute("data-subscription-id",a),c.setAttribute("data-message",'[["runScript", ["'+f.funcRef+'(event.detail)"]]]'),pega.ui.MessagingManager.registerSubscriber(a,c,f.args),g&&g.success&&(g.scope?g.success.apply(g.scope,[a]):g.success(a))))},failure:function(a){k("Subscription Failed.....");g&&g.failure&&(g.scope?
g.failure.apply(g.scope,[a]):g.failure(a))}},a)}}}}();h.u.d.attachOnload(function(){m.transport?l.connect():k("Incorrect/No primary transport specified to initiate the atmosphere connection")},!1);u.pushMessage=l.pushMessage;return{registerSubscriber:n.registerSubscriber,unregisterSubscriber:n.unregisterSubscriber,unregisterAll:n.unregisterAll,subscribe:n.subscribe,tryReconnect:l.tryReconnect,disconnect:l.disconnect,disconnectAndReconnect:l.disconnectAndReconnect,testObject:u,ActiveSubscriptionMap:q,
registerClientAction:t.registerClientAction,unregisterClientAction:t.unregisterClientAction,ClientActionMap:r}}(pega,pega.u.pushservice_settings);
/* jsTree - v3.3.7 - 2018-11-06 - (MIT) */
!function(A){"function"==typeof define&&define.amd?define(["jquery"],A):"undefined"!=typeof module&&module.exports?module.exports=A(require("jquery")):A(jQuery)}(function(P,O){if(!P.jstree){var N=0,M=!1,L=!1,K=!1,J=[],I=P("script:last").attr("src"),H=window.document;P.jstree={version:"3.3.7",defaults:{plugins:[]},plugins:{},path:I&&-1!==I.indexOf("/")?I.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},P.jstree.create=function(Q,T){var S=new P.jstree.core(++N),R=T;return T=P.extend(!0,{},P.jstree.defaults,T),R&&R.plugins&&(T.plugins=R.plugins),P.each(T.plugins,function(V,U){"core"!==V&&(S=S.plugin(U,T[U]))}),P(Q).data("jstree",S),S.init(Q,T),S},P.jstree.destroy=function(){P(".jstree:jstree").jstree("destroy"),P(H).off(".jstree")},P.jstree.core=function(Q){this._id=Q,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},P.jstree.reference=function(Q){var T=null,S=null;if(!Q||!Q.id||Q.tagName&&Q.nodeType||(Q=Q.id),!S||!S.length){try{S=P(Q)}catch(R){}}if(!S||!S.length){try{S=P("#"+Q.replace(P.jstree.idregex,"\\$&"))}catch(R){}}return S&&S.length&&(S=S.closest(".jstree")).length&&(S=S.data("jstree"))?T=S:P(".jstree").each(function(){var U=P(this).data("jstree");return U&&U._model.data[Q]?(T=U,!1):void 0}),T},P.fn.jstree=function(T){var S="string"==typeof T,R=Array.prototype.slice.call(arguments,1),Q=null;return T!==!0||this.length?(this.each(function(){var V=P.jstree.reference(this),U=S&&V?V[T]:null;return Q=S&&U?U.apply(V,R):null,V||S||T!==O&&!P.isPlainObject(T)||P.jstree.create(this,T),(V&&!S||T===!0)&&(Q=V||!1),null!==Q&&Q!==O?!1:void 0}),null!==Q&&Q!==O?Q:this):!1},P.expr.pseudos.jstree=P.expr.createPseudo(function(Q){return function(R){return P(R).hasClass("jstree")&&P(R).data("jstree")!==O}}),P.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:P.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(Q){Q.type="click",P(Q.currentTarget).trigger(Q)},enter:function(Q){Q.type="click",P(Q.currentTarget).trigger(Q)},left:function(Q){if(Q.preventDefault(),this.is_open(Q.currentTarget)){this.close_node(Q.currentTarget)}else{var R=this.get_parent(Q.currentTarget);R&&R.id!==P.jstree.root&&this.get_node(R,!0).children(".jstree-anchor").focus()}},up:function(R){R.preventDefault();var Q=this.get_prev_dom(R.currentTarget);Q&&Q.length&&Q.children(".jstree-anchor").focus()},right:function(Q){if(Q.preventDefault(),this.is_closed(Q.currentTarget)){this.open_node(Q.currentTarget,function(S){this.get_node(S,!0).children(".jstree-anchor").focus()})}else{if(this.is_open(Q.currentTarget)){var R=this.get_node(Q.currentTarget,!0).children(".jstree-children")[0];R&&P(this._firstChild(R)).children(".jstree-anchor").focus()}}},down:function(R){R.preventDefault();var Q=this.get_next_dom(R.currentTarget);Q&&Q.length&&Q.children(".jstree-anchor").focus()},"*":function(Q){this.open_all()},home:function(Q){Q.preventDefault();var R=this._firstChild(this.get_container_ul()[0]);R&&P(R).children(".jstree-anchor").filter(":visible").focus()},end:function(Q){Q.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(Q){Q.preventDefault(),this.edit(Q.currentTarget)}}},P.jstree.core.prototype={plugin:function(Q,S){var R=P.jstree.plugins[Q];return R?(this._data[Q]={},R.prototype=this,new R(S,this)):this},init:function(Q,R){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[P.jstree.root]={id:P.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=P(Q).addClass("jstree jstree-"+this._id),this.settings=R,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(P.jstree.root)},destroy:function(R){if(this.trigger("destroy"),this._wrk){try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(Q){}}R||this.element.empty(),this.teardown()},_create_prototype_node:function(){var R=H.createElement("LI"),Q,S;return R.setAttribute("role","treeitem"),Q=H.createElement("I"),Q.className="jstree-icon jstree-ocl",Q.setAttribute("role","presentation"),R.appendChild(Q),Q=H.createElement("A"),Q.className="jstree-anchor",Q.setAttribute("href","#"),Q.setAttribute("tabindex","-1"),S=H.createElement("I"),S.className="jstree-icon jstree-themeicon",S.setAttribute("role","presentation"),Q.appendChild(S),R.appendChild(Q),Q=S=null,R},_kbevent_to_func:function(R){var Q={8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},V=[];R.ctrlKey&&V.push("ctrl"),R.altKey&&V.push("alt"),R.shiftKey&&V.push("shift"),V.push(Q[R.which]||R.which),V=V.sort().join("-").toLowerCase();var U=this.settings.core.keyboard,T,S;for(T in U){if(U.hasOwnProperty(T)&&(S=T,"-"!==S&&"+"!==S&&(S=S.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),S=S.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),S===V)){return U[T]}}return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var Q="",S=null,R=0;this.element.on("dblclick.jstree",function(U){if(U.target.tagName&&"input"===U.target.tagName.toLowerCase()){return !0}if(H.selection&&H.selection.empty){H.selection.empty()}else{if(window.getSelection){var T=window.getSelection();try{T.removeAllRanges(),T.collapse()}catch(V){}}}}).on("mousedown.jstree",P.proxy(function(T){T.target===this.element[0]&&(T.preventDefault(),R=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(T){T.preventDefault()}).on("click.jstree",".jstree-ocl",P.proxy(function(T){this.toggle_node(T.target)},this)).on("dblclick.jstree",".jstree-anchor",P.proxy(function(T){return T.target.tagName&&"input"===T.target.tagName.toLowerCase()?!0:void (this.settings.core.dblclick_toggle&&this.toggle_node(T.target))},this)).on("click.jstree",".jstree-anchor",P.proxy(function(T){T.preventDefault(),T.currentTarget!==H.activeElement&&P(T.currentTarget).focus(),this.activate_node(T.currentTarget,T)},this)).on("keydown.jstree",".jstree-anchor",P.proxy(function(U){if(U.target.tagName&&"input"===U.target.tagName.toLowerCase()){return !0}this._data.core.rtl&&(37===U.which?U.which=39:39===U.which&&(U.which=37));var T=this._kbevent_to_func(U);if(T){var V=T.call(this,U);if(V===!1||V===!0){return V}}},this)).on("load_node.jstree",P.proxy(function(T,U){U.status&&(U.node.id!==P.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(P.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var V=[],X,W;for(X=0,W=this._data.core.selected.length;W>X;X++){V=V.concat(this._model.data[this._data.core.selected[X]].parents)}for(V=P.vakata.array_unique(V),X=0,W=V.length;W>X;X++){this.open_node(V[X],!1,0)}}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",P.proxy(function(X){if(X.target.tagName&&"input"===X.target.tagName.toLowerCase()){return !0}S&&clearTimeout(S),S=setTimeout(function(){Q=""},500);var W=String.fromCharCode(X.which).toLowerCase(),V=this.element.find(".jstree-anchor").filter(":visible"),U=V.index(H.activeElement)||0,T=!1;if(Q+=W,Q.length>1){if(V.slice(U).each(P.proxy(function(Z,Y){return 0===P(Y).text().toLowerCase().indexOf(Q)?(P(Y).focus(),T=!0,!1):void 0},this)),T){return }if(V.slice(0,U).each(P.proxy(function(Z,Y){return 0===P(Y).text().toLowerCase().indexOf(Q)?(P(Y).focus(),T=!0,!1):void 0},this)),T){return }}if(new RegExp("^"+W.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(Q)){if(V.slice(U+1).each(P.proxy(function(Y,Z){return P(Z).text().toLowerCase().charAt(0)===W?(P(Z).focus(),T=!0,!1):void 0},this)),T){return }if(V.slice(0,U+1).each(P.proxy(function(Y,Z){return P(Z).text().toLowerCase().charAt(0)===W?(P(Z).focus(),T=!0,!1):void 0},this)),T){return }}},this)).on("init.jstree",P.proxy(function(){var T=this.settings.core.themes;this._data.core.themes.dots=T.dots,this._data.core.themes.stripes=T.stripes,this._data.core.themes.icons=T.icons,this._data.core.themes.ellipsis=T.ellipsis,this.set_theme(T.name||"default",T.url),this.set_theme_variant(T.variant)},this)).on("loading.jstree",P.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",P.proxy(function(T){this._data.core.focused=null,P(T.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",P.proxy(function(T){var U=this.get_node(T.currentTarget);U&&U.id&&(this._data.core.focused=U.id),this.element.find(".jstree-hovered").not(T.currentTarget).mouseleave(),P(T.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",P.proxy(function(){if(+new Date-R>500&&!this._data.core.focused&&this.settings.core.restore_focus){R=0;var T=this.get_node(this.element.attr("aria-activedescendant"),!0);T&&T.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",P.proxy(function(T){this.hover_node(T.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",P.proxy(function(T){this.dehover_node(T.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),P(H).off(".jstree-"+this._id)},trigger:function(R,Q){Q||(Q={}),Q.instance=this,this.element.triggerHandler(R.replace(".jstree","")+".jstree",Q)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(Q){var R=this.settings.core.strings;return P.isFunction(R)?R.call(this,Q):R&&R[Q]?R[Q]:Q},_firstChild:function(Q){Q=Q?Q.firstChild:null;while(null!==Q&&1!==Q.nodeType){Q=Q.nextSibling}return Q},_nextSibling:function(Q){Q=Q?Q.nextSibling:null;while(null!==Q&&1!==Q.nodeType){Q=Q.nextSibling}return Q},_previousSibling:function(Q){Q=Q?Q.previousSibling:null;while(null!==Q&&1!==Q.nodeType){Q=Q.previousSibling}return Q},get_node:function(Q,T){Q&&Q.id&&(Q=Q.id),Q instanceof jQuery&&Q.length&&Q[0].id&&(Q=Q[0].id);var S;try{if(this._model.data[Q]){Q=this._model.data[Q]}else{if("string"==typeof Q&&this._model.data[Q.replace(/^#/,"")]){Q=this._model.data[Q.replace(/^#/,"")]}else{if("string"==typeof Q&&(S=P("#"+Q.replace(P.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[S.closest(".jstree-node").attr("id")]){Q=this._model.data[S.closest(".jstree-node").attr("id")]}else{if((S=this.element.find(Q)).length&&this._model.data[S.closest(".jstree-node").attr("id")]){Q=this._model.data[S.closest(".jstree-node").attr("id")]}else{if(!(S=this.element.find(Q)).length||!S.hasClass("jstree")){return !1}Q=this._model.data[P.jstree.root]}}}}return T&&(Q=Q.id===P.jstree.root?this.element:P("#"+Q.id.replace(P.jstree.idregex,"\\$&"),this.element)),Q}catch(R){return !1}},get_path:function(Q,V,U){if(Q=Q.parents?Q:this.get_node(Q),!Q||Q.id===P.jstree.root||!Q.parents){return !1}var T,S,R=[];for(R.push(U?Q.id:Q.text),T=0,S=Q.parents.length;S>T;T++){R.push(U?Q.parents[T]:this.get_text(Q.parents[T]))}return R=R.reverse().slice(1),V?R.join(V):R},get_next_dom:function(Q,S){var R;if(Q=this.get_node(Q,!0),Q[0]===this.element[0]){R=this._firstChild(this.get_container_ul()[0]);while(R&&0===R.offsetHeight){R=this._nextSibling(R)}return R?P(R):!1}if(!Q||!Q.length){return !1}if(S){R=Q[0];do{R=this._nextSibling(R)}while(R&&0===R.offsetHeight);return R?P(R):!1}if(Q.hasClass("jstree-open")){R=this._firstChild(Q.children(".jstree-children")[0]);while(R&&0===R.offsetHeight){R=this._nextSibling(R)}if(null!==R){return P(R)}}R=Q[0];do{R=this._nextSibling(R)}while(R&&0===R.offsetHeight);return null!==R?P(R):Q.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(Q,S){var R;if(Q=this.get_node(Q,!0),Q[0]===this.element[0]){R=this.get_container_ul()[0].lastChild;while(R&&0===R.offsetHeight){R=this._previousSibling(R)}return R?P(R):!1}if(!Q||!Q.length){return !1}if(S){R=Q[0];do{R=this._previousSibling(R)}while(R&&0===R.offsetHeight);return R?P(R):!1}R=Q[0];do{R=this._previousSibling(R)}while(R&&0===R.offsetHeight);if(null!==R){Q=P(R);while(Q.hasClass("jstree-open")){Q=Q.children(".jstree-children").first().children(".jstree-node:visible:last")}return Q}return R=Q[0].parentNode.parentNode,R&&R.className&&-1!==R.className.indexOf("jstree-node")?P(R):!1},get_parent:function(Q){return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?Q.parent:!1},get_children_dom:function(Q){return Q=this.get_node(Q,!0),Q[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):Q&&Q.length?Q.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(Q){return Q=this.get_node(Q),Q&&(Q.state.loaded===!1||Q.children.length>0)},is_loaded:function(Q){return Q=this.get_node(Q),Q&&Q.state.loaded},is_loading:function(Q){return Q=this.get_node(Q),Q&&Q.state&&Q.state.loading},is_open:function(Q){return Q=this.get_node(Q),Q&&Q.state.opened},is_closed:function(Q){return Q=this.get_node(Q),Q&&this.is_parent(Q)&&!Q.state.opened},is_leaf:function(Q){return !this.is_parent(Q)},load_node:function(Q,W){var V,U,T,S,R;if(P.isArray(Q)){return this._load_nodes(Q.slice(),W),!0}if(Q=this.get_node(Q),!Q){return W&&W.call(this,Q,!1),!1}if(Q.state.loaded){for(Q.state.loaded=!1,T=0,S=Q.parents.length;S>T;T++){this._model.data[Q.parents[T]].children_d=P.vakata.array_filter(this._model.data[Q.parents[T]].children_d,function(X){return -1===P.inArray(X,Q.children_d)})}for(V=0,U=Q.children_d.length;U>V;V++){this._model.data[Q.children_d[V]].state.selected&&(R=!0),delete this._model.data[Q.children_d[V]]}R&&(this._data.core.selected=P.vakata.array_filter(this._data.core.selected,function(X){return -1===P.inArray(X,Q.children_d)})),Q.children=[],Q.children_d=[],R&&this.trigger("changed",{action:"load_node",node:Q,selected:this._data.core.selected})}return Q.state.failed=!1,Q.state.loading=!0,this.get_node(Q,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(Q,P.proxy(function(X){Q=this._model.data[Q.id],Q.state.loading=!1,Q.state.loaded=X,Q.state.failed=!Q.state.loaded;var i=this.get_node(Q,!0),c=0,b=0,Z=this._model.data,Y=!1;for(c=0,b=Q.children.length;b>c;c++){if(Z[Q.children[c]]&&!Z[Q.children[c]].state.hidden){Y=!0;break}}Q.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),Y?"#"!==Q.id&&i.addClass(Q.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:Q,status:X}),W&&W.call(this,Q,X)},this)),!0},_load_nodes:function(Z,Y,X,W){var V=!0,U=function(){this._load_nodes(Z,Y,!0)},T=this._model.data,S,R,Q=[];for(S=0,R=Z.length;R>S;S++){T[Z[S]]&&(!T[Z[S]].state.loaded&&!T[Z[S]].state.failed||!X&&W)&&(this.is_loading(Z[S])||this.load_node(Z[S],U),V=!1)}if(V){for(S=0,R=Z.length;R>S;S++){T[Z[S]]&&T[Z[S]].state.loaded&&Q.push(Z[S])}Y&&!Y.done&&(Y.call(this,Q),Y.done=!0)}},load_all:function(Q,W){if(Q||(Q=P.jstree.root),Q=this.get_node(Q),!Q){return !1}var V=[],U=this._model.data,T=U[Q.id].children_d,S,R;for(Q.state&&!Q.state.loaded&&V.push(Q.id),S=0,R=T.length;R>S;S++){U[T[S]]&&U[T[S]].state&&!U[T[S]].state.loaded&&V.push(T[S])}V.length?this._load_nodes(V,function(){this.load_all(Q,W)}):(W&&W.call(this,Q),this.trigger("load_all",{node:Q}))},_load_node:function(Q,V){var U=this.settings.core.data,T,S=function R(){return 3!==this.nodeType&&8!==this.nodeType};return U?P.isFunction(U)?U.call(this,Q,P.proxy(function(W){W===!1?V.call(this,!1):this["string"==typeof W?"_append_html_data":"_append_json_data"](Q,"string"==typeof W?P(P.parseHTML(W)).filter(S):W,function(X){V.call(this,X)})},this)):"object"==typeof U?U.url?(U=P.extend(!0,{},U),P.isFunction(U.url)&&(U.url=U.url.call(this,Q)),P.isFunction(U.data)&&(U.data=U.data.call(this,Q)),P.ajax(U).done(P.proxy(function(Z,Y,X){var W=X.getResponseHeader("Content-Type");return W&&-1!==W.indexOf("json")||"object"==typeof Z?this._append_json_data(Q,Z,function(b){V.call(this,b)}):W&&-1!==W.indexOf("html")||"string"==typeof Z?this._append_html_data(Q,P(P.parseHTML(Z)).filter(S),function(b){V.call(this,b)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:Q.id,xhr:X})},this.settings.core.error.call(this,this._data.core.last_error),V.call(this,!1))},this)).fail(P.proxy(function(W){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:Q.id,xhr:W})},V.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(T=P.isArray(U)?P.extend(!0,[],U):P.isPlainObject(U)?P.extend(!0,{},U):U,Q.id===P.jstree.root?this._append_json_data(Q,T,function(W){V.call(this,W)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:Q.id})},this.settings.core.error.call(this,this._data.core.last_error),V.call(this,!1))):"string"==typeof U?Q.id===P.jstree.root?this._append_html_data(Q,P(P.parseHTML(U)).filter(S),function(W){V.call(this,W)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:Q.id})},this.settings.core.error.call(this,this._data.core.last_error),V.call(this,!1)):V.call(this,!1):Q.id===P.jstree.root?this._append_html_data(Q,this._data.core.original_container_html.clone(!0),function(W){V.call(this,W)}):V.call(this,!1)},_node_changed:function(Q){Q=this.get_node(Q),Q&&-1===P.inArray(Q.id,this._model.changed)&&this._model.changed.push(Q.id)},_append_html_data:function(p,o,a){p=this.get_node(p),p.children=[],p.children_d=[];var Z=o.is("ul")?o.children():o,Y=p.id,X=[],W=[],V=this._model.data,U=V[Y],T=this._data.core.selected.length,S,R,Q;for(Z.each(P.proxy(function(d,e){S=this._parse_model_from_html(P(e),Y,U.parents.concat()),S&&(X.push(S),W.push(S),V[S].children_d.length&&(W=W.concat(V[S].children_d)))},this)),U.children=X,U.children_d=W,R=0,Q=U.parents.length;Q>R;R++){V[U.parents[R]].children_d=V[U.parents[R]].children_d.concat(W)}this.trigger("model",{nodes:W,parent:Y}),Y!==P.jstree.root?(this._node_changed(Y),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==T&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),a.call(this,!0)},_append_json_data:function(Y,X,W,V){if(null!==this.element){Y=this.get_node(Y),Y.children=[],Y.children_d=[],X.d&&(X=X.d,"string"==typeof X&&(X=JSON.parse(X))),P.isArray(X)||(X=[X]);var U=null,T={df:this._model.default_state,dat:X,par:Y.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},S=function(AK,AJ){AK.data&&(AK=AK.data);var AI=AK.dat,AH=AK.par,AG=[],AF=[],AE=[],AD=AK.df,AC=AK.t_id,AB=AK.t_cnt,AA=AK.m,z=AA[AH],y=AK.sel,x,w,v,u,t=function(r,q,p){p=p?p.concat():[],q&&p.unshift(q);var o=r.id.toString(),n,k,h,g,b={id:o,text:r.text||"",icon:r.icon!==AJ?r.icon:!0,parent:q,parents:p,children:r.children||[],children_d:r.children_d||[],data:r.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(n in AD){AD.hasOwnProperty(n)&&(b.state[n]=AD[n])}if(r&&r.data&&r.data.jstree&&r.data.jstree.icon&&(b.icon=r.data.jstree.icon),(b.icon===AJ||null===b.icon||""===b.icon)&&(b.icon=!0),r&&r.data&&(b.data=r.data,r.data.jstree)){for(n in r.data.jstree){r.data.jstree.hasOwnProperty(n)&&(b.state[n]=r.data.jstree[n])}}if(r&&"object"==typeof r.state){for(n in r.state){r.state.hasOwnProperty(n)&&(b.state[n]=r.state[n])}}if(r&&"object"==typeof r.li_attr){for(n in r.li_attr){r.li_attr.hasOwnProperty(n)&&(b.li_attr[n]=r.li_attr[n])}}if(b.li_attr.id||(b.li_attr.id=o),r&&"object"==typeof r.a_attr){for(n in r.a_attr){r.a_attr.hasOwnProperty(n)&&(b.a_attr[n]=r.a_attr[n])}}for(r&&r.children&&r.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),AA[b.id]=b,n=0,k=b.children.length;k>n;n++){h=t(AA[b.children[n]],b.id,p),g=AA[h],b.children_d.push(h),g.children_d.length&&(b.children_d=b.children_d.concat(g.children_d))}return delete r.data,delete r.children,AA[b.id].original=r,b.state.selected&&AE.push(b.id),b.id},Z=function(r,q,p){p=p?p.concat():[],q&&p.unshift(q);var k=!1,j,i,h,g,b;do{k="j"+AC+"_"+ ++AB}while(AA[k]);b={id:!1,text:"string"==typeof r?r:"",icon:"object"==typeof r&&r.icon!==AJ?r.icon:!0,parent:q,parents:p,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(j in AD){AD.hasOwnProperty(j)&&(b.state[j]=AD[j])}if(r&&r.id&&(b.id=r.id.toString()),r&&r.text&&(b.text=r.text),r&&r.data&&r.data.jstree&&r.data.jstree.icon&&(b.icon=r.data.jstree.icon),(b.icon===AJ||null===b.icon||""===b.icon)&&(b.icon=!0),r&&r.data&&(b.data=r.data,r.data.jstree)){for(j in r.data.jstree){r.data.jstree.hasOwnProperty(j)&&(b.state[j]=r.data.jstree[j])}}if(r&&"object"==typeof r.state){for(j in r.state){r.state.hasOwnProperty(j)&&(b.state[j]=r.state[j])}}if(r&&"object"==typeof r.li_attr){for(j in r.li_attr){r.li_attr.hasOwnProperty(j)&&(b.li_attr[j]=r.li_attr[j])}}if(b.li_attr.id&&!b.id&&(b.id=b.li_attr.id.toString()),b.id||(b.id=k),b.li_attr.id||(b.li_attr.id=b.id),r&&"object"==typeof r.a_attr){for(j in r.a_attr){r.a_attr.hasOwnProperty(j)&&(b.a_attr[j]=r.a_attr[j])}}if(r&&r.children&&r.children.length){for(j=0,i=r.children.length;i>j;j++){h=Z(r.children[j],b.id,p),g=AA[h],b.children.push(h),g.children_d.length&&(b.children_d=b.children_d.concat(g.children_d))}b.children_d=b.children_d.concat(b.children)}return r&&r.children&&r.children===!0&&(b.state.loaded=!1,b.children=[],b.children_d=[]),delete r.data,delete r.children,b.original=r,AA[b.id]=b,b.state.selected&&AE.push(b.id),b.id};if(AI.length&&AI[0].id!==AJ&&AI[0].parent!==AJ){for(w=0,v=AI.length;v>w;w++){AI[w].children||(AI[w].children=[]),AI[w].state||(AI[w].state={}),AA[AI[w].id.toString()]=AI[w]}for(w=0,v=AI.length;v>w;w++){AA[AI[w].parent.toString()]?(AA[AI[w].parent.toString()].children.push(AI[w].id.toString()),z.children_d.push(AI[w].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:AI[w].id.toString(),parent:AI[w].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error))}for(w=0,v=z.children.length;v>w;w++){x=t(AA[z.children[w]],AH,z.parents.concat()),AF.push(x),AA[x].children_d.length&&(AF=AF.concat(AA[x].children_d))}for(w=0,v=z.parents.length;v>w;w++){AA[z.parents[w]].children_d=AA[z.parents[w]].children_d.concat(AF)}u={cnt:AB,mod:AA,sel:y,par:AH,dpc:AF,add:AE}}else{for(w=0,v=AI.length;v>w;w++){x=Z(AI[w],AH,z.parents.concat()),x&&(AG.push(x),AF.push(x),AA[x].children_d.length&&(AF=AF.concat(AA[x].children_d)))}for(z.children=AG,z.children_d=AF,w=0,v=z.parents.length;v>w;w++){AA[z.parents[w]].children_d=AA[z.parents[w]].children_d.concat(AF)}u={cnt:AB,mod:AA,sel:y,par:AH,dpc:AF,add:AE}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?u:void postMessage(u)},R=function(Z,o){if(null!==this.element){this._cnt=Z.cnt;var n,m=this._model.data;for(n in m){m.hasOwnProperty(n)&&m[n].state&&m[n].state.loading&&Z.mod[n]&&(Z.mod[n].state.loading=!0)}if(this._model.data=Z.mod,o){var l,k=Z.add,d=Z.sel,a=this._data.core.selected.slice();if(m=this._model.data,d.length!==a.length||P.vakata.array_unique(d.concat(a)).length!==d.length){for(n=0,l=d.length;l>n;n++){-1===P.inArray(d[n],k)&&-1===P.inArray(d[n],a)&&(m[d[n]].state.selected=!1)}for(n=0,l=a.length;l>n;n++){-1===P.inArray(a[n],d)&&(m[a[n]].state.selected=!0)}}}Z.add.length&&(this._data.core.selected=this._data.core.selected.concat(Z.add)),this.trigger("model",{nodes:Z.dpc,parent:Z.par}),Z.par!==P.jstree.root?(this._node_changed(Z.par),this.redraw()):this.redraw(!0),Z.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),W.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker){try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+S.toString()],{type:"text/javascript"}))),!this._data.core.working||V?(this._data.core.working=!0,U=new window.Worker(this._wrk),U.onmessage=P.proxy(function(c){R.call(this,c.data,!0);try{U.terminate(),U=null}catch(Z){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),T.par?U.postMessage(T):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([Y,X,W,!0])}catch(Q){R.call(this,S(T),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}}else{R.call(this,S(T),!1)}}},_parse_model_from_html:function(Z,Y,X){X=X?[].concat(X):[],Y&&X.unshift(Y);var W,V,U=this._model.data,T={id:!1,text:!1,icon:!0,parent:Y,parents:X,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},S,R,Q;for(S in this._model.default_state){this._model.default_state.hasOwnProperty(S)&&(T.state[S]=this._model.default_state[S])}if(R=P.vakata.attributes(Z,!0),P.each(R,function(a,d){return d=P.trim(d),d.length?(T.li_attr[a]=d,void ("id"===a&&(T.id=d.toString()))):!0}),R=Z.children("a").first(),R.length&&(R=P.vakata.attributes(R,!0),P.each(R,function(a,d){d=P.trim(d),d.length&&(T.a_attr[a]=d)})),R=Z.children("a").first().length?Z.children("a").first().clone():Z.clone(),R.children("ins, i, ul").remove(),R=R.html(),R=P("<div />").html(R),T.text=this.settings.core.force_text?R.text():R.html(),R=Z.data(),T.data=R?P.extend(!0,{},R):null,T.state.opened=Z.hasClass("jstree-open"),T.state.selected=Z.children("a").hasClass("jstree-clicked"),T.state.disabled=Z.children("a").hasClass("jstree-disabled"),T.data&&T.data.jstree){for(S in T.data.jstree){T.data.jstree.hasOwnProperty(S)&&(T.state[S]=T.data.jstree[S])}}R=Z.children("a").children(".jstree-themeicon"),R.length&&(T.icon=R.hasClass("jstree-themeicon-hidden")?!1:R.attr("rel")),T.state.icon!==O&&(T.icon=T.state.icon),(T.icon===O||null===T.icon||""===T.icon)&&(T.icon=!0),R=Z.children("ul").children("li");do{Q="j"+this._id+"_"+ ++this._cnt}while(U[Q]);return T.id=T.li_attr.id?T.li_attr.id.toString():Q,R.length?(R.each(P.proxy(function(a,d){W=this._parse_model_from_html(P(d),T.id,X),V=this._model.data[W],T.children.push(W),V.children_d.length&&(T.children_d=T.children_d.concat(V.children_d))},this)),T.children_d=T.children_d.concat(T.children)):Z.hasClass("jstree-closed")&&(T.state.loaded=!1),T.li_attr["class"]&&(T.li_attr["class"]=T.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),T.a_attr["class"]&&(T.a_attr["class"]=T.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),U[T.id]=T,T.state.selected&&this._data.core.selected.push(T.id),T.id},_parse_model_from_flat_json:function(b,Z,Y){Y=Y?Y.concat():[],Z&&Y.unshift(Z);var X=b.id.toString(),W=this._model.data,V=this._model.default_state,U,T,S,R,Q={id:X,text:b.text||"",icon:b.icon!==O?b.icon:!0,parent:Z,parents:Y,children:b.children||[],children_d:b.children_d||[],data:b.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(U in V){V.hasOwnProperty(U)&&(Q.state[U]=V[U])}if(b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(Q.icon=b.data.jstree.icon),(Q.icon===O||null===Q.icon||""===Q.icon)&&(Q.icon=!0),b&&b.data&&(Q.data=b.data,b.data.jstree)){for(U in b.data.jstree){b.data.jstree.hasOwnProperty(U)&&(Q.state[U]=b.data.jstree[U])}}if(b&&"object"==typeof b.state){for(U in b.state){b.state.hasOwnProperty(U)&&(Q.state[U]=b.state[U])}}if(b&&"object"==typeof b.li_attr){for(U in b.li_attr){b.li_attr.hasOwnProperty(U)&&(Q.li_attr[U]=b.li_attr[U])}}if(Q.li_attr.id||(Q.li_attr.id=X),b&&"object"==typeof b.a_attr){for(U in b.a_attr){b.a_attr.hasOwnProperty(U)&&(Q.a_attr[U]=b.a_attr[U])}}for(b&&b.children&&b.children===!0&&(Q.state.loaded=!1,Q.children=[],Q.children_d=[]),W[Q.id]=Q,U=0,T=Q.children.length;T>U;U++){S=this._parse_model_from_flat_json(W[Q.children[U]],Q.id,Y),R=W[S],Q.children_d.push(S),R.children_d.length&&(Q.children_d=Q.children_d.concat(R.children_d))}return delete b.data,delete b.children,W[Q.id].original=b,Q.state.selected&&this._data.core.selected.push(Q.id),Q.id},_parse_model_from_json:function(b,Z,Y){Y=Y?Y.concat():[],Z&&Y.unshift(Z);var X=!1,W,V,U,T,S=this._model.data,R=this._model.default_state,Q;do{X="j"+this._id+"_"+ ++this._cnt}while(S[X]);Q={id:!1,text:"string"==typeof b?b:"",icon:"object"==typeof b&&b.icon!==O?b.icon:!0,parent:Z,parents:Y,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(W in R){R.hasOwnProperty(W)&&(Q.state[W]=R[W])}if(b&&b.id&&(Q.id=b.id.toString()),b&&b.text&&(Q.text=b.text),b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(Q.icon=b.data.jstree.icon),(Q.icon===O||null===Q.icon||""===Q.icon)&&(Q.icon=!0),b&&b.data&&(Q.data=b.data,b.data.jstree)){for(W in b.data.jstree){b.data.jstree.hasOwnProperty(W)&&(Q.state[W]=b.data.jstree[W])}}if(b&&"object"==typeof b.state){for(W in b.state){b.state.hasOwnProperty(W)&&(Q.state[W]=b.state[W])}}if(b&&"object"==typeof b.li_attr){for(W in b.li_attr){b.li_attr.hasOwnProperty(W)&&(Q.li_attr[W]=b.li_attr[W])}}if(Q.li_attr.id&&!Q.id&&(Q.id=Q.li_attr.id.toString()),Q.id||(Q.id=X),Q.li_attr.id||(Q.li_attr.id=Q.id),b&&"object"==typeof b.a_attr){for(W in b.a_attr){b.a_attr.hasOwnProperty(W)&&(Q.a_attr[W]=b.a_attr[W])}}if(b&&b.children&&b.children.length){for(W=0,V=b.children.length;V>W;W++){U=this._parse_model_from_json(b.children[W],Q.id,Y),T=S[U],Q.children.push(U),T.children_d.length&&(Q.children_d=Q.children_d.concat(T.children_d))}Q.children_d=Q.children_d.concat(Q.children)}return b&&b.children&&b.children===!0&&(Q.state.loaded=!1,Q.children=[],Q.children_d=[]),delete b.data,delete b.children,Q.original=b,S[Q.id]=Q,Q.state.selected&&this._data.core.selected.push(Q.id),Q.id},_redraw:function(){var Q=this._model.force_full_redraw?this._model.data[P.jstree.root].children.concat([]):this._model.changed.concat([]),V=H.createElement("UL"),U,T,S,R=this._data.core.focused;for(T=0,S=Q.length;S>T;T++){U=this.redraw_node(Q[T],!0,this._model.force_full_redraw),U&&this._model.force_full_redraw&&V.appendChild(U)}this._model.force_full_redraw&&(V.className=this.get_container_ul()[0].className,V.setAttribute("role","group"),this.element.empty().append(V)),null!==R&&this.settings.core.restore_focus&&(U=this.get_node(R,!0),U&&U.length&&U.children(".jstree-anchor")[0]!==H.activeElement?U.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:Q})},redraw:function(Q){Q&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(Q){var V=this.get_node(Q),U=!1,T=!1,S=!1,R=H;if(!V){return !1}if(V.id===P.jstree.root){return this.redraw(!0)}if(Q=this.get_node(Q,!0),!Q||!Q.length){return !1}if(Q.children(".jstree-children").remove(),Q=Q[0],V.children.length&&V.state.loaded){for(S=R.createElement("UL"),S.setAttribute("role","group"),S.className="jstree-children",U=0,T=V.children.length;T>U;U++){S.appendChild(this.redraw_node(V.children[U],!0,!0))}Q.appendChild(S)}},redraw_node:function(AF,AE,AD,AC){var AB=this.get_node(AF),AA=!1,z=!1,y=!1,x=!1,i=!1,a=!1,Z="",Y=H,X=this._model.data,W=!1,V=!1,U=null,T=0,S=0,R=!1,Q=!1;if(!AB){return !1}if(AB.id===P.jstree.root){return this.redraw(!0)}if(AE=AE||0===AB.children.length,AF=H.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(AB.id[0])?"\\3"+AB.id[0]+" "+AB.id.substr(1).replace(P.jstree.idregex,"\\$&"):AB.id.replace(P.jstree.idregex,"\\$&"))):H.getElementById(AB.id)){AF=P(AF),AD||(AA=AF.parent().parent()[0],AA===this.element[0]&&(AA=null),z=AF.index()),AE||!AB.children.length||AF.children(".jstree-children").length||(AE=!0),AE||(y=AF.children(".jstree-children")[0]),W=AF.children(".jstree-anchor")[0]===H.activeElement,AF.remove()}else{if(AE=!0,!AD){if(AA=AB.parent!==P.jstree.root?P("#"+AB.parent.replace(P.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===AA||AA&&X[AB.parent].state.opened)){return !1}z=P.inArray(AB.id,null===AA?X[P.jstree.root].children:X[AB.parent].children)}}AF=this._data.core.node.cloneNode(!0),Z="jstree-node ";for(x in AB.li_attr){if(AB.li_attr.hasOwnProperty(x)){if("id"===x){continue}"class"!==x?AF.setAttribute(x,AB.li_attr[x]):Z+=AB.li_attr[x]}}for(AB.a_attr.id||(AB.a_attr.id=AB.id+"_anchor"),AF.setAttribute("aria-selected",!!AB.state.selected),AF.setAttribute("aria-level",AB.parents.length),AF.setAttribute("aria-labelledby",AB.a_attr.id),AB.state.disabled&&AF.setAttribute("aria-disabled",!0),x=0,i=AB.children.length;i>x;x++){if(!X[AB.children[x]].state.hidden){R=!0;break}}if(null!==AB.parent&&X[AB.parent]&&!AB.state.hidden&&(x=P.inArray(AB.id,X[AB.parent].children),Q=AB.id,-1!==x)){for(x++,i=X[AB.parent].children.length;i>x;x++){if(X[X[AB.parent].children[x]].state.hidden||(Q=X[AB.parent].children[x]),Q!==AB.id){break}}}AB.state.hidden&&(Z+=" jstree-hidden"),AB.state.loading&&(Z+=" jstree-loading"),AB.state.loaded&&!R?Z+=" jstree-leaf":(Z+=AB.state.opened&&AB.state.loaded?" jstree-open":" jstree-closed",AF.setAttribute("aria-expanded",AB.state.opened&&AB.state.loaded)),Q===AB.id&&(Z+=" jstree-last"),AF.id=AB.id,AF.className=Z,Z=(AB.state.selected?" jstree-clicked":"")+(AB.state.disabled?" jstree-disabled":"");for(i in AB.a_attr){if(AB.a_attr.hasOwnProperty(i)){if("href"===i&&"#"===AB.a_attr[i]){continue}"class"!==i?AF.childNodes[1].setAttribute(i,AB.a_attr[i]):Z+=" "+AB.a_attr[i]}}if(Z.length&&(AF.childNodes[1].className="jstree-anchor "+Z),(AB.icon&&AB.icon!==!0||AB.icon===!1)&&(AB.icon===!1?AF.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===AB.icon.indexOf("/")&&-1===AB.icon.indexOf(".")?AF.childNodes[1].childNodes[0].className+=" "+AB.icon+" jstree-themeicon-custom":(AF.childNodes[1].childNodes[0].style.backgroundImage='url("'+AB.icon+'")',AF.childNodes[1].childNodes[0].style.backgroundPosition="center center",AF.childNodes[1].childNodes[0].style.backgroundSize="auto",AF.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?AF.childNodes[1].appendChild(Y.createTextNode(AB.text)):AF.childNodes[1].innerHTML+=AB.text,AE&&AB.children.length&&(AB.state.opened||AC)&&AB.state.loaded){for(a=Y.createElement("UL"),a.setAttribute("role","group"),a.className="jstree-children",x=0,i=AB.children.length;i>x;x++){a.appendChild(this.redraw_node(AB.children[x],AE,!0))}AF.appendChild(a)}if(y&&AF.appendChild(y),!AD){for(AA||(AA=this.element[0]),x=0,i=AA.childNodes.length;i>x;x++){if(AA.childNodes[x]&&AA.childNodes[x].className&&-1!==AA.childNodes[x].className.indexOf("jstree-children")){U=AA.childNodes[x];break}}U||(U=Y.createElement("UL"),U.setAttribute("role","group"),U.className="jstree-children",AA.appendChild(U)),AA=U,z<AA.childNodes.length?AA.insertBefore(AF,AA.childNodes[z]):AA.appendChild(AF),W&&(T=this.element[0].scrollTop,S=this.element[0].scrollLeft,AF.childNodes[1].focus(),this.element[0].scrollTop=T,this.element[0].scrollLeft=S)}return AB.state.opened&&!AB.state.loaded&&(AB.state.opened=!1,setTimeout(P.proxy(function(){this.open_node(AB.id,!1,0)},this),0)),AF},open_node:function(W,V,U){var T,S,R,Q;if(P.isArray(W)){for(W=W.slice(),T=0,S=W.length;S>T;T++){this.open_node(W[T],V,U)}return !0}return W=this.get_node(W),W&&W.id!==P.jstree.root?(U=U===O?this.settings.core.animation:U,this.is_closed(W)?this.is_loaded(W)?(R=this.get_node(W,!0),Q=this,R.length&&(U&&R.children(".jstree-children").length&&R.children(".jstree-children").stop(!0,!0),W.children.length&&!this._firstChild(R.children(".jstree-children")[0])&&this.draw_children(W),U?(this.trigger("before_open",{node:W}),R.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(U,function(){this.style.display="",Q.element&&Q.trigger("after_open",{node:W})})):(this.trigger("before_open",{node:W}),R[0].className=R[0].className.replace("jstree-closed","jstree-open"),R[0].setAttribute("aria-expanded",!0))),W.state.opened=!0,V&&V.call(this,W,!0),R.length||this.trigger("before_open",{node:W}),this.trigger("open_node",{node:W}),U&&R.length||this.trigger("after_open",{node:W}),!0):this.is_loading(W)?setTimeout(P.proxy(function(){this.open_node(W,V,U)},this),500):void this.load_node(W,function(Y,X){return X?this.open_node(Y,V,U):V?V.call(this,Y,!1):!1}):(V&&V.call(this,W,!1),!1)):!1},_open_to:function(Q){if(Q=this.get_node(Q),!Q||Q.id===P.jstree.root){return !1}var T,S,R=Q.parents;for(T=0,S=R.length;S>T;T+=1){T!==P.jstree.root&&this.open_node(R[T],!1,0)}return P("#"+Q.id.replace(P.jstree.idregex,"\\$&"),this.element)},close_node:function(V,U){var T,S,R,Q;if(P.isArray(V)){for(V=V.slice(),T=0,S=V.length;S>T;T++){this.close_node(V[T],U)}return !0}return V=this.get_node(V),V&&V.id!==P.jstree.root?this.is_closed(V)?!1:(U=U===O?this.settings.core.animation:U,R=this,Q=this.get_node(V,!0),V.state.opened=!1,this.trigger("close_node",{node:V}),void (Q.length?U?Q.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(U,function(){this.style.display="",Q.children(".jstree-children").remove(),R.element&&R.trigger("after_close",{node:V})}):(Q[0].className=Q[0].className.replace("jstree-open","jstree-closed"),Q.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:V})):this.trigger("after_close",{node:V}))):!1},toggle_node:function(Q){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.toggle_node(Q[S])}return !0}return this.is_closed(Q)?this.open_node(Q):this.is_open(Q)?this.close_node(Q):void 0},open_all:function(Q,W,V){if(Q||(Q=P.jstree.root),Q=this.get_node(Q),!Q){return !1}var U=Q.id===P.jstree.root?this.get_container_ul():this.get_node(Q,!0),T,S,R;if(!U.length){for(T=0,S=Q.children_d.length;S>T;T++){this.is_closed(this._model.data[Q.children_d[T]])&&(this._model.data[Q.children_d[T]].state.opened=!0)}return this.trigger("open_all",{node:Q})}V=V||U,R=this,U=this.is_closed(Q)?U.find(".jstree-closed").addBack():U.find(".jstree-closed"),U.each(function(){R.open_node(this,function(Y,X){X&&this.is_parent(Y)&&this.open_all(Y,W,V)},W||0)}),0===V.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(V)})},close_all:function(Q,V){if(Q||(Q=P.jstree.root),Q=this.get_node(Q),!Q){return !1}var U=Q.id===P.jstree.root?this.get_container_ul():this.get_node(Q,!0),T=this,S,R;for(U.length&&(U=this.is_open(Q)?U.find(".jstree-open").addBack():U.find(".jstree-open"),P(U.get().reverse()).each(function(){T.close_node(this,V||0)})),S=0,R=Q.children_d.length;R>S;S++){this._model.data[Q.children_d[S]].state.opened=!1}this.trigger("close_all",{node:Q})},is_disabled:function(Q){return Q=this.get_node(Q),Q&&Q.state&&Q.state.disabled},enable_node:function(Q){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.enable_node(Q[S])}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(Q.state.disabled=!1,this.get_node(Q,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:Q})):!1},disable_node:function(Q){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.disable_node(Q[S])}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(Q.state.disabled=!0,this.get_node(Q,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:Q})):!1},is_hidden:function(Q){return Q=this.get_node(Q),Q.state.hidden===!0},hide_node:function(Q,T){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.hide_node(Q[S],!0)}return T||this.redraw(),!0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?void (Q.state.hidden||(Q.state.hidden=!0,this._node_changed(Q.parent),T||this.redraw(),this.trigger("hide_node",{node:Q}))):!1},show_node:function(Q,T){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.show_node(Q[S],!0)}return T||this.redraw(),!0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?void (Q.state.hidden&&(Q.state.hidden=!1,this._node_changed(Q.parent),T||this.redraw(),this.trigger("show_node",{node:Q}))):!1},hide_all:function(Q){var T,S=this._model.data,R=[];for(T in S){S.hasOwnProperty(T)&&T!==P.jstree.root&&!S[T].state.hidden&&(S[T].state.hidden=!0,R.push(T))}return this._model.force_full_redraw=!0,Q||this.redraw(),this.trigger("hide_all",{nodes:R}),R},show_all:function(Q){var T,S=this._model.data,R=[];for(T in S){S.hasOwnProperty(T)&&T!==P.jstree.root&&S[T].state.hidden&&(S[T].state.hidden=!1,R.push(T))}return this._model.force_full_redraw=!0,Q||this.redraw(),this.trigger("show_all",{nodes:R}),R},activate_node:function(Q,X){if(this.is_disabled(Q)){return !1}if(X&&"object"==typeof X||(X={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==O?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(X.metaKey||X.ctrlKey||X.shiftKey)&&(!X.shiftKey||this._data.core.last_clicked&&this.get_parent(Q)&&this.get_parent(Q)===this._data.core.last_clicked.parent)){if(X.shiftKey){var W=this.get_node(Q).id,V=this._data.core.last_clicked.id,U=this.get_node(this._data.core.last_clicked.parent).children,T=!1,S,R;for(S=0,R=U.length;R>S;S+=1){U[S]===W&&(T=!T),U[S]===V&&(T=!T),this.is_disabled(U[S])||!T&&U[S]!==W&&U[S]!==V?this.deselect_node(U[S],!0,X):this.is_hidden(U[S])||this.select_node(U[S],!0,!1,X)}this.trigger("changed",{action:"select_node",node:this.get_node(Q),selected:this._data.core.selected,event:X})}else{this.is_selected(Q)?this.deselect_node(Q,!1,X):this.select_node(Q,!1,!1,X)}}else{!this.settings.core.multiple&&(X.metaKey||X.ctrlKey||X.shiftKey)&&this.is_selected(Q)?this.deselect_node(Q,!1,X):(this.deselect_all(!0),this.select_node(Q,!1,!1,X),this._data.core.last_clicked=this.get_node(Q))}this.trigger("activate_node",{node:this.get_node(Q),event:X})},hover_node:function(R){if(R=this.get_node(R,!0),!R||!R.length||R.children(".jstree-hovered").length){return !1}var Q=this.element.find(".jstree-hovered"),S=this.element;Q&&Q.length&&this.dehover_node(Q),R.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(R)}),setTimeout(function(){S.attr("aria-activedescendant",R[0].id)},0)},dehover_node:function(Q){return Q=this.get_node(Q,!0),Q&&Q.length&&Q.children(".jstree-hovered").length?(Q.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(Q)})):!1},select_node:function(Q,X,W,V){var U,T,S,R;if(P.isArray(Q)){for(Q=Q.slice(),T=0,S=Q.length;S>T;T++){this.select_node(Q[T],X,W,V)}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(U=this.get_node(Q,!0),void (Q.state.selected||(Q.state.selected=!0,this._data.core.selected.push(Q.id),W||(U=this._open_to(Q)),U&&U.length&&U.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:Q,selected:this._data.core.selected,event:V}),X||this.trigger("changed",{action:"select_node",node:Q,selected:this._data.core.selected,event:V})))):!1},deselect_node:function(Q,V,U){var T,S,R;if(P.isArray(Q)){for(Q=Q.slice(),T=0,S=Q.length;S>T;T++){this.deselect_node(Q[T],V,U)}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(R=this.get_node(Q,!0),void (Q.state.selected&&(Q.state.selected=!1,this._data.core.selected=P.vakata.array_remove_item(this._data.core.selected,Q.id),R.length&&R.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:Q,selected:this._data.core.selected,event:U}),V||this.trigger("changed",{action:"deselect_node",node:Q,selected:this._data.core.selected,event:U})))):!1},select_all:function(Q){var T=this._data.core.selected.concat([]),S,R;for(this._data.core.selected=this._model.data[P.jstree.root].children_d.concat(),S=0,R=this._data.core.selected.length;R>S;S++){this._model.data[this._data.core.selected[S]]&&(this._model.data[this._data.core.selected[S]].state.selected=!0)}this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),Q||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:T})},deselect_all:function(R){var Q=this._data.core.selected.concat([]),T,S;for(T=0,S=this._data.core.selected.length;S>T;T++){this._model.data[this._data.core.selected[T]]&&(this._model.data[this._data.core.selected[T]].state.selected=!1)}this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:Q}),R||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:Q})},is_selected:function(Q){return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?Q.state.selected:!1},get_selected:function(Q){return Q?P.map(this._data.core.selected,P.proxy(function(R){return this.get_node(R)},this)):this._data.core.selected.slice()},get_top_selected:function(Q){var W=this.get_selected(!0),V={},U,T,S,R;for(U=0,T=W.length;T>U;U++){V[W[U].id]=W[U]}for(U=0,T=W.length;T>U;U++){for(S=0,R=W[U].children_d.length;R>S;S++){V[W[U].children_d[S]]&&delete V[W[U].children_d[S]]}}W=[];for(U in V){V.hasOwnProperty(U)&&W.push(U)}return Q?P.map(W,P.proxy(function(X){return this.get_node(X)},this)):W},get_bottom_selected:function(Q){var U=this.get_selected(!0),T=[],S,R;for(S=0,R=U.length;R>S;S++){U[S].children.length||T.push(U[S].id)}return Q?P.map(T,P.proxy(function(V){return this.get_node(V)},this)):T},get_state:function(){var Q={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},R;for(R in this._model.data){this._model.data.hasOwnProperty(R)&&R!==P.jstree.root&&(this._model.data[R].state.loaded&&this.settings.core.loaded_state&&Q.core.loaded.push(R),this._model.data[R].state.opened&&Q.core.open.push(R),this._model.data[R].state.selected&&Q.core.selected.push(R))}return Q},set_state:function(W,V){if(W){if(W.core&&W.core.selected&&W.core.initial_selection===O&&(W.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),W.core){var U,T,S,R,Q;if(W.core.loaded){return this.settings.core.loaded_state&&P.isArray(W.core.loaded)&&W.core.loaded.length?this._load_nodes(W.core.loaded,function(X){delete W.core.loaded,this.set_state(W,V)}):(delete W.core.loaded,this.set_state(W,V)),!1}if(W.core.open){return P.isArray(W.core.open)&&W.core.open.length?this._load_nodes(W.core.open,function(X){this.open_node(X,!1,0),delete W.core.open,this.set_state(W,V)}):(delete W.core.open,this.set_state(W,V)),!1}if(W.core.scroll){return W.core.scroll&&W.core.scroll.left!==O&&this.element.scrollLeft(W.core.scroll.left),W.core.scroll&&W.core.scroll.top!==O&&this.element.scrollTop(W.core.scroll.top),delete W.core.scroll,this.set_state(W,V),!1}if(W.core.selected){return R=this,(W.core.initial_selection===O||W.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),P.each(W.core.selected,function(Y,X){R.select_node(X,!1,!0)})),delete W.core.initial_selection,delete W.core.selected,this.set_state(W,V),!1}for(Q in W){W.hasOwnProperty(Q)&&"core"!==Q&&-1===P.inArray(Q,this.settings.plugins)&&delete W[Q]}if(P.isEmptyObject(W.core)){return delete W.core,this.set_state(W,V),!1}}return P.isEmptyObject(W)?(W=null,V&&V.call(this),this.trigger("set_state"),!1):!0}return !1},refresh:function(Q,S){this._data.core.state=S===!0?{}:this.get_state(),S&&P.isFunction(S)&&(this._data.core.state=S.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[P.jstree.root]={id:P.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var R=this.get_container_ul()[0].className;Q||(this.element.html("<ul class='"+R+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(P.jstree.root,function(T,U){U&&(this.get_container_ul()[0].className=R,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(P.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(Q){if(Q=this.get_node(Q),!Q||Q.id===P.jstree.root){return !1}var T=[],S=[],R=this._data.core.selected.concat([]);S.push(Q.id),Q.state.opened===!0&&T.push(Q.id),this.get_node(Q,!0).find(".jstree-open").each(function(){S.push(this.id),T.push(this.id)}),this._load_nodes(S,P.proxy(function(U){this.open_node(T,!1,0),this.select_node(R),this.trigger("refresh_node",{node:Q,nodes:U})},this),!1,!0)},set_id:function(Q,V){if(Q=this.get_node(Q),!Q||Q.id===P.jstree.root){return !1}var U,T,S=this._model.data,R=Q.id;for(V=V.toString(),S[Q.parent].children[P.inArray(Q.id,S[Q.parent].children)]=V,U=0,T=Q.parents.length;T>U;U++){S[Q.parents[U]].children_d[P.inArray(Q.id,S[Q.parents[U]].children_d)]=V}for(U=0,T=Q.children.length;T>U;U++){S[Q.children[U]].parent=V}for(U=0,T=Q.children_d.length;T>U;U++){S[Q.children_d[U]].parents[P.inArray(Q.id,S[Q.children_d[U]].parents)]=V}return U=P.inArray(Q.id,this._data.core.selected),-1!==U&&(this._data.core.selected[U]=V),U=this.get_node(Q.id,!0),U&&(U.attr("id",V),this.element.attr("aria-activedescendant")===Q.id&&this.element.attr("aria-activedescendant",V)),delete S[Q.id],Q.id=V,Q.li_attr.id=V,S[V]=Q,this.trigger("set_id",{node:Q,"new":Q.id,old:R}),!0},get_text:function(Q){return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?Q.text:!1},set_text:function(Q,T){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.set_text(Q[S],T)}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(Q.text=T,this.get_node(Q,!0).length&&this.redraw_node(Q.id),this.trigger("set_text",{obj:Q,text:T}),!0):!1},get_json:function(Q,V,U){if(Q=this.get_node(Q||P.jstree.root),!Q){return !1}V&&V.flat&&!U&&(U=[]);var T={id:Q.id,text:Q.text,icon:this.get_icon(Q),li_attr:P.extend(!0,{},Q.li_attr),a_attr:P.extend(!0,{},Q.a_attr),state:{},data:V&&V.no_data?!1:P.extend(!0,P.isArray(Q.data)?[]:{},Q.data)},S,R;if(V&&V.flat?T.parent=Q.parent:T.children=[],V&&V.no_state){delete T.state}else{for(S in Q.state){Q.state.hasOwnProperty(S)&&(T.state[S]=Q.state[S])}}if(V&&V.no_li_attr&&delete T.li_attr,V&&V.no_a_attr&&delete T.a_attr,V&&V.no_id&&(delete T.id,T.li_attr&&T.li_attr.id&&delete T.li_attr.id,T.a_attr&&T.a_attr.id&&delete T.a_attr.id),V&&V.flat&&Q.id!==P.jstree.root&&U.push(T),!V||!V.no_children){for(S=0,R=Q.children.length;R>S;S++){V&&V.flat?this.get_json(Q.children[S],V,U):T.children.push(this.get_json(Q.children[S],V))}}return V&&V.flat?U:Q.id===P.jstree.root?T.children:T},create_node:function(Y,X,W,V,U){if(null===Y&&(Y=P.jstree.root),Y=this.get_node(Y),!Y){return !1}if(W=W===O?"last":W,!W.toString().match(/^(before|after)$/)&&!U&&!this.is_loaded(Y)){return this.load_node(Y,function(){this.create_node(Y,X,W,V,!0)})}X||(X={text:this.get_string("New node")}),X="string"==typeof X?{text:X}:P.extend(!0,{},X),X.text===O&&(X.text=this.get_string("New node"));var T,S,R,Q;switch(Y.id===P.jstree.root&&("before"===W&&(W="first"),"after"===W&&(W="last")),W){case"before":T=this.get_node(Y.parent),W=P.inArray(Y.id,T.children),Y=T;break;case"after":T=this.get_node(Y.parent),W=P.inArray(Y.id,T.children)+1,Y=T;break;case"inside":case"first":W=0;break;case"last":W=Y.children.length;break;default:W||(W=0)}if(W>Y.children.length&&(W=Y.children.length),X.id||(X.id=!0),!this.check("create_node",X,Y,W)){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(X.id===!0&&delete X.id,X=this._parse_model_from_json(X,Y.id,Y.parents.concat()),!X){return !1}for(T=this.get_node(X),S=[],S.push(X),S=S.concat(T.children_d),this.trigger("model",{nodes:S,parent:Y.id}),Y.children_d=Y.children_d.concat(S),R=0,Q=Y.parents.length;Q>R;R++){this._model.data[Y.parents[R]].children_d=this._model.data[Y.parents[R]].children_d.concat(S)}for(X=T,T=[],R=0,Q=Y.children.length;Q>R;R++){T[R>=W?R+1:R]=Y.children[R]}return T[W]=X.id,Y.children=T,this.redraw_node(Y,!0),this.trigger("create_node",{node:this.get_node(X),parent:Y.id,position:W}),V&&V.call(this,this.get_node(X)),X.id},rename_node:function(Q,U){var T,S,R;if(P.isArray(Q)){for(Q=Q.slice(),T=0,S=Q.length;S>T;T++){this.rename_node(Q[T],U)}return !0}return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?(R=Q.text,this.check("rename_node",Q,this.get_parent(Q),U)?(this.set_text(Q,U),this.trigger("rename_node",{node:Q,text:U,old:R}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(p){var o,a,Z,Y,X,W,V,U,T,S,R,Q;if(P.isArray(p)){for(p=p.slice(),o=0,a=p.length;a>o;o++){this.delete_node(p[o])}return !0}if(p=this.get_node(p),!p||p.id===P.jstree.root){return !1}if(Z=this.get_node(p.parent),Y=P.inArray(p.id,Z.children),S=!1,!this.check("delete_node",p,Z,Y)){return this.settings.core.error.call(this,this._data.core.last_error),!1}for(-1!==Y&&(Z.children=P.vakata.array_remove(Z.children,Y)),X=p.children_d.concat([]),X.push(p.id),W=0,V=p.parents.length;V>W;W++){this._model.data[p.parents[W]].children_d=P.vakata.array_filter(this._model.data[p.parents[W]].children_d,function(c){return -1===P.inArray(c,X)})}for(U=0,T=X.length;T>U;U++){if(this._model.data[X[U]].state.selected){S=!0;break}}for(S&&(this._data.core.selected=P.vakata.array_filter(this._data.core.selected,function(c){return -1===P.inArray(c,X)})),this.trigger("delete_node",{node:p,parent:Z.id}),S&&this.trigger("changed",{action:"delete_node",node:p,selected:this._data.core.selected,parent:Z.id}),U=0,T=X.length;T>U;U++){delete this._model.data[X[U]]}return -1!==P.inArray(this._data.core.focused,X)&&(this._data.core.focused=null,R=this.element[0].scrollTop,Q=this.element[0].scrollLeft,Z.id===P.jstree.root?this._model.data[P.jstree.root].children[0]&&this.get_node(this._model.data[P.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(Z,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=R,this.element[0].scrollLeft=Q),this.redraw_node(Z,!0),!0},check:function(Q,W,V,U,T){W=W&&W.id?W:this.get_node(W),V=V&&V.id?V:this.get_node(V);var S=Q.match(/^move_node|copy_node|create_node$/i)?V:W,R=this.settings.core.check_callback;return"move_node"!==Q&&"copy_node"!==Q||T&&T.is_multi||W.id!==V.id&&("move_node"!==Q||P.inArray(W.id,V.children)!==U)&&-1===P.inArray(V.id,W.children_d)?(S&&S.data&&(S=S.data),S&&S.functions&&(S.functions[Q]===!1||S.functions[Q]===!0)?(S.functions[Q]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+Q,data:JSON.stringify({chk:Q,pos:U,obj:W&&W.id?W.id:!1,par:V&&V.id?V.id:!1})}),S.functions[Q]):R===!1||P.isFunction(R)&&R.call(this,Q,W,V,U,T)===!1||R&&R[Q]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+Q,data:JSON.stringify({chk:Q,pos:U,obj:W&&W.id?W.id:!1,par:V&&V.id?V.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:Q,pos:U,obj:W&&W.id?W.id:!1,par:V&&V.id?V.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(AF,AE,AD,AC,AB,AA,z){var y,x,b,a,Z,Y,X,W,V,U,T,S,R,Q;if(AE=this.get_node(AE),AD=AD===O?0:AD,!AE){return !1}if(!AD.toString().match(/^(before|after)$/)&&!AB&&!this.is_loaded(AE)){return this.load_node(AE,function(){this.move_node(AF,AE,AD,AC,!0,!1,z)})}if(P.isArray(AF)){if(1!==AF.length){for(y=0,x=AF.length;x>y;y++){(V=this.move_node(AF[y],AE,AD,AC,AB,!1,z))&&(AE=V,AD="after")}return this.redraw(),!0}AF=AF[0]}if(AF=AF&&AF.id?AF:this.get_node(AF),!AF||AF.id===P.jstree.root){return !1}if(b=(AF.parent||P.jstree.root).toString(),Z=AD.toString().match(/^(before|after)$/)&&AE.id!==P.jstree.root?this.get_node(AE.parent):AE,Y=z?z:this._model.data[AF.id]?this:P.jstree.reference(AF.id),X=!Y||!Y._id||this._id!==Y._id,a=Y&&Y._id&&b&&Y._model.data[b]&&Y._model.data[b].children?P.inArray(AF.id,Y._model.data[b].children):-1,Y&&Y._id&&(AF=Y._model.data[AF.id]),X){return(V=this.copy_node(AF,AE,AD,AC,AB,!1,z))?(Y&&Y.delete_node(AF),V):!1}switch(AE.id===P.jstree.root&&("before"===AD&&(AD="first"),"after"===AD&&(AD="last")),AD){case"before":AD=P.inArray(AE.id,Z.children);break;case"after":AD=P.inArray(AE.id,Z.children)+1;break;case"inside":case"first":AD=0;break;case"last":AD=Z.children.length;break;default:AD||(AD=0)}if(AD>Z.children.length&&(AD=Z.children.length),!this.check("move_node",AF,Z,AD,{core:!0,origin:z,is_multi:Y&&Y._id&&Y._id!==this._id,is_foreign:!Y||!Y._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(AF.parent===Z.id){for(W=Z.children.concat(),V=P.inArray(AF.id,W),-1!==V&&(W=P.vakata.array_remove(W,V),AD>V&&AD--),V=[],U=0,T=W.length;T>U;U++){V[U>=AD?U+1:U]=W[U]}V[AD]=AF.id,Z.children=V,this._node_changed(Z.id),this.redraw(Z.id===P.jstree.root)}else{for(V=AF.children_d.concat(),V.push(AF.id),U=0,T=AF.parents.length;T>U;U++){for(W=[],Q=Y._model.data[AF.parents[U]].children_d,S=0,R=Q.length;R>S;S++){-1===P.inArray(Q[S],V)&&W.push(Q[S])}Y._model.data[AF.parents[U]].children_d=W}for(Y._model.data[b].children=P.vakata.array_remove_item(Y._model.data[b].children,AF.id),U=0,T=Z.parents.length;T>U;U++){this._model.data[Z.parents[U]].children_d=this._model.data[Z.parents[U]].children_d.concat(V)}for(W=[],U=0,T=Z.children.length;T>U;U++){W[U>=AD?U+1:U]=Z.children[U]}for(W[AD]=AF.id,Z.children=W,Z.children_d.push(AF.id),Z.children_d=Z.children_d.concat(AF.children_d),AF.parent=Z.id,V=Z.parents.concat(),V.unshift(Z.id),Q=AF.parents.length,AF.parents=V,V=V.concat(),U=0,T=AF.children_d.length;T>U;U++){this._model.data[AF.children_d[U]].parents=this._model.data[AF.children_d[U]].parents.slice(0,-1*Q),Array.prototype.push.apply(this._model.data[AF.children_d[U]].parents,V)}(b===P.jstree.root||Z.id===P.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(b),this._node_changed(Z.id)),AA||this.redraw()}return AC&&AC.call(this,AF,Z,AD),this.trigger("move_node",{node:AF,parent:Z.id,position:AD,old_parent:b,old_position:a,is_multi:Y&&Y._id&&Y._id!==this._id,is_foreign:!Y||!Y._id,old_instance:Y,new_instance:this}),AF.id},copy_node:function(z,y,x,w,v,u,b){var a,Z,Y,X,W,V,U,T,S,R,Q;if(y=this.get_node(y),x=x===O?0:x,!y){return !1}if(!x.toString().match(/^(before|after)$/)&&!v&&!this.is_loaded(y)){return this.load_node(y,function(){this.copy_node(z,y,x,w,!0,!1,b)})}if(P.isArray(z)){if(1!==z.length){for(a=0,Z=z.length;Z>a;a++){(X=this.copy_node(z[a],y,x,w,v,!0,b))&&(y=X,x="after")}return this.redraw(),!0}z=z[0]}if(z=z&&z.id?z:this.get_node(z),!z||z.id===P.jstree.root){return !1}switch(T=(z.parent||P.jstree.root).toString(),S=x.toString().match(/^(before|after)$/)&&y.id!==P.jstree.root?this.get_node(y.parent):y,R=b?b:this._model.data[z.id]?this:P.jstree.reference(z.id),Q=!R||!R._id||this._id!==R._id,R&&R._id&&(z=R._model.data[z.id]),y.id===P.jstree.root&&("before"===x&&(x="first"),"after"===x&&(x="last")),x){case"before":x=P.inArray(y.id,S.children);break;case"after":x=P.inArray(y.id,S.children)+1;break;case"inside":case"first":x=0;break;case"last":x=S.children.length;break;default:x||(x=0)}if(x>S.children.length&&(x=S.children.length),!this.check("copy_node",z,S,x,{core:!0,origin:b,is_multi:R&&R._id&&R._id!==this._id,is_foreign:!R||!R._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(U=R?R.get_json(z,{no_id:!0,no_data:!0,no_state:!0}):z,!U){return !1}if(U.id===!0&&delete U.id,U=this._parse_model_from_json(U,S.id,S.parents.concat()),!U){return !1}for(X=this.get_node(U),z&&z.state&&z.state.loaded===!1&&(X.state.loaded=!1),Y=[],Y.push(U),Y=Y.concat(X.children_d),this.trigger("model",{nodes:Y,parent:S.id}),W=0,V=S.parents.length;V>W;W++){this._model.data[S.parents[W]].children_d=this._model.data[S.parents[W]].children_d.concat(Y)}for(Y=[],W=0,V=S.children.length;V>W;W++){Y[W>=x?W+1:W]=S.children[W]}return Y[x]=X.id,S.children=Y,S.children_d.push(X.id),S.children_d=S.children_d.concat(X.children_d),S.id===P.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(S.id),u||this.redraw(S.id===P.jstree.root),w&&w.call(this,X,S,x),this.trigger("copy_node",{node:X,original:z,parent:S.id,position:x,old_parent:T,old_position:R&&R._id&&T&&R._model.data[T]&&R._model.data[T].children?P.inArray(z.id,R._model.data[T].children):-1,is_multi:R&&R._id&&R._id!==this._id,is_foreign:!R||!R._id,old_instance:R,new_instance:this}),X.id},cut:function(Q){if(Q||(Q=this._data.core.selected.concat()),P.isArray(Q)||(Q=[Q]),!Q.length){return !1}var U=[],T,S,R;for(S=0,R=Q.length;R>S;S++){T=this.get_node(Q[S]),T&&T.id&&T.id!==P.jstree.root&&U.push(T)}return U.length?(M=U,K=this,L="move_node",void this.trigger("cut",{node:Q})):!1},copy:function(Q){if(Q||(Q=this._data.core.selected.concat()),P.isArray(Q)||(Q=[Q]),!Q.length){return !1}var U=[],T,S,R;for(S=0,R=Q.length;R>S;S++){T=this.get_node(Q[S]),T&&T.id&&T.id!==P.jstree.root&&U.push(T)}return U.length?(M=U,K=this,L="copy_node",void this.trigger("copy",{node:Q})):!1},get_buffer:function(){return{mode:L,node:M,inst:K}},can_paste:function(){return L!==!1&&M!==!1},paste:function(R,Q){return R=this.get_node(R),R&&L&&L.match(/^(copy_node|move_node)$/)&&M?(this[L](M,R,Q,!1,!1,!1,K)&&this.trigger("paste",{parent:R.id,node:M,mode:L}),M=!1,L=!1,void (K=!1)):!1},clear_buffer:function(){M=!1,L=!1,K=!1,this.trigger("clear_buffer")},edit:function(p,i,a){var Z,Y,X,W,V,U,T,S,R,Q=!1;return(p=this.get_node(p))?this.check("edit",p,this.get_parent(p))?(R=p,i="string"==typeof i?i:p.text,this.set_text(p,""),p=this._open_to(p),R.text=i,Z=this._data.core.rtl,Y=this.element.width(),this._data.core.focused=R.id,X=p.children(".jstree-anchor").focus(),W=P("<span>"),V=i,U=P("<div />",{css:{position:"absolute",top:"-200px",left:Z?"0px":"-1000px",visibility:"hidden"}}).appendTo(H.body),T=P("<input />",{value:V,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:P.proxy(function(j){j.stopImmediatePropagation(),j.preventDefault();var h=W.children(".jstree-rename-input"),g=h.val(),d=this.settings.core.force_text,b;""===g&&(g=V),U.remove(),W.replaceWith(X),W.remove(),V=d?V:P("<div></div>").append(P.parseHTML(V)).html(),p=this.get_node(p),this.set_text(p,V),b=!!this.rename_node(p,d?P("<div></div>").text(g).text():P("<div></div>").append(P.parseHTML(g)).html()),b||this.set_text(p,V),this._data.core.focused=R.id,setTimeout(P.proxy(function(){var c=this.get_node(R.id,!0);c.length&&(this._data.core.focused=R.id,c.children(".jstree-anchor").focus())},this),0),a&&a.call(this,R,b,Q),T=null},this),keydown:function(d){var c=d.which;27===c&&(Q=!0,this.value=V),(27===c||13===c||37===c||38===c||39===c||40===c||32===c)&&d.stopImmediatePropagation(),(27===c||13===c)&&(d.preventDefault(),this.blur())},click:function(b){b.stopImmediatePropagation()},mousedown:function(b){b.stopImmediatePropagation()},keyup:function(b){T.width(Math.min(U.text("pW"+this.value).width(),Y))},keypress:function(b){return 13===b.which?!1:void 0}}),S={fontFamily:X.css("fontFamily")||"",fontSize:X.css("fontSize")||"",fontWeight:X.css("fontWeight")||"",fontStyle:X.css("fontStyle")||"",fontStretch:X.css("fontStretch")||"",fontVariant:X.css("fontVariant")||"",letterSpacing:X.css("letterSpacing")||"",wordSpacing:X.css("wordSpacing")||""},W.attr("class",X.attr("class")).append(X.contents().clone()).append(T),X.replaceWith(W),U.css(S),T.css(S).width(Math.min(U.text("pW"+T[0].value).width(),Y))[0].select(),void P(H).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(c){T&&c.target!==T&&P(T).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1):!1},set_theme:function(Q,S){if(!Q){return !1}if(S===!0){var R=this.settings.core.themes.dir;R||(R=P.jstree.path+"/themes"),S=R+"/"+Q+"/style.css"}S&&-1===P.inArray(S,J)&&(P("head").append('<link rel="stylesheet" href="'+S+'" type="text/css" />'),J.push(S)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=Q,this.element.addClass("jstree-"+Q),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+Q+"-responsive"),this.trigger("set_theme",{theme:Q})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(Q){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=Q,Q&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(V,U){var T,S,R,Q;if(P.isArray(V)){for(V=V.slice(),T=0,S=V.length;S>T;T++){this.set_icon(V[T],U)}return !0}return V=this.get_node(V),V&&V.id!==P.jstree.root?(Q=V.icon,V.icon=U===!0||null===U||U===O||""===U?!0:U,R=this.get_node(V,!0).children(".jstree-anchor").children(".jstree-themeicon"),U===!1?(R.removeClass("jstree-themeicon-custom "+Q).css("background","").removeAttr("rel"),this.hide_icon(V)):U===!0||null===U||U===O||""===U?(R.removeClass("jstree-themeicon-custom "+Q).css("background","").removeAttr("rel"),Q===!1&&this.show_icon(V)):-1===U.indexOf("/")&&-1===U.indexOf(".")?(R.removeClass(Q).css("background",""),R.addClass(U+" jstree-themeicon-custom").attr("rel",U),Q===!1&&this.show_icon(V)):(R.removeClass(Q).css("background",""),R.addClass("jstree-themeicon-custom").css("background","url('"+U+"') center center no-repeat").attr("rel",U),Q===!1&&this.show_icon(V)),!0):!1},get_icon:function(Q){return Q=this.get_node(Q),Q&&Q.id!==P.jstree.root?Q.icon:!1},hide_icon:function(Q){var S,R;if(P.isArray(Q)){for(Q=Q.slice(),S=0,R=Q.length;R>S;S++){this.hide_icon(Q[S])}return !0}return Q=this.get_node(Q),Q&&Q!==P.jstree.root?(Q.icon=!1,this.get_node(Q,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(Q){var T,S,R;if(P.isArray(Q)){for(Q=Q.slice(),T=0,S=Q.length;S>T;T++){this.show_icon(Q[T])}return !0}return Q=this.get_node(Q),Q&&Q!==P.jstree.root?(R=this.get_node(Q,!0),Q.icon=R.length?R.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,Q.icon||(Q.icon=!0),R.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},P.vakata={},P.vakata.attributes=function(Q,S){Q=P(Q)[0];var R=S?{}:[];return Q&&Q.attributes&&P.each(Q.attributes,function(T,U){-1===P.inArray(U.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==U.value&&""!==P.trim(U.value)&&(S?R[U.name]=U.value:R.push(U.name))}),R},P.vakata.array_unique=function(Q){var V=[],U,T,S,R={};for(U=0,S=Q.length;S>U;U++){R[Q[U]]===O&&(V.push(Q[U]),R[Q[U]]=!0)}return V},P.vakata.array_remove=function(R,Q){return R.splice(Q,1),R},P.vakata.array_remove_item=function(Q,S){var R=P.inArray(S,Q);return -1!==R?P.vakata.array_remove(Q,R):Q},P.vakata.array_filter=function(R,Q,U,T,S){if(R.filter){return R.filter(Q,U)}T=[];for(S in R){~~S+""==S+""&&S>=0&&Q.call(U,R[S],+S,R)&&T.push(R[S])}return T},P.jstree.plugins.changed=function(R,Q){var S=[];this.trigger=function(T,X){var W,V;if(X||(X={}),"changed"===T.replace(".jstree","")){X.changed={selected:[],deselected:[]};var U={};for(W=0,V=S.length;V>W;W++){U[S[W]]=1}for(W=0,V=X.selected.length;V>W;W++){U[X.selected[W]]?U[X.selected[W]]=2:X.changed.selected.push(X.selected[W])}for(W=0,V=S.length;V>W;W++){1===U[S[W]]&&X.changed.deselected.push(S[W])}S=X.selected.slice()}Q.trigger.call(this,T,X)},this.refresh=function(T,U){return S=[],Q.refresh.apply(this,arguments)}};var G=H.createElement("I");G.className="jstree-icon jstree-checkbox",G.setAttribute("role","presentation"),P.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},P.jstree.plugins.checkbox=function(R,Q){this.bind=function(){Q.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",P.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",P.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",P.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(P.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",P.proxy(function(T,S){var Y=this._model.data,X=Y[S.parent],W=S.nodes,V,U;for(V=0,U=W.length;U>V;V++){Y[W[V]].state.checked=Y[W[V]].state.checked||Y[W[V]].original&&Y[W[V]].original.state&&Y[W[V]].original.state.checked,Y[W[V]].state.checked&&this._data.checkbox.selected.push(W[V])}},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",P.proxy(function(t,s){var r=this._model.data,q=r[s.parent],p=s.nodes,a=[],Z,Y,X,W,V,U,T=this.settings.checkbox.cascade,S=this.settings.checkbox.tie_selection;if(-1!==T.indexOf("down")){if(q.state[S?"selected":"checked"]){for(Y=0,X=p.length;X>Y;Y++){r[p[Y]].state[S?"selected":"checked"]=!0}this._data[S?"core":"checkbox"].selected=this._data[S?"core":"checkbox"].selected.concat(p)}else{for(Y=0,X=p.length;X>Y;Y++){if(r[p[Y]].state[S?"selected":"checked"]){for(W=0,V=r[p[Y]].children_d.length;V>W;W++){r[r[p[Y]].children_d[W]].state[S?"selected":"checked"]=!0}this._data[S?"core":"checkbox"].selected=this._data[S?"core":"checkbox"].selected.concat(r[p[Y]].children_d)}}}}if(-1!==T.indexOf("up")){for(Y=0,X=q.children_d.length;X>Y;Y++){r[q.children_d[Y]].children.length||a.push(r[q.children_d[Y]].parent)}for(a=P.vakata.array_unique(a),W=0,V=a.length;V>W;W++){q=r[a[W]];while(q&&q.id!==P.jstree.root){for(Z=0,Y=0,X=q.children.length;X>Y;Y++){Z+=r[q.children[Y]].state[S?"selected":"checked"]}if(Z!==X){break}q.state[S?"selected":"checked"]=!0,this._data[S?"core":"checkbox"].selected.push(q.id),U=this.get_node(q,!0),U&&U.length&&U.attr("aria-selected",!0).children(".jstree-anchor").addClass(S?"jstree-clicked":"jstree-checked"),q=this.get_node(q.parent)}}}this._data[S?"core":"checkbox"].selected=P.vakata.array_unique(this._data[S?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",P.proxy(function(x,w){var v=this,u=w.node,t=this._model.data,s=this.get_node(u.parent),r,a,Z,Y,X=this.settings.checkbox.cascade,W=this.settings.checkbox.tie_selection,V={},U=this._data[W?"core":"checkbox"].selected;for(r=0,a=U.length;a>r;r++){V[U[r]]=!0}if(-1!==X.indexOf("down")){var T=this._cascade_new_checked_state(u.id,!0),S=u.children_d.concat(u.id);for(r=0,a=S.length;a>r;r++){T.indexOf(S[r])>-1?V[S[r]]=!0:delete V[S[r]]}}if(-1!==X.indexOf("up")){while(s&&s.id!==P.jstree.root){for(Z=0,r=0,a=s.children.length;a>r;r++){Z+=t[s.children[r]].state[W?"selected":"checked"]}if(Z!==a){break}s.state[W?"selected":"checked"]=!0,V[s.id]=!0,Y=this.get_node(s,!0),Y&&Y.length&&Y.attr("aria-selected",!0).children(".jstree-anchor").addClass(W?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}}U=[];for(r in V){V.hasOwnProperty(r)&&U.push(r)}this._data[W?"core":"checkbox"].selected=U},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",P.proxy(function(S,Y){var X=this.get_node(P.jstree.root),W=this._model.data,V,U,T;for(V=0,U=X.children_d.length;U>V;V++){T=W[X.children_d[V]],T&&T.original&&T.original.state&&T.original.state.undetermined&&(T.original.state.undetermined=!1)}},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",P.proxy(function(v,u){var t=this,s=u.node,r=this.get_node(s,!0),q,p,Z,Y=this.settings.checkbox.cascade,X=this.settings.checkbox.tie_selection,W=this._data[X?"core":"checkbox"].selected,V={},U=[],T=s.children_d.concat(s.id);if(-1!==Y.indexOf("down")){var S=this._cascade_new_checked_state(s.id,!1);W=W.filter(function(b){return -1===T.indexOf(b)||S.indexOf(b)>-1})}if(-1!==Y.indexOf("up")&&-1===W.indexOf(s.id)){for(q=0,p=s.parents.length;p>q;q++){Z=this._model.data[s.parents[q]],Z.state[X?"selected":"checked"]=!1,Z&&Z.original&&Z.original.state&&Z.original.state.undetermined&&(Z.original.state.undetermined=!1),Z=this.get_node(s.parents[q],!0),Z&&Z.length&&Z.attr("aria-selected",!1).children(".jstree-anchor").removeClass(X?"jstree-clicked":"jstree-checked")}W=W.filter(function(b){return -1===s.parents.indexOf(b)})}this._data[X?"core":"checkbox"].selected=W},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",P.proxy(function(a,Z){var Y=this.get_node(Z.parent),X=this._model.data,W,V,U,T,S=this.settings.checkbox.tie_selection;while(Y&&Y.id!==P.jstree.root&&!Y.state[S?"selected":"checked"]){for(U=0,W=0,V=Y.children.length;V>W;W++){U+=X[Y.children[W]].state[S?"selected":"checked"]}if(!(V>0&&U===V)){break}Y.state[S?"selected":"checked"]=!0,this._data[S?"core":"checkbox"].selected.push(Y.id),T=this.get_node(Y,!0),T&&T.length&&T.attr("aria-selected",!0).children(".jstree-anchor").addClass(S?"jstree-clicked":"jstree-checked"),Y=this.get_node(Y.parent)}},this)).on("move_node.jstree",P.proxy(function(p,o){var n=o.is_multi,a=o.old_parent,Z=this.get_node(o.parent),Y=this._model.data,X,W,V,U,T,S=this.settings.checkbox.tie_selection;if(!n){X=this.get_node(a);while(X&&X.id!==P.jstree.root&&!X.state[S?"selected":"checked"]){for(W=0,V=0,U=X.children.length;U>V;V++){W+=Y[X.children[V]].state[S?"selected":"checked"]}if(!(U>0&&W===U)){break}X.state[S?"selected":"checked"]=!0,this._data[S?"core":"checkbox"].selected.push(X.id),T=this.get_node(X,!0),T&&T.length&&T.attr("aria-selected",!0).children(".jstree-anchor").addClass(S?"jstree-clicked":"jstree-checked"),X=this.get_node(X.parent)}}X=Z;while(X&&X.id!==P.jstree.root){for(W=0,V=0,U=X.children.length;U>V;V++){W+=Y[X.children[V]].state[S?"selected":"checked"]}if(W===U){X.state[S?"selected":"checked"]||(X.state[S?"selected":"checked"]=!0,this._data[S?"core":"checkbox"].selected.push(X.id),T=this.get_node(X,!0),T&&T.length&&T.attr("aria-selected",!0).children(".jstree-anchor").addClass(S?"jstree-clicked":"jstree-checked"))}else{if(!X.state[S?"selected":"checked"]){break}X.state[S?"selected":"checked"]=!1,this._data[S?"core":"checkbox"].selected=P.vakata.array_remove_item(this._data[S?"core":"checkbox"].selected,X.id),T=this.get_node(X,!0),T&&T.length&&T.attr("aria-selected",!1).children(".jstree-anchor").removeClass(S?"jstree-clicked":"jstree-checked")}X=this.get_node(X.parent)}},this))},this.get_undetermined=function(p){if(-1===this.settings.checkbox.cascade.indexOf("undetermined")){return[]}var o,b,a,Z,Y={},X=this._model.data,W=this.settings.checkbox.tie_selection,V=this._data[W?"core":"checkbox"].selected,U=[],T=this,S=[];for(o=0,b=V.length;b>o;o++){if(X[V[o]]&&X[V[o]].parents){for(a=0,Z=X[V[o]].parents.length;Z>a;a++){if(Y[X[V[o]].parents[a]]!==O){break}X[V[o]].parents[a]!==P.jstree.root&&(Y[X[V[o]].parents[a]]=!0,U.push(X[V[o]].parents[a]))}}}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e=T.get_node(this),d;if(e){if(e.state.loaded){for(o=0,b=e.children_d.length;b>o;o++){if(d=X[e.children_d[o]],!d.state.loaded&&d.original&&d.original.state&&d.original.state.undetermined&&d.original.state.undetermined===!0){for(Y[d.id]===O&&d.id!==P.jstree.root&&(Y[d.id]=!0,U.push(d.id)),a=0,Z=d.parents.length;Z>a;a++){Y[d.parents[a]]===O&&d.parents[a]!==P.jstree.root&&(Y[d.parents[a]]=!0,U.push(d.parents[a]))}}}}else{if(e.original&&e.original.state&&e.original.state.undetermined&&e.original.state.undetermined===!0){for(Y[e.id]===O&&e.id!==P.jstree.root&&(Y[e.id]=!0,U.push(e.id)),a=0,Z=e.parents.length;Z>a;a++){Y[e.parents[a]]===O&&e.parents[a]!==P.jstree.root&&(Y[e.parents[a]]=!0,U.push(e.parents[a]))}}}}}),o=0,b=U.length;b>o;o++){X[U[o]].state[W?"selected":"checked"]||S.push(p?X[U[o]]:U[o])}return S},this._undetermined=function(){if(null!==this.element){var T=this.get_undetermined(!1),S,V,U;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),S=0,V=T.length;V>S;S++){U=this.get_node(T[S],!0),U&&U.length&&U.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}}},this.redraw_node=function(S,Z,Y,X){if(S=Q.redraw_node.apply(this,arguments)){var W,V,U=null,T=null;for(W=0,V=S.childNodes.length;V>W;W++){if(S.childNodes[W]&&S.childNodes[W].className&&-1!==S.childNodes[W].className.indexOf("jstree-anchor")){U=S.childNodes[W];break}}U&&(!this.settings.checkbox.tie_selection&&this._model.data[S.id].state.checked&&(U.className+=" jstree-checked"),T=G.cloneNode(!1),this._model.data[S.id].state.checkbox_disabled&&(T.className+=" jstree-checkbox-disabled"),U.insertBefore(T,U.childNodes[0]))}return Y||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(P.proxy(this._undetermined,this),50)),S},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(S){S=this.get_node(S);var Y=this.settings.checkbox.cascade,X,W,V=this.settings.checkbox.tie_selection,U=this._data[V?"core":"checkbox"].selected,T=this._model.data;if(!S||S.state[V?"selected":"checked"]===!0||-1===Y.indexOf("undetermined")||-1===Y.indexOf("down")&&-1===Y.indexOf("up")){return !1}if(!S.state.loaded&&S.original.state.undetermined===!0){return !0}for(X=0,W=S.children_d.length;W>X;X++){if(-1!==P.inArray(S.children_d[X],U)||!T[S.children_d[X]].state.loaded&&T[S.children_d[X]].original.state.undetermined){return !0}}return !1},this.disable_checkbox=function(S){var V,U,T;if(P.isArray(S)){for(S=S.slice(),V=0,U=S.length;U>V;V++){this.disable_checkbox(S[V])}return !0}return S=this.get_node(S),S&&S.id!==P.jstree.root?(T=this.get_node(S,!0),void (S.state.checkbox_disabled||(S.state.checkbox_disabled=!0,T&&T.length&&T.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:S})))):!1},this.enable_checkbox=function(S){var V,U,T;if(P.isArray(S)){for(S=S.slice(),V=0,U=S.length;U>V;V++){this.enable_checkbox(S[V])}return !0}return S=this.get_node(S),S&&S.id!==P.jstree.root?(T=this.get_node(S,!0),void (S.state.checkbox_disabled&&(S.state.checkbox_disabled=!1,T&&T.length&&T.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:S})))):!1},this.activate_node=function(S,T){return P(T.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||P(T.target).hasClass("jstree-checkbox"))&&(T.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!P(T.target).hasClass("jstree-checkbox")?Q.activate_node.call(this,S,T):this.is_disabled(S)?!1:(this.is_checked(S)?this.uncheck_node(S,T):this.check_node(S,T),void this.trigger("activate_node",{node:this.get_node(S)})))},this._cascade_new_checked_state=function(r,q){var p=this,o=this.settings.checkbox.tie_selection,n=this._model.data[r],Z=[],Y=[],X,W,V;if(!this.settings.checkbox.cascade_to_disabled&&n.state.disabled||!this.settings.checkbox.cascade_to_hidden&&n.state.hidden){V=this.get_checked_descendants(r),n.state[o?"selected":"checked"]&&V.push(n.id),Z=Z.concat(V)}else{if(n.children){for(X=0,W=n.children.length;W>X;X++){var U=n.children[X];V=p._cascade_new_checked_state(U,q),Z=Z.concat(V),V.indexOf(U)>-1&&Y.push(U)}}var T=p.get_node(n,!0),S=Y.length>0&&Y.length<n.children.length;n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=S),S?(n.state[o?"selected":"checked"]=!1,T.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked")):q&&Y.length===n.children.length?(n.state[o?"selected":"checked"]=q,Z.push(n.id),T.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked")):(n.state[o?"selected":"checked"]=!1,T.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked"))}return Z},this.get_checked_descendants=function(T){var S=this,V=S.settings.checkbox.tie_selection,U=S._model.data[T];return U.children_d.filter(function(W){return S._model.data[W].state[V?"selected":"checked"]})},this.check_node=function(S,X){if(this.settings.checkbox.tie_selection){return this.select_node(S,!1,!0,X)}var W,V,U,T;if(P.isArray(S)){for(S=S.slice(),V=0,U=S.length;U>V;V++){this.check_node(S[V],X)}return !0}return S=this.get_node(S),S&&S.id!==P.jstree.root?(W=this.get_node(S,!0),void (S.state.checked||(S.state.checked=!0,this._data.checkbox.selected.push(S.id),W&&W.length&&W.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:S,selected:this._data.checkbox.selected,event:X})))):!1},this.uncheck_node=function(S,W){if(this.settings.checkbox.tie_selection){return this.deselect_node(S,!1,W)}var V,U,T;if(P.isArray(S)){for(S=S.slice(),V=0,U=S.length;U>V;V++){this.uncheck_node(S[V],W)}return !0}return S=this.get_node(S),S&&S.id!==P.jstree.root?(T=this.get_node(S,!0),void (S.state.checked&&(S.state.checked=!1,this._data.checkbox.selected=P.vakata.array_remove_item(this._data.checkbox.selected,S.id),T.length&&T.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:S,selected:this._data.checkbox.selected,event:W})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection){return this.select_all()}var S=this._data.checkbox.selected.concat([]),U,T;for(this._data.checkbox.selected=this._model.data[P.jstree.root].children_d.concat(),U=0,T=this._data.checkbox.selected.length;T>U;U++){this._model.data[this._data.checkbox.selected[U]]&&(this._model.data[this._data.checkbox.selected[U]].state.checked=!0)}this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection){return this.deselect_all()}var T=this._data.checkbox.selected.concat([]),S,U;for(S=0,U=this._data.checkbox.selected.length;U>S;S++){this._model.data[this._data.checkbox.selected[S]]&&(this._model.data[this._data.checkbox.selected[S]].state.checked=!1)}this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:T})},this.is_checked=function(S){return this.settings.checkbox.tie_selection?this.is_selected(S):(S=this.get_node(S),S&&S.id!==P.jstree.root?S.state.checked:!1)},this.get_checked=function(S){return this.settings.checkbox.tie_selection?this.get_selected(S):S?P.map(this._data.checkbox.selected,P.proxy(function(T){return this.get_node(T)},this)):this._data.checkbox.selected},this.get_top_checked=function(S){if(this.settings.checkbox.tie_selection){return this.get_top_selected(S)}var Y=this.get_checked(!0),X={},W,V,U,T;for(W=0,V=Y.length;V>W;W++){X[Y[W].id]=Y[W]}for(W=0,V=Y.length;V>W;W++){for(U=0,T=Y[W].children_d.length;T>U;U++){X[Y[W].children_d[U]]&&delete X[Y[W].children_d[U]]}}Y=[];for(W in X){X.hasOwnProperty(W)&&Y.push(W)}return S?P.map(Y,P.proxy(function(Z){return this.get_node(Z)},this)):Y},this.get_bottom_checked=function(S){if(this.settings.checkbox.tie_selection){return this.get_bottom_selected(S)}var W=this.get_checked(!0),V=[],U,T;for(U=0,T=W.length;T>U;U++){W[U].children.length||V.push(W[U].id)}return S?P.map(V,P.proxy(function(X){return this.get_node(X)},this)):V},this.load_node=function(S,Z){var Y,X,W,V,U,T;if(!P.isArray(S)&&!this.settings.checkbox.tie_selection&&(T=this.get_node(S),T&&T.state.loaded)){for(Y=0,X=T.children_d.length;X>Y;Y++){this._model.data[T.children_d[Y]].state.checked&&(U=!0,this._data.checkbox.selected=P.vakata.array_remove_item(this._data.checkbox.selected,T.children_d[Y]))}}return Q.load_node.apply(this,arguments)},this.get_state=function(){var S=Q.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?S:(S.checkbox=this._data.checkbox.selected.slice(),S)},this.set_state=function(S,V){var U=Q.set_state.apply(this,arguments);if(U&&S.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var T=this;P.each(S.checkbox,function(X,W){T.check_node(W)})}return delete S.checkbox,this.set_state(S,V),!1}return U},this.refresh=function(T,S){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),Q.refresh.apply(this,arguments)}},P.jstree.defaults.conditionalselect=function(){return !0},P.jstree.plugins.conditionalselect=function(R,Q){this.activate_node=function(S,T){return this.settings.conditionalselect.call(this,this.get_node(S),T)?Q.activate_node.call(this,S,T):void 0}},P.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(Q,R){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.create_node(T,{},"last",function(W){try{U.edit(W)}catch(V){setTimeout(function(){U.edit(W)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.edit(T)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.is_selected(T)?U.delete_node(U.get_selected()):U.delete_node(T)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.is_selected(T)?U.cut(U.get_top_selected()):U.cut(T)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.is_selected(T)?U.copy(U.get_top_selected()):U.copy(T)}},paste:{separator_before:!1,icon:!1,_disabled:function(S){return !P.jstree.reference(S.reference).can_paste()},separator_after:!1,label:"Paste",action:function(S){var U=P.jstree.reference(S.reference),T=U.get_node(S.reference);U.paste(T)}}}}}}},P.jstree.plugins.contextmenu=function(R,Q){this.bind=function(){Q.bind.call(this);var S=0,V=null,U,T;this.element.on("init.jstree loading.jstree ready.jstree",P.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",P.proxy(function(W,X){"input"!==W.target.tagName.toLowerCase()&&(W.preventDefault(),S=W.ctrlKey?+new Date:0,(X||V)&&(S=+new Date+10000),V&&clearTimeout(V),this.is_loading(W.currentTarget)||this.show_contextmenu(W.currentTarget,W.pageX,W.pageY,W))},this)).on("click.jstree",".jstree-anchor",P.proxy(function(W){this._data.contextmenu.visible&&(!S||+new Date-S>250)&&P.vakata.context.hide(),S=0},this)).on("touchstart.jstree",".jstree-anchor",function(W){W.originalEvent&&W.originalEvent.changedTouches&&W.originalEvent.changedTouches[0]&&(U=W.originalEvent.changedTouches[0].clientX,T=W.originalEvent.changedTouches[0].clientY,V=setTimeout(function(){P(W.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(W){V&&W.originalEvent&&W.originalEvent.changedTouches&&W.originalEvent.changedTouches[0]&&(Math.abs(U-W.originalEvent.changedTouches[0].clientX)>10||Math.abs(T-W.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(V),P.vakata.context.hide())}).on("touchend.vakata.jstree",function(W){V&&clearTimeout(V)}),P(H).on("context_hide.vakata.jstree",P.proxy(function(W,X){this._data.contextmenu.visible=!1,P(X.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&P.vakata.context.hide(),Q.teardown.call(this)},this.show_contextmenu=function(a,Z,Y,X){if(a=this.get_node(a),!a||a.id===P.jstree.root){return !1}var W=this.settings.contextmenu,V=this.get_node(a,!0),U=V.children(".jstree-anchor"),T=!1,S=!1;(W.show_at_node||Z===O||Y===O)&&(T=U.offset(),Z=T.left,Y=T.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(a)&&this.activate_node(a,X),S=W.items,P.isFunction(S)&&(S=S.call(this,a,P.proxy(function(b){this._show_contextmenu(a,Z,Y,b)},this))),P.isPlainObject(S)&&this._show_contextmenu(a,Z,Y,S)},this._show_contextmenu=function(S,X,W,V){var U=this.get_node(S,!0),T=U.children(".jstree-anchor");P(H).one("context_show.vakata.jstree",P.proxy(function(Y,a){var Z="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";P(a.element).addClass(Z),T.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,P.vakata.context.show(T,{x:X,y:W},V),this.trigger("show_contextmenu",{node:S,x:X,y:W})}},function(R){var Q=!1,S={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};R.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(T){R(H).triggerHandler("context_"+T+".vakata",{reference:S.reference,element:S.element,position:{x:S.position_x,y:S.position_y}})},_execute:function(T){return T=S.items[T],T&&(!T._disabled||R.isFunction(T._disabled)&&!T._disabled({item:T,reference:S.reference,element:S.element}))&&T.action?T.action.call(null,{item:T,reference:S.reference,element:S.element,position:{x:S.position_x,y:S.position_y}}):!1},_parse:function(T,X){if(!T){return !1}X||(S.html="",S.items=[]);var W="",V=!1,U;return X&&(W+="<ul>"),R.each(T,function(Y,Z){return Z?(S.items.push(Z),!V&&Z.separator_before&&(W+="<li class='vakata-context-separator'><a href='#' "+(R.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),V=!1,W+="<li class='"+(Z._class||"")+(Z._disabled===!0||R.isFunction(Z._disabled)&&Z._disabled({item:Z,reference:S.reference,element:S.element})?" vakata-contextmenu-disabled ":"")+"' "+(Z.shortcut?" data-shortcut='"+Z.shortcut+"' ":"")+">",W+="<a href='#' rel='"+(S.items.length-1)+"' "+(Z.title?"title='"+Z.title+"'":"")+">",R.vakata.context.settings.icons&&(W+="<i ",Z.icon&&(W+=-1!==Z.icon.indexOf("/")||-1!==Z.icon.indexOf(".")?" style='background:url(\""+Z.icon+"\") center center no-repeat' ":" class='"+Z.icon+"' "),W+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),W+=(R.isFunction(Z.label)?Z.label({item:Y,reference:S.reference,element:S.element}):Z.label)+(Z.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+Z.shortcut+'">'+(Z.shortcut_label||"")+"</span>":"")+"</a>",Z.submenu&&(U=R.vakata.context._parse(Z.submenu,!0),U&&(W+=U)),W+="</li>",void (Z.separator_after&&(W+="<li class='vakata-context-separator'><a href='#' "+(R.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",V=!0))):!0}),W=W.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),X&&(W+="</ul>"),X||(S.html=W,R.vakata.context._trigger("parse")),W.length>10?W:!1},_show_submenu:function(b){if(b=R(b),b.length&&b.children("ul").length){var a=b.children("ul"),Z=b.offset().left,Y=Z+b.outerWidth(),X=b.offset().top,W=a.width(),V=a.height(),U=R(window).width()+R(window).scrollLeft(),T=R(window).height()+R(window).scrollTop();Q?b[Y-(W+10+b.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):b[Y+W>U&&Z>U-Y?"addClass":"removeClass"]("vakata-context-right"),X+V+10>T&&a.css("bottom","-1px"),b.hasClass("vakata-context-right")?W>Z&&a.css("margin-right",Z-W):W>U-Y&&a.css("margin-left",U-Y-W),a.show()}},show:function(q,i,c){var b,a,Z,Y,X,W,V,U,T=!0;switch(S.element&&S.element.length&&S.element.width(""),T){case !i&&!q:return !1;case !!i&&!!q:S.reference=q,S.position_x=i.x,S.position_y=i.y;break;case !i&&!!q:S.reference=q,b=q.offset(),S.position_x=b.left+q.outerHeight(),S.position_y=b.top;break;case !!i&&!q:S.position_x=i.x,S.position_y=i.y}q&&!c&&R(q).data("vakata_contextmenu")&&(c=R(q).data("vakata_contextmenu")),R.vakata.context._parse(c)&&S.element.html(S.html),S.items.length&&(S.element.appendTo(H.body),a=S.element,Z=S.position_x,Y=S.position_y,X=a.width(),W=a.height(),V=R(window).width()+R(window).scrollLeft(),U=R(window).height()+R(window).scrollTop(),Q&&(Z-=a.outerWidth()-R(q).outerWidth(),Z<R(window).scrollLeft()+20&&(Z=R(window).scrollLeft()+20)),Z+X+20>V&&(Z=V-(X+20)),Y+W+20>U&&(Y=U-(W+20)),S.element.css({left:Z,top:Y}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),S.is_visible=!0,R.vakata.context._trigger("show"))},hide:function(){S.is_visible&&(S.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),S.is_visible=!1,R.vakata.context._trigger("hide"))}},R(function(){Q="rtl"===R(H.body).css("direction");var T=!1;S.element=R("<ul class='vakata-context'></ul>"),S.element.on("mouseenter","li",function(U){U.stopImmediatePropagation(),R.contains(this,U.relatedTarget)||(T&&clearTimeout(T),S.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),R(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),R.vakata.context._show_submenu(this))}).on("mouseleave","li",function(U){R.contains(this,U.relatedTarget)||R(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(U){R(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),R.vakata.context.settings.hide_onmouseleave&&(T=setTimeout(function(V){return function(){R.vakata.context.hide()}}(this),R.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(U){U.preventDefault(),R(this).blur().parent().hasClass("vakata-context-disabled")||R.vakata.context._execute(R(this).attr("rel"))===!1||R.vakata.context.hide()}).on("keydown","a",function(U){var V=null;switch(U.which){case 13:case 32:U.type="click",U.preventDefault(),R(U.currentTarget).trigger(U);break;case 37:S.is_visible&&(S.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),U.stopImmediatePropagation(),U.preventDefault());break;case 38:S.is_visible&&(V=S.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),V.length||(V=S.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),V.addClass("vakata-context-hover").children("a").focus(),U.stopImmediatePropagation(),U.preventDefault());break;case 39:S.is_visible&&(S.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),U.stopImmediatePropagation(),U.preventDefault());break;case 40:S.is_visible&&(V=S.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),V.length||(V=S.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),V.addClass("vakata-context-hover").children("a").focus(),U.stopImmediatePropagation(),U.preventDefault());break;case 27:R.vakata.context.hide(),U.preventDefault()}}).on("keydown",function(V){V.preventDefault();var U=S.element.find(".vakata-contextmenu-shortcut-"+V.which).parent();U.parent().not(".vakata-context-disabled")&&U.click()}),R(H).on("mousedown.vakata.jstree",function(U){S.is_visible&&S.element[0]!==U.target&&!R.contains(S.element[0],U.target)&&R.vakata.context.hide()}).on("context_show.vakata.jstree",function(U,V){S.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),Q&&S.element.addClass("vakata-context-rtl").css("direction","rtl"),S.element.find("ul").hide().end()})})}(P),P.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var F,E;P.jstree.plugins.dnd=function(Q,R){this.init=function(T,S){R.init.call(this,T,S),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable" in H.createElement("span")},this.bind=function(){R.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",P.proxy(function(S){if(this.settings.dnd.large_drag_target&&P(S.target).closest(".jstree-node")[0]!==S.currentTarget){return !0}if("touchstart"===S.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!P(S.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked"))){return !0}var V=this.get_node(S.target),U=this.is_selected(V)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,T=U>1?U+" "+this.get_string("nodes"):this.get_text(S.currentTarget);if(this.settings.core.force_text&&(T=P.vakata.html.escape(T)),V&&V.id&&V.id!==P.jstree.root&&(1===S.which||"touchstart"===S.type||"dragstart"===S.type)&&(this.settings.dnd.is_draggable===!0||P.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,U>1?this.get_top_selected(!0):[V],S))){if(F={jstree:!0,origin:this,obj:this.get_node(V,!0),nodes:U>1?this.get_top_selected():[V.id]},E=S.currentTarget,!this.settings.dnd.use_html5){return this.element.trigger("mousedown.jstree"),P.vakata.dnd.start(S,F,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+T+'<ins class="jstree-copy" style="display:none;">+</ins></div>')}P.vakata.dnd._trigger("start",S,{helper:P(),element:E,data:F})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(S){return S.preventDefault(),P.vakata.dnd._trigger("move",S,{helper:P(),element:E,data:F}),!1}).on("drop.jstree",P.proxy(function(S){return S.preventDefault(),P.vakata.dnd._trigger("stop",S,{helper:P(),element:E,data:F}),!1},this))},this.redraw_node=function(T,S,Y,X){if(T=R.redraw_node.apply(this,arguments),T&&this.settings.dnd.use_html5){if(this.settings.dnd.large_drag_target){T.setAttribute("draggable",!0)}else{var W,V,U=null;for(W=0,V=T.childNodes.length;V>W;W++){if(T.childNodes[W]&&T.childNodes[W].className&&-1!==T.childNodes[W].className.indexOf("jstree-anchor")){U=T.childNodes[W];break}}U&&U.setAttribute("draggable",!0)}}return T}},P(function(){var U=!1,T=!1,S=!1,R=!1,Q=P('<div id="jstree-marker">&#160;</div>').hide();P(H).on("dragover.vakata.jstree",function(V){E&&P.vakata.dnd._trigger("move",V,{helper:P(),element:E,data:F})}).on("drop.vakata.jstree",function(V){E&&(P.vakata.dnd._trigger("stop",V,{helper:P(),element:E,data:F}),E=null,F=null)}).on("dnd_start.vakata.jstree",function(W,V){U=!1,S=!1,V&&V.data&&V.data.jstree&&Q.appendTo(H.body)}).on("dnd_move.vakata.jstree",function(AL,AK){var AJ=AK.event.target!==S.target;if(R&&(!AK.event||"dragover"!==AK.event.type||AJ)&&clearTimeout(R),AK&&AK.data&&AK.data.jstree&&(!AK.event.target.id||"jstree-marker"!==AK.event.target.id)){S=AK.event;var AI=P.jstree.reference(AK.event.target),AH=!1,AG=!1,AF=!1,AE,AD,AB,g,e,c,a,Z,Y,X,W,V,AC,AA,f,d,b;if(AI&&AI._data&&AI._data.dnd){if(Q.attr("class","jstree-"+AI.get_theme()+(AI.settings.core.themes.responsive?" jstree-dnd-responsive":"")),d=AK.data.origin&&(AK.data.origin.settings.dnd.always_copy||AK.data.origin.settings.dnd.copy&&(AK.event.metaKey||AK.event.ctrlKey)),AK.helper.children().attr("class","jstree-"+AI.get_theme()+" jstree-"+AI.get_theme()+"-"+AI.get_theme_variant()+" "+(AI.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[d?"show":"hide"](),AK.event.target!==AI.element[0]&&AK.event.target!==AI.get_container_ul()[0]||0!==AI.get_container_ul().children().length){if(AH=AI.settings.dnd.large_drop_target?P(AK.event.target).closest(".jstree-node").children(".jstree-anchor"):P(AK.event.target).closest(".jstree-anchor"),AH&&AH.length&&AH.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(AG=AH.offset(),AF=(AK.event.pageY!==O?AK.event.pageY:AK.event.originalEvent.pageY)-AG.top,g=AH.outerHeight(),a=g/3>AF?["b","i","a"]:AF>g-g/3?["a","i","b"]:AF>g/2?["i","a","b"]:["i","b","a"],P.each(a,function(h,i){switch(i){case"b":AD=AG.left-6,AB=AG.top,e=AI.get_parent(AH),c=AH.parent().index();break;case"i":AA=AI.settings.dnd.inside_pos,f=AI.get_node(AH.parent()),AD=AG.left-2,AB=AG.top+g/2+1,e=f.id,c="first"===AA?0:"last"===AA?f.children.length:Math.min(AA,f.children.length);break;case"a":AD=AG.left-6,AB=AG.top+g,e=AI.get_parent(AH),c=AH.parent().index()+1}for(Z=!0,Y=0,X=AK.data.nodes.length;X>Y;Y++){if(W=AK.data.origin&&(AK.data.origin.settings.dnd.always_copy||AK.data.origin.settings.dnd.copy&&(AK.event.metaKey||AK.event.ctrlKey))?"copy_node":"move_node",V=c,"move_node"===W&&"a"===i&&AK.data.origin&&AK.data.origin===AI&&e===AI.get_parent(AK.data.nodes[Y])&&(AC=AI.get_node(e),V>P.inArray(AK.data.nodes[Y],AC.children)&&(V-=1)),Z=Z&&(AI&&AI.settings&&AI.settings.dnd&&AI.settings.dnd.check_while_dragging===!1||AI.check(W,AK.data.origin&&AK.data.origin!==AI?AK.data.origin.get_node(AK.data.nodes[Y]):AK.data.nodes[Y],e,V,{dnd:!0,ref:AI.get_node(AH.parent()),pos:i,origin:AK.data.origin,is_multi:AK.data.origin&&AK.data.origin!==AI,is_foreign:!AK.data.origin})),!Z){AI&&AI.last_error&&(T=AI.last_error());break}}return"i"===i&&AH.parent().is(".jstree-closed")&&AI.settings.dnd.open_timeout&&(!AK.event||"dragover"!==AK.event.type||AJ)&&(R&&clearTimeout(R),R=setTimeout(function(k,j){return function(){k.open_node(j)}}(AI,AH),AI.settings.dnd.open_timeout)),Z?(b=AI.get_node(e,!0),b.hasClass(".jstree-dnd-parent")||(P(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),b.addClass("jstree-dnd-parent")),U={ins:AI,par:e,pos:"i"!==i||"last"!==AA||0!==c||AI.is_loaded(f)?c:"last"},Q.css({left:AD+"px",top:AB+"px"}).show(),AK.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),AK.event.originalEvent&&AK.event.originalEvent.dataTransfer&&(AK.event.originalEvent.dataTransfer.dropEffect=d?"copy":"move"),T={},a=!0,!1):void 0}),a===!0)){return }}else{for(Z=!0,Y=0,X=AK.data.nodes.length;X>Y;Y++){if(Z=Z&&AI.check(AK.data.origin&&(AK.data.origin.settings.dnd.always_copy||AK.data.origin.settings.dnd.copy&&(AK.event.metaKey||AK.event.ctrlKey))?"copy_node":"move_node",AK.data.origin&&AK.data.origin!==AI?AK.data.origin.get_node(AK.data.nodes[Y]):AK.data.nodes[Y],P.jstree.root,"last",{dnd:!0,ref:AI.get_node(P.jstree.root),pos:"i",origin:AK.data.origin,is_multi:AK.data.origin&&AK.data.origin!==AI,is_foreign:!AK.data.origin}),!Z){break}}if(Z){return U={ins:AI,par:P.jstree.root,pos:"last"},Q.hide(),AK.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void (AK.event.originalEvent&&AK.event.originalEvent.dataTransfer&&(AK.event.originalEvent.dataTransfer.dropEffect=d?"copy":"move"))}}}P(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),U=!1,AK.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),AK.event.originalEvent&&AK.event.originalEvent.dataTransfer,Q.hide()}}).on("dnd_scroll.vakata.jstree",function(W,V){V&&V.data&&V.data.jstree&&(Q.hide(),U=!1,S=!1,V.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(V,Z){if(P(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),R&&clearTimeout(R),Z&&Z.data&&Z.data.jstree){Q.hide().detach();var Y,X,W=[];if(U){for(Y=0,X=Z.data.nodes.length;X>Y;Y++){W[Y]=Z.data.origin?Z.data.origin.get_node(Z.data.nodes[Y]):Z.data.nodes[Y]}U.ins[Z.data.origin&&(Z.data.origin.settings.dnd.always_copy||Z.data.origin.settings.dnd.copy&&(Z.event.metaKey||Z.event.ctrlKey))?"copy_node":"move_node"](W,U.par,U.pos,!1,!1,!1,Z.data.origin)}else{Y=P(Z.event.target).closest(".jstree"),Y.length&&T&&T.error&&"check"===T.error&&(Y=Y.jstree(!0),Y&&Y.settings.core.error.call(this,T))}S=!1,U=!1}}).on("keyup.jstree keydown.jstree",function(V,W){W=P.vakata.dnd._get(),W&&W.data&&W.data.jstree&&("keyup"===V.type&&27===V.which?(R&&clearTimeout(R),U=!1,T=!1,S=!1,R=!1,Q.hide().detach(),P.vakata.dnd._clean()):(W.helper.find(".jstree-copy").first()[W.data.origin&&(W.data.origin.settings.dnd.always_copy||W.data.origin.settings.dnd.copy&&(V.metaKey||V.ctrlKey))?"show":"hide"](),S&&(S.metaKey=V.metaKey,S.ctrlKey=V.ctrlKey,P.vakata.dnd._trigger("move",S))))})}),function(Q){Q.vakata.html={div:Q("<div />"),escape:function(S){return Q.vakata.html.div.text(S).html()},strip:function(S){return Q.vakata.html.div.empty().append(Q.parseHTML(S)).text()}};var R={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};Q.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(U,T,S){S===O&&(S=Q.vakata.dnd._get()),S.event=T,Q(H).triggerHandler("dnd_"+U+".vakata",S)},_get:function(){return{data:R.data,element:R.element,helper:R.helper}},_clean:function(){R.helper&&R.helper.remove(),R.scroll_i&&(clearInterval(R.scroll_i),R.scroll_i=!1),R={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},Q(H).off("mousemove.vakata.jstree touchmove.vakata.jstree",Q.vakata.dnd.drag),Q(H).off("mouseup.vakata.jstree touchend.vakata.jstree",Q.vakata.dnd.stop)},_scroll:function(S){if(!R.scroll_e||!R.scroll_l&&!R.scroll_t){return R.scroll_i&&(clearInterval(R.scroll_i),R.scroll_i=!1),!1}if(!R.scroll_i){return R.scroll_i=setInterval(Q.vakata.dnd._scroll,100),!1}if(S===!0){return !1}var U=R.scroll_e.scrollTop(),T=R.scroll_e.scrollLeft();R.scroll_e.scrollTop(U+R.scroll_t*Q.vakata.dnd.settings.scroll_speed),R.scroll_e.scrollLeft(T+R.scroll_l*Q.vakata.dnd.settings.scroll_speed),(U!==R.scroll_e.scrollTop()||T!==R.scroll_e.scrollLeft())&&Q.vakata.dnd._trigger("scroll",R.scroll_e)},start:function(S,V,U){"touchstart"===S.type&&S.originalEvent&&S.originalEvent.changedTouches&&S.originalEvent.changedTouches[0]&&(S.pageX=S.originalEvent.changedTouches[0].pageX,S.pageY=S.originalEvent.changedTouches[0].pageY,S.target=H.elementFromPoint(S.originalEvent.changedTouches[0].pageX-window.pageXOffset,S.originalEvent.changedTouches[0].pageY-window.pageYOffset)),R.is_drag&&Q.vakata.dnd.stop({});try{S.currentTarget.unselectable="on",S.currentTarget.onselectstart=function(){return !1},S.currentTarget.style&&(S.currentTarget.style.touchAction="none",S.currentTarget.style.msTouchAction="none",S.currentTarget.style.MozUserSelect="none")}catch(T){}return R.init_x=S.pageX,R.init_y=S.pageY,R.data=V,R.is_down=!0,R.element=S.currentTarget,R.target=S.target,R.is_touch="touchstart"===S.type,U!==!1&&(R.helper=Q("<div id='vakata-dnd'></div>").html(U).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),Q(H).on("mousemove.vakata.jstree touchmove.vakata.jstree",Q.vakata.dnd.drag),Q(H).on("mouseup.vakata.jstree touchend.vakata.jstree",Q.vakata.dnd.stop),!1},drag:function(i){if("touchmove"===i.type&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(i.pageX=i.originalEvent.changedTouches[0].pageX,i.pageY=i.originalEvent.changedTouches[0].pageY,i.target=H.elementFromPoint(i.originalEvent.changedTouches[0].pageX-window.pageXOffset,i.originalEvent.changedTouches[0].pageY-window.pageYOffset)),R.is_down){if(!R.is_drag){if(!(Math.abs(i.pageX-R.init_x)>(R.is_touch?Q.vakata.dnd.settings.threshold_touch:Q.vakata.dnd.settings.threshold)||Math.abs(i.pageY-R.init_y)>(R.is_touch?Q.vakata.dnd.settings.threshold_touch:Q.vakata.dnd.settings.threshold))){return }R.helper&&(R.helper.appendTo(H.body),R.helper_w=R.helper.outerWidth()),R.is_drag=!0,Q(R.target).one("click.vakata",!1),Q.vakata.dnd._trigger("start",i)}var c=!1,a=!1,Z=!1,Y=!1,X=!1,W=!1,V=!1,U=!1,T=!1,S=!1;return R.scroll_t=0,R.scroll_l=0,R.scroll_e=!1,Q(Q(i.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(Q(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var f=Q(this),b=f.offset();return this.scrollHeight>this.offsetHeight&&(b.top+f.height()-i.pageY<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_t=1),i.pageY-b.top<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(b.left+f.width()-i.pageX<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_l=1),i.pageX-b.left<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_l=-1)),R.scroll_t||R.scroll_l?(R.scroll_e=Q(this),!1):void 0}),R.scroll_e||(c=Q(H),a=Q(window),Z=c.height(),Y=a.height(),X=c.width(),W=a.width(),V=c.scrollTop(),U=c.scrollLeft(),Z>Y&&i.pageY-V<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_t=-1),Z>Y&&Y-(i.pageY-V)<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_t=1),X>W&&i.pageX-U<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_l=-1),X>W&&W-(i.pageX-U)<Q.vakata.dnd.settings.scroll_proximity&&(R.scroll_l=1),(R.scroll_t||R.scroll_l)&&(R.scroll_e=c)),R.scroll_e&&Q.vakata.dnd._scroll(!0),R.helper&&(T=parseInt(i.pageY+Q.vakata.dnd.settings.helper_top,10),S=parseInt(i.pageX+Q.vakata.dnd.settings.helper_left,10),Z&&T+25>Z&&(T=Z-50),X&&S+R.helper_w>X&&(S=X-(R.helper_w+2)),R.helper.css({left:S+"px",top:T+"px"})),Q.vakata.dnd._trigger("move",i),!1}},stop:function(S){if("touchend"===S.type&&S.originalEvent&&S.originalEvent.changedTouches&&S.originalEvent.changedTouches[0]&&(S.pageX=S.originalEvent.changedTouches[0].pageX,S.pageY=S.originalEvent.changedTouches[0].pageY,S.target=H.elementFromPoint(S.originalEvent.changedTouches[0].pageX-window.pageXOffset,S.originalEvent.changedTouches[0].pageY-window.pageYOffset)),R.is_drag){S.target!==R.target&&Q(R.target).off("click.vakata"),Q.vakata.dnd._trigger("stop",S)}else{if("touchend"===S.type&&S.target===R.target){var T=setTimeout(function(){Q(S.target).click()},100);Q(S.target).one("click",function(){T&&clearTimeout(T)})}}return Q.vakata.dnd._clean(),!1}}}(P),P.jstree.defaults.massload=null,P.jstree.plugins.massload=function(Q,R){this.init=function(T,S){this._data.massload={},R.init.call(this,T,S)},this._load_nodes=function(n,c,a,Z){var Y=this.settings.massload,X=JSON.stringify(n),W=[],V=this._model.data,U,T,S;if(!a){for(U=0,T=n.length;T>U;U++){(!V[n[U]]||!V[n[U]].state.loaded&&!V[n[U]].state.failed||Z)&&(W.push(n[U]),S=this.get_node(n[U],!0),S&&S.length&&S.addClass("jstree-loading").attr("aria-busy",!0))}if(this._data.massload={},W.length){if(P.isFunction(Y)){return Y.call(this,W,P.proxy(function(b){var e,d;if(b){for(e in b){b.hasOwnProperty(e)&&(this._data.massload[e]=b[e])}}for(e=0,d=n.length;d>e;e++){S=this.get_node(n[e],!0),S&&S.length&&S.removeClass("jstree-loading").attr("aria-busy",!1)}R._load_nodes.call(this,n,c,a,Z)},this))}if("object"==typeof Y&&Y&&Y.url){return Y=P.extend(!0,{},Y),P.isFunction(Y.url)&&(Y.url=Y.url.call(this,W)),P.isFunction(Y.data)&&(Y.data=Y.data.call(this,W)),P.ajax(Y).done(P.proxy(function(b,k,f){var e,d;if(b){for(e in b){b.hasOwnProperty(e)&&(this._data.massload[e]=b[e])}}for(e=0,d=n.length;d>e;e++){S=this.get_node(n[e],!0),S&&S.length&&S.removeClass("jstree-loading").attr("aria-busy",!1)}R._load_nodes.call(this,n,c,a,Z)},this)).fail(P.proxy(function(b){R._load_nodes.call(this,n,c,a,Z)},this))}}}return R._load_nodes.call(this,n,c,a,Z)},this._load_node=function(S,W){var V=this._data.massload[S.id],U=null,T;return V?(U=this["string"==typeof V?"_append_html_data":"_append_json_data"](S,"string"==typeof V?P(P.parseHTML(V)).filter(function(){return 3!==this.nodeType}):V,function(X){W.call(this,X)}),T=this.get_node(S.id,!0),T&&T.length&&T.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[S.id],U):R._load_node.call(this,S,W)}},P.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},P.jstree.plugins.search=function(R,Q){this.bind=function(){Q.bind.call(this),this._data.search.str="",this._data.search.dom=P(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",P.proxy(function(S,Z){if(this._data.search.som&&Z.res.length){var Y=this._model.data,X,W,V=[],U,T;for(X=0,W=Z.res.length;W>X;X++){if(Y[Z.res[X]]&&!Y[Z.res[X]].state.hidden&&(V.push(Z.res[X]),V=V.concat(Y[Z.res[X]].parents),this._data.search.smc)){for(U=0,T=Y[Z.res[X]].children_d.length;T>U;U++){Y[Y[Z.res[X]].children_d[U]]&&!Y[Y[Z.res[X]].children_d[U]].state.hidden&&V.push(Y[Z.res[X]].children_d[U])}}}V=P.vakata.array_remove_item(P.vakata.array_unique(V),P.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(V,!0),this.redraw(!0)}},this)).on("clear_search.jstree",P.proxy(function(T,S){this._data.search.som&&S.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(t,s,r,q,b,a){if(t===!1||""===P.trim(t.toString())){return this.clear_search()}q=this.get_node(q),q=q&&q.id?q.id:null,t=t.toString();var Z=this.settings.search,Y=Z.ajax?Z.ajax:!1,X=this._model.data,W=null,V=[],U=[],T,S;if(this._data.search.res.length&&!b&&this.clear_search(),r===O&&(r=Z.show_only_matches),a===O&&(a=Z.show_only_matches_children),!s&&Y!==!1){return P.isFunction(Y)?Y.call(this,t,P.proxy(function(c){c&&c.d&&(c=c.d),this._load_nodes(P.isArray(c)?P.vakata.array_unique(c):[],function(){this.search(t,!0,r,q,b,a)})},this),q):(Y=P.extend({},Y),Y.data||(Y.data={}),Y.data.str=t,q&&(Y.data.inside=q),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=P.ajax(Y).fail(P.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(Y)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(P.proxy(function(c){c&&c.d&&(c=c.d),this._load_nodes(P.isArray(c)?P.vakata.array_unique(c):[],function(){this.search(t,!0,r,q,b,a)})},this)),this._data.search.lastRequest)}if(b||(this._data.search.str=t,this._data.search.dom=P(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=a),W=new P.vakata.search(t,!0,{caseSensitive:Z.case_sensitive,fuzzy:Z.fuzzy}),P.each(X[q?q:P.jstree.root].children_d,function(e,c){var f=X[c];f.text&&!f.state.hidden&&(!Z.search_leaves_only||f.state.loaded&&0===f.children.length)&&(Z.search_callback&&Z.search_callback.call(this,t,f)||!Z.search_callback&&W.search(f.text).isMatch)&&(V.push(c),U=U.concat(f.parents))}),V.length){for(U=P.vakata.array_unique(U),T=0,S=U.length;S>T;T++){U[T]!==P.jstree.root&&X[U[T]]&&this.open_node(U[T],null,0)===!0&&this._data.search.opn.push(U[T])}b?(this._data.search.dom=this._data.search.dom.add(P(this.element[0].querySelectorAll("#"+P.map(V,function(c){return -1!=="0123456789".indexOf(c[0])?"\\3"+c[0]+" "+c.substr(1).replace(P.jstree.idregex,"\\$&"):c.replace(P.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=P.vakata.array_unique(this._data.search.res.concat(V))):(this._data.search.dom=P(this.element[0].querySelectorAll("#"+P.map(V,function(c){return -1!=="0123456789".indexOf(c[0])?"\\3"+c[0]+" "+c.substr(1).replace(P.jstree.idregex,"\\$&"):c.replace(P.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=V),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:t,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=P(this.element[0].querySelectorAll("#"+P.map(this._data.search.res,function(S){return -1!=="0123456789".indexOf(S[0])?"\\3"+S[0]+" "+S.substr(1).replace(P.jstree.idregex,"\\$&"):S.replace(P.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=P()},this.redraw_node=function(S,Y,X,W){if(S=Q.redraw_node.apply(this,arguments),S&&-1!==P.inArray(S.id,this._data.search.res)){var V,U,T=null;for(V=0,U=S.childNodes.length;U>V;V++){if(S.childNodes[V]&&S.childNodes[V].className&&-1!==S.childNodes[V].className.indexOf("jstree-anchor")){T=S.childNodes[V];break}}T&&(T.className+=" jstree-search")}return S}},function(Q){Q.vakata.search=function(m,a,Z){Z=Z||{},Z=Q.extend({},Q.vakata.search.defaults,Z),Z.fuzzy!==!1&&(Z.fuzzy=!0),m=Z.caseSensitive?m:m.toLowerCase();var Y=Z.location,X=Z.distance,W=Z.threshold,V=m.length,U,T,S,R;return V>32&&(Z.fuzzy=!1),Z.fuzzy&&(U=1<<V-1,T=function(){var b={},d=0;for(d=0;V>d;d++){b[m.charAt(d)]=0}for(d=0;V>d;d++){b[m.charAt(d)]|=1<<V-d-1}return b}(),S=function(f,e){var h=f/V,g=Math.abs(Y-e);return X?h+g/X:g?1:h}),R=function(AA){if(AA=Z.caseSensitive?AA:AA.toLowerCase(),m===AA||-1!==AA.indexOf(m)){return{isMatch:!0,score:0}}if(!Z.fuzzy){return{isMatch:!1,score:1}}var y,k,j=AA.length,i=W,h=AA.indexOf(m,Y),g,e,d=V+j,b,AF,AE,AD,AC,AB=1,z=[];for(-1!==h&&(i=Math.min(S(0,h),i),h=AA.lastIndexOf(m,Y+V),-1!==h&&(i=Math.min(S(0,h),i))),h=-1,y=0;V>y;y++){g=0,e=d;while(e>g){S(y,Y+e)<=i?g=e:d=e,e=Math.floor((d-g)/2+g)}for(d=e,AF=Math.max(1,Y-e+1),AE=Math.min(Y+e,j)+V,AD=new Array(AE+2),AD[AE+1]=(1<<y)-1,k=AE;k>=AF;k--){if(AC=T[AA.charAt(k-1)],0===y?AD[k]=(AD[k+1]<<1|1)&AC:AD[k]=(AD[k+1]<<1|1)&AC|((b[k+1]|b[k])<<1|1)|b[k+1],AD[k]&U&&(AB=S(y,k-1),i>=AB)){if(i=AB,h=k-1,z.push(h),!(h>Y)){break}AF=Math.max(1,2*Y-h)}}if(S(y+1,Y)>i){break}b=AD}return{isMatch:h>=0,score:AB}},a===!0?{search:R}:R(a)},Q.vakata.search.defaults={location:0,distance:100,threshold:0.6,fuzzy:!1,caseSensitive:!1}}(P),P.jstree.defaults.sort=function(R,Q){return this.get_text(R)>this.get_text(Q)?1:-1},P.jstree.plugins.sort=function(Q,R){this.bind=function(){R.bind.call(this),this.element.on("model.jstree",P.proxy(function(T,S){this.sort(S.parent,!0)},this)).on("rename_node.jstree create_node.jstree",P.proxy(function(T,S){this.sort(S.parent||S.node.parent,!1),this.redraw_node(S.parent||S.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",P.proxy(function(T,S){this.sort(S.parent,!1),this.redraw_node(S.parent,!0)},this))},this.sort=function(S,V){var U,T;if(S=this.get_node(S),S&&S.children&&S.children.length&&(S.children.sort(P.proxy(this.settings.sort,this)),V)){for(U=0,T=S.children_d.length;T>U;U++){this.sort(S.children_d[U],!1)}}}};var D=!1;P.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},P.jstree.plugins.state=function(Q,R){this.bind=function(){R.bind.call(this);var S=P.proxy(function(){this.element.on(this.settings.state.events,P.proxy(function(){D&&clearTimeout(D),D=setTimeout(P.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",P.proxy(function(T,U){this.element.one("restore_state.jstree",S),this.restore_state()||S()},this))},this.save_state=function(){var S=this.get_state();this.settings.state.preserve_loaded||delete S.core.loaded;var T={state:S,ttl:this.settings.state.ttl,sec:+new Date};P.vakata.storage.set(this.settings.state.key,JSON.stringify(T))},this.restore_state=function(){var S=P.vakata.storage.get(this.settings.state.key);if(S){try{S=JSON.parse(S)}catch(T){return !1}}return S&&S.ttl&&S.sec&&+new Date-S.sec>S.ttl?!1:(S&&S.state&&(S=S.state),S&&P.isFunction(this.settings.state.filter)&&(S=this.settings.state.filter.call(this,S)),S?(this.settings.state.preserve_loaded||delete S.core.loaded,this.element.one("set_state.jstree",function(V,U){U.instance.trigger("restore_state",{state:P.extend(!0,{},S)})}),this.set_state(S),!0):!1)},this.clear_state=function(){return P.vakata.storage.del(this.settings.state.key)}},function(R,Q){R.vakata.storage={set:function(T,S){return window.localStorage.setItem(T,S)},get:function(S){return window.localStorage.getItem(S)},del:function(S){return window.localStorage.removeItem(S)}}}(P),P.jstree.defaults.types={"default":{}},P.jstree.defaults.types[P.jstree.root]={},P.jstree.plugins.types=function(R,Q){this.init=function(V,U){var T,S;if(U&&U.types&&U.types["default"]){for(T in U.types){if("default"!==T&&T!==P.jstree.root&&U.types.hasOwnProperty(T)){for(S in U.types["default"]){U.types["default"].hasOwnProperty(S)&&U.types[T][S]===O&&(U.types[T][S]=U.types["default"][S])}}}}Q.init.call(this,V,U),this._model.data[P.jstree.root].type=P.jstree.root},this.refresh=function(S,T){Q.refresh.call(this,S,T),this._model.data[P.jstree.root].type=P.jstree.root},this.bind=function(){this.element.on("model.jstree",P.proxy(function(a,Z){var Y=this._model.data,X=Z.nodes,W=this.settings.types,V,U,T="default",S;for(V=0,U=X.length;U>V;V++){if(T="default",Y[X[V]].original&&Y[X[V]].original.type&&W[Y[X[V]].original.type]&&(T=Y[X[V]].original.type),Y[X[V]].data&&Y[X[V]].data.jstree&&Y[X[V]].data.jstree.type&&W[Y[X[V]].data.jstree.type]&&(T=Y[X[V]].data.jstree.type),Y[X[V]].type=T,Y[X[V]].icon===!0&&W[T].icon!==O&&(Y[X[V]].icon=W[T].icon),W[T].li_attr!==O&&"object"==typeof W[T].li_attr){for(S in W[T].li_attr){if(W[T].li_attr.hasOwnProperty(S)){if("id"===S){continue}Y[X[V]].li_attr[S]===O?Y[X[V]].li_attr[S]=W[T].li_attr[S]:"class"===S&&(Y[X[V]].li_attr["class"]=W[T].li_attr["class"]+" "+Y[X[V]].li_attr["class"])}}}if(W[T].a_attr!==O&&"object"==typeof W[T].a_attr){for(S in W[T].a_attr){if(W[T].a_attr.hasOwnProperty(S)){if("id"===S){continue}Y[X[V]].a_attr[S]===O?Y[X[V]].a_attr[S]=W[T].a_attr[S]:"href"===S&&"#"===Y[X[V]].a_attr[S]?Y[X[V]].a_attr.href=W[T].a_attr.href:"class"===S&&(Y[X[V]].a_attr["class"]=W[T].a_attr["class"]+" "+Y[X[V]].a_attr["class"])}}}}Y[P.jstree.root].type=P.jstree.root},this)),Q.bind.call(this)},this.get_json=function(S,Z,Y){var X,W,V=this._model.data,U=Z?P.extend(!0,{},Z,{no_id:!1}):{},T=Q.get_json.call(this,S,U,Y);if(T===!1){return !1}if(P.isArray(T)){for(X=0,W=T.length;W>X;X++){T[X].type=T[X].id&&V[T[X].id]&&V[T[X].id].type?V[T[X].id].type:"default",Z&&Z.no_id&&(delete T[X].id,T[X].li_attr&&T[X].li_attr.id&&delete T[X].li_attr.id,T[X].a_attr&&T[X].a_attr.id&&delete T[X].a_attr.id)}}else{T.type=T.id&&V[T.id]&&V[T.id].type?V[T.id].type:"default",Z&&Z.no_id&&(T=this._delete_ids(T))}return T},this._delete_ids=function(S){if(P.isArray(S)){for(var U=0,T=S.length;T>U;U++){S[U]=this._delete_ids(S[U])}return S}return delete S.id,S.li_attr&&S.li_attr.id&&delete S.li_attr.id,S.a_attr&&S.a_attr.id&&delete S.a_attr.id,S.children&&P.isArray(S.children)&&(S.children=this._delete_ids(S.children)),S},this.check=function(b,a,Z,Y,X){if(Q.check.call(this,b,a,Z,Y,X)===!1){return !1}a=a&&a.id?a:this.get_node(a),Z=Z&&Z.id?Z:this.get_node(Z);var W=a&&a.id?X&&X.origin?X.origin:P.jstree.reference(a.id):null,V,U,T,S;switch(W=W&&W._model&&W._model.data?W._model.data:null,b){case"create_node":case"move_node":case"copy_node":if("move_node"!==b||-1===P.inArray(a.id,Z.children)){if(V=this.get_rules(Z),V.max_children!==O&&-1!==V.max_children&&V.max_children===Z.children.length){return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+b,data:JSON.stringify({chk:b,pos:Y,obj:a&&a.id?a.id:!1,par:Z&&Z.id?Z.id:!1})},!1}if(V.valid_children!==O&&-1!==V.valid_children&&-1===P.inArray(a.type||"default",V.valid_children)){return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+b,data:JSON.stringify({chk:b,pos:Y,obj:a&&a.id?a.id:!1,par:Z&&Z.id?Z.id:!1})},!1}if(W&&a.children_d&&a.parents){for(U=0,T=0,S=a.children_d.length;S>T;T++){U=Math.max(U,W[a.children_d[T]].parents.length)}U=U-a.parents.length+1}(0>=U||U===O)&&(U=1);do{if(V.max_depth!==O&&-1!==V.max_depth&&V.max_depth<U){return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+b,data:JSON.stringify({chk:b,pos:Y,obj:a&&a.id?a.id:!1,par:Z&&Z.id?Z.id:!1})},!1}Z=this.get_node(Z.parent),V=this.get_rules(Z),U++}while(Z)}}return !0},this.get_rules=function(S){if(S=this.get_node(S),!S){return !1}var T=this.get_type(S,!0);return T.max_depth===O&&(T.max_depth=-1),T.max_children===O&&(T.max_children=-1),T.valid_children===O&&(T.valid_children=-1),T},this.get_type=function(S,T){return S=this.get_node(S),S?T?P.extend({type:S.type},this.settings.types[S.type]):S.type:!1},this.set_type=function(n,b){var a=this._model.data,Z,Y,X,W,V,U,T,S;if(P.isArray(n)){for(n=n.slice(),Y=0,X=n.length;X>Y;Y++){this.set_type(n[Y],b)}return !0}if(Z=this.settings.types,n=this.get_node(n),!Z[b]||!n){return !1}if(T=this.get_node(n,!0),T&&T.length&&(S=T.children(".jstree-anchor")),W=n.type,V=this.get_icon(n),n.type=b,(V===!0||!Z[W]||Z[W].icon!==O&&V===Z[W].icon)&&this.set_icon(n,Z[b].icon!==O?Z[b].icon:!0),Z[W]&&Z[W].li_attr!==O&&"object"==typeof Z[W].li_attr){for(U in Z[W].li_attr){if(Z[W].li_attr.hasOwnProperty(U)){if("id"===U){continue}"class"===U?(a[n.id].li_attr["class"]=(a[n.id].li_attr["class"]||"").replace(Z[W].li_attr[U],""),T&&T.removeClass(Z[W].li_attr[U])):a[n.id].li_attr[U]===Z[W].li_attr[U]&&(a[n.id].li_attr[U]=null,T&&T.removeAttr(U))}}}if(Z[W]&&Z[W].a_attr!==O&&"object"==typeof Z[W].a_attr){for(U in Z[W].a_attr){if(Z[W].a_attr.hasOwnProperty(U)){if("id"===U){continue}"class"===U?(a[n.id].a_attr["class"]=(a[n.id].a_attr["class"]||"").replace(Z[W].a_attr[U],""),S&&S.removeClass(Z[W].a_attr[U])):a[n.id].a_attr[U]===Z[W].a_attr[U]&&("href"===U?(a[n.id].a_attr[U]="#",S&&S.attr("href","#")):(delete a[n.id].a_attr[U],S&&S.removeAttr(U)))}}}if(Z[b].li_attr!==O&&"object"==typeof Z[b].li_attr){for(U in Z[b].li_attr){if(Z[b].li_attr.hasOwnProperty(U)){if("id"===U){continue}a[n.id].li_attr[U]===O?(a[n.id].li_attr[U]=Z[b].li_attr[U],T&&("class"===U?T.addClass(Z[b].li_attr[U]):T.attr(U,Z[b].li_attr[U]))):"class"===U&&(a[n.id].li_attr["class"]=Z[b].li_attr[U]+" "+a[n.id].li_attr["class"],T&&T.addClass(Z[b].li_attr[U]))}}}if(Z[b].a_attr!==O&&"object"==typeof Z[b].a_attr){for(U in Z[b].a_attr){if(Z[b].a_attr.hasOwnProperty(U)){if("id"===U){continue}a[n.id].a_attr[U]===O?(a[n.id].a_attr[U]=Z[b].a_attr[U],S&&("class"===U?S.addClass(Z[b].a_attr[U]):S.attr(U,Z[b].a_attr[U]))):"href"===U&&"#"===a[n.id].a_attr[U]?(a[n.id].a_attr.href=Z[b].a_attr.href,S&&S.attr("href",Z[b].a_attr.href)):"class"===U&&(a[n.id].a_attr["class"]=Z[b].a_attr["class"]+" "+a[n.id].a_attr["class"],S&&S.addClass(Z[b].a_attr[U]))}}}return !0}},P.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(R,Q){return R+" ("+Q+")"}},P.jstree.plugins.unique=function(R,Q){this.check=function(r,q,p,d,a){if(Q.check.call(this,r,q,p,d,a)===!1){return !1}if(q=q&&q.id?q:this.get_node(q),p=p&&p.id?p:this.get_node(p),!p||!p.children){return !0}var Z="rename_node"===r?d:q.text,Y=[],X=this.settings.unique.case_sensitive,W=this.settings.unique.trim_whitespace,V=this._model.data,U,T,S;for(U=0,T=p.children.length;T>U;U++){S=V[p.children[U]].text,X||(S=S.toLowerCase()),W&&(S=S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),Y.push(S)}switch(X||(Z=Z.toLowerCase()),W&&(Z=Z.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),r){case"delete_node":return !0;case"rename_node":return S=q.text||"",X||(S=S.toLowerCase()),W&&(S=S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),U=-1===P.inArray(Z,Y)||q.text&&S===Z,U||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+Z+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:d,obj:q&&q.id?q.id:!1,par:p&&p.id?p.id:!1})}),U;case"create_node":return U=-1===P.inArray(Z,Y),U||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+Z+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:d,obj:q&&q.id?q.id:!1,par:p&&p.id?p.id:!1})}),U;case"copy_node":return U=-1===P.inArray(Z,Y),U||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+Z+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:d,obj:q&&q.id?q.id:!1,par:p&&p.id?p.id:!1})}),U;case"move_node":return U=q.parent===p.id&&(!a||!a.is_multi)||-1===P.inArray(Z,Y),U||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+Z+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:d,obj:q&&q.id?q.id:!1,par:p&&p.id?p.id:!1})}),U}return !0},this.create_node=function(v,u,t,s,d){if(!u||u.text===O){if(null===v&&(v=P.jstree.root),v=this.get_node(v),!v){return Q.create_node.call(this,v,u,t,s,d)}if(t=t===O?"last":t,!t.toString().match(/^(before|after)$/)&&!d&&!this.is_loaded(v)){return Q.create_node.call(this,v,u,t,s,d)}u||(u={});var b,a,Z,Y,X,W=this._model.data,V=this.settings.unique.case_sensitive,U=this.settings.unique.trim_whitespace,T=this.settings.unique.duplicate,S;for(a=b=this.get_string("New node"),Z=[],Y=0,X=v.children.length;X>Y;Y++){S=W[v.children[Y]].text,V||(S=S.toLowerCase()),U&&(S=S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),Z.push(S)}Y=1,S=a,V||(S=S.toLowerCase()),U&&(S=S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));while(-1!==P.inArray(S,Z)){a=T.call(this,b,++Y).toString(),S=a,V||(S=S.toLowerCase()),U&&(S=S.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}u.text=a}return Q.create_node.call(this,v,u,t,s,d)}};var C=H.createElement("DIV");if(C.setAttribute("unselectable","on"),C.setAttribute("role","presentation"),C.className="jstree-wholerow",C.innerHTML="&#160;",P.jstree.plugins.wholerow=function(Q,R){this.bind=function(){R.bind.call(this),this.element.on("ready.jstree set_state.jstree",P.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",P.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",P.proxy(function(T,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",P.proxy(function(T,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var W=!1,V,U;for(V=0,U=S.selected.length;U>V;V++){W=this.get_node(S.selected[V],!0),W&&W.length&&W.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}},this)).on("open_node.jstree",P.proxy(function(T,S){this.get_node(S.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",P.proxy(function(T,S){"hover_node"===T.type&&this.is_disabled(S.node)||this.get_node(S.node,!0).children(".jstree-wholerow")["hover_node"===T.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",P.proxy(function(S){if(this._data.contextmenu){S.preventDefault();var T=P.Event("contextmenu",{metaKey:S.metaKey,ctrlKey:S.ctrlKey,altKey:S.altKey,shiftKey:S.shiftKey,pageX:S.pageX,pageY:S.pageY});P(S.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(T)}},this)).on("click.jstree",".jstree-wholerow",function(S){S.stopImmediatePropagation();var T=P.Event("click",{metaKey:S.metaKey,ctrlKey:S.ctrlKey,altKey:S.altKey,shiftKey:S.shiftKey});P(S.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(T).focus()}).on("dblclick.jstree",".jstree-wholerow",function(S){S.stopImmediatePropagation();var T=P.Event("dblclick",{metaKey:S.metaKey,ctrlKey:S.ctrlKey,altKey:S.altKey,shiftKey:S.shiftKey});P(S.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(T).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",P.proxy(function(S){S.stopImmediatePropagation();var T=P.Event("click",{metaKey:S.metaKey,ctrlKey:S.ctrlKey,altKey:S.altKey,shiftKey:S.shiftKey});P(S.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(T).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",P.proxy(function(S){return S.stopImmediatePropagation(),this.is_disabled(S.currentTarget)||this.hover_node(S.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",P.proxy(function(S){this.dehover_node(S.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),R.teardown.call(this)},this.redraw_node=function(S,W,V,U){if(S=R.redraw_node.apply(this,arguments)){var T=C.cloneNode(!0);-1!==P.inArray(S.id,this._data.core.selected)&&(T.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===S.id&&(T.className+=" jstree-wholerow-hovered"),S.insertBefore(T,S.childNodes[0])}return S}},window.customElements&&Object&&Object.create){var B=Object.create(HTMLElement.prototype);B.createdCallback=function(){var Q={core:{},plugins:[]},R;for(R in P.jstree.plugins){P.jstree.plugins.hasOwnProperty(R)&&this.attributes[R]&&(Q.plugins.push(R),this.getAttribute(R)&&JSON.parse(this.getAttribute(R))&&(Q[R]=JSON.parse(this.getAttribute(R))))}for(R in P.jstree.defaults.core){P.jstree.defaults.core.hasOwnProperty(R)&&this.attributes[R]&&(Q.core[R]=JSON.parse(this.getAttribute(R))||this.getAttribute(R))}P(this).jstree(Q)};try{window.customElements.define("vakata-jstree",function(){},{prototype:B})}catch(A){}}}});
var $pNamespace=pega.namespace;$pNamespace("pega.ui");
pega.ui.inspector=function(){function A(){p=q.LOADING;pega.ui.panelManager.hideAllPanels();var a=document.querySelector("div[data-node-id\x3d'pzRuntimeToolsTopBar']");a&&a.classList.add("disable-slide");$("#js-toggle-runtime-editor").addClass("toggleLiveUIButtonOn");$(".ui-tree a").addClass("toggleLiveUIButtonOn");$(".ui-tree button").addClass("toggleLiveUIButtonOn");ja();I=document.body;pega.ui.inspector.panel.setListenForChanges(!1);a=function(){x(!0);for(var a=c.getFrameList(),d=0;d<a.length;d++)0<
$(a[d].document).length&&a[d].pega.ui.inspector.turnOnEvents();c.enableHighlighting();n(!0);p=q.ACTIVE};c.isSidePanelEnabled()?pega.ui.inspector.panel.show(a):a()}function ka(){p=q.LOADING;$(".runtime-control-highlight-container").remove();var a=function(){c.disableHighlighting();c.clearAllHighlights(!0);h=null;pega.ui.inspector.panel.stopListeningForChanges();c.loadingIndicator.nullify();x(!1);J(!1);for(var a=c.getFrameList(),d=0;d<a.length;d++)0<$(a[d].document).length&&($(a[d].document.body).removeClass("runtime-tree-refreshing-cursor"),
$(a[d].document.head).children("#runtime-panel-exp-style").remove(),a[d].pega.ui.inspector.turnOffEvents());$("#js-toggle-runtime-editor").removeClass("toggleLiveUIButtonOn");$(".ui-tree a").removeClass("toggleLiveUIButtonOn");$(".ui-tree button").removeClass("toggleLiveUIButtonOn");$(".runtime-control-body").removeClass("interaction-enabled");(a=document.querySelector("div[data-node-id\x3d'pzRuntimeToolsTopBar']"))&&a.classList.remove("disable-slide");setTimeout(function(){n(!1)},100);p=q.INACTIVE};
c.isSidePanelEnabled()?pega.ui.inspector.panel.hide(a):a()}function ja(){if(window==f){var a=document.createElement("DIV");a.className="runtime-control-highlight-container";a.setAttribute("isInspectorElement",!0);document.body.appendChild(a);var b=function(a){var b=a.clientX+$(window).scrollLeft();a=a.clientY+$(window).scrollTop();var c=parseInt(t.overlayElem.style.left),d=parseInt(t.overlayElem.style.top),e=$(t.overlayElem).width(),f=$(t.overlayElem).height();b>=c&&b<=c+e&&a>=d&&a<=d+f&&pega.ui.inspector.clearHighlight()};
K=new pega.ui.inspector.Highlight("secondaryTreeHighlight",a);L=new pega.ui.inspector.Highlight("primaryTreeHighlight",a);t=new pega.ui.inspector.InfoBar("inspectorTreeSecIdPanel",a,null,{confinementElement:pega.ui.inspector.getTopHarness(),offset:2,events:{mousemove:b}});B=new pega.ui.inspector.InfoBar("inspectorTreeIdPanel",a,null,{confinementElement:pega.ui.inspector.getTopHarness(),offset:2,events:{click:function(a){pega.ui.inspector.focus(pega.ui.inspector.getHoveredInspectorObject(),!1,!0);
pega.ui.inspector.setPreviousElementClipboardPath(pega.ui.inspector.getHoveredInspectorObject())},mousemove:b}});c.bulkPublish=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel",a,"pyPublishRuntimeRulesWarning",{dataTestId:"bulk-publish",frameList:pega.ui.inspector.getFrameList});m.push(c.bulkPublish);c.bulkDiscard=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel",a,"pyDiscardRuntimeRulesWarning",{dataTestId:"bulk-discard",frameList:pega.ui.inspector.getFrameList});
m.push(c.bulkDiscard);c.singlePublish=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel",a,"pyPublishSingleRuntimeRuleWarning",{dataTestId:"single-publish",frameList:pega.ui.inspector.getFrameList});m.push(c.singlePublish);c.singleDiscard=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel",a,"pyDiscardSingleRuntimeRuleWarning",{dataTestId:"single-discard",frameList:pega.ui.inspector.getFrameList});m.push(c.singleDiscard);c.deleteConfirm=new pega.ui.inspector.Overlay.DismissOnMouseOut("runtime-property-panel RuntimeDeleteOverlay",
a,"pzRunTime_ConfirmDelete",{dataTestId:"delete-confirmation"});m.push(c.deleteConfirm);c.addMenu=new pega.ui.inspector.Overlay.DismissOnMouseOut("runtime-property-panel RuntimeAddMenu",a,"pzRunTime_AddMenu",{dataTestId:"add-menu"});m.push(c.addMenu);c.quickInfo=new pega.ui.inspector.QuickInfo(a);m.push(c.quickInfo);c.actionMenu=new pega.ui.inspector.ActionMenu(a);m.push(c.actionMenu);c.ancestorList=new pega.ui.inspector.AncestorList(a,{showTarget:t.overlayElem});m.push(c.ancestorList);b={hideCallback:function(){pega.ui.inspector.enableHighlighting();
p=q.ACTIVE},showCallback:function(){p=q.BUSY}};c.errorModal=new pega.ui.inspector.ErrorModal(a,b);c.makeBranch=new pega.ui.inspector.Overlay.Modal("runtime-property-panel make-branch",a,"pzRuntime_MakeBranch",b);c.loadingIndicator=new pega.ui.busyIndicator("",!0,document.body,0)}}function ma(){if(window==f)if(1>$(".ui-tree").length){var a=function(d){C++;if(5<C){$(b).hasClass("noClick")||$(b).addClass("noClick");var g=$("#js-toggle-runtime-editor").outerWidth(),e=$("#js-toggle-runtime-editor").outerHeight(),
f=d.clientX-g/2,l=d.clientY-e/2;if(0>d.clientX||0>d.clientY||d.clientX>$(window).width()||d.clientY>$(window).height())return C=0,$(".ui-tree-mask").remove(),window.removeEventListener("mousemove",a,!0),$("#js-toggle-runtime-editor").removeClass("noClick"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),c.handleSupression(d);0>f&&(f=0);0>l&&(l=
0);f>$(window).width()-g&&(f=$(window).width()-g);l>$(window).height()-e&&(l=$(window).height()-e);$("#js-toggle-runtime-editor").css({position:"fixed",top:l,left:f})}return c.handleSupression(d)},b=document.createElement("DIV");b.setAttribute("id","js-toggle-runtime-editor");b.setAttribute("isInspectorElement","true");b.setAttribute("data-test-id","UIInspectorButton");b.innerHTML="\x3cdiv class\x3d'toggle-runtime-mask'\x3e\x3c/div\x3e\x3cdiv unselectable\x3d'on'\x3e\x3cspan  unselectable\x3d'on' class\x3d'pzbtn-img live-ui-toggle-icon'\x3e\x3c/span\x3e"+
na+" \x3c/div\x3e";$(b).appendTo(document.body);b.addEventListener("click",pega.ui.inspector.toggle,!0);b.addEventListener("mousedown",function(d){$(b).hasClass("noClick")||(0==$(".ui-tree-mask").length&&$(document.body).append("\x3cdiv class\x3d'ui-tree-mask'\x3e\x3c/div\x3e"),window.addEventListener("mousemove",a,!0));return c.handleSupression(d)},!0);window.addEventListener("mouseup",function(b){0<$(".ui-tree-mask").length&&(C=0,$(".ui-tree-mask").remove(),window.removeEventListener("mousemove",
a,!0))},!0);window.addEventListener("resize",function(){if("auto"!=$("#js-toggle-runtime-editor").css("top")){var a=$("#js-toggle-runtime-editor"),b=a.offset(),c=b.top,b=b.left,d=$(window).height()-a.height(),e=$(window).width()-a.width(),f=$(window).scrollTop(),h=$(window).scrollLeft();0>c?a.css({top:"0px"}):c-f>d&&a.css({top:d+"px"});0>b&&a.css({left:"0px"});b-h>e&&a.css({left:e+"px"})}},!0)}else if("undefined"===typeof $(".ui-tree a").attr("data-click")){$(".ui-tree").attr("isInspectorElement",
"true");pega.util.Event.addListener($(".ui-tree"),"click",pega.ui.inspector.toggle,this,!0);var d=document.querySelector('[data-node-id\x3d"pzRuntimeToolsTopBar"]');d&&d.setAttribute("isinspectorelement","true")}}function J(a){for(var b=c.getFrameList(),d=0;d<b.length;d++)b[d].pega.ui.inspector.toggleCursor(a)}function Q(a){var b=null;try{b=(a.contentDocument||a.contentWindow.document).body.innerHTML}catch(d){}return null!==b}function x(a,b){var d=[];b?d=b:d.push(window);if(a)for(b=0;b<d.length;b++){if(Q(d[b])){try{typeof d[b].pega.ui.inspector&&
c.debugLogger("Current Iframe Contains pega.ui.inspector")}catch(g){c.debugLogger("Current Iframe DOES NOT Contains pega.ui.inspector"),d[b].addEventListener("click",function(){pega.ui.inspector.focus(pega.ui.inspector.getHoveredInspectorObject())},!0),d[b].addEventListener("dblclick",c.handleSupression,!0),d[b].addEventListener("mousedown",c.handleSupression,!0),0<$(d[b].document).length&&(0==$(d[b].document.head).children("#runtime-panel-iframe-style").length&&$(d[b].document.head).append("\x3cstyle id\x3d'runtime-panel-iframe-style' type\x3d'text/css'\x3e.runtime-tree-default-cursor *{ cursor: default !important; } \x3c/style\x3e"),
$(d[b].document.body).hasClass("runtime-tree-default-cursor")||$(d[b].document.body).addClass("runtime-tree-default-cursor"))}0<d[b].frames.length&&x(a,d[b].frames)}}else for(b=0;b<d.length;b++)Q(d[b])&&(d[b].removeEventListener("click",function(){pega.ui.inspector.focus(pega.ui.inspector.getHoveredInspectorObject())},!0),d[b].removeEventListener("dblclick",c.handleSupression,!0),d[b].removeEventListener("mousedown",c.handleSupression,!0),$(d[b].document.body).removeClass("runtime-tree-default-cursor"),
0<d[b].frames.length&&x(a,d[b].frames))}function n(a){var b=!1,d=c.getFrameList();if(a)for(a=0;a<d.length;a++)0<$(d[a].document).length&&(d[a].pega.u.d.getPopOver().isActive()&&(d[a].pega.u.d.getPopOver().setState("locked"),b=!0),c.debugLogger("Set Overlay State To: "+d[a].pega.u.d.getPopOver().getState()));else for(a=0;a<d.length;a++)0<$(d[a].document).length&&"locked"==d[a].pega.u.d.getPopOver().getState()&&(d[a].pega.u.d.getPopOver().setState("active"),b=!0);return b}function R(a){if(!a||!a.ownerDocument)return null;
if(a===a.ownerDocument.body)return jQuery.offset.bodyOffset(a);var b,c=a.offsetParent,g=a.ownerDocument,e=g.documentElement,f=g.body;b=(g=g.defaultView)?g.getComputedStyle(a,null):a.currentStyle;for(var h=a.offsetTop,l=a.offsetLeft;(a=a.parentNode)&&a!==f&&a!==e&&(!jQuery.support.fixedPosition||"fixed"!==b.position);)b=g?g.getComputedStyle(a,null):a.currentStyle,h-=a.scrollTop,l-=a.scrollLeft,a===c&&(h+=a.offsetTop,l+=a.offsetLeft,!jQuery.support.doesNotAddBorder||jQuery.support.doesAddBorderForTableAndCells&&
rtable.test(a.nodeName)||(h+=parseFloat(b.borderTopWidth)||0,l+=parseFloat(b.borderLeftWidth)||0),c=a.offsetParent),jQuery.support.subtractsBorderForOverflowNotVisible&&"visible"!==b.overflow&&(h+=parseFloat(b.borderTopWidth)||0,l+=parseFloat(b.borderLeftWidth)||0);!b||"relative"!==b.position&&"static"!==b.position||(h+=f.offsetTop,l+=f.offsetLeft);jQuery.support.fixedPosition&&"fixed"===b.position&&(h+=Math.max(e.scrollTop,f.scrollTop),l+=Math.max(e.scrollLeft,f.scrollLeft));return{top:h,left:l}}
function S(a,b,c){var d=pega.ui.inspector.utilities.getElementDimension(a.get("element")[0],pega.ui.inspector.getDesktopWindow());pega.ui.inspector.utilities.adjustLocationForDesktopWindow(a,d);b&&b.show(d.left,d.top,d.width,d.height);c&&c.showByPosition(d.left,d.top,d.width,d.height)}function oa(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}function pa(){var a=$("html");T=a.hasClass("ie9")?
c.BROWSERS.IE9:a.hasClass("ie10")?c.BROWSERS.IE10:a.hasClass("ie11")?c.BROWSERS.IE11:a.hasClass("chrome")?c.BROWSERS.CHROME:a.hasClass("safari")?c.BROWSERS.SAFARI:a.hasClass("ff")?c.BROWSERS.FIREFOX:a.hasClass("edge")?c.BROWSERS.EDGE:c.BROWSERS.UNSUPPORTED}function U(a){var b=c.ignoreEvent(a);if(!1!==b)if(c.isHighlightEnabled()||pega.ui.inspector.editing.propertypanel.isOpen()){var d;a.which?d=3==a.which:a.button&&(d=2==a.button);if(0==d){if(!pega.ui.inspector.editing.propertypanel.isOpen()){b=$(b).closest("[data-ui-meta]");
if(1>b.length)if(b=pega.ui.inspector.getHoveredInspectorElement())b=$(b);else return c.handleSupression(a);b=pega.ui.inspector.utilities.getTempInspectorObject(b);d=pega.ui.inspector.getContext();var g=pega.ui.inspector.getFilter(),la=pega.ui.inspector.getStopFilter();if(b=pega.ui.inspector.parser.findCurrentElement(b,d,g,la))e.focus(b,!1,!0),c.setPreviousElementClipboardPath(b)}return c.handleSupression(a)}}else{if(0<$(b).closest("[data-click*\x3d'pxUserDashboardSetMode'][data-click*\x3d'\x26Personalize\x3dtrue']").length)return c.handleSupression(a);
f.pega.ui.inspector.panel.setListenForChanges(!0);f.pega.ui.inspector.panel.setTreeNeedsToRefresh(!0)}}function V(a){a||(a=window.event);if(a.target)var b;b=c.ignoreEvent(a);if(!1!==b){qa(b);b=$(b).closest("[data-ui-meta]");if(1>b.length)return!1;if(D&&D[0]&&b[0]==D[0])return c.debugLogger("handleMouseOver - Skip re-highlight, elements are the same"),c.handleSupression(a);D=b;a=pega.ui.inspector.utilities.getTempInspectorObject(b);b=pega.ui.inspector.getContext();var d=pega.ui.inspector.getFilter(),
g=pega.ui.inspector.getStopFilter();(a=pega.ui.inspector.parser.findCurrentElement(a,b,d,g))&&e.hover(a)}}function w(a){if(0!=c.ignoreEvent(a)&&c.isHighlightEnabled())return c.handleSupression(a)}function W(a){if(a.target)var b=a.target;else a.srcElement&&(b=a.srcElement);if("HTML"==$(b)[0].tagName)return!0;w(a)}function qa(a){if(!pega.ui.inspector.panel.getListenForChanges()){var b=$(a).closest("*[title]");if(0<b.length){var b=b[0],c=b.title;if(c&&""!=c){b.title="";var e=function(){b.title=c;b.removeEventListener("mouseleave",
e)};b.addEventListener("mouseleave",e)}}}}function X(a){clearTimeout(Y);Y=setTimeout(ra,25)}function ra(){$("div.runtime-confirmation-modal .runtime-modal-error-content").is(":visible")||pega.ui.inspector.hideAllOverlays();setTimeout(function(){pega.ui.inspector.rehighlight(!1)},250)}function M(a){if(0!=c.ignoreEvent(a)){clearTimeout(Z);a=c.isElementFocused();var b=c.getPreviousElementClipboardPath();0==a&&null!=b&&(c.setElementFocused(!0),$(b.frame).scrollTop(b.scroll));1!=c.getIgnoreScrollForHighlight()&&
pega.u.d.isModalLoaded()||(Z=setTimeout(function(){c.rehighlight(!1)},25))}}function sa(a){if(0!=c.ignoreEvent(a)&&-1<"top right bottom left width height opacity padding-top padding-right padding-bottom padding-left font-size".split(" ").indexOf(a.propertyName)){clearTimeout(aa);a=c.isElementFocused();var b=c.getPreviousElementClipboardPath();0==a&&null!=b&&(c.setElementFocused(!0),$(b.frame).scrollTop(b.scroll));1!=c.getIgnoreScrollForHighlight()&&pega.u.d.isModalLoaded()||(aa=setTimeout(function(){c.rehighlight(!1)},
25))}}function N(){pega.u.d.focusElement=document.body;$("input:focus").blur();$("textarea:focus").blur()}function ba(a){a||(a=window.event);if(a.pageX||a.pageY)y=a.clientX,z=a.clientY;else if(a.clientX||a.clientY)y=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,z=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;e.setMousePosition(y,z)}function O(a){null!=a.document.querySelector(".ui-tree.designer-studio")&&(a.pega.ui.inspector.isActive()&&a.pega.ui.inspector.panel.startListeningForChanges(),
null!=document.querySelector(".ui-tree.designer-studio")&&c.toggle());pega.ui.inspector.hideAllOverlays()}var c={},ca=!1,na=pega.u.d.fieldValuesList.get("LiveUI");c.BROWSERS={IE9:"ie9",IE10:"ie10",IE11:"ie11",CHROME:"chrome",SAFARI:"safari",FIREFOX:"firefox",EDGE:"edge",UNSUPPORTED:"unsupported"};var q={ACTIVE:"active",INACTIVE:"inactive",LOADING:"loading",BUSY:"busy"},T=null,m=[],K,L,t,B,E,D,Z,aa,Y,F=!1,G=!1,H=!1,C=0,da=!0,f=null,e=null,v=null,ea,fa,I,k,r,h,ga=!1,P,ha=!1,ia=[],y,z,p;c.start=function(){if(!pega||
!pega.offline){var a=oa();if(!(8>=a&&1<=a||0<$("#PreviewScripts").length||0<$('[node_name\x3d"pzGeneratedJava"]').length||0<$("#where-am-i").length||"pxExpress"===pega.desktop.portalName&&0<$('[node_name\x3d"pyScheduleCreate"]').length||0<$('[node_name\x3d"pySearchResults"]').length||document.querySelector("[node_name\x3d'DisplayReport']")||document.querySelector("[node_name\x3d'pyHistoryAndAttachments']")||document.querySelector("[node_name\x3d'PrintView']")||-1<window.location.href.indexOf("StreamName\x3dDecisionTablePrompt"))){if(null==
pega.desktop.support.getDesktopWindow())return!1;p=q.INACTIVE;pa();window.onunload=pega.ui.inspector.removeFrameFromList;f=pega&&pega.ui&&pega.ui.composer?pega.ui.composer.getCurrentComposerWindow():pega.desktop.support.getDesktopWindow();v=$("[data-ui-meta*\x3d\"'type':'Harness'\"]").first();if(self!=pega.desktop.support.getDesktopWindow())if(window.opener){if(0==v.length)return;f=window;c.enableSidePanel(!1)}else window.parent&&window.parent.opener&&(f=window.parent);if(null!=f)try{f.pega.ui.inspector&&
(e=f.pega.ui.inspector,1==e.isActive()&&c.isHighlightEnabled()&&(c.setPreviousElementClipboardPath(null),c.clearAllHighlights(!0),e.panel.getListenForChanges()&&pega.ui.inspector.panel.addDOMMutationEvents(),pega.ui.inspector.panel.setRefreshTimer()),!0===pega.u.d.isUIInspectorButtonEnabled&&ma(),window.addEventListener("mousedown",pega.ui.inspector.lockVisibleOverlay,!0),window.pega.u.d.attachOnUnload(function(){window.removeEventListener("mousedown",pega.ui.inspector.lockVisibleOverlay,!0)}),c.addToFrameList(self))}catch(b){}self==
f&&c.isSidePanelEnabled()&&pega.ui.inspector.panel.initialize()}}};c.toggle=function(){if(!pega||!pega.offline)if(f!=window&&null!=e)e.toggle();else{if($("#js-toggle-runtime-editor").hasClass("noClick"))return $("#js-toggle-runtime-editor").removeClass("noClick"),!1;if(!pega.ui.inspector.editing.propertypanel.isOpen()){if(p==q.LOADING||0<$(".pz-gap-panel-active").length)return!1;if(1==e.isActive())ka();else{if(0<$(".two-col-main-sidebar_dashboard_personalization_panel_on").length)return!1;for(var a=
pega.ui.inspector.utilities.getFrameList(window),b=0;b<a.length;b++){var c=a[b];if(c&&c.document&&c.document.body&&null!=c.frameElement&&$(c.frameElement).is(":visible")&&0<$(c.document).find(".two-col-main-sidebar_dashboard_personalization_panel_on").length)return!1}A();N()}return!0}}};c.turnOnEvents=function(){window.addEventListener("mouseover",V,!0);window.addEventListener("mousemove",ba,!0);window.addEventListener("click",U,!0);window.addEventListener("dblclick",w,!0);window.addEventListener("contextmenu",
w,!0);window.addEventListener("keydown",c.handleKeyDown,!0);window.addEventListener("keyup",c.handleKeyUp,!0);window.addEventListener("scroll",M,!0);window.addEventListener("transitionend",sa,!0);c.getBrowser()===c.BROWSERS.SAFARI?window.addEventListener("mousedown",W,!0):window.addEventListener("mousedown",w,!0);window==f&&window.addEventListener("resize",X,!0);N()};c.turnOffEvents=function(){window.removeEventListener("mouseover",V,!0);window.removeEventListener("mousemove",ba,!0);window.removeEventListener("click",
U,!0);window.removeEventListener("dblclick",w,!0);window.removeEventListener("contextmenu",w,!0);window.removeEventListener("keydown",c.handleKeyDown,!0);window.removeEventListener("keyup",c.handleKeyUp,!0);window.removeEventListener("scroll",M,!0);window.removeEventListener("transitionend",M,!0);c.getBrowser()===c.BROWSERS.SAFARI?window.removeEventListener("mousedown",W,!0):window.removeEventListener("mousedown",w,!0);window==f&&window.removeEventListener("resize",X,!0)};c.isActive=function(){return f!=
window&&null!=e?e.isActive():p!=q.INACTIVE};c.toggleCursor=function(a){a?v.hasClass("runtime-tree-default-cursor")||v.addClass("runtime-tree-default-cursor"):v.hasClass("runtime-tree-default-cursor")&&v.removeClass("runtime-tree-default-cursor")};c.toggleSuppression=function(){if(pega.ui.inspector.editing.propertypanel.isOpen())return!1;if(c.isHighlightEnabled()){pega.ui.inspector.panel.stopListeningForChanges();$(".runtime-control-body").addClass("interaction-enabled");c.disableHighlighting();c.clearAllHighlights();
x(!1);J(!1);$(".runtime-control-tree").addClass("ui-tree-readonly");var a=$(".runtime-control-undo-enabled");0<a.length&&(a.addClass("runtime-control-undo-disabled"),$(".runtime-control-undo-disabled").removeClass("runtime-control-undo-enabled"),$(".runtime-control-undo-disabled img").addClass("cursordefault"),pega.ui.inspector.utilities.removeDataClick(".runtime-control-undo-disabled img"));setTimeout(function(){n(!1)},100)}else $(".runtime-control-body").removeClass("interaction-enabled"),pega.ui.inspector.panel.getListenForChanges()&&
pega.ui.inspector.panel.isUITreeVisible()&&(c.setPreviousElementClipboardPath(null),e.clearAllHighlights(!0)),$(".runtime-control-tree").removeClass("ui-tree-readonly"),N(),n(!0),c.enableHighlighting(),x(!0)};c.getDesktopWindow=function(){return f};c.getDesktopWindowInspectorProxy=function(){return e};c.getTopHarness=function(){return v};c.getBrowser=function(){return T};c.lockVisibleOverlay=function(a){c.debugLogger("Mouse Down - lockVisibleOverlay");var b=null;a||(a=window.event);a&&a.target?b=
a.target:a&&a.srcElement&&(b=a.srcElement);var d=function(a){c.debugLogger("Mouse Leave - "+pega.ui.inspector.isActive());var b=null;a||(a=window.event);a&&a.target?b=a.target:a&&a.srcElement&&(b=a.srcElement);setTimeout(function(){0<$(b).closest("[isinspectorelement\x3d'true']").length?pega.ui.inspector.isHighlightEnabled()?n(!0):pega.ui.inspector.isHighlightEnabled()||n(!1):pega.ui.inspector.isActive()||n(!1)},25);a=$(b).closest(".ui-tree");0<a.length&&(b=a[0]);b.removeEventListener("mouseleave",
d,!0)};a=!1;0<$(b).closest(".ui-tree").length||0<$(b).closest("#js-toggle-runtime-editor").length?a=n(!0):0<$(b).closest("[isinspectorelement\x3d'true']").length&&(pega.ui.inspector.isHighlightEnabled()||(a=n(!0)));a&&(a=$(b).closest(".ui-tree"),0<a.length&&(b=a[0]),b.addEventListener("mouseleave",d,!0))};c.repositionOpenOverlay=function(){var a=$("#_popOversContainer \x3e div");if(null!=a&&"visible"==a.css("visibility")&&a.offset().left+a.outerWidth()>v.width()){var b=v.width()-a.outerWidth()-10;
0>b&&(b=0);a.css({left:b+"px"})}};c.hideAllOverlays=function(){for(var a=0;a<m.length;a++)m[a].hide()};c.hover=function(a,b){if(f!=window&&null!=e)return e.hover(a,b);if(!c.isHighlightEnabled())return!1;var d=c.getFocusedInspectorObject();if(d&&d.get("element")[0]==a.get("element")[0])return pega.ui.inspector.clearHighlight();var d=!0,g=pega.ui.inspector.panel.getJsTreeRef();!b&&pega.ui.inspector.panel.isUITreeVisible()&&g&&(d=0==g.hover_node(a.id))&&(b=c.getHoveredInspectorObject())&&g.dehover_node(b.id);
d&&(B.setContent(pega.ui.inspector.utilities.getHoverInfoBarContent(a)),S(a,L,B));pega.ui.inspector.setHoveredInspectorObject(a)};c.focus=function(a,b,d){if(f!=window&&null!=e)return e.focus(a,b,d);if(!c.isHighlightEnabled())return!1;pega.ui.inspector.panel.displaySkinInfo(a.ownerWindow.pega.u.d.skinRuleName);var g=pega.ui.inspector.panel.getJsTreeRef();c.setFocusedInspectorObject(a);if(!b&&pega.ui.inspector.panel.isUITreeVisible()&&g){if(g.deselect_all(),d&&g.close_all(),g.select_node(a.id),a=c.getBrowser(),
a===c.BROWSERS.CHROME||a===c.BROWSERS.SAFARI)if(d=c.getFocusedInspectorElement(),null==E||E.get("element")&&E.get("element")[0]!=d)if(a=$(d).scrollParent(),null!=a&&1==a.length){var h=d.getBoundingClientRect().top,u,k;"[object HTMLDocument]"!=Object.prototype.toString.call(a[0])?(u=a[0].getBoundingClientRect().top,k=a[0].getBoundingClientRect().bottom):(u=0,k=$(window).height());g=a.scrollTop();b=a.height();c.getFocusedInspectorObject().ownerWindow!=window&&(h=a.offset(),u=0,h&&(u=h.top),h=$(d).offset().top,
0!=u&&(h+=g),u+=g,k=u+b);if(h<u||h>k){c.clearHighlight(!0);g=g+h-u;d=$(d).height();g=d<b?g-(b-d)/2:g-b/2;try{a.stop(!0).animate({scrollTop:g},500)}catch(l){c.debugLogger("_scrollToFocusedElement has failed! "+l),c.rehighlight(!1)}}}}else pega.ui.inspector.clearHighlight(!1),t.setContent(pega.ui.inspector.utilities.getFocusInfoBarContent(a)),S(a,K,t)};c.enableHighlighting=function(a){if(f!=window&&null!=e)e.enableHighlighting();else if(pega.ui.inspector.editing.propertypanel.isOpen())$(".runtime-control-tree").addClass("ui-tree-readonly");
else{for(var b=c.getFrameList(),d=0;d<b.length;d++)0<$(b[d].document).length&&($(b[d].document.head).children("#runtime-panel-exp-style").remove(),b[d].pega.ui.inspector.repositionOpenOverlay());J(!0);P=!0;setTimeout(pega.ui.inspector.panel.refresh,500);pega.ui.inspector.panel.getListenForChanges()&&pega.ui.inspector.panel.isUITreeVisible()?pega.ui.inspector.panel.startListeningForChanges():(pega.ui.inspector.panel.setListenForChanges(!1),0!=a&&(a=!0),c.rehighlight(a))}};c.disableHighlighting=function(){f!=
window&&null!=e?e.disableHighlighting():P=!1};c.isHighlightEnabled=function(){return f!=window&&null!=e?e.isHighlightEnabled():P};c.clearHighlight=function(a){a?(K.hide(),t.hide(),c.setElementFocused(!1)):(L.hide(),B.hide(),r&&pega.ui.inspector.panel.isUITreeVisible()&&pega.ui.inspector.panel.getJsTreeRef()&&pega.ui.inspector.panel.getJsTreeRef().dehover_node(r.id))};c.clearAllHighlights=function(a){if(f!=window&&null!=e)return e.clearAllHighlights(a);a&&(k=r=null);c.clearHighlight();c.clearHighlight(!0);
pega.ui.inspector.panel.isUITreeVisible()&&pega.ui.inspector.panel.getJsTreeRef()&&pega.ui.inspector.panel.getJsTreeRef().deselect_all();pega.ui.inspector.hideAllOverlays()};c.getElementLocation=function(a,b,d){b||(b={});if(!b.width||!b.height){b=a.get("element")[0];var e={width:0,height:0},h="DYNAMICLAYOUTGROUP"==a.get("subType")||"REPEATINGDYNAMICLAYOUTGROUP"==a.get("subType");if(h)var k=R(b).top;var m=a.get("type")&&"Layout"==a.get("type")&&(!a.get("subType")||"TABGROUP"!=a.get("subType"));if(m){var l=
$(b).css("display"),p=$(b).css("overflow");$(b).css({display:"block",overflow:"hidden"})}e.width=b.offsetWidth;e.height=b.offsetHeight;h&&(e.top=k);m&&$(b).css({display:l,overflow:p});c.getBrowser()!==c.BROWSERS.CHROME&&c.getBrowser()!==c.BROWSERS.SAFARI||"span"!=b.nodeName.toLowerCase()||(k=b.style.display,"inline"!=k&&"block"!=k&&(2>=b.offsetHeight&&(b.style.display="block",e.width=$(b).width(),e.height=$(b).height()),null!=k&&(b.style.display=k)));b=e;e=R(a.get("element")[0]);b.left=e.left;b.top=
e.top}d&&(e=d.frameElement.getBoundingClientRect(),a.set("ownerWindowLeft",e.left),a.set("ownerWindowTop",e.top),b.left+=e.left,b.top+=e.top);window!=f&&0==pega.ui.inspector.getIgnoreScrollForHighlight()&&(b.top-=$(window).scrollTop(),b.left-=$(window).scrollLeft());d=window;try{d=window.parent}catch(ta){}return window!=f&&d!=window?d.pega.ui.inspector.getElementLocation(a,b,window):b};c.getFocusedInspectorObject=function(){return f!=window&&null!=e?e.getFocusedInspectorObject():k};c.setFocusedInspectorObject=
function(a){if(f!=window&&null!=e)return e.setFocusedInspectorObject(a);E=k;k=a};c.getFocusedInspectorElement=function(){return f!=window&&null!=e?e.getFocusedInspectorElement():k?k.get("element")[0]:!1};c.getHoveredInspectorObject=function(){return f!=window&&null!=e?e.getHoveredInspectorObject():r};c.setHoveredInspectorObject=function(a){if(f!=window&&null!=e)return e.setHoveredInspectorObject(a);r=a};c.getHoveredInspectorElement=function(){return f!=window&&null!=e?e.getHoveredInspectorElement():
r?r.get("element")[0]:!1};c.isElementFocused=function(){return f!=window&&null!=e?e.isElementFocused():ha};c.setElementFocused=function(a){if(f!=window&&null!=e)return e.setElementFocused(a);ha=a};c.getActiveWindow=function(){return f!=window&&null!=e?e.getActiveWindow():k?k.ownerWindow:null};c.rehighlight=function(a){if(f!=window&&null!=e)return e.rehighlight(a);if(!c.isHighlightEnabled())return!1;if(k&&null!=k.get("element")&&k.ownerWindow.document.body.contains(k.get("element")[0]))pega.ui.inspector.focus(k,
!1,a);else if(h&&null!=h.path)if(h.frame&&!h.frame.document.body.contains(h.element))h=null;else{var b=null,d,g=$(h.element).children("[data-ui-meta *\x3d '"+h.name+"']");0==g.length&&(g=h.element.querySelectorAll("[data-ui-meta *\x3d '"+h.name+"']"));for(var m,p=pega.ui.inspector.panel.isUITreeVisible(),q=!1,l=0;l<g.length;l++){d=g[l].querySelectorAll("[data-ui-meta *\x3d \"'pgRef':'"+h.path+"'\"]");for(var n=0;n<d.length;n++)if((m=p?pega.ui.inspector.panel.getInspectorObjectByElement(d[n]):pega.ui.inspector.utilities.getTempInspectorObject($(d[n])))&&
(m=pega.ui.inspector.parser.getNearestParent(m,[{type:"Section"}]))&&m.get("ruleName")==h.name){b=$(d[n]);q=!0;break}if(q)break}null!=b&&(d=null,pega.ui.inspector.panel.isUITreeVisible()&&(d=pega.ui.inspector.panel.getInspectorObjectByElement(b[0])),d||(d=pega.ui.inspector.utilities.getTempInspectorObject(b)),c.focus(d,!1,a))}r&&null!=r.get("element")&&pega.ui.inspector.hover(r,!1,a)};c.setPreviousElementClipboardPath=function(a){if(f!=window&&null!=e)return e.setPreviousElementClipboardPath(a);var b;
a&&(b=a.get("pgRef"));if(b){var c=$(a.ownerWindow).scrollTop(),g=pega.ui.inspector.parser.getNearestParent(a,[{type:"Section"},{type:"Harness"}]);null==g&&(g=a);var k=g.get("ruleName"),g=-1<$(g.get("element")[0]).attr("data-ui-meta").indexOf("Layout")?g.get("element")[0]:g.get("type")&&g.get("subType")&&"Section"==g.get("type")&&"PANEL"==g.get("subType")?g.get("element")[0].querySelector("[data-ui-meta*\x3d'"+k+"']").parentElement:g.get("element")[0].parentElement;h={path:b,element:g,name:k,scroll:c,
frame:a.ownerWindow}}else h=null};c.getPreviousElementClipboardPath=function(){return f!=window&&null!=e?e.getPreviousElementClipboardPath():h};c.adjustClipboardPathOfLastElement=function(a){var b=h.path.lastIndexOf(".pyCells(");if(-1!=b){var c=h.path.substring(b+9),e=c.indexOf(")");a=parseInt(c.substring(0,e))+a;h.path=h.path.substring(0,b+9)+a.toString()+")"}return-1};c.setIgnoreScrollForHighlight=function(a){f!=window&&null!=e?e.setIgnoreScrollForHighlight(a):ga=a};c.getIgnoreScrollForHighlight=
function(){return f!=window&&null!=e?e.getIgnoreScrollForHighlight():ga};c.isClickingSuppressed=function(){return c.isActive()&&c.isHighlightEnabled()?!0:!1};c.launchDeclarativeNetwork=function(a,b,c,f,h){e.getActiveWindow().showDeclarativeNetwork(a,b,c,f,h)};c.setDebug=function(a){ca=a};c.debugLogger=function(a){ca&&console.log(a)};c.isSidePanelEnabled=function(){return f!=window&&null!=e?e.isSidePanelEnabled():da};c.enableSidePanel=function(a){if(f!=window&&null!=e)return e.enableSidePanel(a);da=
a};c.getFilter=function(){return f!=window&&null!=e?e.getFilter():ea};c.setFilter=function(a){if(f!=window&&null!=e)return e.setFilter(a);ea=a};c.getStopFilter=function(){return f!=window&&null!=e?e.getStopFilter():fa};c.setStopFilter=function(a){if(f!=window&&null!=e)return e.setStopFilter(a);fa=a};c.getContext=function(){return f!=window&&null!=e?e.getContext():I};c.setContext=function(a){if(f!=window&&null!=e)return e.setContext(a);null==a&&(a=document.body);I=a};c.getFrameList=function(){return f!=
window&&null!=e?e.getFrameList():ia};c.addToFrameList=function(a){f!=window&&null!=e?e.addToFrameList(a):(ia.push(a),1==e.isActive()&&a.pega.ui.inspector.turnOnEvents())};c.removeFrameFromList=function(a){a=c.getFrameList();for(var b=a.length,d=0;d<b;d++)a[d]==window&&a.splice(d,1)};c.isActionsMenuIconEnabled=function(a){var b=a.get("type"),c=a.get("subType"),e=pega.ui.inspector.utilities.isElementInModal(a.get("element")[0]),e=a.get("flowAction")&&""!=a.get("flowAction")&&!e,f=pega.ui.inspector.parser.getNearestParent(a);
a="DYNAMICLAYOUT"==a.get("subType")||f&&"DYNAMICLAYOUT"==f.get("subType");return"Harness"!=b&&"Container"!=b&&"FlowAction"!=b&&!("Layout"==b&&"FREEFORM"==c)&&!("Layout"==b&&"TEMPLATE"==c)&&!("Layout"==b&&"REPEATHORIZONTAL"==c)&&!("Layout"==b&&"REPEATTABBED"==c)&&!("Section"==b&&null!=c&&"PANEL"==c)&&!("Section"==b&&(null==c||""==c))&&!("Cell"==b&&"HEADERTITLE"==c)&&(e||a)};c.isTemplateSection=function(a){if("Section"!=a.get("type")||"Section"==a.get("type")&&"CELL"==a.get("subType"))if(a=pega.ui.inspector.parser.getNearestParent(a,
[{type:"Section"}]))a=a.get("element");else return!1;else a=a.get("element");var b=a[0].ownerDocument.defaultView;return"function"===typeof b.pega.u.d.getPopOver&&"locked"==b.pega.u.d.getPopOver().getState()&&b.pega.u.d.getPopOver().getSectionElement()==a[0]||b.pega.u.d.bModalDialogOpen&&b.pega.u.d.modalDialog.body.children[0]==a[0]?!0:!1};c.ignoreEvent=function(a){a||(a=window.event);if(a.target)var b=a.target;else a.srcElement&&(b=a.srcElement);if("sectionDisplayIFRAME"===window.name)return!1;a=
$(b).closest("#_popOversContainer");if(0<a.length&&0<a.find(".runtime-property-panel").length||pega.ui.inspector.editing.propertypanel.isOpen()&&(0<a.length||0<$(b).closest(".autocompleteAG").length||0<$(b).closest("#expression-builder").length)||0<$(b).closest("[isInspectorElement]").length||0<$(b).closest("#runtime-property-panel").length||0<$(b).closest(".runtime-property-panel").length||0<$(b).closest("[aria-label\x3d'GenerateNewAutomationID']").length||0<$(b).closest("#acresults-list").length||
0<$(b).closest("#ISnsSelect").length||0<$(b).closest("[aria-label\x3d'pzChangeTemplateType']").length||0<$(b).closest(".ui-inspector").length||b.tagName&&("frame"==b.tagName.toLowerCase()||"iframe"==b.tagName.toLowerCase())&&e.getActiveWindow()!=window)return!1;0<$(b).closest("#modalWrapper").length?c.setIgnoreScrollForHighlight(!0):c.setIgnoreScrollForHighlight(!1);return b};c.handleKeyDown=function(a){if(f!=window&&null!=e)return e.handleKeyDown(a);if(e.isActive()&&!pega.ui.inspector.editing.propertypanel.isOpen()&&
p!=q.BUSY){switch(a.keyCode){case 16:F=!0;break;case 17:G=!0}F&&G&&!H&&(H=!0)}};c.handleKeyUp=function(a){if(f!=window&&null!=e)return e.handleKeyUp(a);if(e.isActive()&&!pega.ui.inspector.editing.propertypanel.isOpen()){switch(a.keyCode){case 16:F=!1;break;case 17:G=!1;break;default:c.isHighlightEnabled()||pega.ui.inspector.panel.setListenForChanges(!0)}F||G||!H||(c.toggleSuppression(),H=!1)}};c.handleSupression=function(a){a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.stopPropagation&&
a.stopPropagation();return!1};c.setMousePosition=function(a,b){f!=window&&null!=e?e.setMousePosition(a,b):(y=a,z=b)};c.getMouseX=function(){return y};c.getMouseY=function(){return z};c.openElementRuleForInsKey=function(a){return pega.ui.inspector.utilities.openRuleByInsKey(a,O)};c.openElementRule=function(a,b,c){return pega.ui.inspector.utilities.openRuleByClassAndName(a,b,c,O)};c.openSkinRule=function(a){return pega.ui.inspector.utilities.openRuleByClassAndName(null,a,"Rule-PortalSkin",O)};return c}();
window.addEventListener("load",function(){pega.ui.inspector.start()});$pNamespace("pega.ui.designer");pega.ui.designer.tree=function(){var A={};A.toggle=pega.ui.inspector.toggle;return A}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.utilities=(function(){var uniqueID=1;var SUB_TYPES={PXICON:"Icon",PXLINK:"Link",PXRADIOBUTTONS:"Radio Buttons",PXAUTOCOMPLETE:"Autocomplete",PXCHECKBOX:"Checkbox",PXDROPDOWN:"Dropdown",PXTEXTAREA:"Text Area",PXTEXTINPUT:"Text Input",PXBUTTON:"Button",PXDISPLAYTEXT:"Formatted Text",PXHIDDEN:"Hidden Text",PXCURRENCY:"Currency",PXDATETIME:"Date Time",PXINTEGER:"Integer",PXNUMBER:"Number",PXPASSWORD:"Password",PXPERCENTAGE:"Percentage",PXATTACHCONTENT:"Attach Content",DATAFIELD:"Data Field",MENUBAR:"Menu Bar",PXRICHTEXTEDITOR:"Rich Text Editor",PXADDRESSMAP:"Address Map",PXSIGNATURECAPTURE:"Signature Capture",PXMENU:"Menu",TOP:"Top",LEFT:"Left",RIGHT:"Right",CENTER:"Center",BOTTOM:"Bottom",FREEFORM:"Free Form",TEMPLATE:"Smart",DYNAMICLAYOUT:"Dynamic",TABGROUP:"Tab Group",REPEATGRID:"Table",DYNAMICCOLUMN:"Dynamic Column",DYNAMICLAYOUTGROUP:"Layout Group",DYNAMICREPEATING:"Dynamic Repeating",REPEATVERTICAL:"Repeat Vertical",REPEATHORIZONTAL:"Repeat Horizontal",REPEATTABBED:"Repeat Tabbed",REPEATTREE:"Hierarchical List",REPEATTREEGRID:"Hierarchical Table",SECTIONINCLUDE:"Section",SUB_SECTION:"Section (Cell)",CELL:"Cell",PANEL:"Panel",CONTAINER:"Container",LAYOUT:"Layout",REPEATINGDYNAMICLAYOUTGROUP:"Dynamic Layout Group",LABEL:"Label",PXCHART:"Chart",PXEMAIL:"Email",PXPHONE:"Phone",PXURL:"URL",SMARTLABEL:"Smart Label",LISTTOLIST:"List to List",PXMULTISELECT:"Multiselect List"};function _calculateElementWidthAndHeight(htmlElement){var inspectorElementObj=publicAPI.getTempInspectorObject($(htmlElement));var dimensions={width:0,height:0};var isDynamicGroupLayout=((inspectorElementObj.get("subType")=="DYNAMICLAYOUTGROUP")||(inspectorElementObj.get("subType")=="REPEATINGDYNAMICLAYOUTGROUP"));if(isDynamicGroupLayout){var DynamicGroupTop=_getOffSetValue(htmlElement).top}dimensions.width=htmlElement.offsetWidth;dimensions.height=htmlElement.offsetHeight;if(isDynamicGroupLayout){dimensions.top=DynamicGroupTop}if(($(document.documentElement).hasClass("chrome")||$(document.documentElement).hasClass("safari"))&&htmlElement.nodeName.toLowerCase()=="span"){var tempElementDisplay=htmlElement.style.display;if(tempElementDisplay!="inline"&&tempElementDisplay!="block"){var elemHeight=htmlElement.offsetHeight;if(elemHeight<=2){htmlElement.style.display="block";dimensions.width=$(htmlElement).width();dimensions.height=$(htmlElement).height()}if(tempElementDisplay!=null){htmlElement.style.display=tempElementDisplay}}}return dimensions}function _getOffSetValue(elem){if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.support.doesNotAddBorder&&!(jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent;offsetParent=elem.offsetParent}if(jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle&&(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static")){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}function _openRule(insKey,ruleName,className,objClass,callback){if(!(insKey!=null||ruleName!=null)){return }var oAttachedDesktop;if(pega.ui.composer){oAttachedDesktop=pega.ui.composer.getCurrentComposerWindow().pega.desktop.support.getAttachedDesignerDesktop()}else{oAttachedDesktop=pega.desktop.support.getAttachedDesignerDesktop()}if(oAttachedDesktop.pega.desktop.portalCategory==="workspace"){if(insKey!=null){oAttachedDesktop.pega.desktop.wks.openRule("Developer",insKey)}else{if(className!=null&&objClass!=null){oAttachedDesktop.pega.desktop.wks.openRule("Developer",objClass,className+"!"+ruleName,"")}else{oAttachedDesktop.pega.desktop.wks.openRule("Developer",objClass,ruleName,"")}}}else{if(oAttachedDesktop.pega.u.d.getHarnessClass()!="Data-Portal-DesignerStudio"||oAttachedDesktop.pega.u.d.getHarnessPurpose()!="pzStudio"){pega.desktop.showNextInWindow()}if(insKey!=null){oAttachedDesktop.pega.desktop.openRule(insKey,true)}else{if(className!=null&&objClass!=null){oAttachedDesktop.pega.desktop.openRuleByClassAndName(className+"!"+ruleName,objClass)}else{oAttachedDesktop.pega.desktop.openRuleByClassAndName(ruleName,objClass)}}}if(callback!=null){callback(oAttachedDesktop)}}var publicAPI={};publicAPI.openRuleByInsKey=function(insKey,callback){return _openRule(insKey,null,null,null,callback)};publicAPI.openRuleByClassAndName=function(className,ruleName,objClass,callback){return _openRule(null,ruleName,className,objClass,callback)};publicAPI.getUniqueID=function(reset){if(reset==true){uniqueID=1}else{return uniqueID++}};publicAPI.getTargetFromEvent=function(myEvent){if(!myEvent){myEvent=window.event}var tg=null;if(myEvent.target){tg=myEvent.target}else{if(myEvent.srcElement){tg=myEvent.srcElement}}return tg};publicAPI.reverseChildren=function(elem){if(elem.children.length>1){for(var i=elem.children.length-2;i>=0;i--){elem.appendChild(elem.children[i])}}};publicAPI.removeChildren=function(elem){if(elem.children.length>0){while(elem.firstChild){elem.removeChild(elem.firstChild)}}};publicAPI.moveElement=function(elem,x,y){var elemStyle=elem.style;if(document.all){elemStyle.pixelLeft=x;elemStyle.pixelTop=y}else{elemStyle.left=x+"px";elemStyle.top=y+"px"}};publicAPI.createElement=function(tag,attributes,events){var tempElement=document.createElement(tag);for(var key in attributes){tempElement[key]=attributes[key]}for(var key in events){tempElement.addEventListener(key,events[key])}return tempElement};publicAPI.displayUIElementText=function(metaData){var PROPERTY_TEXT="Property";var EMPTY_TEXT="Empty";var returnString="";if(metaData.type=="Section"&&metaData.subType&&metaData.subType!=""){if(metaData.subType!="LAYOUT"){returnString+="<span class='runtime-tree-prefix'>"+metaData.type+" in "+metaData.subTypeDisplay.toLowerCase()}else{returnString+="<span class='runtime-tree-prefix'>"+metaData.type+" include "}if(metaData.ruleName&&metaData.ruleName!=""){returnString+=" -</span><span class='RuntimeInspectorValue'> "+metaData.ruleName+"</span>"}else{returnString+=" -</span><span class='RuntimeInspectorValue'> non-auto generated</span>"}}else{if(metaData.type=="Section"||metaData.type=="Harness"){returnString+="<span class='runtime-tree-prefix'>"+metaData.type+" -</span><span class='RuntimeInspectorValue'> "+metaData.ruleName+"</span>"}else{if(metaData.type=="FlowAction"){returnString+="<span class='runtime-tree-prefix'>Flow Action -</span><span class='RuntimeInspectorValue'> "+metaData.ruleName+"</span>"}else{if(metaData.type=="Panel"){returnString+="<span class='runtime-tree-prefix'>"+metaData.type+" -</span><span class='RuntimeInspectorValue'> "+metaData.subTypeDisplay+"</span>"}else{if(metaData.type=="Layout"&&(metaData.subTypeDisplay!=""&&metaData.subTypeDisplay)){if(metaData.subTypeDisplay==SUB_TYPES.DYNAMICLAYOUTGROUP||metaData.subTypeDisplay==SUB_TYPES.REPEATINGDYNAMICLAYOUTGROUP){returnString+="<span class='runtime-tree-prefix'>"+metaData.subTypeDisplay+"</span>"}else{returnString+="<span class='runtime-tree-prefix'>"+metaData.subTypeDisplay+" "+metaData.type+"</span>"}}else{if(metaData.type=="Layout"||metaData.type=="Container"){returnString+="<span class='runtime-tree-prefix'>"+metaData.type+"</span>"}else{if(metaData.type=="Cell"&&(metaData.clipboardPath!=""&&metaData.clipboardPath)&&(metaData.subTypeDisplay!=""&&metaData.subTypeDisplay)){returnString+="<span class='runtime-tree-prefix'>"+metaData.subTypeDisplay+" -</span><span class='RuntimeInspectorValue'> "+decodeURIComponent(metaData.clipboardPath)+"</span>"}else{if(metaData.type=="Cell"&&(metaData.subTypeDisplay!=""&&metaData.subTypeDisplay)){returnString+="<span class='RuntimeInspectorValue'>"+metaData.subTypeDisplay+"</span>"}else{if(metaData.type=="Cell"&&(metaData.clipboardPath!=""&&metaData.clipboardPath)){returnString+="<span class='runtime-tree-prefix'>"+PROPERTY_TEXT+" -</span><span class='RuntimeInspectorValue'> "+decodeURIComponent(metaData.clipboardPath)+"</span>"}else{if(metaData.type=="Cell"){returnString+="<span class='runtime-tree-prefix'>"+EMPTY_TEXT+"</span>"}else{returnString+="Not Supported by Inspector"}}}}}}}}}}return returnString};publicAPI.translateMetaData=function(metaData){if(metaData.subType!=null||metaData.subType){var temp=decodeURIComponent(metaData.subType);temp=temp.trim();var newSubType=SUB_TYPES[temp];if(newSubType&&newSubType!=""){metaData.subTypeDisplay=newSubType}}if(metaData.clipboardPath!=""&&metaData.clipboardPath){var pyTemplate=/pyTemplate/;if(metaData.clipboardPath.match(pyTemplate)=="pyTemplate"){metaData.clipboardPath=""}}return metaData};publicAPI.removeDataClick=function(cssSelector){var originalVal=$(cssSelector).attr("data-click");$(cssSelector).attr("data-click-original",originalVal);$(cssSelector).removeAttr("data-click")};publicAPI.restoreDataClick=function(cssSelector){var originalVal=$(cssSelector).attr("data-click-original");$(cssSelector).attr("data-click",originalVal);$(cssSelector).removeAttr("data-click-original")};publicAPI.elementMatchesFilters=function(elem,filters){for(var i=0;i<filters.length;i++){var filter=filters[i];var matchesFilter=true;for(var key in filter){if(filter.hasOwnProperty(key)){if(filter[key]!=elem.get(key)){matchesFilter=false;break}}}if(matchesFilter){return true}}return false};publicAPI.getTempInspectorObject=function($element){var tempDesktopWindow=pega.ui.inspector.getDesktopWindow();var returnModel=new tempDesktopWindow.pega.ui.inspector.Element($element[0],null,false);if(returnModel.get("type")&&returnModel.get("type")=="Section"){var pairedElement=$element.parent().closest("[data-ui-meta]");var uiMeta=eval("("+pairedElement.attr("data-ui-meta")+")");if(uiMeta){if(uiMeta.subType&&uiMeta.type&&((uiMeta.subType=="SECTIONINCLUDE"||uiMeta.subType=="SUB_SECTION")||uiMeta.type=="Panel")){returnModel=new tempDesktopWindow.pega.ui.inspector.Element(pairedElement[0],null,false)}pega.ui.inspector.parser.adjustModelObject(returnModel,pairedElement[0])}}else{pega.ui.inspector.parser.adjustModelObject(returnModel,$element[0])}pega.ui.inspector.utilities.translateMetaData(returnModel.getAllAttributes());return returnModel};publicAPI.adjustLocationForDesktopWindow=function(inspectorObj,loc){var $topHarness=pega.ui.inspector.getTopHarness();var scrollLeft=$(document).scrollLeft();var ownerWindowLeft=inspectorObj.get("ownerWindowLeft");if(loc.left<(scrollLeft+ownerWindowLeft)){loc.width-=scrollLeft-loc.left+ownerWindowLeft;if(loc.width<0){loc.width=0}loc.left=scrollLeft+ownerWindowLeft}if((loc.left+loc.width)>($topHarness.outerWidth()+scrollLeft)){loc.width-=(loc.left+loc.width)-$topHarness.outerWidth()-scrollLeft}};publicAPI.isElementInModal=function(htmlElement){return htmlElement.ownerDocument.defaultView.pega.u.d.bModalDialogOpen&&htmlElement.ownerDocument.defaultView.pega.u.d.modalDialog.body.contains(htmlElement)};publicAPI.getHoverInfoBarContent=function(inspectorObject){var newContent=document.createElement("DIV");var label=publicAPI.createElement("DIV",{className:"idpanel-text"});label.innerHTML=publicAPI.displayUIElementText(inspectorObject.getAllAttributes());newContent.appendChild(label);return newContent};publicAPI.launchClipboard=function(inspectorObject){if(typeof inspectorObject.get("baseRef")==="undefined"){return }var options={harness:"pzClipboard",harnessClass:"Pega-Clipboard",displayMode:pega.api.ui.constants.POP_UP_WINDOW,contextPage:"ClipboardPages",windowName:"Clipboard Viewer",windowWidth:1200,windowHeight:768,readOnly:false,activity:{name:"pxSetClipboardContext",parameters:[{name:"reference",value:inspectorObject.get("baseRef"),isProperty:false},{name:"selectedThread",value:inspectorObject.get("baseRefThread"),isProperty:false}]}};pega.api.ui.actions.launchHarness(options);pega.ui.inspector.toggle()};publicAPI.getFocusInfoBarContent=function(inspectorObject){var isTemplate=pega.ui.inspector.isTemplateSection(inspectorObject);var isHeaderTitle=inspectorObject.get("subType")==="HEADERTITLE";var newContent=document.createElement("DIV");var label=publicAPI.createElement("DIV",{className:"idpanel-text",title:pega.u.d.fieldValuesList.get("ToggleAncestors"),innerHTML:publicAPI.displayUIElementText(inspectorObject.getAllAttributes())},{click:pega.ui.inspector.ancestorList.show});var ancestorAnchor=publicAPI.createElement("A",{className:"runtime-edit-icon Ancestors"});label.appendChild(ancestorAnchor);newContent.appendChild(label);var iconContainer=publicAPI.createElement("DIV",{className:"idpanel-icon-container"});var oParent;if((inspectorObject&&inspectorObject.get("insKey")&&inspectorObject.get("insKey")!="")||(inspectorObject.get("type")&&inspectorObject.get("type")=="Section")||(inspectorObject.get("subType")&&(inspectorObject.get("subType")=="SUB_SECTION"||inspectorObject.get("subType")=="PANEL"))){oParent=inspectorObject}else{var tempTypes=[{type:"Section"},{type:"Harness"}];oParent=pega.ui.inspector.parser.getNearestParent(inspectorObject,tempTypes)}if(oParent&&oParent.get("insKey")&&oParent.get("insKey")!=""){var attributes={className:"runtime-edit-icon live-ui-open-rule",title:pega.u.d.fieldValuesList.get("OpenInDevStudio")};var clickEvent=function(){pega.ui.inspector.openElementRuleForInsKey(oParent.get("insKey"))};var openRuleIcon=publicAPI.createElement("A",attributes,{click:clickEvent});iconContainer.appendChild(openRuleIcon)}if(typeof inspectorObject.get("baseRef")!=="undefined"){var attributes={className:"runtime-edit-icon pi-clipboard",title:"Launch Clipboard",};var clickEvent=function(e){pega.ui.inspector.utilities.launchClipboard(inspectorObject)};var clipboardIcon=publicAPI.createElement("A",attributes,{click:clickEvent});iconContainer.appendChild(clipboardIcon)}var isInModal=publicAPI.isElementInModal(inspectorObject.get("element")[0]);if(inspectorObject.get("flowAction")&&inspectorObject.get("flowAction")!=null&&inspectorObject.get("flowAction")!=""&&!isTemplate&&!isHeaderTitle&&!isInModal){var attributes={className:"runtime-edit-icon runtime-edit-icon-openPropertyPanel",title:pega.u.d.fieldValuesList.get("OpenPropPanel")};var clickEvent=function(e){pega.ui.inspector.editing.propertypanel.open(e,true)};var propertyPanelIcon=publicAPI.createElement("A",attributes,{click:clickEvent});iconContainer.appendChild(propertyPanelIcon)}if(!isHeaderTitle){var attributes={id:"idpanel-info-panel-icon",className:"runtime-edit-icon runtime-edit-info",title:pega.u.d.fieldValuesList.get("QuickInfoPanel")};var clickEvent=function(e){pega.ui.inspector.quickInfo.setOption("oneTimeConfinementElement",pega.ui.inspector.getTopHarness());pega.ui.inspector.quickInfo.showByEvent(e,pega.ui.inspector.getFocusedInspectorObject())};var quickInfoIcon=publicAPI.createElement("A",attributes,{click:clickEvent});iconContainer.appendChild(quickInfoIcon)}if(pega.ui.inspector.isActionsMenuIconEnabled(inspectorObject)&&!isTemplate){var attributes={id:"idpanel-actions-menu-icon",className:"runtime-edit-icon runtime-edit-icon-actions-menu",title:pega.u.d.fieldValuesList.get("ActionsMenu")};var clickEvent=function(e){pega.ui.inspector.actionMenu.setOption("oneTimeConfinementElement",pega.ui.inspector.getTopHarness());pega.ui.inspector.actionMenu.showByEvent(e,pega.ui.inspector.getFocusedInspectorObject())};var actionsMenuIcon=publicAPI.createElement("A",attributes,{click:clickEvent});iconContainer.appendChild(actionsMenuIcon)}newContent.appendChild(iconContainer);return newContent};publicAPI.getElementDimension=function(htmlElement,toWindow){var isInModal=$(htmlElement).closest("#modalWrapper").length>0;var currentWindow=htmlElement.ownerDocument.defaultView;var loc=_calculateElementWidthAndHeight(htmlElement);var elementOffset=htmlElement.getBoundingClientRect();loc.left=elementOffset.left+$(currentWindow).scrollLeft();if(isInModal){loc.top=elementOffset.top}else{loc.top=elementOffset.top+$(currentWindow).scrollTop()}while(currentWindow){if((currentWindow==window||!currentWindow.parent)||(toWindow!=null&&currentWindow==toWindow)){break}else{var windowOffset=currentWindow.frameElement.getBoundingClientRect();loc.left+=windowOffset.left;loc.top+=windowOffset.top;if(htmlElement.ownerDocument.defaultView==currentWindow&&!isInModal){loc.top-=$(currentWindow).scrollTop();loc.left-=$(currentWindow).scrollLeft()}currentWindow=currentWindow.parent}}return loc};publicAPI.getFrameList=function(windowObj){return pega.util.Dom.getFrames(windowObj)};publicAPI.loadSectionIntoDom=function(sectionName,sectionClass,elem,callback,baseRef,preActivityName,preActivityParams){return pega.u.d.loadSectionIntoDom(sectionName,sectionClass,elem,callback,baseRef,preActivityName,preActivityParams)};publicAPI.elementToHighlight=function(htmlElement){var _inspectorElement=pega.ui.inspector.utilities.getTempInspectorObject($(htmlElement));var regionElement=_inspectorElement.get("element").parent().closest("[data-ui-meta]");var regionInspectorObj=pega.ui.inspector.utilities.getTempInspectorObject(regionElement);var highlightElem;if(_inspectorElement.get("sectionChild")&&regionInspectorObj.get("subType")=="DYNAMICLAYOUTGROUP"){highlightElem=_inspectorElement.get("sectionChild")[0]}else{highlightElem=_inspectorElement.get("element")[0]}return highlightElem};publicAPI.toggleInteraction=function(inspectors,panel,tree,callbackObject){if(panel.getElement().classList.contains("interaction-enabled")){for(var i=0;i<inspectors.length;i++){inspectors[i].enable()}panel.getElement().classList.remove("interaction-enabled");tree.enable();if(callbackObject&&callbackObject.disableCallback){callbackObject.disableCallback()}}else{panel.getElement().classList.add("interaction-enabled");tree.disable();for(var i=0;i<inspectors.length;i++){inspectors[i].disable();inspectors[i].clearHighlight()}if(callbackObject&&callbackObject.enableCallback){callbackObject.enableCallback()}}};return publicAPI}());
pega.ui.inspector.utilities.InspectorHighlight=function(I){var G=this;if(!I||!I.elementFoundCallback){throw new Error("elementFoundCallback is a required parameter")}I.highlight=I.highlight||{};I.highlight.customClass=I.highlight.customClass||null;I.highlight.container=I.highlight.container||null;var K=new pega.ui.inspector.Highlight(I.highlight.customClass,I.highlight.container);I.infoBar=I.infoBar||{};I.infoBar.customClass=I.infoBar.customClass||null;I.infoBar.container=I.infoBar.container||null;I.infoBar.content=I.infoBar.content||null;I.infoBar.options=I.infoBar.options||{};var M=new pega.ui.inspector.InfoBar(I.infoBar.customClass,I.infoBar.container,I.infoBar.content,I.infoBar.options);var D;var J;I.selectorList=["[data-ui-meta]"];var C=I.elementFoundCallback;I.elementFoundCallback=R;var Q=new pega.ui.components.Inspector(I);var H={};H.getInfoBarContent=I.getInfoBarContent||function(T){return T.tagName};H.eventsToBlockList=I.eventsToBlockList||[];H.ignoreList=I.ignoreList||[];var O=[];function S(U,T){var V=$(U).closest(T);if(V.length<1){return null}return V[0]}function P(U){var T=H.ignoreList.join(",");if(S(U.eventObj.target,T)){return true}if(U.eventObj.preventDefault){U.eventObj.preventDefault()}U.eventObj.cancelBubble=true;if(U.eventObj.stopPropagation){U.eventObj.stopPropagation()}return false}function N(){G.highlightElement(J)}function F(T){clearTimeout(D);_scrollTimeoutID=setTimeout(N,25)}function A(T){this.removeEventListener("resize",F,true);this.removeEventListener("scroll",F,true);this.removeEventListener("unload",A,true)}function B(T){if(T){var U=pega.ui.inspector.utilities.getElementDimension(T,window);K.show(U.left,U.top,U.width,U.height);M.setContent(H.getInfoBarContent(T));M.showByPosition(U.left,U.top,U.width,U.height)}}function R(T){if(T.foundElement){K.hide();M.hide();G.highlightElement(T.foundElement)}C(T);return P(T)}function E(){var U=pega.util.Dom.getFrames(window);for(var T=0;T<U.length;T++){U[T].addEventListener("unload",A,true);U[T].addEventListener("resize",F,true);U[T].addEventListener("scroll",F,true)}}function L(){var U=pega.util.Dom.getFrames(window);for(var T=0;T<U.length;T++){U[T].removeEventListener("unload",A,true);U[T].removeEventListener("resize",F,true);U[T].removeEventListener("scroll",F,true)}}G.highlightElement=function(T){J=T;B(J)};G.getHighlightedElement=function(){return J};G.clearHighlight=function(){K.hide();M.hide();J=null};G.destroy=function(){G.disable();K.cleanup();M.removeFromDom()};G.enable=function(){G.disable();for(var T=0;T<H.eventsToBlockList.length;T++){var U=new pega.ui.components.Inspector({eventMonitored:H.eventsToBlockList[T],elementFoundCallback:P});U.enable();O.push(U)}E();Q.enable()};G.disable=function(){for(var T=0;T<O.length;T++){O[T].disable()}O=[];L();Q.disable()}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.Highlight=function(A,D){this.styleClassPrefix=A;var K=this;var B;var G=[];var H;var F;var E=0;var L=1;var C=2;var J=3;var I=function(O){if(O){B=O}else{var Q=$("div#highlight-container-div");if(Q.length==0){B=document.createElement("div");B.id="highlight-container-div";document.body.appendChild(B)}else{B=Q[0]}}var P,N;for(N=0;N<4;N++){P=document.createElement("div");B.appendChild(P);P.className="element-highlight ";switch(N){case E:P.className+="highlight-top "+K.styleClassPrefix;break;case L:P.className+="highlight-bottom "+K.styleClassPrefix;break;case C:P.className+="highlight-left "+K.styleClassPrefix;break;case J:P.className+="highlight-right "+K.styleClassPrefix;break}G[N]=P;G[N].style.display="none"}H=parseInt($(G[L]).css("border-bottom-width").replace("px",""));F=parseInt($(G[J]).css("border-right-width").replace("px",""))};var M=function(O,N,P){O=O.style;if(document.all){O.pixelLeft=N;O.pixelTop=P}else{O.left=N+"px";O.top=P+"px"}};this.cleanup=function(){G.forEach(function(N){if(B.contains(N)){B.removeChild(N)}});G=[]};this.hide=function(){for(var N=0;N<4;N++){G[N].style.display="none"}};this.show=function(O,Q,P,N){G[E].style.width=P+"px";G[E].style.display="";G[L].style.width=P+"px";G[L].style.display="";G[C].style.height=N+"px";G[C].style.display="";G[J].style.height=N+"px";G[J].style.display="";M(G[E],O,Q);M(G[L],O,Q+N-H);M(G[C],O,Q);M(G[J],O+P-F,Q)};this.showByElement=function(O){var N=pega.ui.inspector.utilities.getTempInspectorObject($(O));var P=pega.ui.inspector.utilities.getElementDimension(O,pega.ui.inspector.getDesktopWindow());pega.ui.inspector.utilities.adjustLocationForDesktopWindow(N,P);this.show(P.left,P.top,P.width,P.height)};I(D)};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.Element=function(element,parentObject,treeEnabled,metaAttr){this.id="i"+pega.ui.inspector.utilities.getUniqueID();this.children=[];this.ownerWindow=element.ownerDocument.defaultView;var _self=this;var _fieldValues;var _treeEnabled=treeEnabled;var _metaAttr=metaAttr;var _attributes=eval("("+element.getAttribute("data-ui-meta")+")");if(_attributes==null&&typeof (metaAttr)=="undefined"&&element.getAttribute("data-fieldvalue-meta")){metaAttr="data-fieldvalue-meta"}if(metaAttr==="data-fieldvalue-meta"){if(!_attributes){_attributes={};_attributes.type="Cell";_attributes.subType="HeaderTitle"}var fieldValueID=element.getAttribute("data-fieldvalue-meta");var fieldValueDataDiv=$(element).find(".inspector-fieldvalue-data");var fieldValueData;if(fieldValueDataDiv&&fieldValueDataDiv.length==1){var _fieldValueDataStr=fieldValueDataDiv.html();try{fieldValueData=JSON.parse(_fieldValueDataStr)}catch(e){_fieldValueDataStr=_fieldValueDataStr.replace(/&amp;/ig,"&").replace(/&quot;/ig,'"');try{fieldValueData=JSON.parse(_fieldValueDataStr)}catch(e){fieldValueData=null}}}if(fieldValueData&&fieldValueData[fieldValueID]){this.hasFieldValues=true;_fieldValues=fieldValueData[fieldValueID]}}_attributes.element=$(element);_attributes.parent=parentObject;_attributes.subTypeDisplay=_attributes.subType;_attributes.ownerWindowLeft=0;_attributes.ownerWindowTop=0;if(_attributes.subType){_attributes.subType=_attributes.subType.toUpperCase()}if(_attributes.type=="Layout"){if(_attributes.region&&_attributes.region!=""){_attributes.isRegion=true}else{_attributes.isRegion=false}if(_attributes.subType==="REPEATGRID"){if(_attributes.editable&&_attributes.editable==="true"){_attributes.editable=true}else{_attributes.editable=false}}}if(_attributes.type=="Section"){if(_attributes.templated&&_attributes.templated=="true"){_attributes.templated=true}else{_attributes.templated=false}if(_attributes.editable&&_attributes.editable=="true"){_attributes.editable=true}else{_attributes.editable=false}}if(_attributes.type=="Cell"&&_attributes.subType!="SUB_SECTION"){if(_attributes.clipboardPath&&_attributes.clipboardPath!=""){if(this.ownerWindow.pega.api&&this.ownerWindow.pega.api.ui&&this.ownerWindow.pega.api.ui.util){var baseRef=this.ownerWindow.pega.api.ui.util.getBaseRef(element);var rowAndEntryHandleValue=this.ownerWindow.pega.u.d.getRowAndEntryHandle(element);if(rowAndEntryHandleValue&&rowAndEntryHandleValue.rowEntryHandle&&rowAndEntryHandleValue.rowEntryHandle!=""){baseRef=this.ownerWindow.pega.u.property.toReference(rowAndEntryHandleValue.rowEntryHandle)}if(baseRef&&baseRef!=""){if(_attributes.clipboardPath.startsWith(".")){baseRef+=_attributes.clipboardPath}else{baseRef=_attributes.clipboardPath}}_attributes.baseRef=baseRef;_attributes.baseRefThread=this.ownerWindow.pega.u.d.getThreadName();if(this.ownerWindow.pega.ctx.bIsDCSPA===true){var dcspaThreadName=this.ownerWindow.pega.ctxmgr.getDCSPAThreadName();if(dcspaThreadName&&dcspaThreadName!==""){_attributes.baseRefThread=dcspaThreadName}}}}}function _buildNodeHTML(model){var displayHTML="<span class='meta-title'>";pega.ui.inspector.utilities.translateMetaData(model.getAllAttributes());displayHTML+=pega.ui.inspector.utilities.displayUIElementText(model.getAllAttributes());if(model.get("insKey")&&model.get("insKey")!=""){displayHTML+="<a class='live-ui-open-rule runtime-edit-icon' title='"+pega.u.d.fieldValuesList.get("OpenInDevStudio")+"' onclick='pega.ui.inspector.openElementRuleForInsKey(\""+model.get("insKey")+"\")'></a>"}displayHTML+="<a class='runtime-edit-icon runtime-edit-info' onclick='pega.ui.inspector.quickInfo.showByEvent(event, pega.ui.inspector.panel.getInspectorObjectByID(\""+model.id+"\"))'> </a>";if(pega.ui.inspector.isActionsMenuIconEnabled(model)){displayHTML+="<a class='runtime-edit-icon runtime-edit-icon-actions-menu' title='See available actions' onclick='pega.ui.inspector.actionMenu.showByEvent(event, pega.ui.inspector.panel.getInspectorObjectByID(\""+model.id+"\"))'> </a>"}displayHTML+="</span>";return displayHTML}function _setElementFlowActionAttribute(attr,subType){attr.flowAction="";switch(subType){case"TABGROUP":attr.flowAction="pzTabGroup_PropPanel";break;case"TEMPLATE":break;case"FREEFORM":break;case"DYNAMICLAYOUT":attr.flowAction="pzPropertyPanel_SimpleLayout";break;case"DYNAMICCOLUMN":attr.flowAction="pzPropertyPanel_ColumnLayout";break;case"DYNAMICLAYOUTGROUP":attr.flowAction="pzPropertyPanel_LayoutGroup";break;case"DYNAMICREPEATING":attr.flowAction="pzPropertyPanel_RepeatingDynamicLayout";break;case"REPEATINGDYNAMICLAYOUTGROUP":attr.flowAction="pzPropertyPanel_LayoutGroup";break;case"REPEATVERTICAL":break;case"REPEATHORIZONTAL":break;case"REPEATTABBED":break;case"REPEATGRID":attr.flowAction="pzGrid_PropPanel";break;case"REPEATTREE":attr.flowAction="pzGrid_PropPanel";break;case"REPEATTREEGRID":attr.flowAction="pzGrid_PropPanel";break;case"SECTIONINCLUDE":attr.flowAction="pzLayout_PropPanel";break}return attr}this.get=function(name){return _attributes[name]};this.set=function(name,value){_attributes[name]=value};this.getAllAttributes=function(){return _attributes};this.getFieldValues=function(){return _fieldValues};this.findByElement=function(element){var currentElement=this.get("element").get(0);var tempReturnElement=null;if(currentElement==element){return this}else{for(var i=0;i<this.children.length;i++){tempReturnElement=this.children[i].findByElement(element);if(tempReturnElement){return tempReturnElement}}}};if(_attributes.type=="Layout"){_setElementFlowActionAttribute(_attributes,_attributes.subType)}else{if(_attributes.type=="Cell"){_attributes.flowAction="pzCell_PropPanel"}}if(_treeEnabled){var _treeInfo={};this.buildTreeModel=function(){_treeInfo.text=_buildNodeHTML(this);_treeInfo.state={opened:true};var liClasses;if(this.get("declarative")){liClasses="DeclarativeNode"}else{liClasses=this.get("type")+"Node"}if(pega.ui.inspector.isTemplateSection(this)){liClasses+=" template-section"}var elementTypes;if(this.get("type")=="Layout"&&this.get("subType")=="DYNAMICLAYOUT"){elementTypes="layout"}else{if(this.get("type")=="Cell"||(this.get("type")=="Section"&&this.get("subType")=="CELL")){elementTypes="cell"}else{elementTypes="other"}}_treeInfo.types=elementTypes;_treeInfo.li_attr={"class":liClasses}};this.getTreeJson=function(){var tempJSON=_treeInfo;tempJSON.children=[];tempJSON.id=this.id;for(var i=0;i<this.children.length;i++){tempJSON.children[i]=this.children[i].getTreeJson()}return tempJSON}}this.isTreeEnabled=function(){return _treeEnabled};return this};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");
pega.ui.inspector.panel=function(){function m(a,b){a=pega.u.d.getSectionByName(a,"",document);null!=a&&pega.u.d.reloadSection(a,"","",!1,!1,-1,!1,null,null,null,b)}function J(a){var b=pega.ui.inspector.getTopHarness();b.css({position:"absolute",left:"0",right:"0","min-width":"0","min-height":"100%"});var c,f;e>b.width()?(c=b.width()-100+"px",f=b.width()-100):10>e?(c="10px",f=10):(c=e+"px",f=e);g&&(c="0px",f="0");b.animate({right:c},333,"linear",function(){});g?$(".runtime-control-tab").addClass("runtime-control-tab-min"):
$(".runtime-control-tab").addClass("runtime-control-tab-max");if($(".screen-layout").hasClass("flex")){var z,h,A;c=$(".screen-layout-region-header").hasClass("screen-layout-region-resize ui-resizable");z=$(".screen-layout-region-footer").hasClass("screen-layout-region-resize ui-resizable");h=$(".screen-layout-region-main-sidebar1").hasClass("screen-layout-region-resize ui-resizable");A=$(".screen-layout-region-main-sidebar2").hasClass("screen-layout-region-resize ui-resizable");(c||z||h||A)&&B(e)}$(".runtime-control-panel").animate({width:f+
"px"},333,"linear",function(){$(".runtime-control-panel")[0].style.display="block";$(".runtime-control-panel").addClass("showing");$(".runtime-control-panel").hasClass("ui-resizable")||K();d.refreshTree();d.displaySkinInfo(pega.u.d.skinRuleName);r(b.width());a();setTimeout(function(){$(".runtime-control-panel").addClass("runtime-control-panel-active")},250)})}function x(){for(var a=pega.ui.inspector.getDesktopWindowInspectorProxy().getFrameList(),b=0;b<a.length;b++)0<$(a[b].document).length&&a[b].pega.ui.inspector.repositionOpenOverlay()}
function K(){var a=pega.ui.inspector.getTopHarness(),b=$(".runtime-control-panel"),c=b.outerWidth();b.css({right:"0",left:""});desktopWindowCSSPosition=a.css("position");a.css({position:"absolute",left:"0",right:c+"px","min-width":"0"});var f=function(a){window.removeEventListener("mouseup",f,!0);$(document).triggerHandler("mouseup");return pega.ui.inspector.getDesktopWindowInspectorProxy().handleSupression(a)};$(".runtime-control-resize")[0].addEventListener("mouseup",f,!0);t=$(window).outerWidth();
$(".runtime-control-panel").css({right:"0",left:""});$(".runtime-control-panel").resizable({handles:{w:".runtime-control-resize"},resize:function(b,c){b=c.element;c=b.width();b.css({right:"0",left:""});c>t-100&&(c=t-100,b.css({width:c+"px"}));$(this).removeClass("runtime-panel-below-261");$(this).removeClass("runtime-panel-below-351");351>c&&$(this).addClass("runtime-panel-below-351");261>c&&$(this).addClass("runtime-panel-below-261");a.css({right:c+"px"});r(a.width());n()},start:function(b,c){a.css({position:"absolute",
left:"0","min-width":"0"});$(document.body).append("\x3cdiv class\x3d'ui-tree-mask'\x3e\x3c/div\x3e");pega.ui.inspector.clearAllHighlights()},stop:function(a,b){a=$(".runtime-control-panel");a.queue(function(){$(".runtime-control-panel").dequeue()});e=a.outerWidth();g=!1;C();$(".ui-tree-mask").remove();n();x();pega.ui.inspector.getDesktopWindowInspectorProxy().rehighlight()}});$(".runtime-control-tab").click(function(){a.css({position:"absolute",left:"0"});if(g){e>$(window).width()-100&&(e=$(window).width()-
100);a.css("right",e+"px");$(".runtime-control-tab").removeClass("runtime-control-tab-min");$(".runtime-control-tab").addClass("runtime-control-tab-max");$(".runtime-control-panel").css("width",e+"px");g=!1;if($(".screen-layout").hasClass("flex")){var b,c,f,D;b=$(".screen-layout-region-header").hasClass("screen-layout-region-resize ui-resizable");c=$(".screen-layout-region-footer").hasClass("screen-layout-region-resize ui-resizable");f=$(".screen-layout-region-main-sidebar1").hasClass("screen-layout-region-resize ui-resizable");
D=$(".screen-layout-region-main-sidebar2").hasClass("screen-layout-region-resize ui-resizable");(b||c||f||D)&&B(e)}n();pega.ui.inspector.isHighlightEnabled()&&d.refreshTree(!0);x()}else g=!0,$(".runtime-control-resize").outerWidth(),a.css("right","0px"),$(".runtime-control-tab").addClass("runtime-control-tab-min"),$(".runtime-control-tab").removeClass("runtime-control-tab-max"),$(".runtime-control-panel").css("width","0px");null!=pega.ui.inspector.getFocusedInspectorObject()&&null!=pega.ui.inspector.getFocusedInspectorObject().get("pgRef")?
pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights(!0):pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights(!1);pega.ui.inspector.getDesktopWindowInspectorProxy().rehighlight();C();r(a.width())})}function n(){$(".runtime-control-tree").height($(".runtime-control-panel")[0].getBoundingClientRect().height-$(".runtime-control-tree").offset().top)}function C(){var a=new SafeURL("Data-RuntimeDesignSettings.pzRuntime_SaveSettings");a.put("PanelWidth",e);a.put("PanelMinimized",
g);pega&&!pega.offline&&pega.desktop.support.getDesktopWindow().pega.u.d.asyncRequest("POST",a)}function B(a){if($(".screen-layout").hasClass("flex")){var b,c,f=$(window).width();c=$(".screen-layout-region-main-sidebar1").outerWidth()||0;b=$(".screen-layout-region-main-sidebar2").outerWidth()||0;a=c+b+parseInt(a);$(".screen-layout-region-main-middle").css({width:f-a+"px"})}}function L(a){a.on("ready.jstree",function(a,c){$(".runtime-control-tree").append("\x3cdiv class\x3d'ui-tree-readonly-mask'\x3e\x3c/div\x3e");
pega.ui.inspector.getDesktopWindowInspectorProxy().rehighlight(!0)});a.on("hover_node.jstree",function(a,c){a=pega.ui.inspector.panel.getInspectorObjectByID(c.node.id);pega.ui.inspector.hover(a,!0)});a.on("dehover_node.jstree",function(a,c){pega.ui.inspector.clearHighlight()});a.on("select_node.jstree",function(a,c){pega.ui.inspector.clearHighlight();var b=$(".runtime-control-tree #"+c.node.id).offset(),d=$(".runtime-control-tree #"+c.node.id+" a.jstree-anchor.jstree-clicked").outerWidth(),d=d+$(".runtime-control-tree #"+
c.node.id+" i.jstree-icon.jstree-ocl").outerWidth(),d=d+18,h=$("div.runtime-control-tree.jstree").css("position");$("div.runtime-control-tree.jstree").css({position:"relative"});a=$(".runtime-control-tree").scrollTop();var e=$(".runtime-control-tree #"+c.node.id)[0].offsetTop;a=e<a||e>a+$(".runtime-control-tree").height()-20;$("div.runtime-control-tree.jstree").css({position:h});var h=$(window).width()-$(".runtime-control-tree").width(),b=b.left-h,h=b+d,d=0>b||h>$(".runtime-control-tree").width(),
e=e-$(".runtime-control-tree").height()/3,g=Math.max(0,$(".runtime-control-tree").scrollLeft()+b-$(".runtime-control-tree").width()/3),h=h+$(".runtime-control-tree").scrollLeft()-g;h>$(".runtime-control-tree").width()&&(g+=h-$(".runtime-control-tree").width(),0>b+$(".runtime-control-tree").scrollLeft()-g&&(g=$(".runtime-control-tree").scrollLeft()+b));a&&d?$(".runtime-control-tree").animate({scrollTop:e,scrollLeft:g},1E3):a?$(".runtime-control-tree").animate({scrollTop:e},1E3):d&&$(".runtime-control-tree").animate({scrollLeft:g+
30},1E3);c=pega.ui.inspector.panel.getInspectorObjectByID(c.node.id);pega.ui.inspector.focus(c,!0)});a.bind("move_node.jstree",pega.ui.inspector.editing.moveNodeCallback)}function E(a){a=pega.ui.inspector.getTopHarness();t=$(window).outerWidth();var b=$(".runtime-control-panel").outerWidth(),c=$(window).width()-100;b>=c?($(".runtime-control-panel").css({left:"",width:c+"px"}),a.css({right:c+"px"})):($(".runtime-control-panel").css({left:""}),a.css({right:b+"px"}));n();r(a.width());x()}function r(a){875>
a?"runtime-body-below875 runtime-body-below1280 runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "!=k&&l("runtime-body-below875 runtime-body-below1280 runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "):1280>a?"runtime-body-below1280 runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "!=k&&l("runtime-body-below1280 runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "):1455>a?"runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "!=
k&&l("runtime-body-below1455 runtime-body-below1555 runtime-body-below1755 "):1555>a?"runtime-body-below1555 runtime-body-below1755 "!=k&&l("runtime-body-below1555 runtime-body-below1755 "):1755>a?"runtime-body-below1755 "!=k&&l("runtime-body-below1755 "):l("")}function l(a){var b=pega.ui.inspector.getTopHarness();b.removeClass(k);b.addClass(a);k=a}function M(a){function b(a){return(a=$(a).closest("[data-ui-meta]"))&&0<a.length&&(a=eval("("+a.attr("data-ui-meta")+")"),a.subType&&"PXADDRESSMAP"==a.subType.toUpperCase())?
!0:!1}if(d.isTreeRefreshing())return!1;for(var c=!1,f=0;f<a.length;f++){var e=a[f];if(0!=pega.ui.inspector.ignoreEvent(e)&&0==b(e.target)){c=!0;break}}c&&d.setRefreshTimer()}function N(){$("div.runtime-control-panel li[aria-label\x3d'Tree']").click(function(a){setTimeout(function(a){pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights(!0);pega.ui.inspector.isHighlightEnabled()&&(pega.ui.inspector.panel.refreshTree(!0),pega.ui.inspector.getDesktopWindowInspectorProxy().rehighlight())},
100)})}var u,g=!1,e=330,t,F,p=[],v=null,G,H,q=null,d={},y=!1,I=!1,w=!0,k;d.initialize=function(){var a=document.createElement("DIV");a.className="runtime-control-panel runtime-property-panel inspector-hidden";a.setAttribute("isInspectorElement",!0);a.innerHTML="\x3cdiv class\x3d'runtime-control-tab'\x3e\x3c/div\x3e\x3cdiv class\x3d'runtime-control-resize ui-resizable-handle ui-resizable-w'\x3e\x3c/div\x3e\x3cdiv class\x3d'runtime-control-body'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e";0<$(document.body).find("div.runtime-control-panel").length?
$(document.body).find("div.runtime-control-panel").replaceWith($(a)):$(a).appendTo(document.body);return pega.ui.inspector.utilities.loadSectionIntoDom("pzRunTime_ControlPanel","@baseclass",$(".runtime-control-body \x3e div")[0],function(){$("div[node_name\x3d'pzRunTime_ControlPanel']").attr("data-ui-meta","{'type':'Section','ruleName':'pzRunTime_ControlPanel'}");N()})};d.show=function(a){var b=pega.ui.inspector.getTopHarness(),c=$(".runtime-control-panel");u=b.attr("style");"undefined"===typeof u&&
(u="");c.removeClass("inspector-hidden");$(".runtime-control-tree").addClass("loading");$(".runtime-control-resize").css("display","");for(b=$(".runtime-control-tree");b&&!b.hasClass("runtime-control-panel");)b.css("height","100%"),b=b.parent();b=new SafeURL("Data-RuntimeDesignSettings.pzRuntime_GetPreferences");pega&&!pega.offline&&pega.desktop.support.getDesktopWindow().pega.u.d.asyncRequest("POST",b,{success:function(b){b=eval("("+b.responseText+")");var c=parseInt(b.pyRuntimeDesignPanelWidth);
0<=c&&(e=c);g="true"==b.pyRuntimeDesignPanelMinimized?!0:!1;J(a)},failure:function(a){}});window.addEventListener("resize",E,!0)};d.hide=function(a){var b=pega.ui.inspector.getTopHarness(),c=$(".runtime-control-panel");b.animate({right:"0px"},333,"linear",function(){b.attr("style",u);b.css("right","0px");c.removeClass("showing");c.addClass("inspector-hidden");$(".runtime-control-resize").css("display","none")});$(".runtime-control-tab").removeClass("runtime-control-tab-min");$(".runtime-control-tab").removeClass("runtime-control-tab-max");
c.animate({width:"0px"},333,"linear",function(){l();$(".runtime-control-panel").removeClass("runtime-control-panel-active");a();window.removeEventListener("resize",E,!0)})};d.refreshTree=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)pega.ui.inspector.getDesktopWindowInspectorProxy().panel.refreshTree(a);else{1!=a&&(a=!1);if(this.isUITreeVisible()){if(a&&0==w)return pega.ui.inspector.getDesktopWindowInspectorProxy().debugLogger("NOT Refreshing Tree"),
!1}else return w=!0,pega.ui.inspector.getDesktopWindowInspectorProxy().debugLogger("NOT Refreshing Tree"),!1;pega.ui.inspector.getDesktopWindowInspectorProxy().debugLogger("Refreshing Tree");if(!pega.ui.inspector.getDesktopWindowInspectorProxy().isActive()||pega.ui.inspector.editing.propertypanel.isOpen())return!1;_idPanelLocation=null;y=!0;pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights(!0);v&&v.close_all();pega.ui.inspector.utilities.getUniqueID(!0);a=pega.ui.inspector.getContext();
var b=pega.ui.inspector.getFilter(),c=pega.ui.inspector.getStopFilter();a=pega.ui.inspector.parser.buildModel(a,b,c);F=a.lookupByID;p=a.rootNodes;a=[];for(b=0;b<p.length;b++)a[b]=p[b].getTreeJson();$(".runtime-control-tree").jstree("destroy");$(".runtime-control-tree").jstree({core:{multiple:!1,data:a,check_callback:pega.ui.inspector.editing.checkOperationCallback},types:{others:{valid_children:["none"]},layout:{valid_children:["cell","layout"]},cell:{valid_children:["none"]}},dnd:{check_while_dragging:!0,
inside_pos:"last"},plugins:["dnd","types"]});L($(".runtime-control-tree"));setTimeout(n,250);$(".runtime-control-tree").removeClass("loading");v=$.jstree.reference(".runtime-control-tree");y=!1;a=pega.ui.inspector.getDesktopWindowInspectorProxy().getFrameList();for(b=0;b<a.length;b++)0<$(a[b].document).length&&$(a[b].document.body).removeClass("runtime-tree-refreshing-cursor");$(".runtime-control-tree").removeClass("ui-tree-readonly");w=!1}};d.getInspectorObjectByElement=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=
window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)return pega.ui.inspector.getDesktopWindowInspectorProxy().panel.getInspectorObjectByElement(a);for(var b=null,c=0;c<p.length&&!(b=p[c].findByElement(a));c++);return b};d.getInspectorObjectByID=function(a){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel?pega.ui.inspector.getDesktopWindowInspectorProxy().panel.getInspectorObjectByID(a):
F[a]};d.isTreeRefreshing=function(){return y};d.displaySkinInfo=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)return pega.ui.inspector.getDesktopWindowInspectorProxy().panel.displaySkinInfo(a);null==a&&""==a||$(".runtime-control-skinName").html("\x3ca style\x3d'cursor:default;' class\x3d'runtime-edit-icon-skin CellNode'\x3e\x3c/a\x3eSkin - \x3cspan id\x3d'RuntimeInspectorSkinName' class\x3d'RuntimeInspectorLabelOpenRule RuntimeInspectorValue' onclick\x3d'pega.ui.inspector.openSkinRule(\""+
a+"\")'\x3e"+a+"\x3c/span\x3e")};d.disablePanel=function(){"undefined"===typeof $(".runtime-publish-all-button button").attr("was-disabled")&&("undefined"===typeof $(".runtime-publish-all-button button").attr("disabled")?($(".runtime-publish-all-button button").attr("disabled","disabled"),$(".runtime-publish-all-button button").attr("was-disabled","false")):$(".runtime-publish-all-button button").attr("was-disabled","true"));"undefined"===typeof $(".runtime-discard-all-button button").attr("was-disabled")&&
("undefined"===typeof $(".runtime-discard-all-button button").attr("disabled")?($(".runtime-discard-all-button button").attr("disabled","disabled"),$(".runtime-discard-all-button button").attr("was-disabled","false")):$(".runtime-discard-all-button button").attr("was-disabled","true"));$(".runtime-panel-publishIcon").addClass("cursordefault");pega.ui.inspector.utilities.removeDataClick(".runtime-panel-publishIcon");$(".runtime-panel-discardIcon").addClass("cursordefault");pega.ui.inspector.utilities.removeDataClick(".runtime-panel-discardIcon");
$(".runtime-control-undo-enabled img").addClass("cursordefault");pega.ui.inspector.utilities.removeDataClick(".runtime-control-undo-enabled img");$(".runtime-control-allowinteraction img").addClass("cursordefault")};d.enablePanel=function(){$(".runtime-control-tree").removeClass("ui-tree-readonly");"false"==$(".runtime-publish-all-button button").attr("was-disabled")&&$(".runtime-publish-all-button button").removeAttr("disabled");$(".runtime-publish-all-button button").removeAttr("was-disabled");
"false"==$(".runtime-discard-all-button button").attr("was-disabled")&&$(".runtime-discard-all-button button").removeAttr("disabled");$(".runtime-discard-all-button button").removeAttr("was-disabled");$(".runtime-panel-publishIcon").removeClass("cursordefault");pega.ui.inspector.utilities.restoreDataClick(".runtime-panel-publishIcon");$(".runtime-panel-discardIcon").removeClass("cursordefault");pega.ui.inspector.utilities.restoreDataClick(".runtime-panel-discardIcon");$(".runtime-control-undo-enabled img").removeClass("cursordefault");
pega.ui.inspector.utilities.restoreDataClick(".runtime-control-undo-enabled img");$(".runtime-control-allowinteraction img").removeClass("cursordefault")};d.pendingTabRefresh=function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)pega.ui.inspector.getDesktopWindowInspectorProxy().panel.pendingTabRefresh();else{if(!pega.ui.inspector.getDesktopWindowInspectorProxy().isActive())return!1;pega.ui.inspector.editing.propertypanel.isOpen()&&
this.disablePanel()}};d.getJsTreeRef=function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)pega.ui.inspector.getDesktopWindowInspectorProxy().panel.getJsTreeRef();else return v};d.refresh=function(){try{m("pzRunTime_ControlPanel_ActivityTab"),setTimeout(function(){m("pzRunTime_ControlPanel_HistoryTab");m("pzRunTime_ControlPanel_PublishDiscard",function(){pega.ui.inspector.editing.propertypanel.isOpen()&&
pega.ui.inspector.panel.disablePanel()});m("pzRuntime_ControlPanel_SettingsTab");m("pzRunTime_ControlPanel_UndoInteraction")},250)}catch(a){}};d.setRefreshTimer=function(a){pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel?pega.ui.inspector.getDesktopWindowInspectorProxy().panel.setRefreshTimer(a):(a||(a=1E3),clearTimeout(G),G=setTimeout(function(){$(".runtime-control-body").hasClass("interaction-enabled")?
pega.ui.inspector.panel.setListenForChanges(!0):pega.ui.inspector.panel.refreshTree()},a))};d.addDOMMutationEvents=function(){var a=pega.ui.inspector.getTopHarness();clearTimeout(H);null!=a[0]&&(H=setTimeout(this.removeDOMMutationEvents,15E3),null===q&&(q=new MutationObserver(M)),q.observe(a[0],{childList:!0,subtree:!0}))};d.removeDOMMutationEvents=function(){null!=q&&q.disconnect()};d.startListeningForChanges=function(){if(this.isUITreeVisible())pega.ui.inspector.panel.setListenForChanges(!1),pega.ui.inspector.panel.setTreeNeedsToRefresh(!1);
else return this.setListenForChanges(!0),this.setTreeNeedsToRefresh(!0),!1;pega.ui.inspector.getDesktopWindowInspectorProxy().debugLogger("Starting Listen for changes");for(var a=pega.ui.inspector.getFrameList(),b=0;b<a.length;b++)0<$(a[b].document).length&&(a[b].pega.ui.inspector.panel.addDOMMutationEvents(),$(a[b].document.body).addClass("runtime-tree-refreshing-cursor"));pega.ui.inspector.getBrowser()===pega.ui.inspector.BROWSERS.IE9?this.setRefreshTimer(250):this.setRefreshTimer(100)};d.stopListeningForChanges=
function(){pega.ui.inspector.getDesktopWindowInspectorProxy().debugLogger("Stop Listen for changes");for(var a=pega.ui.inspector.getFrameList(),b=0;b<a.length;b++)0<$(a[b].document).length&&(a[b].pega.ui.inspector.panel.removeDOMMutationEvents(),$(a[b].document.body).removeClass("runtime-tree-refreshing-cursor"))};d.setListenForChanges=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)return pega.ui.inspector.getDesktopWindowInspectorProxy().panel.setListenForChanges(a);
I=a};d.setTreeNeedsToRefresh=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel)return pega.ui.inspector.getDesktopWindowInspectorProxy().panel.setTreeNeedsToRefresh(a);w=a};d.getListenForChanges=function(){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel?pega.ui.inspector.getDesktopWindowInspectorProxy().panel.getListenForChanges():
I};d.isUITreeVisible=function(){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel?pega.ui.inspector.getDesktopWindowInspectorProxy().panel.isUITreeVisible():"true"!=$("div.runtime-control-panel li[aria-label\x3d'Tree']").attr("aria-selected")||g?!1:!0};d.isMaximized=function(){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().panel?
pega.ui.inspector.getDesktopWindowInspectorProxy().panel.isMaximized():!g};return d}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.parser=(function(){var TreeProxy=pega.ui.inspector;var _parseTreeElements=false;var _metaAttr="data-ui-meta";function _findMetaChildren(root,skipHiddenElements){if(root!=null&&root.children!=null&&root.children.length>0){var childrenList=new Array;var children=new Array;children=root.children;var temp=new Array;for(var i=0;i<children.length;i++){temp=_findMetaChild(children[i],skipHiddenElements);if(temp){for(var y=0;y<temp.length;y++){childrenList.push(temp[y])}}}return childrenList}}function _findMetaChild(node,skipHiddenElements){var list=new Array;if(node!=null&&node.nodeType==1){if(skipHiddenElements==true&&node.style.display&&node.style.display=="none"){return }if(node.attributes.isinspectorelement){return false}if(node.hasAttribute(_metaAttr)==true){list.push(node);return list}if(node.nodeName!=null&&(node.nodeName=="IFRAME"||node.nodeName=="FRAME")){try{if(node.contentDocument.defaultView.pega.ui.inspector&&node.id!="sectionDisplay-IFRAME"){return _findMetaChildren(node.contentDocument.body,skipHiddenElements)}}catch(e){if(node.contentWindow.frames.length>0){for(var x=0;x<node.contentWindow.frames.length;x++){return _findMetaChild(node.contentWindow.frames[x].frameElement,skipHiddenElements)}}}}else{return _findMetaChildren(node,skipHiddenElements)}}}function _buildModel(htmlInspectorElement,filter,stopFilter,parentInspectorObject,returnObject,rootNode,skipHiddenElements){if(skipHiddenElements&&parentInspectorObject&&parentInspectorObject.get("subType")&&parentInspectorObject.get("subType")=="DYNAMICLAYOUTGROUP"&&parentInspectorObject.get("element")&&!parentInspectorObject.get("element").hasClass("layout-group-stacked")&&!$(htmlInspectorElement).hasClass("active")&&!$(htmlInspectorElement).hasClass("header-content")){return false}if(returnObject==null){returnObject={lookupByID:[],rootNodes:[]}}var model=parentInspectorObject;var childrenNodes=new Array;var nodeToCheck=htmlInspectorElement;if($(htmlInspectorElement).attr(_metaAttr)){model=new pega.ui.inspector.Element(htmlInspectorElement,parentInspectorObject,true,_metaAttr);nodeToCheck=publicAPI.adjustModelObject(model,nodeToCheck);if(filter==null||pega.ui.inspector.utilities.elementMatchesFilters(model,filter)){model.buildTreeModel();if(parentInspectorObject){parentInspectorObject.children.push(model)}returnObject.lookupByID[model.id]=model;if(parentInspectorObject==null){returnObject.rootNodes.push(model)}if(stopFilter!=null&&rootNode!==model.get("element")[0]&&pega.ui.inspector.utilities.elementMatchesFilters(model,stopFilter)){return returnObject}}else{if(stopFilter!=null&&rootNode!==model.get("element")[0]&&pega.ui.inspector.utilities.elementMatchesFilters(model,stopFilter)){return returnObject}model=parentInspectorObject}}childrenNodes=_findMetaChildren(nodeToCheck,skipHiddenElements);if(childrenNodes!=null){for(var x=0;x<childrenNodes.length;x++){_buildModel(childrenNodes[x],filter,stopFilter,model,returnObject,rootNode,skipHiddenElements)}}return returnObject}var publicAPI={};publicAPI.setMetaAttr=function(metaAttr){_metaAttr=metaAttr};publicAPI.buildModel=function(root,filter,stopFilter,skipHiddenElements){if(typeof skipHiddenElements==="undefined"){skipHiddenElements=true}return _buildModel(root,filter,stopFilter,null,null,root,skipHiddenElements)};publicAPI.adjustModelObject=function(model,nodeToCheck){var subType=model.get("subType");var type=model.get("type");if((subType&&(subType=="SECTIONINCLUDE"||subType=="SUB_SECTION"))||(type&&type=="Panel")){var incSection=_findMetaChildren(nodeToCheck,false);model.set("subType",model.get("type").toUpperCase());model.set("subTypeDisplay",model.get("type"));model.set("type","Section");if(incSection!=null&&incSection.length==1){var uiMeta=eval("("+$(incSection).attr(_metaAttr)+")");if(uiMeta&&uiMeta.type=="Section"&&uiMeta.insKey&&uiMeta.insKey!=""){nodeToCheck=incSection[0];model.set("insKey",uiMeta.insKey);model.set("ruleName",uiMeta.ruleName);model.set("sectionType",uiMeta.sectionType);model.set("sectionChild",incSection);if(uiMeta.editable&&uiMeta.editable=="true"){model.set("editable",true)}else{model.set("editable",false)}if(uiMeta.templated&&uiMeta.templated=="true"){model.set("templated",true)}else{model.set("templated",false)}}}}if(model.get("type")&&(model.get("type")=="Cell")){var testIDElement=model.get("element")[0].querySelectorAll("*[data-test-id]");if(testIDElement!=null){for(var i=0;i<testIDElement.length;i++){if(!$(testIDElement[i]).hasClass("field-caption")){model.set("testID",$(testIDElement[i]).attr("data-test-id"))}}}}return nodeToCheck};publicAPI.getNearestParent=function(modelObj,filter){var tempElement=modelObj.get("element");var oParent=modelObj;while(true){if(modelObj.isTreeEnabled()){oParent=oParent.get("parent");if(oParent==null){return null}}else{tempElement=$(tempElement).parent().closest("*[data-ui-meta]");if(tempElement==null||tempElement.length==0){var oWin=modelObj.get("element")[0].ownerDocument.defaultView;if(modelObj.get("type")&&modelObj.get("type")=="Harness"&&oWin.parent&&oWin.parent.name!=oWin.name){tempElement=$("iframe[name*='"+oWin.name+"']");if(tempElement&&tempElement.length==1){continue}}return null}oParent=pega.ui.inspector.utilities.getTempInspectorObject(tempElement);if(oParent.get("type")&&modelObj.get("type")&&oParent.get("type")=="Section"&&modelObj.get("type")=="Section"&&oParent.get("ruleName")&&modelObj.get("ruleName")&&oParent.get("ruleName")==modelObj.get("ruleName")){continue}}if(filter==null||pega.ui.inspector.utilities.elementMatchesFilters(oParent,filter)){break}}return oParent};publicAPI.findCurrentElement=function(startElement,root,filter,stopFilter){if((pega.ui.inspector.getDesktopWindow()!=window)&&pega.ui.inspector.getDesktopWindowInspectorProxy()!=null){return pega.ui.inspector.getDesktopWindowInspectorProxy().parser.findCurrentElement(startElement,root,filter,stopFilter)}else{var ancestors=[];var currentAncestor=startElement;var contextContainsElement=(root===document.body);while(currentAncestor!=null){if(currentAncestor.get("element")[0]===root){contextContainsElement=true;break}ancestors.push(currentAncestor);currentAncestor=pega.ui.inspector.parser.getNearestParent(currentAncestor)}if(!contextContainsElement){return null}var currentElement=null;while(ancestors.length>0){var poppedAncestor=ancestors.pop();if(filter==null||pega.ui.inspector.utilities.elementMatchesFilters(poppedAncestor,filter)){currentElement=poppedAncestor}if(stopFilter!=null&&pega.ui.inspector.utilities.elementMatchesFilters(poppedAncestor,stopFilter)){break}}if(currentElement!=null){var temp=pega.ui.inspector.panel.getInspectorObjectByElement(currentElement.get("element")[0]);if(temp){currentElement=temp}}return currentElement}};return publicAPI}());
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");
pega.ui.inspector.editing=function(){function r(b,c,a){var e=pega.ui.inspector.getFocusedInspectorObject(),l=!1;null!=c&&(e=c);var d=e.get("flowAction"),p="",f=pega.ui.inspector.parser.getNearestParent(e,[{type:"Section"}]),k=f.get("insKey");if(null==k||""==k)return alert("Not yet implemented"),!1;pega.ui.inspector.getDesktopWindowInspectorProxy().loadingIndicator.show();g.disableHighlighting();g.hideAllOverlays();g.clearAllHighlights();var h=new SafeURL("pzProcessAction_RunTimeEditing");h.put("readOnly",
"false");h.put("modelessDialog","true");h.put("IgnoreSectionSubmit",!0);h.put("NewTaskStatus",d);h.put("bExcludeLegacyJS","true");h.put("ModalSection","pyModalTemplateRunTimeEdit");h.put("modalWindowSize","400,650");h.put("KeepMessages",!0);1==a&&h.put("configureRuntimeBranch",a);h.put("bEditAtRunTime",!0);h.put("sEditRunTimeInsKey",k);h.put("pyActivity","@baseclass.pzProcessAction_RunTimeEditing");for(a=0;a<b.length;a++)h.put(b[a].param,b[a].value),"moveElement"==b[a].param&&1==b[a].value?l=!0:"addElement"==
b[a].param&&1==b[a].value?(p="before"==m||"after"==m?pega.ui.inspector.parser.getNearestParent(e,[{type:"Layout"}]).get("pgRef"):e.get("pgRef"),h.put("newPath",p)):"removeElement"==b[a].param&&1==b[a].value&&("Cell"==e.get("type")||"CELL"==e.get("subType")?p=e.get("pgRef"):(d=e.get("pgRef"),p=d.substring(0,d.lastIndexOf(".pyCells(")+9),d=d.slice(d.lastIndexOf(".pyCells(")+9,d.length),d=d.substring(0,d.indexOf(")")+1),p+=d));h.put("BaseReference","pyTemp_PropPanelPage"+p);pega&&!pega.offline&&pega.u.d.asyncRequest("POST",
h,{success:function(a){if(0==a.responseText.indexOf("SUCCESS")){g.clearAllHighlights(!0);if("addElement"==b[0].param){var d="DynamicLayout"==b[1].value;x(a.responseText,d)}else"moveElement"==b[0].param?(d=e.get("type")&&"Layout"==e.get("type"),x(a.responseText,d)):"removeElement"==b[0].param&&(g.getPreviousElementClipboardPath().path=null);d=[f.get("ruleName")];g.rulemanagement.reloadSectionInDom(d,!0)}else l&&pega.ui.inspector.panel.refreshTree();-1==a.responseText.indexOf("SUCCESS")&&("Unconfigured"==
a.responseText?(v=b,y=c,pega.ui.inspector.makeBranch.show()):pega.ui.inspector.errorModal.show(a.responseText));pega.ui.inspector.getDesktopWindowInspectorProxy().loadingIndicator.hide()},failure:function(a){$(".runtime-control-tree").removeClass("ui-tree-readonly");g.enableHighlighting();pega.ui.inspector.getDesktopWindowInspectorProxy().loadingIndicator.hide()}})}function x(b,c){var a="";c&&(a+=".pySections(1)");b=b.substring(8);g.getPreviousElementClipboardPath().path=b+a}function C(){function b(a){q.clearDropLocation();
var b=g.getMouseX(),c=g.getMouseY();if(0<$("#vakata-dnd").length){var d=!1,f=$(".runtime-control-tree").offset();b<f.left&&($("#vakata-dnd").css("left",f.left+"px"),d=!0);c<f.top&&($("#vakata-dnd").css("top",f.top+"px"),d=!0);d&&g.handleSupression(a)}}function c(a){q.clearDropLocation();0>=$("#jstree-dnd .jstree-icon.jstree-ok").length&&(g.enableHighlighting(!1),a=pega.ui.inspector.getHoveredInspectorObject(),pega.ui.inspector.panel.getJsTreeRef().hover_node(a.id));$(".ui-tree-mask").remove();$(".runtime-origelm-indicator .runtime-moving-mask").remove();
$(f).removeClass("runtime-origelm-indicator");w=!1;f=n=t=null;window.removeEventListener("mouseup",c,!0);window.removeEventListener("mousemove",b,!0)}window.addEventListener("mouseup",c,!0);window.addEventListener("mousemove",b,!0)}function z(b){var c=b.lastIndexOf(".pyCells(");return b.substring(0,c)}function u(b){var c=b.lastIndexOf(".pyCells(");return-1!=c?(b=b.substring(c+9),c=b.indexOf(")"),b.substring(0,c)):-1}var g=pega.ui.inspector,A,f,k,w=!1,t,n,B="",m=null,v=null,y=null,q={addElementToLayout:function(b){var c=
-1;if("before"==m||"after"==m){var a=pega.ui.inspector.getFocusedInspectorObject(),a=parseInt(u(a.get("pgRef")));"before"==m?c=a:"after"==m&&(c=a+1)}a=[];a.push({param:"addElement",value:!0});a.push({param:"newControl",value:b});a.push({param:"newIndex",value:c});return r(a)},moveElementInLayout:function(b,c,a,f,l,d,g){var e=[];e.push({param:"moveElement",value:!0});e.push({param:"oldPath",value:b});e.push({param:"newPath",value:c});e.push({param:"oldSection",value:a});e.push({param:"newSection",
value:f});e.push({param:"oldIndex",value:l});e.push({param:"newIndex",value:d});return r(e,g)},removeElementInLayout:function(){var b=[];b.push({param:"removeElement",value:!0});return r(b)},showDropLocation:function(b,c,a){a=pega.ui.inspector.panel.getInspectorObjectByID(a).get("element");null==f&&(f=pega.ui.inspector.panel.getInspectorObjectByID(c).get("element")[0],$(f).hasClass("runtime-origelm-indicator")||$(f).addClass("runtime-origelm-indicator"));null==k&&($(f).hasClass("content-item")||(f=
$(f).closest(".content-item")[0]),k=f.cloneNode(!0),$(k).prepend("\x3cdiv class\x3d'runtime-moving-mask'\x3e\x3c/div\x3e"),$(k).addClass("runtime-drop-indicator"),$(k).removeClass("runtime-origelm-indicator"));f.style.display="none";"b"==b?$(k).insertBefore(a):"a"==b?$(k).insertAfter(a):"i"==b&&(a.hasClass("content")||(a=a[0].querySelector("div.layout-body div.content")),null!=a&&$(a).append(k))},clearDropLocation:function(){f&&(f.style.display="");k&&$(k).remove();k=null},checkOperationCallback:function(b,
c,a,e,l){if("move_node"==b){if("undefined"===typeof l.ref)return!0;B=l.pos;if($(".runtime-control-tree").hasClass("ui-tree-readonly"))return!1;if(!w){A=$.jstree.reference(".runtime-control-tree");b=pega.ui.inspector.panel.getInspectorObjectByID(c.id);e=A.get_node(c.parent);var d="other";null!=e&&(d=e.original.types);t={parentType:d,sectionInsKey:pega.ui.inspector.parser.getNearestParent(b,[{type:"Section"}]).get("insKey")};null!=b&&(f=b.get("element")[0],$(f).addClass("runtime-origelm-indicator"));
g.panel.stopListeningForChanges();c.ignoreSelectFromTree?c.ignoreSelectFromTree=!1:pega.ui.inspector.focus(b);g.disableHighlighting();g.clearAllHighlights();$(document.body).append("\x3cdiv class\x3d'ui-tree-mask'\x3e\x3c/div\x3e");C()}w=!0;if("other"!=t.parentType&&("cell"==c.original.types||"layout"==c.original.types)&&"undefined"!==typeof a.original&&"layout"==a.original.types){if("cell"==l.ref.types&&"i"==l.pos)return!1;if(null==n||n.dynamicLayoutCid!=l.ref.parent){a=pega.ui.inspector.panel.getInspectorObjectByID(l.ref.id);
if(g.isTemplateSection(a))return!1;if(null!=a)if(a=pega.ui.inspector.parser.getNearestParent(a,[{type:"Section"}]),null!=a)a=a.get("insKey"),n={dynamicLayoutCid:l.ref.parent,sectionInsKey:a};else return n=null,!1;else return n=null,!1}if(t.sectionInsKey==n.sectionInsKey)return q.showDropLocation(l.pos,c.id,l.ref.id),!0}return!1}return!0},moveNodeCallback:function(b,c){var a,e,f,d,g;a=pega.ui.inspector.panel.getInspectorObjectByID(c.parent);b=pega.ui.inspector.panel.getInspectorObjectByID(c.node.id);
0==a.children.length?(d=a,c="1",e=d.get("pgRef")+".pySectionBody(1).pyTable.pyRows(1)"):"i"==B?(c=-1,d=a,e=d.get("pgRef")+".pySectionBody(1).pyTable.pyRows(1)"):(a.children.length-1<c.position?(d=a.children[a.children.length-1],c=parseInt(u(d.get("pgRef")))+1):(d=a.children[c.position],c=u(d.get("pgRef"))),e=z(d.get("pgRef")));a=z(b.get("pgRef"));g=u(b.get("pgRef"));f=pega.ui.inspector.parser.getNearestParent(b,[{type:"Section"}]);d=pega.ui.inspector.parser.getNearestParent(d,[{type:"Section"}]);
f=f.get("insKey");d=d.get("insKey");""!=a&&""!=e?($(".runtime-control-tree").addClass("ui-tree-readonly"),q.moveElementInLayout(a,e,f,d,g,c,b)):console.log("Failed to find index for drag or drop node.")},setAddControlPosition:function(b){m=b},makeRuntimeBranch:function(b){if(pega.ui.inspector.getDesktopWindow()!=window)pega.ui.inspector.getDesktopWindow().pega.ui.inspector.editing.makeRuntimeBranch(b);else if(pega.ui.inspector.getDesktopWindow().pega.ui.inspector.makeBranch.hide(),b&&pega.ui.inspector.editing.propertypanel.isOpen()){var c=
new SafeURL("Rule-Application.pzMakeRuntimeBranch");pega&&!pega.offline&&(pega.ui.inspector.getDesktopWindowInspectorProxy().loadingIndicator.show(),pega.u.d.asyncRequest("POST",c,{success:function(a){pega.ui.inspector.editing.propertypanel.registerCloseCallback(function(){pega.ui.inspector.getActiveWindow().pega.ui.inspector.editing.propertypanel.open(b,pega.ui.inspector.getFocusedInspectorObject())});pega.ui.inspector.getActiveWindow().pega.ui.inspector.editing.propertypanel.cancel(b)},failure:function(a){alert("Cannot add runtime branch!")}}))}else null!=
v&&r(v,y,!0)}};return q}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector.editing");
pega.ui.inspector.editing.propertypanel=function(){function k(){var b=pega.u.d.submitModalDlgParamStack[0];"pyModalTemplateRunTimeEdit"!=pega.u.d.submitModalDlgParam.modalSection&&"pyModalTemplateRunTimeEdit"==b.modalSection&&(b=jQuery.extend({},pega.u.d.submitModalDlgParam),jQuery.extend(pega.u.d.submitModalDlgParam,pega.u.d.submitModalDlgParamStack[0]),jQuery.extend(pega.u.d.submitModalDlgParamStack[0],b))}var c={},g=!1,e=null;c.open=function(b,a){if(this.isOpen())return!1;pega.ui.inspector.panel.disablePanel();
var d;a=a?pega.ui.inspector.getFocusedInspectorObject():pega.ui.inspector.getHoveredInspectorObject();d=a.ownerWindow;var c=a.get("pgRef"),e=a.get("element"),f=a.get("flowAction"),h=pega.ui.inspector.getDesktopWindowInspectorProxy().parser.getNearestParent(a,[{type:"Section"}]).get("insKey");if(null==h||""==h)return alert("Not yet implemented"),!1;pega.ui.inspector.getDesktopWindowInspectorProxy().disableHighlighting();pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights();a=new SafeURL;
a.put("readOnly","false");a.put("BaseReference","pyTemp_PropPanelPage"+c);a.put("modelessDialog","true");a.put("IgnoreSectionSubmit",!0);a.put("NewTaskStatus",f);a.put("bExcludeLegacyJS","true");a.put("ModalSection","pyModalTemplateRunTimeEdit");a.put("modalWindowSize","400,650");a.put("KeepMessages",!0);a.put("bEditAtRunTime",!0);a.put("sEditRunTimeInsKey",h);a.put("pyActivity","@baseclass.pzProcessAction_RunTimeEditing");b={target:pega.util.Event.getTarget(b)};g=!0;$(".runtime-control-tree").addClass("ui-tree-readonly");
c=pega.ui.inspector.getDesktopWindowInspectorProxy().getFrameList();for(f=0;f<c.length;f++)0<$(c[f].document).length&&0==$(c[f].document.head).children("#runtime-panel-exp-style").length&&$(c[f].document.head).append("\x3cstyle id\x3d'runtime-panel-exp-style' type\x3d'text/css'\x3e #expression-builder .iconOpenRule { display: none; } \x3c/style\x3e");d.pega.ui.inspector.toggleCursor(!1);pega.ui.inspector.getDesktopWindowInspectorProxy().panel.getListenForChanges()&&pega.ui.inspector.getDesktopWindowInspectorProxy().panel.stopListeningForChanges();
d.pega.ui.inspector.editing.propertypanel.setOpenOverlayIndex(8);d.pega.u.d.processActionModal(a,null,b,"",{submit:function(){pega.ui.inspector.getDesktopWindowInspectorProxy().panel.setListenForChanges(!0);pega.ui.inspector.getDesktopWindowInspectorProxy().panel.setTreeNeedsToRefresh(!0);pega.ui.inspector.getDesktopWindowInspectorProxy().clearAllHighlights(!0);if(e[0].parentNode){var a=$(e[0]).closest("[data-harness-id]").attr("data-harness-id");d.pega.ctxmgr.setCurrentHarnessContext(a);d.pega.u.d.reloadSection(e[0],
"","",!1,!1,-1,!1,null,null,null,function(){d.pega.ui.inspector.editing.propertypanel.handleClose()})}else d.pega.ui.inspector.editing.propertypanel.handleClose();pega.ui.inspector.getDesktopWindowInspectorProxy().loadingIndicator.hide()},cancel:function(){d.pega.ui.inspector.editing.propertypanel.handleClose()}})};c.submit=function(b){k();pega.u.d.performFlowAction(pega.u.d.submitModalDlgParam.taskStatus,b)};c.cancel=function(b){k();var a="";pega.u.d.submitModalDlgParam&&""!=pega.u.d.submitModalDlgParam.taskStatus&&
(a=pega.u.d.submitModalDlgParam.taskStatus);pega.u.d.performFlowAction("",b,"",a)};c.handleClose=function(){window.pega.ui.inspector.toggleCursor(!0);this.setOpenOverlayIndex(100);pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel?pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel.handleClose():($(".runtime-control-tree").removeClass("ui-tree-readonly"),0>=$(".interaction-enabled").length&&
pega.ui.inspector.panel.enablePanel(),g=!1,pega.ui.inspector.getDesktopWindowInspectorProxy().enableHighlighting(),e&&(e(),e=null));$(".modal-overlay .runtime-property-panel").removeClass("runtime-property-panel")};c.setOpenOverlayIndex=function(b){var a=$("#_popOversContainer \x3e div");null!=a&&"visible"==a.css("visibility")&&a.css({"z-index":b})};c.registerCloseCallback=function(b){pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel?
pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel.registerCloseCallback(b):e=b};c.isOpen=function(){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel?pega.ui.inspector.getDesktopWindowInspectorProxy().editing.propertypanel.isOpen():g};return c}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.QuickInfo=function(myContainerElem){var _self=this;var IS_DECLARATIVE_TEXT="is calculated declaratively";var _superClass=new pega.ui.inspector.Overlay.DismissOnMouseOut("inspector-overlay quickinfo",myContainerElem,null,{dataTestId:"quick-info"});$.extend(this,_superClass);function _getInfoPanelHTML(metaData){var returnString="";if(metaData.type&&metaData.type!=""){returnString+="<div><span class='RuntimeInspectorLabel'>Element Type - </span><span class='RuntimeInspectorValue' id='RuntimeInfoPanelType'>"+metaData.type+"</span></div>"}else{returnString+="<div><span class='RuntimeInspectorLabel'>UI element not supported </span class='RuntimeInspectorValue' id='RuntimeInfoPanelType'></div>";return returnString}if(metaData.subTypeDisplay&&metaData.subTypeDisplay!=""){if(metaData.type=="Cell"){returnString+="<div><span class='RuntimeInspectorLabel'>Control - </span><span class='RuntimeInspectorValue' id='RuntimeInfoPanelSubType'>"+metaData.subTypeDisplay+"</span></div>"}else{if(metaData.type=="Section (Cell)"){returnString+="<div><span class='RuntimeInspectorLabel'>Section Include - </span><span class='RuntimeInspectorValue' id='RuntimeInfoPanelSubType'>"+decodeURIComponent(metaData.clipboardPath)+"</span></div>"}else{if(metaData.type=="Layout"){returnString+="<div><span class='RuntimeInspectorLabel'>Layout Type - </span><span class='RuntimeInspectorValue' id='RuntimeInfoPanelSubType'>"+metaData.subTypeDisplay+"</span></div>"}}}}if(metaData.ruleName&&metaData.ruleName!=""){if(metaData.type=="Section"){returnString+="<div><span class='RuntimeInspectorLabel'>Section - </span>"}else{if(metaData.type=="FlowAction"){returnString+="<div><span class='RuntimeInspectorLabel'>Flow Action - </span>"}else{if(metaData.type=="Harness"){returnString+="<div><span class='RuntimeInspectorLabel'>Harness - </span>"}}}returnString+="<span id='RuntimeInfoPanelRuleName' class='RuntimeInspectorValue RuntimeInspectorLabelOpenRule' onclick='pega.ui.inspector.openElementRuleForInsKey(\""+metaData.insKey+"\")'>"+metaData.ruleName+"</span></div>"}else{if(metaData.clipboardPath&&metaData.clipboardPath!=""&&metaData.type=="Cell"){var objClass="";if(metaData.subTypeDisplay&&metaData.subTypeDisplay=="Paragraph"){objClass="Rule-HTML-Paragraph";returnString+="<div><span class='RuntimeInspectorLabel propertyName'>Paragraph - </span>"}else{objClass="Rule-Obj-Property";returnString+="<div class='RuntimeInfoPanelTruncateText'><span class='RuntimeInspectorLabel propertyName'>Property - </span>"}var tempPropName=_stripClipboardPath(metaData.clipboardPath);returnString+="<span id='RuntimeInfoPanelClipboardPath' title='Open "+decodeURIComponent(metaData.clipboardPath)+"' class='RuntimeInspectorValue RuntimeInspectorLabelOpenRule' onclick='pega.ui.inspector.openElementRule(\""+metaData.className+'", "'+tempPropName+'", "'+objClass+"\")'>"+decodeURIComponent(metaData.clipboardPath)+"</span></div>";if(metaData.declarative=="true"){returnString+="<div><span id='RuntimeInfoPanelDeclarative' style='padding-left:1em;' class='RuntimeInspectorLabelOpenRule RuntimeInspectorValue RuntimeInspectorInfoPanelDeclarative' onclick='pega.ui.inspector.launchDeclarativeNetwork(\""+metaData.className+'","'+tempPropName+'","'+metaData.topPage+'","'+metaData.topPageClass+'","")\'>'+IS_DECLARATIVE_TEXT+"</span></div>"}}}var currentElem=metaData.element[0].parentElement;var parentElem=$(currentElem).closest("*[data-ui-meta]")[0];if(parentElem!=""&&parentElem){var parentMetaData=eval("("+$(parentElem).attr("data-ui-meta")+")");while(!(parentMetaData.type=="Section"||parentMetaData.type=="Harness"||parentMetaData.type=="FlowAction")){parentElem=$(parentElem.parentElement).closest("*[data-ui-meta]")[0];parentMetaData=eval("("+$(parentElem).attr("data-ui-meta")+")")}if(parentMetaData.type=="FlowAction"){var inElement="Flow Action"}else{var inElement=parentMetaData.type}returnString+="<div><span class='RuntimeInspectorLabel'> In "+inElement+" - <span><span id='RuntimeInfoPanelContainingRule' class='RuntimeInspectorLabelOpenRule RuntimeInspectorValue' onclick='pega.ui.inspector.openElementRuleForInsKey(\""+parentMetaData.insKey+"\")'>"+parentMetaData.ruleName+"</span></div>"}if(metaData.testID&&metaData.testID!=""&&metaData.type=="Cell"){returnString+="<div class='RuntimeInfoPanelTruncateText'><span class='RuntimeInspectorLabel'> Test ID - <span><span id='RuntimeInfoPanelTestID' class='RuntimeInspectorValue'>"+metaData.testID+"</span>"}return returnString}function _stripClipboardPath(path){var tempPropName=decodeURIComponent(path);tempPropName=tempPropName.split(".");tempPropName=tempPropName[tempPropName.length-1].split("(");return tempPropName[0]}this.showByEvent=function(e,inspObject){_self.setContent(_getInfoPanelHTML(inspObject.getAllAttributes()));_superClass.showByEvent(e)};this.showByPosition=function(x,y,inspObject){console.log("showByEvent(e, inspObject) should be used for showing the quickinfo")}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.InfoBar=function(F,B,G,D){var A=this;if(D==null){D={}}if(D.fadeDuration==null){D.fadeDuration=0}if(D.showArrow==null){D.showArrow=false}if(D.offset==null){D.offset=0}if(D.confinementElement==null){D.confinementElement=window}if(D.fullWidth==null){D.fullWidth=false}if(D.autoPositionY==null){D.autoPositionY=true}F+=" info-bar";var C=new pega.ui.inspector.Overlay(F,B,G,D);$.extend(this,C);for(var E in D.events){A.overlayElem.addEventListener(E,D.events[E])}A.showByPosition=function(M,K,J,H){C.show();var L=K;K=K-A.overlayElem.offsetHeight+D.offset;if(D.autoPositionY&&K<=0){var I=H+L-D.offset+A.overlayElem.offsetHeight;if(I>$(window).height()){K=0}else{K=H+L}}if(D.fullWidth){A.overlayElem.style.width=J+"px"}else{if((M+$(A.overlayElem).outerWidth())>($(D.confinementElement).outerWidth()+$(document).scrollLeft())){M=M-$(A.overlayElem).outerWidth()+J}}A.overlayElem.style.left=M+"px";A.overlayElem.style.top=K+"px"}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");
pega.ui.inspector.rulemanagement=function(){function c(a){pega&&!pega.offline&&(pega.ui.inspector.clearAllHighlights(!0),pega.desktop.support.getDesktopWindow().pega.u.d.asyncRequest("POST",a,{success:function(a){d.setPreviousElementClipboardPath(null);a=a.responseText.split(":");f.reloadSectionInDom(a,null,function(){pega.ui.inspector.rehighlight(!0)})},failure:function(a){alert("Ajax request failed!")}}))}function p(a){pega&&!pega.offline&&(pega.ui.inspector.clearAllHighlights(!0),pega.desktop.support.getDesktopWindow().pega.u.d.asyncRequest("POST",
a,{success:function(a){a=a.responseText.split(":");f.reloadSectionInDom(a,null,function(){pega.ui.inspector.rehighlight(!0)})},failure:function(a){alert("Ajax request failed!")}}))}var d=pega.ui.inspector,e=null,h=null,l,f={publishMemoUpdated:function(a){""==a?$(".runtime-publish-button button").attr("disabled","disabled"):$(".runtime-publish-button button").removeAttr("disabled")},bulkDiscard:function(){var a=new SafeURL("@baseclass.pzDiscardRuntimeRules");c(a)},singleDiscard:function(){var a=new SafeURL("Data-Rule-Locking.pzDiscardRuntimeRules_Single");
a.put("ruleName",e);a.put("className",h);c(a)},bulkPublish:function(a){var b=new SafeURL("@baseclass.pzPublishRuntimeRules");b.put("InMemo",a);p(b)},singlePublish:function(a){var b=new SafeURL("Data-Rule-Locking.pzPublishSingleRuntimeRule");b.put("InMemo",a);b.put("ruleName",e);b.put("className",h);p(b)},undoLastEdit:function(){var a=new SafeURL("@baseclass.pzRunTime_ControlPanel_Undo");c(a)},reloadSectionInDom:function(a,b,m){var c=!1,k=d.getFrameList(),f;f=b?function(){clearTimeout(l);l=setTimeout(function(){d.panel.setListenForChanges(!0);
d.panel.setTreeNeedsToRefresh(!0);d.enableHighlighting();m&&m()},100)}:function(){clearTimeout(l);l=setTimeout(function(){pega.ui.inspector.panel.refresh();d.panel.startListeningForChanges();m&&m()},100)};for(var g=0;g<k.length;g++)try{if(0<$(k[g].document).length)for(var n=0;n<a.length;n++)if(""!=a[n]){var e=pega.u.d.getSectionByName(a[n],"",k[g].document);if(null!=e){var h=$(e).closest("[data-harness-id]").attr("data-harness-id");k[g].pega.ctxmgr.setCurrentHarnessContext(h);k[g].pega.u.d.reloadSection(e,
"","",!1,!1,-1,!1,null,null,null,f);c=!0}}}catch(q){}b&&!c?d.enableHighlighting():c||pega.ui.inspector.panel.refresh()},setSingleRuleAndClass:function(a,b){e=a;h=b}};return f}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.ActionMenu=function(myContainerElem){var _self=this;var _event;var _superClass=new pega.ui.inspector.Overlay.DismissOnMouseOut("action-menu",myContainerElem,"pzRunTime_ActionsMenu",{dataTestId:"action-menu"});$.extend(this,_superClass);_self.overlayContentElem.className="content runtime-property-panel runtime-actions-menu";_self.overlayContentElem.id="inspectorActionMenu";function _actionsMenuAddClasses(focusedData){var prefix="actions-menu-";var isInModal=pega.ui.inspector.utilities.isElementInModal(focusedData.element[0]);if(focusedData.flowAction&&focusedData.flowAction!=""&&!isInModal){$(_self.overlayContentElem).addClass(prefix+"has-flowaction")}var className=prefix;if(focusedData.type=="Layout"){className=className+focusedData.subType}else{className=className+focusedData.type}$(_self.overlayContentElem).addClass(className.toLowerCase());var parent=$(focusedData.element).parent().closest("*[data-ui-meta]");if(parent.length>0){var parentObj=eval("("+$(parent).attr("data-ui-meta")+")");var parentClassName=prefix+"inside-";if(parentObj.type=="Layout"){parentClassName=parentClassName+parentObj.subType}else{parentClassName=parentClassName+parentObj.type}$(_self.overlayContentElem).addClass(parentClassName.toLowerCase())}}function _isEventFromTree(e){var target=pega.ui.inspector.utilities.getTargetFromEvent(_event);if($(target).closest(".runtime-control-panel").length>0){return true}else{return false}}function _showAddControl(e){_self.hide();if(_event){if(!_isEventFromTree(_event)){pega.ui.inspector.addMenu.setOption("oneTimeConfinementElement",pega.ui.inspector.getTopHarness())}pega.ui.inspector.addMenu.showByEvent(_event);$("div.RuntimeAddMenu h3:contains('Basic')").click()}}this.addControlBefore=function(e){pega.ui.inspector.editing.setAddControlPosition("before");_showAddControl(e)};this.addControlAfter=function(e){pega.ui.inspector.editing.setAddControlPosition("after");_showAddControl(e)};this.addControlInside=function(e){pega.ui.inspector.editing.setAddControlPosition("inside");_showAddControl(e)};this.deleteConfirm=function(e){_self.hide();if(_event){if(!_isEventFromTree(_event)){pega.ui.inspector.deleteConfirm.setOption("oneTimeConfinementElement",pega.ui.inspector.getTopHarness())}pega.ui.inspector.deleteConfirm.showByEvent(_event)}};this.openPropPanel=function(e){_self.hide();pega.ui.inspector.editing.propertypanel.open(e,true)};this.showByEvent=function(e,inspObject){_event=e;_self.overlayContentElem.className="content runtime-property-panel runtime-actions-menu";_actionsMenuAddClasses(inspObject.getAllAttributes());_superClass.showByEvent(e)};this.showByPosition=function(){console.log("showByEvent(e, inspObject) should be used for showing the actionmenu")}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.Overlay=function(E,A,D,J){var G=this;J=J||{};if(J.fadeTo==null){J.fadeTo=1}if(J.fadeDuration==null){J.fadeDuration=0}if(J.confinementElement==null){J.confinementElement=window}if(J.showArrow==null){J.showArrow=false}var F=D;G.overlayElem=document.createElement("DIV");G.overlayElem.className="overlay "+E;if(A){A.appendChild(G.overlayElem)}else{document.body.appendChild(G.overlayElem)}G.overlayContentElem=document.createElement("DIV");G.overlayContentElem.className="content";G.overlayElem.appendChild(G.overlayContentElem);if(J.showArrow){G.overlayElemArrow=document.createElement("DIV");G.overlayElemArrow.className="arrow";G.overlayElem.appendChild(G.overlayElemArrow)}G.overlayElem.style.display="none";G.overlayElem.style.visibility="hidden";if(J.dataTestId&&J.dataTestId!=""){G.overlayElem.setAttribute("data-test-id",J.dataTestId)}function I(a,d,U){G.overlayElem.style.display="block";var j=0;var S=0;if(U){if(U.target){var R=U.target}else{if(U.srcElement){var R=U.srcElement}}if(!document.body.contains(R)&&$(R).attr("data-click")){var M=$("[data-click='"+$(R).attr("data-click")+"']")[0];if(document.body.contains(M)){R=M}}var i=$(R).offset();j=$(R).outerHeight()/2;S=$(R).outerWidth()/2;a=i.left+S;d=i.top+j}var c=$(G.overlayElem).outerWidth();var Z=$(G.overlayElem).outerHeight();if(J.oneTimeConfinementElement){var h=$(J.oneTimeConfinementElement).width()+$(window).scrollLeft();var f=0;var L=0;var W=$(window).height()+$(window).scrollTop();J.oneTimeConfinementElement=null}else{var h=$(J.confinementElement).width()+$(window).scrollLeft();var f=0;var L=0;var W=$(window).height()+$(window).scrollTop()}var l=0;var e=0;var T=0;if(G.overlayElemArrow){l=$(G.overlayElemArrow).outerHeight()/2;e=$(G.overlayElemArrow).outerWidth()/2;T=10}$(G.overlayElem).removeClass("down-arrow");$(G.overlayElem).removeClass("up-arrow");$(G.overlayElem).removeClass("left-arrow");$(G.overlayElem).removeClass("right-arrow");$(G.overlayElem).removeClass("left-side");$(G.overlayElem).removeClass("right-side");var Y=0;var X=0;var P="clear";var N="clear";var b=d+l+Z+j;var k=d-l-Z-j;var K=a-T-e+c;var Q=a+T-c;var O=a+(e*2)+c;var V=a-(e*2)-c;if(b<W){$(G.overlayElem).addClass("up-arrow");X=d+l+j}else{if(k>L){$(G.overlayElem).addClass("down-arrow");X=d-l-Z-j}else{X=L;N=d-l;if(X+Z<d+j){var g=(d+j)-(X+Z);X+=g+T;N=N-g-T}if(O<h){$(G.overlayElem).addClass("left-arrow");Y=a+(e*2)}else{if(V>f){$(G.overlayElem).addClass("right-arrow");Y=V}else{Y=f}}}}if($(G.overlayElem).hasClass("up-arrow")||$(G.overlayElem).hasClass("down-arrow")){if(K<h){$(G.overlayElem).addClass("left-side");Y=a-T-e}else{if(Q>f){$(G.overlayElem).addClass("right-side");Y=a+T+e-c}else{var g=(K+c)-h;Y=K-g;P=c-(h-a)-e}}}H(G.overlayElem,Y,X);if(G.overlayElemArrow){H(G.overlayElemArrow,P,N)}G.overlayElem.style.display="none"}function H(L,M,K){var N=L.style;if(M!=null&&M!="clear"){N.left=M+"px"}else{if(M=="clear"){N.left=""}}if(K!=null&&K!="clear"){N.top=K+"px"}else{if(K=="clear"){N.top=""}}}function C(){if(F){$(G.overlayContentElem).html(F);F=null}}function B(){G.overlayElem.style.visibility="visible";$(G.overlayElem).stop(true,false).fadeTo(J.fadeDuration,J.fadeTo,function(){if(J.showCallback){J.showCallback()}})}G.show=function(){C();B()};G.showByPosition=function(L,K){C();I(L,K);B()};G.showByEvent=function(K){C();I(null,null,K);B()};G.hide=function(){if(G.overlayElem.style.display=="none"){return }$(G.overlayElem).stop(true,false).fadeTo(J.fadeDuration,0,function(){G.overlayElem.style.display="none";G.overlayElem.style.visibility="hidden";if(J.hideCallback){J.hideCallback()}})};G.setContent=function(K){F=K};G.setOption=function(K,L){J[K]=L};G.removeFromDom=function(){$(G.overlayElem).remove()}};pega.ui.inspector.Overlay.LazyLoad=function(E,C,D,I){var G=this;if(I==null){I={}}var B=D;var F=new pega.ui.inspector.Overlay(E,C,null,I);$.extend(this,F);var H=false;function A(J,M,L){F.overlayContentElem.innerHTML="";var K=document.createElement("DIV");F.overlayContentElem.appendChild(K);if(J){var N=function(){F.showByEvent(J)}}else{var N=function(){F.showByPosition(M,L)}}pega.ui.inspector.utilities.loadSectionIntoDom(B,"@baseclass",K,N,I.baseRef);H=true}G.setSectionLoaded=function(){H=false};G.showByPosition=function(K,J){if(!H){A(null,K,J)}else{F.showByPosition(K,J)}};this.showByEvent=function(J){if(!H){A(J)}else{F.showByEvent(J)}}};pega.ui.inspector.Overlay.DismissOnMouseOut=function(F,B,E,D){var A=this;if(D==null){D={}}if(D.fadeDuration==null){D.fadeDuration=250}if(D.showArrow==null){D.showArrow=true}F+=" dismiss-on-mouse-out";if(E!=null){var C=new pega.ui.inspector.Overlay.LazyLoad(F,B,E,D)}else{var C=new pega.ui.inspector.Overlay(F,B,E,D)}$.extend(this,C);if(A.overlayElemArrow){A.keepRegion=document.createElement("DIV");A.keepRegion.className="keepregion";A.overlayElem.appendChild(A.keepRegion);A.keepRegion.addEventListener("click",A.hide);A.overlayElemArrow.addEventListener("click",A.hide)}A.overlayElem.addEventListener("mouseleave",A.hide);A.removeFromDom=function(){A.keepRegion.removeEventListener("click",A.hide);A.overlayElemArrow.removeEventListener("click",A.hide);A.overlayElem.removeEventListener("mouseleave",A.hide);C.removeFromDom()}};pega.ui.inspector.Overlay.DismissOnOutsideClick=function(F,B,E,D){var A=this;if(D==null){D={}}if(D.showArrow==null){D.showArrow=true}if(D.fadeDuration==null){D.fadeDuration=250}if(D.frameList==null){D.frameList=function(){return[document]}}F+=" dismiss-on-outside-click";if(E!=null){var C=new pega.ui.inspector.Overlay.LazyLoad(F,B,E,D)}else{var C=new pega.ui.inspector.Overlay(F,B,E,D)}$.extend(this,C);function G(I){if(!A.overlayElem.contains(I.target)){A.hide()}}function H(J){var K=D.frameList();for(var I=0;I<K.length;I++){if(J){K[I].addEventListener("mouseup",G)}else{K[I].removeEventListener("mouseup",G)}}}A.showByEvent=function(I){C.showByEvent(I);H(true)};A.show=function(){C.show();H(true)};A.hide=function(){if(D.preHide){D.preHide()}C.hide();H(false)};A.removeFromDom=function(){A.hide();C.removeFromDom()}};pega.ui.inspector.Overlay.Modal=function(F,B,E,D){var A=this;if(D==null){D={}}if(D.showArrow==null){D.showArrow=false}F+=" modal";A.maskElem=document.createElement("DIV");A.maskElem.className="modal-mask hidden";B.appendChild(A.maskElem);if(E!=null){var C=new pega.ui.inspector.Overlay.LazyLoad(F,B,E,D)}else{var C=new pega.ui.inspector.Overlay(F,B,E,D)}$.extend(this,C);A.showByPosition=function(H,G){$(A.maskElem).removeClass("hidden");C.showByPosition(H,G)};A.hide=function(){$(A.maskElem).addClass("hidden");C.hide()};A.show=function(){A.showByPosition(0,0)}};pega.ui.inspector.Overlay.Timeout=function(E,B,F,D){var A=this;if(D==null){D={}}if(D.fadeDuration==null){D.fadeDuration=150}if(D.showArrow==null){D.showArrow=false}if(D.timeOutDuration==null){D.timeOutDuration=750}E+=" time-out";var C=new pega.ui.inspector.Overlay(E,B,F,D);$.extend(this,C);A.showByEvent=function(G){C.showByEvent(G);setTimeout(C.hide,D.timeOutDuration)}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.AncestorList=function(C,M){var G="runtime-ancestor-panel";var A="No ancestors";var B="runtime-tree-prefix";var I=this;if(M==null){M={}}M.showArrow=false;M.fadeTo=0.95;M.fadeDuration=250;M.dataTestId="ancestor-list";var H=new pega.ui.inspector.Overlay.DismissOnMouseOut(G,C,null,M);$.extend(this,H);I.keepRegion=document.createElement("DIV");I.keepRegion.className="keepregion";I.overlayElem.appendChild(I.keepRegion);I.keepRegion.addEventListener("click",I.hide);function E(){pega.ui.inspector.clearHighlight(false)}function L(N){var O=N;return function(){pega.ui.inspector.hover(O)}}function J(N){var O=N;return function(){pega.ui.inspector.focus(O);H.hide()}}function D(N){var O=N;return function(){pega.ui.inspector.openElementRuleForInsKey(O.get("insKey"))}}function K(){var c=0;pega.ui.inspector.utilities.removeChildren(I.overlayContentElem);var W=[{type:"Section"},{type:"Harness"}];var Z=pega.ui.inspector.getFocusedInspectorObject();var U=pega.ui.inspector.parser.getNearestParent(Z,W);while(c<7&&U!=null){if(U.get("type")=="Section"||U.get("type")=="Harness"){var X="ancestor-"+(c+1);var V={id:X,className:"ancestor-anchor"};var a=new J(U);var Q=new L(U);var b={click:a,mouseenter:Q,mouseleave:E};var O=pega.ui.inspector.utilities.createElement("A",V,b);var S=pega.ui.inspector.utilities.createElement("I",{className:U.get("type")+"Node"});O.appendChild(S);var T=pega.ui.inspector.utilities.createElement("SPAN",{innerHTML:pega.ui.inspector.utilities.displayUIElementText(U.getAllAttributes())});O.appendChild(T);if(U.get("insKey")&&U.get("insKey")!=""){var Y={className:"live-ui-open-rule AncestorOpenRule",title:pega.u.d.fieldValuesList.get("OpenInDevStudio")};var R=new D(U);var b={click:R};var P=pega.ui.inspector.utilities.createElement("SPAN",Y,b);O.appendChild(P)}I.overlayContentElem.insertBefore(O,I.overlayContentElem.firstChild);c++}U=pega.ui.inspector.parser.getNearestParent(U,W)}if(c==0){var N=pega.ui.inspector.utilities.createElement("SPAN",{innerHTML:A,className:B});I.overlayContentElem.appendChild(N)}}function F(S,Q,R){var N=$(".inspectorTreeSecIdPanel");var P=$(".inspectorTreeSecIdPanel .idpanel-icon-container");var O=N.outerHeight();I.keepRegion.style.width=(N.width()-P.width())+"px";I.keepRegion.style.height=O+"px";I.keepRegion.style.left=R+"px";if(Q){I.keepRegion.style.top=-O+"px";I.keepRegion.style.bottom="auto"}else{I.keepRegion.style.top="auto";I.keepRegion.style.bottom=-O+"px"}}this.show=function(){K();I.overlayElem.style.display="block";var V=$(M.showTarget);var R=V.offset();R.height=V.height();var U=R.left;var T=R.top;var W=$(I.overlayElem).outerHeight();var O=$(I.overlayElem).outerWidth();var Q=false;var N="0";if(T-W<0){pega.ui.inspector.utilities.reverseChildren(I.overlayContentElem);T=T+R.height;Q=true}else{T=T-W}var S=$(window).width()+$(window).scrollLeft();if(U+O>S){var P=U+O-S;U=U-P;N=P}I.overlayElem.style.display="none";pega.ui.inspector.utilities.moveElement(I.overlayElem,U,T);H.show();F(R,Q,N)};this.showByEvent=function(N){console.log("show(infobarLocation) should be used for showing the ancestor list")};this.showByPosition=function(O,N){console.log("show(infobarLocation) should be used for showing the ancestor list")}};
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");pega.ui.inspector.ErrorModal=function(D,C){var A=this;C.baseRef="pyTemp_PropPanelPage";C.dataTestId="editing-error";var B=new pega.ui.inspector.Overlay.Modal("inspector-modal",D,"pzRuntime_ActionsMenuErrors",C);$.extend(this,B);this.show=function(E){if(E.toLowerCase()=="locked"){B.setSectionLoaded(false)}B.overlayContentElem.className="content runtime-property-panel runtime-modal-error-content error-message-"+E.toLowerCase();B.showByPosition(0,0)};this.hide=function(){B.hide()};this.showByEvent=function(E){console.log("show(errorMessage) should be used for showing the error modal")};this.showByPosition=function(F,E){console.log("show(errorMessage) should be used for showing the error modal")}};
pega.namespace("pega.ui.inspector");

// The editor is a singleton class which returns its public methods.
pega.ui.inspector.expressedit = function() {

  /////////////////////////////////////////////////////////////////////////////////
  //                                  CONSTANTS                                  //
  /////////////////////////////////////////////////////////////////////////////////
  var OUTERMOST_CONFIGURE_DIV_CLASS = "runtime-edit-review-configure";  
  /////////////////////////////////////////////////////////////////////////////////
  //                                  GLOBALS                                    //
  /////////////////////////////////////////////////////////////////////////////////
  /* -- PRIVATE GLOBALS -- */
  var _inspectorObjectsByID;
  var _currentInspectorObject;
  /* -- PUBLIC GLOBALS -- */
  var publicAPI = {};

  /////////////////////////////////////////////////////////////////////////////////
  //                              PRIVATE FUNCTIONS                              //
  /////////////////////////////////////////////////////////////////////////////////  
  /**
   * @private A click object which can be instantiated in order to click
   *
   * @param $HTML Element$ elem - HTML Element for containing section information
   */
  function _clickConfigureLink(elem) {
    var _elem = elem;

    return function(eventObject) {
      pega.ui.composer.getCurrentComposerWindow().pega.ui.edit.config.launchPanel(_elem);
    }
  }
  /////////////////////////////////////////////////////////////////////////////////
  //                                    PUBLIC API                               //
  /////////////////////////////////////////////////////////////////////////////////
  /*
   * Method that gets called from the ui_doc to load the configure links.
   */

  publicAPI.loadConfigureLinks = function() {

    // Only add the links if the composer bar is ON which ensures that we are in Pega express portal.
    if (pega.ui.composer.isComposerOn()) {
      pega.ui.inspector.expressedit.toggleConfigureLinks("ADD");
    }
  }

  /**
   * @public Called to refresh the field value tree
   */
  publicAPI.toggleConfigureLinks = function(operation) {

    if (pega.ui.composer.getCurrentComposerWindow() !== window) {
      return pega.ui.composer.getCurrentComposerWindow().pega.ui.inspector.expressedit.toggleConfigureLinks(operation);
    }
    var returnObj = pega.ui.inspector.parser.buildModel(document.body);
    _inspectorObjectsByID = returnObj.lookupByID;

    for (var key in _inspectorObjectsByID) {
      _currentInspectorObject = _inspectorObjectsByID[key];
      var currentRuleType = _currentInspectorObject.get("type");
      if (currentRuleType === "Section") {

        var currentSectionName = _currentInspectorObject.get("ruleName");

        // Check if the section is either case information gadgets
        if (currentSectionName === "pyEnterCaseDetails" || currentSectionName === "pyCaseInformation") {

          // Get JQuery version of the inspector element
          var elemObj = _currentInspectorObject.get("element");
          var hasCaseActionAreaAsAncestor = (currentSectionName === "pyEnterCaseDetails" && elemObj.closest('[data-node-id="pyCaseActionArea"]').length !== 0);

          if (operation === "ADD" && !hasCaseActionAreaAsAncestor) {
            pega.ui.inspector.expressedit.addConfigureLink(elemObj, _currentInspectorObject, currentSectionName);
          } else if (operation === "REMOVE") {
            pega.ui.inspector.expressedit.removeConfigureLink(elemObj);
          }
        }
      }
    }
  }

  /**
   * @public Called to add the configure link field
   * @param $Object$ - the element to add
   * @param $Object$ inspectorObj - the UI inspector object
   * @param $String$ currentSectionName - the name of the section to add the object for
   */
  publicAPI.addConfigureLink = function(currentElement, inspectorObj, currentSectionName) {
    var inspectorElement = pega.ui.inspector.utilities.getTempInspectorObject(currentElement)
    var nearestParent = pega.ui.inspector.parser.getNearestParent(inspectorElement);
    // if the current element is in a layout group, then set the currentElement to be the first section
    if(nearestParent && nearestParent.get("type") === "Layout" && nearestParent.get("subType") === "DYNAMICLAYOUTGROUP")
    {
        currentElement = $(currentElement[0].querySelector(".layout-body > .sectionDivStyle"));
    }
  
    // Get the HTML and the firstchild from it
    var firstCh = currentElement[0].firstChild;

    // If the first child is the link then dont add a new one
    if (firstCh.className !== OUTERMOST_CONFIGURE_DIV_CLASS) {

      // Build up the events for the div
      //_clickConfigureLink is a function that you can call to new up. newing this up returns a function object.
      //The new object itself will contain a cached version of the inspector object itself
      var events = {
        'click': new _clickConfigureLink(inspectorObj.get('element'))
      };

      var OuterMostDIV = pega.ui.inspector.utilities.createElement("DIV", {
        className: OUTERMOST_CONFIGURE_DIV_CLASS
      }, events);

      // 1. Create the outermost Link DIV
      var configureLinkDIV = pega.ui.inspector.utilities.createElement("DIV", {
        className: "runtime-edit-config-link"
      });
      // 2. Build inner SPAN
      var configureLinkText = pega.u.d.fieldValuesList.get("Configure this view");
      var configureLinkSPANAttributes = {
        className: "express-idpanel-text",
        innerHTML: configureLinkText
      };
      var configureLinkSPAN = pega.ui.inspector.utilities.createElement("SPAN", configureLinkSPANAttributes);
      // 3. Add SPAN to Link div
      configureLinkDIV.appendChild(configureLinkSPAN);
      // 4. create icon DIV
      var configureLinkIcon = pega.ui.inspector.utilities.createElement("DIV", {
        className: "runtime-edit-config-icon"
      });
      // 5. create anchor
      var configureLinkAnchor = pega.ui.inspector.utilities.createElement("a", {
        className: "runtime-edit-pencil"
      });
      // 6. Append anchor as a child to the icon DIV
      configureLinkIcon.appendChild(configureLinkAnchor);
      // 7. Add Icon to the Link DIV
      configureLinkDIV.appendChild(configureLinkIcon);
      // 8. Add Link DIV to outermost DIV
      OuterMostDIV.appendChild(configureLinkDIV);
      // 9. Finally Add the outermost DIV to the current element
      currentElement[0].insertBefore(OuterMostDIV, currentElement[0].firstChild);

      // Add configure highlight class to the current element
      currentElement.addClass("express-configure-highlight");
    }
  }

  /**
   * @public Called to remove the configure link field
   * @param $Object$ currentElement - the element to remove
   */
  publicAPI.removeConfigureLink = function(currentElement) {

    // Get the HTML and the firstchild from it
    var firstCh = currentElement[0].firstChild;

    if (firstCh.className === OUTERMOST_CONFIGURE_DIV_CLASS) {
      currentElement[0].removeChild(currentElement[0].firstChild);
      // remove the highlighting
      currentElement.removeClass("express-configure-highlight");
    }
  }

  return publicAPI;
}()
pega.u.d.attachOnload(function() {
  // this piece of code is from pzpega_ui_doc_lifecycle.js

  //If not on perform harness, load configure links (BUG-308735)
  //BUG-351621 we also need the configure links on perform harness
  if (pega.u.d.primaryPageName === 'pyWorkPage') {
    setTimeout(pega.ui.inspector.expressedit.loadConfigureLinks, 1000);
  }
}, true);
//static-content-hash-trigger-NON
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");
pega.ui.inspector.fieldvalue=function(){function r(b,c,a){var d="\x3cspan class\x3d'meta-title' title\x3d'Translates to: "+b.pyLocalizedValue+"'\x3e",d=d+("\x3cspan class\x3d'runtime-tree-prefix'\x3e"+b.pyFieldName+" - \x3c/span\x3e"),d=d+("\x3cspan class\x3d'RuntimeInspectorValue'\x3e"+b.pyFieldValue+"\x3c/span\x3e"),e;""!=b.pzInsKey?(e=pega.u.d.fieldValuesList.get("OpenInDevStudio"),b='pega.ui.inspector.fieldvalue.openFieldValue("'+b.pzInsKey+'")'):(e=pega.u.d.fieldValuesList.get("CreateInDevStudio"),
b='pega.ui.inspector.fieldvalue.createNewFieldValue("'+b.pyClassName+'","'+b.pyFieldName+'","'+b.pyFieldValue+'")');return d=d+("\x3ca class\x3d'runtime-edit-icon live-ui-open-rule' title\x3d'"+e+"' onclick\x3d'"+b+"'\x3e\x3c/a\x3e")+("\x3ca class\x3d'runtime-edit-icon runtime-edit-info' onclick\x3d'pega.ui.inspector.fieldvalue.showInfo(event, \""+c+'", '+a+")'\x3e \x3c/a\x3e")+"\x3c/span\x3e"}function t(b){var c=pega.ui.inspector.utilities.getHoverInfoBarContent(b),a=pega.ui.inspector.utilities.createElement("DIV",
{className:"idpanel-icon-container"}),d;(d=b&&b.get("insKey")&&""!=b.get("insKey")||b.get("type")&&"Section"==b.get("type")||b.get("subType")&&("SUB_SECTION"==b.get("subType")||"PANEL"==b.get("subType"))?b:pega.ui.inspector.parser.getNearestParent(b,[{type:"Section"},{type:"Harness"}]))&&d.get("insKey")&&""!=d.get("insKey")&&(b={className:"runtime-edit-icon live-ui-open-rule",title:pega.u.d.fieldValuesList.get("OpenInDevStudio")},b=pega.ui.inspector.utilities.createElement("A",b,{click:function(){pega.ui.inspector.fieldvalue.openFieldValue(d.get("insKey"))}}),
a.appendChild(b),c.appendChild(a));return c}function l(b){for(var c=null,a=0;a<n.length&&!(c=n[a].findByElement(b));a++);return c}function u(){function b(a){return(a=l(a))&&a.hasFieldValues?!0:!1}var c=document.createElement("DIV");c.classList.add("fieldvalue-inspector-elements");document.body.appendChild(c);h=new pega.ui.inspector.Overlay.DismissOnMouseOut("inspector-overlay quickinfo",c,null,{dataTestId:"field-value-info"});f=new pega.ui.inspector.utilities.InspectorHighlight({highlight:{customClass:"primaryTreeHighlight",
container:c},infoBar:{customClass:"inspectorTreeIdPanel",container:c,options:{confinementElement:pega.ui.inspector.getTopHarness(),offset:2}},getInfoBarContent:function(a){a=l(a);return pega.ui.inspector.utilities.getHoverInfoBarContent(a)},ignoreList:[".right-panel-dock",".fieldvalue-inspector-elements",".localization-toggle"],isValidElement:b,elementFoundCallback:function(a){var b=l(a.foundElement);b&&k.hoverNode(b.id,!0);g.getHighlightedElement()===a.foundElement&&f.clearHighlight()}});g=new pega.ui.inspector.utilities.InspectorHighlight({highlight:{customClass:"secondaryTreeHighlight",
container:c},infoBar:{customClass:"inspectorTreeSecIdPanel",container:c,options:{confinementElement:pega.ui.inspector.getTopHarness(),offset:2}},eventsToBlockList:"dblclick contextmenu keydown keyup mousedown mouseup".split(" "),getInfoBarContent:function(a){a=l(a);return t(a)},ignoreList:[".right-panel-dock",".fieldvalue-inspector-elements",".localization-toggle"],eventMonitored:"click",isValidElement:b,elementFoundCallback:function(a){var b=l(a.foundElement);b&&(k.selectNode(b.id,!0),f.getHighlightedElement()===
a.foundElement&&(f.clearHighlight(),k.dehoverAll()))}});k=new pega.ui.components.Tree(document.querySelector(".field-value-tree"),{selectCallback:function(a){a=pega.ui.inspector.fieldvalue.getInspectorObjectByID(a).get("element")[0];g.highlightElement(a);f.getHighlightedElement()===a&&f.clearHighlight()},hoverCallback:function(a){a=pega.ui.inspector.fieldvalue.getInspectorObjectByID(a);var b=a.get("element")[0];g.getHighlightedElement()===b?f.clearHighlight():f.highlightElement(a.get("element")[0])}})}
function v(){document.querySelector(".fieldvalue-panel").classList.remove("interaction-enabled");document.querySelector(".field-value-tree").classList.remove("ui-tree-readonly");var b=document.querySelector(".fieldvalue-inspector-elements");document.body.removeChild(b);b=document.querySelector(".localization-toggle");null!=b&&b.classList.remove("inspector-active");e.getElement().parentElement.style.zIndex=p;h.removeFromDom();g.destroy();f.destroy();k.destroy();k=f=g=h=null}function w(){u();var b=
document.querySelector(".localization-toggle");null!=b&&b.classList.add("inspector-active");p=e.getElement().parentElement.style.zIndex;e.getElement().parentElement.style.zIndex="300";q.refresh();f.enable();g.enable()}var h,m,n,f,g,k,e=null,p,q={toggle:function(){pega.ui.inspector.isActive()||(null==e?(e=new pega.ui.components.panels.ClassLoader("fieldvalueInspector",{showCallback:w,preHide:function(){f.clearHighlight();f.disable();g.clearHighlight();g.disable()},hideCallback:v}),e.getElement().classList.add("fieldvalue-panel"),
pega.ui.panelManager.registerPanel(e,pega.ui.panelConstants.DOCK_LOCATION.RIGHT),e.loadByClass("Pega-UI-PanelContent-LocalizationInspector",e.show)):e.isShowing()?e.hide():e.show())},isActive:function(){return e&&e.isShowing()},refresh:function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!=window&&null!=pega.ui.inspector.getDesktopWindowInspectorProxy().fieldvalue)return pega.ui.inspector.getDesktopWindowInspectorProxy().fieldvalue.refresh();pega.ui.inspector.parser.setMetaAttr("data-fieldvalue-meta");
var b=pega.ui.inspector.parser.buildModel(document.body);pega.ui.inspector.parser.setMetaAttr("data-ui-meta");m=b.lookupByID;n=b.rootNodes;var b=[],c;for(c in m){var a=m[c];if(a.hasFieldValues){for(var d=a.getFieldValues(),e=0,f={id:a.id,children:[]},g=0;g<d.length;g++){var h="field-value-exists";""==d[g].pzInsKey&&(e+=1,h="field-value-doesnt-exist");f.children.push({lookup:a.id,text:r(d[g],a.id,g),li_attr:{"class":h}})}f.li_attr=0<e?{"class":"missing-field-values"}:{"class":"not-missing-field-values"};
d=f;a="\x3cspan class\x3d'meta-title'\x3e"+pega.ui.inspector.utilities.displayUIElementText(a.getAllAttributes());0<e&&(a+="\x3cspan class\x3d'runtime-tree-prefix'\x3e ("+e+")\x3c/span\x3e");d.text=a+"\x3c/span\x3e";b.push(f)}}k&&k.populate(b)},openFieldValue:function(b){pega.ui.inspector.utilities.openRuleByInsKey(b,function(b){"Data-Portal-DesignerStudio"==b.pega.u.d.getHarnessClass()&&"pzStudio"==b.pega.u.d.getHarnessPurpose()&&b.pega.ui.inspector.fieldvalue.isActive()&&b.pega.ui.inspector.fieldvalue.toggle()})},
createNewFieldValue:function(b,c,a){pega.ui.inspector.hideAllOverlays();b="\x3cpagedata\x3e\x3cpxObjClass\x3eRule-Obj-FieldValue\x3c/pxObjClass\x3e"+("\x3cpyClassName\x3e"+b+"\x3c/pyClassName\x3e")+("\x3cpyFieldName\x3e"+c+"\x3c/pyFieldName\x3e")+("\x3cpyFieldValue\x3e"+a+"\x3c/pyFieldValue\x3e");b+="\x3cpyRefToFocusKey\x3e"+a+"\x3c/pyRefToFocusKey\x3e";b+="\x3cpyDPClassName\x3e\x3c/pyDPClassName\x3e";b+="\x3c/pagedate\x3e";a=pega.desktop.support.getAttachedDesignerDesktop();"Data-Portal-DesignerStudio"==
a.pega.u.d.getHarnessClass()&&"pzStudio"==a.pega.u.d.getHarnessPurpose()?a.pega.ui.inspector.fieldvalue.isActive()&&a.pega.ui.inspector.fieldvalue.toggle():a.pega.desktop.showNextInWindow();a.oPega_openRuleManager.pega_openRuleInNewDialogue(b);return b},showInfo:function(b,c,a){var d=[];c=pega.ui.inspector.fieldvalue.getInspectorObjectByID(c).getFieldValues();c=c[a];a=pega.ui.inspector.utilities.createElement("DIV");a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorLabel",
innerHTML:"Name - "}));a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorValue",innerHTML:c.pyFieldName}));d.push(a);a=pega.ui.inspector.utilities.createElement("DIV");a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorLabel",innerHTML:"Value - "}));a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorValue",innerHTML:c.pyFieldValue}));d.push(a);""!=c.pzInsKey&&(a=pega.ui.inspector.utilities.createElement("DIV"),
a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorLabel",innerHTML:"Localized value - "})),a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorValue",innerHTML:c.pyLocalizedValue})),d.push(a));a=pega.ui.inspector.utilities.createElement("DIV");a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorLabel",innerHTML:"Class - "}));a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",
{className:"RuntimeInspectorValue",innerHTML:c.pyClassName}));d.push(a);""!=c.pyRuleSet&&(a=pega.ui.inspector.utilities.createElement("DIV"),a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorLabel",innerHTML:"Ruleset - "})),a.appendChild(pega.ui.inspector.utilities.createElement("SPAN",{className:"RuntimeInspectorValue",innerHTML:c.pyRuleSet})),d.push(a));h&&(h.setContent(d),h.showByEvent(b));return d},getInspectorObjectByID:function(b){return m[b]},toggleSuppression:function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!==
window&&null!==pega.ui.inspector.getDesktopWindowInspectorProxy().fieldvalue)return pega.ui.inspector.getDesktopWindowInspectorProxy().fieldvalue.toggleSuppression();pega.ui.inspector.utilities.toggleInteraction([f,g],e,k,{disableCallback:pega.ui.inspector.fieldvalue.refresh})}};return q}();
var $pNamespace=pega.namespace;$pNamespace("pega.ui.inspector");
pega.ui.inspector.accessibility=function(){function P(a){function f(a){for(var b=0;b<a.childNodes.length;b++){var d=a.childNodes[b];if(3!==d.nodeType&&8!==d.nodeType&&(null!==d.getAttribute("ALT")&&""!==d.getAttribute("ALT").replace(/\s/g,"")||null!==d.getAttribute("TITLE")&&""!==d.getAttribute("TITLE").replace(/\s/g,""))){c=!1;break}f(d)}}var c=!0,b=a.get("subType");b&&void 0!==b&&(-1!==b.toLowerCase().indexOf("button")&&-1===b.toLowerCase().indexOf("radio")||-1!==b.toLowerCase().indexOf("icon"))&&
(f(a.get("element")[0]),!0===c&&-1!==b.toLowerCase().indexOf("button")?C=!0:!0===c&&l(a,"Provide a helper text"))}function Q(a){function f(a){a.parentNode&&(a=a.parentNode,a.previousSibling&&a.previousSibling.className&&0===a.previousSibling.className.indexOf("header")&&a.previousSibling.querySelectorAll("H1,H2,H3,H4,H5,H6")[0].tagName>d?b=!0:f(a))}function c(a){for(var b=0;b<a.children.length;b++){var f=a.children[b];if("H1"===f.tagName||"H2"===f.tagName||"H3"===f.tagName||"H4"===f.tagName||"H5"===
f.tagName||"H6"===f.tagName){d=f.tagName;break}if(d)break;f.hasAttribute("data-ui-meta")||c(f)}}var b=!1,d=null;if("Section"===a.get("type")||a.get("subType")&&"sub_section"===a.get("subType").toLowerCase()||"layout"===a.get("type").toLowerCase())0<a.get("element")[0].querySelectorAll("H1,H2,H3,H4,H5,H6").length&&(c(a.get("element")[0]),d&&f(a.get("element")[0])),b&&l(a,"Heading levels hierarchy is out of order")}function R(a){function f(a){for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];
if(3!==e.nodeType&&8!==e.nodeType){if(e.hasAttribute("data-ui-meta"))continue;if(e.hasAttribute("data-click")&&!e.hasAttribute("data-keydown")&&!e.hasAttribute("data-keyup")){if("PXAUTOCOMPLETE"===b&&"BUTTON"===e.tagName)continue;else if("PXMULTISELECT"===b&&"I"===e.tagName)continue;c=!0;break}}f(e)}}var c=!1,b=a.get("subType");b&&void 0!==b&&(-1!==b.toLowerCase().indexOf("button")&&-1===b.toLowerCase().indexOf("radio")||-1!==b.toLowerCase().indexOf("link")||-1!==b.toLowerCase().indexOf("menu")||
-1!==b.toLowerCase().indexOf("checkbox")||-1!==b.toLowerCase().indexOf("icon"))||(f(a.get("element")[0]),!0===c&&l(a,"Also provide a comparable keyboard interaction"))}function S(a){function f(a){for(var b=0;b<a.children.length;b++){var d=a.children[b];if("H1"===d.tagName||"H2"===d.tagName||"H3"===d.tagName||"H4"===d.tagName||"H5"===d.tagName||"H6"===d.tagName){c=!0;break}var e=!1;if(d.getAttribute("data-ui-meta")){var l=d.getAttribute("data-ui-meta").replace(/'/g,'"');try{"Layout"===JSON.parse(l).type&&
(e=!0)}catch(Y){}}d.hasAttribute("data-ui-meta")&&!e||f(d)}}var c=!1;if("Section"===a.get("type")){var b=a.getAllAttributes().sectionChild;b&&0<b[0].querySelectorAll("H1,H2,H3,H4,H5,H6").length&&f(b[0]);c||l(a,"May be missing a header")}}function T(a){var f=pega.ui.inspector.utilities.getHoverInfoBarContent(a),c=pega.ui.inspector.utilities.createElement("DIV",{className:"idpanel-icon-container"}),b;(b=a&&a.get("insKey")&&""!=a.get("insKey")||a.get("type")&&"Section"==a.get("type")||a.get("subType")&&
("SUB_SECTION"==a.get("subType")||"PANEL"==a.get("subType"))?a:pega.ui.inspector.parser.getNearestParent(a,[{type:"Section"},{type:"Harness"}]))&&b.get("insKey")&&""!=b.get("insKey")&&(a={className:"runtime-edit-icon live-ui-open-rule",title:pega.u.d.fieldValuesList.get("OpenInDevStudio")},a=pega.ui.inspector.utilities.createElement("A",a,{click:function(){pega.ui.inspector.accessibility.openSection(b.get("insKey"))}}),c.appendChild(a),f.appendChild(c));return f}function l(a,f){D+=1;e.push({id:a.id,
text:"\x3cspan class\x3d'meta-title issue-heading' title\x3d'"+f+"'\x3e"+("\x3cspan class\x3d'RuntimeInspectorValue issue-description'\x3e"+f+"\x3c/span\x3e")+"\x3c/span\x3e",li_attr:{"class":"accessibility-issue "}})}function U(){for(var a=0;a<p.length;a++)p[a].highlight.showByElement(p[a].element)}function n(a,f,c){c=z[c.id];var b;b=c&&c.get("insKey")&&""!=c.get("insKey")||c.get("type")&&"Section"==c.get("type")||c.get("subType")&&("SUB_SECTION"==c.get("subType")||"PANEL"==c.get("subType"))?c:pega.ui.inspector.parser.getNearestParent(c,
[{type:"Section"},{type:"Harness"}]);var d;d="\x3cspan class\x3d'meta-title'\x3e"+pega.ui.inspector.utilities.displayUIElementText(c.getAllAttributes());d+="\x3c/span\x3e\x3ca class\x3d'runtime-edit-icon live-ui-open-rule' title\x3d'"+pega.u.d.fieldValuesList.get("OpenInDevStudio")+"' onclick\x3d'pega.ui.inspector.accessibility.openSection(\""+b.get("insKey")+"\")'\x3e\x3c/a\x3e";f.text=a;a={id:c.id,text:d,li_attr:{"class":"issue-description"}};("warning"===f.li_attr["class"]&&y||"error"===f.li_attr["class"])&&
t.push(c.get("element")[0]);f.children.push(a)}function B(a){for(var f=[],c=[],b=0,d=0;d<a.children.length;d++)0<a.children[d].children.length&&(b+=a.children[d].children.length,a.children[d].text=a.children[d].text.replace("\x3c/span\x3e\x3c/span\x3e"," ("+a.children[d].children.length+")\x3c/span\x3e\x3c/span\x3e"),"warning"===a.children[d].li_attr["class"]&&y?f.push(a.children[d]):"error"===a.children[d].li_attr["class"]?c.push(a.children[d]):b-=a.children[d].children.length);a.text+=" ("+b+")";
a.children=[].concat(c,f);0<a.children.length&&A.push(a)}function v(){clearTimeout(N);N=setTimeout(U,250)}function u(a){for(var f=null,c=0;c<E.length&&!(f=E[c].findByElement(a));c++);return f}function V(){function a(a){return(a=u(a))&&-1!=t.indexOf(a.get("element")[0])?!0:!1}var f=document.createElement("DIV");f.classList.add("accessibility-inspector-elements");document.body.appendChild(f);m.filtersList=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel disibility-filter-list",
f,"pzAccessibilityDisabilityFilter",{dataTestId:"disibility-filter-list",frameList:pega.ui.inspector.getFrameList,showArrow:!1});m.moreMenu=new pega.ui.inspector.Overlay.DismissOnOutsideClick("runtime-property-panel accessibility-settings-menu",f,"pyAccessibilitySettingsMenu",{dataTestId:"accessibility-settings-menu",frameList:pega.ui.inspector.getFrameList,showArrow:!1});q=new pega.ui.inspector.utilities.InspectorHighlight({highlight:{customClass:"primaryTreeHighlight",container:f},infoBar:{customClass:"inspectorTreeIdPanel",
container:f,options:{confinementElement:pega.ui.inspector.getTopHarness(),offset:2}},getInfoBarContent:function(a){a=u(a);return pega.ui.inspector.utilities.getHoverInfoBarContent(a)},ignoreList:[".right-panel-dock",".accessibility-inspector-elements",".accessibility-toggle",".accessibility-settings-menu"],isValidElement:a,elementFoundCallback:function(a){var b=u(a.foundElement);b&&w.hoverNode(b.id,!0);r.getHighlightedElement()===a.foundElement&&q.clearHighlight()}});r=new pega.ui.inspector.utilities.InspectorHighlight({highlight:{customClass:"secondaryTreeHighlight",
container:f},infoBar:{customClass:"inspectorTreeSecIdPanel",container:f,options:{confinementElement:pega.ui.inspector.getTopHarness(),offset:2}},eventsToBlockList:"dblclick contextmenu keydown keyup mousedown mouseup".split(" "),getInfoBarContent:function(a){a=u(a);return T(a)},ignoreList:[".right-panel-dock",".accessibility-inspector-elements",".accessibility-toggle"],eventMonitored:"click",isValidElement:a,elementFoundCallback:function(a){var b=u(a.foundElement);b&&(w.selectNode(b.id,!0),q.getHighlightedElement()===
a.foundElement&&(q.clearHighlight(),w.dehoverAll()))}});w=new pega.ui.components.Tree(document.querySelector(".accessibility-tree"),{selectCallback:function(a){if(a=z[a])a=a.get("element")[0],r.highlightElement(a),q.getHighlightedElement()===a&&q.clearHighlight()},hoverCallback:function(a){if(a=z[a]){var b=a.get("element")[0];r.getHighlightedElement()===b?q.clearHighlight():q.highlightElement(a.get("element")[0])}}})}function W(){V();O=k.getElement().parentElement.style.zIndex;k.getElement().parentElement.style.zIndex=
"300";var a=document.querySelector(".accessibility-toggle");null!=a&&a.classList.add("inspector-active");m.refresh();q.enable();r.enable()}function X(){document.querySelector(".accessibility-panel").classList.remove("interaction-enabled");document.querySelector(".accessibility-tree").classList.remove("ui-tree-readonly");var a=document.querySelector(".accessibility-inspector-elements");document.body.removeChild(a);a=document.querySelector(".accessibility-toggle");null!=a&&a.classList.remove("inspector-active");
for(a=0;a<p.length;a++)p[a].highlight=null,p[a].element=null;p=[];for(a=0;a<t.length;a++)t[a]=null;t=[];A=[];e=[];k.getElement().parentElement.style.zIndex=O;pega.ui.inspector.accessibility.setFilter("");r.destroy();q.destroy();w.destroy()}var m={FILTERS:{PROTANOPIA:"Protanopia",PROTANOMALY:"Protanomaly",DEUTERANOPIA:"Deuteranopia",DEUTERANOMALY:"Deuteranomaly",TRITANOPIA:"Tritanopia",TRITANOMALY:"Tritanomaly",ACHROMATOPSIA:"Achromatopsia",ARCHROMANTOMALY:"Achromatomaly"}},t=[],p=[],N,A=[],e=[],F=
!1,z,E,D=0,C=!1,w=null,k=null,y=!0,x=!1,O,q,r;m.toggle=function(){pega.ui.inspector.isActive()||(null==k?(k=new pega.ui.components.panels.ClassLoader("accessibilityInspector",{showCallback:W,preHide:function(){q.clearHighlight();q.disable();r.clearHighlight();r.disable()},hideCallback:X}),k.getElement().classList.add("accessibility-panel"),pega.ui.panelManager.registerPanel(k,pega.ui.panelConstants.DOCK_LOCATION.RIGHT),k.loadByClass("Pega-UI-PanelContent-AccessibilityInspector",k.show,{streamName:"pzRunTime_ControlPanel_AccessibilityTab",
pageContext:"pyDisplayHarness",panelLabel:"Accessiblitiy Inspector"})):k.isShowing()?(document.querySelector(".tree-component-readonly")&&m.toggleSuppression(),k.hide()):k.show())};m.isActive=function(){return k&&k.isShowing()};m.refresh=function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!==window&&null!==pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility)return pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility.refresh();var a=pega.ui.inspector.parser.buildModel(document.body);
z=a.lookupByID;E=a.rootNodes;D=0;e=[];A=[];t=[];for(var f in z)if(a=z[f],void 0!==a&&void 0!==a.getAllAttributes()){var c=a,b=c.get("subType");!b||"FREEFORM"!==b&&"TEMPLATE"!==b||l(c,"Table-based layouts are deprecated, use Dynamic Layouts instead");b&&"TABGROUP"===b&&l(c,"Tab Group layouts are deprecated, use Layout Groups instead");b&&"REPEATHORIZONTAL"===b&&l(c,"Repeat Horizontal layouts are deprecated, use a Table layout or Repeating Dynamic Layout instead");var c=a,b=c.get("subType"),d=c.get("element")[0];
b&&("REPEATGRID"===b||"REPEATTREEGRID"===b||"REPEATTREE"===b)&&d.querySelector("table#gridLayoutTable[summary]")&&""===d.querySelector("table#gridLayoutTable[summary]").summary.replace(/\s/g,"")&&l(c,"May be missing a descriptive summary");c=a;b=c.get("subType");d=c.get("element")[0];if("REPEATGRID"===b||"REPEATTREEGRID"===b){for(var b=d.querySelectorAll("[role\x3d'columnheader']"),d=!1,h=0;h<b.length&&(""===b[h].textContent.replace(/\s/g,"")&&-1==b[h].className.indexOf("hiddenCell")&&(d=!0),!d);h++);
d&&l(c,"Provide a header for each column")}else if("REPEATTREE"===b)for(b=d.getElementsByClassName("headerCell"),d=0;d<b.length;d++)if(-1===b[d].className.indexOf("rowHandleHead")&&(h=b[d].getElementsByClassName("oflowDiv")[0],h=h.childNodes[0],3===h.nodeType&&""===h.data.replace(/\s/g,""))){l(c,"Provide a header for each column");break}S(a);Q(a);c=a;if((b=c.get("subType"))&&"DYNAMICCOLUMN"===b.toUpperCase())for(b=c.get("element")[0],d=0;d<b.children.length;d++){h=null;if(-1!==b.children[d].className.indexOf("column-2")||
-1!==b.children[d].className.indexOf("column-3"))h=b.children[d];if(h&&0<h.querySelectorAll("[role\x3d'navigation']").length){l(c,"Navigation menus should not be in the sidebar of a column layout");break}}"Harness"!==a.get("type")||F||(c=a,1!==document.querySelectorAll("[node_name\x3d'pySkipLinksToTarget']").length&&l(c,"Skip to content navigation is missing (include the PegaWAI ruleset)"),c=a,1<document.querySelectorAll("[role\x3d'main']").length&&l(c,"Main role should only appear once in the DOM"),
c=a,0===document.querySelectorAll("[role\x3d'navigation']").length&&l(c,"Primary portal navigation may be missing a \u201cnavigation\u201d role"),c=a,0===document.querySelectorAll("[role\x3d'search']").length&&l(c,"Search role should be used if portal has a custom search gadget"),c=a,b=c.get("element")[0].querySelectorAll("#sidebar-region-two"),0<b.length&&0<b[0].querySelectorAll("[role\x3d'navigation']").length&&l(c,"Navigation menus should not be in the right sidebar of a screen layout"),F=!0);
if(!("Cell"!==a.get("type")||a.get("subType")&&"pxhidden"===a.get("subType").toLowerCase())&&"hidden"!==a.get("element")[0].style.visibility&&"none"!==a.get("element")[0].style.display&&-1===a.get("element")[0].className.indexOf("show-space")&&-1===a.get("element")[0].className.indexOf("custom-control")){P(a);c=a;b=c.get("subType");b&&void 0!==b&&-1!==b.toLowerCase().indexOf("radio")||(b&&void 0!==b&&-1!==b.toLowerCase().indexOf("button")&&0<c.get("element")[0].getElementsByTagName("BUTTON").length&&
""===c.get("element")[0].getElementsByTagName("BUTTON")[0].innerText.replace(/\s/g,"")&&C&&l(c,"Provide a helper text or label"),C=!1);c=a;b=c.get("element")[0];d=b.getElementsByTagName("LABEL");h=c.get("subType");h&&0===h.toLowerCase().indexOf("label")||"TD"===b.tagName||0===b.getElementsByTagName("INPUT").length&&0===b.getElementsByTagName("TEXTAREA").length&&0===b.getElementsByTagName("SELECT").length||(h=b.querySelectorAll("[aria-label]"))&&0<h.length||(0===d.length||1===d.length&&(""===d[0].textContent.replace(/\s/g,
"")||null===d[0].textContent)?l(c,"Provide an associated label"):0<b.getElementsByClassName("checkbox").length&&2===d.length&&""===d[0].textContent.replace(/\s/g,"")&&""===d[1].textContent.replace(/\s/g,"")&&l(c,"Provide an associated label"));R(a);c=a;b=!1;d=c.get("element")[0].querySelectorAll("[data-click]");for(h=0;h<d.length;h++){var m=d[h].getAttribute("data-click").replace(/'/g,'"');try{var k=JSON.parse(m);"showMenu"===k[0][0]&&"screenload"!==k[0][1][0].loadBehavior&&(b=!0)}catch(Z){}}b&&l(c,
"'At screen load' setting is recommended when using Menu action");c=a;b=c.get("element")[0].getElementsByClassName("iconError");for(d=0;d<b.length;d++)if((""===b[d].innerText.replace(/\s/g,"")||"**"===b[d].innerText.replace(/\s/g,""))&&""===b[d].title.replace(/\s/g,"")){l(c,"Provide a descriptive error message");break}c=a.get("element")[0].textContent;c=c.replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/g,"").replace(/\s+/g,"").replace(/[0-9]/g,"");void 0!==c&&c&&""!==c&&
c===c.toUpperCase()&&l(a,"Screen readers interpret all capital letters as initials. Use platform helper class 'text-uppercase' instead.")}}f={children:[],li_attr:{"class":"accessibility-issues"},text:"Content"};var k={children:[],li_attr:{"class":"accessibility-issues"},text:"Structural"},a={children:[],li_attr:{"class":"accessibility-issues"},text:"Interactivity"},c={children:[],li_attr:{"class":"accessibility-issues"},text:"Compatibility"},b={children:[]},d={children:[]},h={children:[]},m={children:[]},
p={children:[]},q={children:[]},r={children:[]},u={children:[]},v={children:[]},x={children:[]},y={children:[]},G={children:[]},H={children:[]},I={children:[]},J={children:[]},K={children:[]},L={children:[]},M={children:[]};b.li_attr={"class":"error"};d.li_attr={"class":"warning"};h.li_attr={"class":"error"};m.li_attr={"class":"warning"};p.li_attr={"class":"error"};q.li_attr={"class":"warning"};r.li_attr={"class":"error"};u.li_attr={"class":"error"};v.li_attr={"class":"warning"};x.li_attr={"class":"warning"};
y.li_attr={"class":"warning"};G.li_attr={"class":"error"};H.li_attr={"class":"error"};I.li_attr={"class":"error"};J.li_attr={"class":"error"};K.li_attr={"class":"warning"};L.li_attr={"class":"error"};M.li_attr={"class":"warning"};for(var g=0;g<e.length;g++)switch(!0){case -1!==e[g].text.indexOf("layouts are deprecated"):n(e[g].text,b,e[g]);break;case -1!==e[g].text.indexOf("May be missing a descriptive summary"):n(e[g].text,d,e[g]);break;case -1!==e[g].text.indexOf("Provide a header for each column"):n(e[g].text,
h,e[g]);break;case -1!==e[g].text.indexOf("May be missing a header"):n(e[g].text,m,e[g]);break;case -1!==e[g].text.indexOf("Heading levels hierarchy is out of order"):n(e[g].text,p,e[g]);break;case -1!==e[g].text.indexOf("Navigation menus should not be in the sidebar of a column layout"):n(e[g].text,q,e[g]);break;case -1!==e[g].text.indexOf("Skip to content navigation is missing (include the PegaWAI ruleset)"):n(e[g].text,r,e[g]);break;case -1!==e[g].text.indexOf("Main role should only appear once in the DOM"):n(e[g].text,
u,e[g]);break;case -1!==e[g].text.indexOf("Primary portal navigation may be missing a \u201cnavigation\u201d role"):n(e[g].text,v,e[g]);break;case -1!==e[g].text.indexOf("Search role should be used if portal has a custom search gadget"):n(e[g].text,x,e[g]);break;case -1!==e[g].text.indexOf("Navigation menus should not be in the right sidebar of a screen layout"):n(e[g].text,y,e[g]);break;case -1!==e[g].text.indexOf("Provide a helper text"):n(e[g].text,G,e[g]);break;case -1!==e[g].text.indexOf("Provide a helper text or label"):n(e[g].text,
H,e[g]);break;case -1!==e[g].text.indexOf("Provide an associated label"):n(e[g].text,I,e[g]);break;case -1!==e[g].text.indexOf("Also provide a comparable keyboard interaction"):n(e[g].text,J,e[g]);break;case -1!==e[g].text.indexOf("'At screen load' setting is recommended when using Menu action"):n(e[g].text,K,e[g]);break;case -1!==e[g].text.indexOf("Provide a descriptive error message"):n(e[g].text,L,e[g]);break;case -1!==e[g].text.indexOf("Screen readers interpret all capital letters as initials"):n(e[g].text,
M,e[g])}f.children=[].concat(d,h,m,G,H,I,K,L,M);k.children=[].concat(v,y,q,p,u);a.children=[].concat(x,J,r);c.children[0]=b;B(f);B(k);B(a);B(c);F=!1;f=document.querySelector(".accessibility-tree");k=document.querySelector(".accessibility-tree-empty");0===D?(f&&(f.style.display="none"),k&&(k.style.display="block")):(f&&(f.style.display="block"),k&&(k.style.display="none"),w&&w.populate(A))};m.highlightOnPageAccessibilityIssues=function(a){if(a)for(x=!0,window.addEventListener("resize",v,!0),window.addEventListener("scroll",
v,!0),a=0;a<t.length;a++){for(var f=t[a];null===f.getAttribute("data-ui-meta");)f=$(f).closest("[data-ui-meta]");var c=new pega.ui.inspector.Highlight("accessibilityIssueHighlight",document.querySelector(".accessibility-inspector-elements"));p.push({highlight:c,element:f});c.showByElement(f)}else{x=!1;window.removeEventListener("resize",v,!0);window.removeEventListener("scroll",v,!0);for(a=0;a<p.length;a++)p[a].highlight.hide(),p[a].highlight=null,p[a].element=null;p=[]}};m.showOnlyErrors=function(a){y=
a?!1:!0;x&&(t=[]);m.refresh();x&&(m.highlightOnPageAccessibilityIssues(),m.highlightOnPageAccessibilityIssues(!0))};m.openSection=function(a){pega.ui.inspector.utilities.openRuleByInsKey(a,function(a){pega.d.s.isWindowTheDesignerDesktop(a)&&a.pega.ui.inspector.accessibility.isActive()&&a.pega.ui.inspector.accessibility.toggle()})};m.getTreeJSON=function(){return pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!==window&&null!==pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility?
pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility.getTreeJSON():A};m.setFilter=function(a){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!==window&&null!==pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility)return pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility.setFilter(a);var e=document.querySelector(".accessibility-disability-filter .field-item a");-1!==Object.values(pega.ui.inspector.accessibility.FILTERS).indexOf(a)?(document.body.style.filter=
"url(webwb/pzAccessibilityFilters.svg#"+a.toLowerCase()+")",e.innerHTML=a):(document.body.style.filter="",e.innerHTML="None");e.innerHTML+="\x3ci data-click\x3d'.' class\x3d'pi pi-caret-solid-down'\x3e\x3c/i\x3e"};m.toggleSuppression=function(){if(pega.ui.inspector.getDesktopWindowInspectorProxy().getDesktopWindow()!==window&&null!==pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility)return pega.ui.inspector.getDesktopWindowInspectorProxy().accessibility.toggleSuppression();pega.ui.inspector.utilities.toggleInteraction([q,
r],k,w,{disableCallback:pega.ui.inspector.accessibility.refresh})};return m}();
pega.desktop.support.showDeclarativeNetwork=function(A,B,F,C,D){var E=null;if(F!=null){E=new SafeURL("Rule-Obj-Property.ShowDeclarativeNetworkWithValues");E.put("className",A);E.put("propertyName",B);E.put("category","backwardChaining");E.put("pageContextName",F);if((D!=null)&&(D!="undefined")){E.put("Subscript",D)}}else{E=new SafeURL("Rule-Obj-Property.ShowDeclarativeNetwork");E.put("className",A);E.put("propertyName",B);E.put("category","backwardChaining");E.put("pageContextName",F)}pega.desktop.support.openUrlInWindow(E.toURL(),"DeclarativeNetwork",RuleFormSize+PopupWindowFeatures)};function showDeclarativeNetwork(A,B,E,C,D){return pega.desktop.support.showDeclarativeNetwork(A,B,E,C,D)};
pega=pega||{};pega.ui=pega.ui||{};
pega.ui.dataSourceInspector=function(){function c(){var a=pega.ui.ScreenInspectorDS.getInspector("datasourceInspector");a.addSelector("[base_ref^\x3d'D_']",function(a){return d=a=a.getAttribute("base_ref")});a.addSelector("[base_ref^\x3d'Declare_']",function(a){return d=a=a.getAttribute("base_ref")});a.addSelector("[hashed-dp-page^\x3d'D_']",function(a){return d=a=a.getAttribute("hashed-dp-page")});a.addSelector("[hashed-dp-page^\x3d'Declare_']",function(a){return d=a=a.getAttribute("hashed-dp-page")});
a.addSelector("[data-repeat-source^\x3d'D_']",function(a){return d=a=a.getAttribute("hashed-dp-page")});a.addSelector("[data-repeat-source^\x3d'Declare_']",function(a){return d=a=a.getAttribute("hashed-dp-page")});a.enable()}function a(){var a=pega.ui.ScreenInspectorDS.getInspector("datasourceInspector");a&&(a.clearHighlight(),a.disable())}function b(){ele=document.querySelector("div[data-node-id\x3d'pzStudioFooter'] .pcs.pcs-financial-advisor");null==ele&&(ele=document.querySelector("div[data-node-id\x3d'pzRuntimeToolsTopBar'] .pi.pi-glasses"));
null!=ele&&(ele.parentElement.style.color="orange"==ele.parentElement.style.color?"":"orange")}var g=!1,e=null,d=null;return{toggleHighligting:function(){pega.ui.automation&&pega.ui.automation.recorder.isPanelActive()||pega.ui.inspector.isActive()||pega.ui.inspector.accessibility.isActive()||(g?(b(),g=!1,a()):(c(),b(),g=!0))},getDataSourceInfo:function(){d=-1<d.indexOf(".")?d.slice(0,d.indexOf(".")):d;var a=e.ownerDocument.defaultView.pega.ctxmgr.getContextByTarget(e).url,a=SafeURL_createFromEncryptedURL(a),
b=new SafeURL;a.put("pyActivity","reloadSection");a.put("StreamName","pzShowDPDetails");a.put("StreamClass","Rule-HTML-Section");a.put("BaseReference","D_pzPopulateDPSourceDetails");a.put("UITemplatingStatus","N");a.put("PreActivity","pzGetDPSourceDetails");a.put("AJAXTrackID",pega.ui.ChangeTrackerMap.getTracker().id);b.put("DPHashCode",d);pega.u.d.asyncRequest("POST",a,{success:function(a){strResponse=a.responseText;a=pega.ui.ChangeTrackerMap.getTrackers();for(var b in a)a[b].parseForChangeTrackerDiv(strResponse,
!1);b=document.getElementById("addexplicitassertion");_dspopover=pega.u.d.getPopOver(b);"object"==typeof _dspopover&&(a=$("\x3cdiv\x3e"+strResponse+"\x3c/div\x3e")[0],_dspopover.open({content:{type:"domElement",element:a},bindings:{associatedElement:b},buttons:{ok:!1,cancel:!1},position:{fieldAttach:"leftBottom",popOverAttach:"leftTop"},visual:{contentClass:"live-data-popover"},callbacks:{onClose:this.popoverCloseCallback}}))},failure:function(a){alert("Modal Dialog: Ajax Call For Modal Dialog Failure!")},
scope:this},b)},setHighlightedElem:function(a){e=a},ruleOpener:function(a,b,d){if(null!=a){var e;e=pega.ui.composer?pega.ui.composer.getCurrentComposerWindow().pega.desktop.support.getAttachedDesignerDesktop():pega.desktop.support.getAttachedDesignerDesktop();"workspace"===e.pega.desktop.portalCategory&&("null"==d?e.pega.desktop.wks.openRule("Developer",b,a):e.pega.desktop.wks.openRule("Developer",b,d+"!"+a))}},stopLiveData:function(){1==g&&(b(),g=!1,a())},getEleDataSource:function(a){a=-1<d.indexOf(".")?
d.slice(0,d.indexOf(".")):d;return a=-1<a.indexOf("_pa")?a.slice(0,a.indexOf("_pa")):a}}}();pega.ui.ScreenInspectorDS=pega.ui.ScreenInspectorDS||function(){var c=null;return{getInspector:function(a){for(var b=window;b!==desktopwrappersupport_getDesktopWindow();)b=b.parent;return b.pega.ui.ScreenInspectorDS.getInspectorObject(a)},setInspector:function(a){c=a},getInspectorObject:function(a){return!a||c&&c.name==a?c:c=new ScreenInspectorDS(a)}}}();
var ScreenInspectorDS=function(){function c(a){this.name=a;this.listOfSelectorToHighlight=[];this.blackListElements=["i.mark-for-assertion"];this.inspectorConfig=this.postHighlightCallbackContext=this.postHighlightCallback=this.preHighlightCallbackContext=this.preHighlightCallback=this.lastHighlightedElement=this.infoBarHandler=this.inspectorHandler=this.highlightHandler=null;this.getmoreinfo=pega.u.d.fieldValuesList.get("Get more info");pega.ui.ScreenInspectorDS.setInspector(this)}c.prototype._getInfobarContent=
function(a){return"\x3cdiv\x3e\n                                            \x3cdiv class\x3d'idpanel-text'\x3e\n                                              \x3cspan class\x3d'runtime-tree-prefix'\x3e"+a+"\x3c/span\x3e\n                                            \x3c/div\x3e\n                                            \x3cdiv class\x3d'id-livedata-icon-container'\x3e\n                                              \x3cimg src\x3d'webwb/pxAddAssertion.png' title\x3d'"+this.getmoreinfo+"' id \x3d \"addexplicitassertion\" onclick\x3d'pega.ui.dataSourceInspector.getDataSourceInfo()'\x3e\x3c/i\x3e\n                                            \x3c/div\x3e\n                                          \x3c/div\x3e"};
c.prototype._getElementDimensions=function(a,b){var c=0<$(a).closest("#modalWrapper").length,e=a.ownerDocument.defaultView,d={},f=a.getBoundingClientRect();d.left=f.left+$(e).scrollLeft();d.top=f.top+$(e).scrollTop();d.width=f.width;for(d.height=f.height;e&&e!=window&&e.parent&&(null==b||e!=b);)f=e.frameElement.getBoundingClientRect(),d.left+=f.left,d.top+=f.top,a.ownerDocument.defaultView!=e||c||(d.top-=$(e).scrollTop(),d.left-=$(e).scrollLeft()),e=e.parent;return d};c.prototype._isEnabled=function(){return this.inspectorHandler&&
this.inspectorHandler.isEnabled()?!0:!1};c.prototype._getSelectorList=function(){var a=[],b;for(b in this.listOfSelectorToHighlight)a.push(b);return a};c.prototype._closestSelectorMetadata=function(a){var b=null;if(!a||top.window.holdHighlight)return null;for(var c in this.listOfSelectorToHighlight)if(a.closest(c)==a){b=this.listOfSelectorToHighlight[c](a);break}return b};c.prototype._highlightCallback=function(a){if(a.foundElement){var b=a.foundElement;a=pega.ui.ScreenInspectorDS.getInspector("datasourceInspector");
a.highlight(b)}else b=a.eventObj.target.closest(".info-bar"),a=a.eventObj.target.closest(".live-data-popover"),b||a||(a=pega.ui.ScreenInspectorDS.getInspector("datasourceInspector"),a.highlightHandler.hide(),a.infoBarHandler.hide(),popObj=pega.u.d.getPopOver(),(activeEle=popObj.getActivePopOverElement())&&activeEle.closest(".live-data-popover")&&popObj.close())};c.prototype.enable=function(){this._isEnabled()||(this.inspectorConfig={elementFoundCallback:this._highlightCallback,selectorList:this._getSelectorList(),
ignoreList:this.blackListElements},this.highlightHandler=new pega.ui.inspector.Highlight("livedata-Element-Highlighter"),this.inspectorHandler=new pega.ui.components.Inspector(this.inspectorConfig),this.infoBarHandler=new pega.ui.inspector.InfoBar("livedata-Element-Infobar",null,null,{}),this.inspectorHandler.enable())};c.prototype.disable=function(){this._isEnabled()&&(this.highlightHandler.cleanup(),this.infoBarHandler.removeFromDom(),this.inspectorHandler.disable())};c.prototype.highlightError=
function(a){this._closestSelectorMetadata(a);a=this._getElementDimensions(a,pega.ui.inspector.getDesktopWindow());this.highlightHandler=new pega.ui.inspector.Highlight("livedata-Element-Highlighter");this.highlightHandler.show(a.left,a.top,a.width,a.height)};c.prototype.clearHighlight=function(){this.highlightHandler&&this.highlightHandler.cleanup()};c.prototype.highlight=function(a){var b=this._closestSelectorMetadata(a),c=JSON.parse($(a).closest("[data-ui-meta]").attr("data-ui-meta").replace(/'/g,
'"'));if(!b||a.closest(".live-data-popover"))return!1;this.lastHighlightedElement!=a&&(popObj=pega.u.d.getPopOver(),(activeEle=popObj.getActivePopOverElement())&&activeEle.closest(".live-data-popover")&&popObj.close());this.lastHighlightedElement=a;pega.ui.dataSourceInspector.setHighlightedElem(a);this.preHighlightCallback&&this.preHighlightCallbackContext&&this.preHighlightCallback.apply(this.preHighlightCallbackContext,[a,b]);var e=$(".livedata-Element-Highlighter");e.hasClass("highlighter-warning")&&
e.removeClass("highlighter-warning");e=this._getElementDimensions(a,pega.ui.inspector.getDesktopWindow());this.highlightHandler.show(e.left,e.top,e.width,e.height);c=this._getInfobarContent((c.subType||c.type)+" source : "+pega.ui.dataSourceInspector.getEleDataSource());this.infoBarHandler.overlayElem.classList.remove("infobar-warning");this.infoBarHandler.setContent(c);this.infoBarHandler.showByPosition(e.left,e.top,e.width,e.height);this.postHighlightCallback&&this.postHighlightCallbackContext&&
this.postHighlightCallback.apply(this.postHighlightCallbackContext,[a,b])};c.prototype.registerPreHighlightCallback=function(a,b){this.preHighlightCallback=a;this.preHighlightCallbackContext=b};c.prototype.registerPostHighlightCallback=function(a,b){this.postHighlightCallback=a;this.postHighlightCallbackContext=b};c.prototype.addSelector=function(a,b){"function"==typeof b&&(this.listOfSelectorToHighlight[a]=b)};c.prototype.setBlackListedElement=function(a){this.blackListElements=a};return c}();
